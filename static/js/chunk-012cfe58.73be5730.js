(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-012cfe58"],{"0abe":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Uint128",{enumerable:!0,get:function(){return r.Uint128}}),Object.defineProperty(t,"Uint128BE",{enumerable:!0,get:function(){return r.Uint128BE}}),Object.defineProperty(t,"Uint128LE",{enumerable:!0,get:function(){return r.Uint128LE}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return r.Uint16}}),Object.defineProperty(t,"Uint16BE",{enumerable:!0,get:function(){return r.Uint16BE}}),Object.defineProperty(t,"Uint16LE",{enumerable:!0,get:function(){return r.Uint16LE}}),Object.defineProperty(t,"Uint256",{enumerable:!0,get:function(){return r.Uint256}}),Object.defineProperty(t,"Uint256BE",{enumerable:!0,get:function(){return r.Uint256BE}}),Object.defineProperty(t,"Uint256LE",{enumerable:!0,get:function(){return r.Uint256LE}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return r.Uint32}}),Object.defineProperty(t,"Uint32BE",{enumerable:!0,get:function(){return r.Uint32BE}}),Object.defineProperty(t,"Uint32LE",{enumerable:!0,get:function(){return r.Uint32LE}}),Object.defineProperty(t,"Uint512",{enumerable:!0,get:function(){return r.Uint512}}),Object.defineProperty(t,"Uint512BE",{enumerable:!0,get:function(){return r.Uint512BE}}),Object.defineProperty(t,"Uint512LE",{enumerable:!0,get:function(){return r.Uint512LE}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return r.Uint64}}),Object.defineProperty(t,"Uint64BE",{enumerable:!0,get:function(){return r.Uint64BE}}),Object.defineProperty(t,"Uint64LE",{enumerable:!0,get:function(){return r.Uint64LE}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return r.Uint8}}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return n.array}}),Object.defineProperty(t,"blockchain",{enumerable:!0,get:function(){return c.blockchain}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),t.bytes=void 0,Object.defineProperty(t,"bytify",{enumerable:!0,get:function(){return a.bytify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return a.concat}}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return i.createArrayCodec}}),Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return i.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return i.createObjectCodec}}),Object.defineProperty(t,"equal",{enumerable:!0,get:function(){return a.equal}}),Object.defineProperty(t,"hexify",{enumerable:!0,get:function(){return a.hexify}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return n.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return n.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return n.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return n.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return n.vector}});var a=s("c914"),n=s("3224"),r=s("6436"),i=s("4b0a"),c=s("0b92");const o={bytify:a.bytify,hexify:a.hexify,concat:a.concat,equal:a.equal};t.bytes=o},"0cd4":function(e,t,s){},"1b7be":function(e,t,s){"use strict";s("5268")},"1daa":function(e,t,s){"use strict";s("63a8")},"1eb6":function(e,t,s){"use strict";s("9b5c")},25:function(e,t){},26:function(e,t){},27:function(e,t){},"2e1f":function(e,t,s){"use strict";s("0cd4")},"3e158":function(e,t,s){"use strict";s("ec0d")},5268:function(e,t,s){},"63a8":function(e,t,s){},"815e":function(e,t,s){"use strict";s("f4e2")},"9b5c":function(e,t,s){},d2c8:function(e,t,s){"use strict";s.d(t,"c",(function(){return f})),s.d(t,"b",(function(){return v})),s.d(t,"a",(function(){return T}));var a=s("2909"),n=s("c7eb"),r=s("1da1"),i=(s("d9e2"),s("4e82"),s("caad"),s("d3b7"),s("159b"),s("b64b"),s("2532"),s("99af"),s("14d9"),s("b680"),s("25f0"),s("ab3e")),c=s("e6ce"),o=s("ed08"),u=s("5a50"),l=s("901e"),d=s.n(l),p=s("a835");function b(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(Object(n["a"])().mark((function e(t){var s,a,r,o;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:c["a"][t].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_gasPrice",params:[]}});case 3:return s=e.sent,a=s.result,r={fast:{price:Math.ceil(1.03*a),estimated_seconds:0},normal:{price:Math.ceil(1.01*a),estimated_seconds:0},slow:{price:Math.ceil(a),estimated_seconds:0}},o={merlin:{slow:.05},b2:{normal:2e-7,slow:1e-7}},o[t]&&Object.keys(o[t]).forEach((function(e){r[e].price=1e9*o[t][e]})),e.abrupt("return",{data:r});case 11:return e.prev=11,e.t0=e["catch"](0),console.log(e.t0,"error"),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),m.apply(this,arguments)}function f(e){return _.apply(this,arguments)}function _(){return _=Object(r["a"])(Object(n["a"])().mark((function e(t){var s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("aptos"!==t){e.next=6;break}return e.next=3,x();case 3:s=e.sent,e.next=27;break;case 6:if("btc"!==t){e.next=12;break}return e.next=9,j();case 9:s=e.sent,e.next=27;break;case 12:if("sol"!==t){e.next=18;break}return e.next=15,g();case 15:s=e.sent,e.next=27;break;case 18:if("ckb"!==t){e.next=24;break}return e.next=21,O();case 21:s=e.sent,e.next=27;break;case 24:return e.next=26,b(t);case 26:s=e.sent;case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function h(e){if(e.length<4)throw new Error("inputs len < 4");e=e.sort((function(e,t){return new d.a(e).gt(new d.a(t))?1:-1}));var t=Math.floor(e.length/2);return new d.a(e[t-1]).plus(new d.a(e[t])).plus(new d.a(e[t+1])).dividedToIntegerBy(3)}function v(e){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(Object(n["a"])().mark((function e(t){var s,r,o,l,b,m,f,_,v,w,x,y,g,k,O,L,j;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("number"===typeof t&&(t=p["a"].chainIdToChainName(t)),e.prev=1,![].concat(Object(a["a"])(u["h"]),["opbnb","bsc"]).includes(t)){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,Object(i["a"])({url:c["a"][t].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_feeHistory",params:["0xa","latest",[25,75]]}});case 6:s=e.sent,r=s.result,o=[],l=0;case 10:if(!(l<r.reward.length)){e.next=23;break}b=0;case 12:if(!(b<r.reward[l].length)){e.next=20;break}if(m=new d.a(r.reward[l][b]),!m.lte(0)){e.next=16;break}return e.abrupt("continue",17);case 16:o.push(m);case 17:b++,e.next=12;break;case 20:l++,e.next=10;break;case 23:f=h(o),_=new d.a(0),v=0,w=new d.a(1e19),x=new d.a(0),y=0;case 29:if(!(y<r.baseFeePerGas.length)){e.next=37;break}if(g=new d.a(r.baseFeePerGas[y]),!g.lte(0)){e.next=33;break}return e.abrupt("continue",34);case 33:g.gt(w)?w=g:g.lt(x)?x=g:(_=_.plus(g),v+=1);case 34:y++,e.next=29;break;case 37:if(k=_.dividedToIntegerBy(v),O=k.multipliedBy(1.63).plus(f),L=O.div(1e9).toFixed(),j=f.div(1e9).toFixed(),k=k.div(1e9).toFixed(0),O.toNumber()&&k&&j&&O){e.next=44;break}return e.abrupt("return",!1);case 44:return e.abrupt("return",{maxFee:new d.a(L).toFixed(3),priorityFee:new d.a(j).toFixed(2),baseFee:new d.a(k).toString()});case 47:return e.prev=47,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",!1);case 51:case"end":return e.stop()}}),e,null,[[1,47]])}))),w.apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(Object(n["a"])().mark((function e(){var t,s,a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=1e3,e.prev=1,e.next=4,Object(i["a"])({url:"https://fullnode.mainnet.aptoslabs.com/v1/estimate_gas_price",method:"get",isProxy:!0,data:{}});case 4:return s=e.sent,a={fast:{price:s.prioritized_gas_estimate*t/Math.pow(10,8),estimated_seconds:0},normal:{price:s.gas_estimate*t/Math.pow(10,8),estimated_seconds:0},slow:{price:s.deprioritized_gas_estimate*t/Math.pow(10,8),estimated_seconds:0}},e.abrupt("return",{data:a});case 9:return e.prev=9,e.t0=e["catch"](1),console.log("error"),e.next=14,x();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,null,[[1,9]])}))),y.apply(this,arguments)}function g(){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(Object(n["a"])().mark((function e(){var t,s,a,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:c["a"]["sol"].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"getRecentBlockhash"}});case 3:if(t=e.sent,!t.result||!t.result.value){e.next=12;break}return s=t.result.value.feeCalculator,a=s.lamportsPerSignature,a/Math.pow(10,9),r={fast:{price:.01,estimated_seconds:0},normal:{price:.001,estimated_seconds:0},slow:{price:1e-4,estimated_seconds:0}},e.abrupt("return",{data:r});case 12:e.next=22;break;case 14:return e.prev=14,e.t0=e["catch"](0),console.log("error"),e.next=19,Object(o["E"])(5e3);case 19:return e.next=21,g();case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[0,14]])}))),k.apply(this,arguments)}function O(){return L.apply(this,arguments)}function L(){return L=Object(r["a"])(Object(n["a"])().mark((function e(){var t,s,a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:c["a"]["ckb"].rpcNode,method:"post",data:{id:1,jsonrpc:"2.0",method:"get_fee_rate_statistics",params:[]}});case 3:return t=e.sent,s=parseInt(t.result.mean),a={fast:{price:parseInt(1.5*s),estimated_seconds:0},normal:{price:s,estimated_seconds:0},slow:{price:parseInt(.8*s),estimated_seconds:0}},e.abrupt("return",{data:a});case 9:return e.prev=9,e.t0=e["catch"](0),console.log("error",e.t0),e.next=14,Object(o["E"])(5e3);case 14:return e.next=16,O();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,null,[[0,9]])}))),L.apply(this,arguments)}function j(){return C.apply(this,arguments)}function C(){return C=Object(r["a"])(Object(n["a"])().mark((function e(){var t,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:"https://mempool.space/api/v1/fees/recommended",method:"get",data:{}});case 3:return t=e.sent,s={fast:{price:t.fastestFee,estimated_seconds:0},normal:{price:t.halfHourFee,estimated_seconds:0},slow:{price:t.hourFee,estimated_seconds:0}},e.abrupt("return",{data:s});case 8:return e.prev=8,e.t0=e["catch"](0),console.log("error"),e.next=13,Object(o["E"])(5e3);case 13:return e.next=15,j();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[0,8]])}))),C.apply(this,arguments)}function T(e){return["cro","iotx","dogechain","ckb"].includes(e)?0:["xdc","scroll","bevm","satoshivm","merlin","linea"].includes(e)?2:["opbnb"].includes(e)?9:["fil"].includes(e)?6:["mode"].includes(e)?5:["b2"].includes(e)?7:["aptos","sol","xterio","blast"].includes(e)?4:["op","mantle","arb","arbnova","zksync-era","base","zora"].includes(e)?3:1}},ec0d:function(e,t,s){},eccb:function(e,t,s){"use strict";s.r(t);var a,n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("OneToMoreHeader",{attrs:{"chain-name":"ckb","support-networks":e.supportNetworks,title:e.$t("".concat(e.viewName,".welcome"),{appName:e.$shortName})}}),t("div",{staticClass:"containerBg"},[t("div",{staticClass:"oneToMoreBox"},[t("div",{staticClass:"stepBox"},[t("el-steps",{attrs:{active:e.stepActive,"align-center":"","process-status":"finish","finish-status":"finish"}},[t("el-step",{attrs:{title:e.$t("".concat(e.viewName,".prepare"))}}),t("el-step",{attrs:{title:e.$t("".concat(e.viewName,".confirm"))}}),t("el-step",{attrs:{title:e.$t("".concat(e.viewName,".send"))}})],1)],1),t("Step1",{directives:[{name:"show",rawName:"v-show",value:0===e.stepActive,expression:"stepActive === 0"}],on:{onStep1Confirm:e.onStep1Confirm}}),1===e.stepActive?t("Step2",{attrs:{"queue-list":e.queueList,address:e.address,decimals:e.decimals},on:{onStep2Prev:e.onStep2Prev,onStep2Next:e.onStep2Next,onStep2Confirm:e.onStep2Confirm}}):e._e(),2===e.stepActive?t("Step3",{attrs:{send_tx:e.send_tx,"current-fee":e.currentFee,"array-limit":e.arrayLimit,c_address:e.c_address,"queue-list":e.queueList,address:e.address,gas:e.gas,decimals:e.decimals},on:{"update:send_tx":function(t){e.send_tx=t},"update:arrayLimit":function(t){e.arrayLimit=t},"update:array-limit":function(t){e.arrayLimit=t},onStep3Prev:e.onStep3Prev}}):e._e()],1)])],1)},r=[],i=s("c7eb"),c=s("1da1"),o={zh:{ckbOneToMore:{token:"代币",welcome:"欢迎使用{appName} CKB批量发送",token_address_err:"代币地址错误",address_amount:"收款地址和数量",auto_amount:"自动添加数量",upload_file:"上传文件",iinsert_manually:"手动输入",download_examples:"下载例子",show_examples:"查看例子",delete_err:"删除无效地址",next:"下一步",address:"地址",slow:"慢",standard:"快",instant:"极速",inputAlert_1:"输入代币地址自动添加",inputAlert_2:"支持文件类型： CSV / Excel / Txt",inputAlert_3:"每一行应包括地址和数量，逗号分隔",inputAlert_4:"以下地址或金额不能发送",inputAlert_5:"可自动在每个地址后面添加数量",inputAlert_6:"请至少输入一条地址信息",inputAlert_7:"第 {line} 行: {str} 无效的钱包地址",inputAlert_8:"第 {line} 行: {str} 无效的数量,数量需要大于 63 CKB",inputAlert_9:"第 {line} 行: {str} 请输入正确的格式，地址和数量以逗号分隔。例: address,number",inputAlert_10:"授信成功，请点击下一步！",inputAlert_11:"第 {line} 行: {str} 重复的地址",inputAlert_12:"发现重复地址",decimals_error:"第 {line} 行: {number} 发送数量中的小数点位数错误",new_account_number_tips:"第 {line} 行: {number} 发送数量无效，最小发送数量为 0.00089088 SOL，以激活此新账户",old_account_number_tips:"",repeat_1:"保留第一个",repeat_2:"合并重复地址",repeat_3:"保留重复地址",step3_alert_1:"总共需要发送 {a} 次,还需要发送 {b} 次",step3_alert_2:"交易已全部发出，请等待交易被确认。",step3_alert_3:"祝贺，您的代币全部发送成功！",step3_alert_4:"您手动取消了交易，如需继续，请点击发送",step3_alert_5:"继续第 {d} 次交易",decimals:"位数",wallet_select_mainnet:"您的TRON钱包已选择 Mainnet网络",wallet_select_shasta:"您的TRON钱包已选择 Shasta网络",wallet_select:"请把您钱包的网络切换为 Mainnet 或者 Shasta网络",summary:"摘要",total_address_num:"地址总数",total_send_token_num:"代币发送总数",total_send_tx_num:"交易总数",token_balance:"代币余额",y_fee:"预估费用",priority_fee:"小费",priority_fee_tips:"如果SOL网络非常拥堵的话，建议你增加小费提高交易执行速度。否则大概率上不了链<br>小费是对应TX，不是对应地址，每笔TX只收一次小费。 请知悉<br>如何看 SOL 网络是不是拥堵？访问 https://solscan.io/ 拉到最下面 ",you_balance:"你的 {symbol} 余额",d_allowance_b:"当前授信额度",y_allowance_b:"需授信额度",approve_amount:"授权额度",send_amount:"发送数量({amount} {symbol})",send_amount_b:"代币余额({amount} {symbol})",insufficient_balance:"{symbol} 余额不足",prepare:"准备",confirm:"确认",close:"关闭",send:"发送",batch_send_all_solana_tokens:"📣 现已支持Solana所有Token的批量发送",recheck_tips:"如果你认为错误列表检测不准确，请点击重新检测",recheck:"重新检查",send_fail_tips:"如果发送失败，发送的所有金额都会自动返回到你的钱包，你不会损失，重新发送就行。如果你 GAS Fee 设置过低，导致卡链，你的下一笔 TX GAS 必须提高去覆盖。",ckb_tips:"由于 CKB 网络机制 需要等待上一笔TX交易完成后，才能发起下一笔交易，请耐心等待"}},en:{ckbOneToMore:{token:"Token",welcome:"Welcome to {appName} CKB Bulk Sender",token_address_err:"Token address error",address_amount:"Addresses with Amounts",auto_amount:"Auto add amounts",upload_file:"Upload file",iinsert_manually:"Insert manually",download_examples:"Download examples",show_examples:"Show examples",delete_err:"Delete them",next:"Next",address:"Address",slow:"Slow",standard:"Fast",instant:"Instant",inputAlert_1:"Input token address to add automatically",inputAlert_2:"Accepted: CSV / Excel / Txt",inputAlert_3:"The address and amount are separated by commas",inputAlert_4:"The below addresses cannot be processed",inputAlert_5:"Amount can be automatically added after each address",inputAlert_6:"Please enter at least one address information",inputAlert_7:"Line {line} : {str}  is a invalid wallet address",inputAlert_8:"Line {line} : {str}  is a invalid wrong amount,Amount must be greater than 63 CKB",inputAlert_9:"Line {line} : {str}  is a invalid wallet address and wrong amount. E.g:address,number",inputAlert_10:"Request approve succeeded ! Please click next",inputAlert_11:"Line {line}: {str} is duplicate address",inputAlert_12:"Duplicated wallet addresses",new_account_number_tips:"Line {line} : {number} send quantity is invalid, the minimum send quantity is 0.00089088 SOL to activate this new account",old_account_number_tips:"",decimals_error:"Line {line} : {number} wrong decimal amount",repeat_1:"Keep the first one",repeat_2:"Merge balances",repeat_3:"Keep duplicate addresses",step3_alert_1:"A total of {a} needs to be sent,You need to send {b} more times",step3_alert_2:"All transactions have been sent out. Please wait for the transaction to be confirmed.",step3_alert_3:"Congratulations, all your tokens have been sent successfully!",step3_alert_4:"You have manually cancelled the transaction, to continue, please click send",step3_alert_5:"Continue with the {d} first transaction",decimals:"Decimals",summary:"Summary",wallet_select_mainnet:"Your TRON wallet has selected the Mainnet network",wallet_select_shasta:"Your TRON wallet has selected the Shasta network",wallet_select:"Please switch your wallet network to Mainnet or Shasta network",total_address_num:"Total number of addresses",total_send_token_num:"Total number of tokens to be sent",total_send_tx_num:"Total number of transactions needed",token_balance:"Your token balance",y_fee:"Approximate cost of operation",priority_fee:"Priority Fee",priority_fee_tips:"If the SOL network is very congested,<br> it is recommended that you increase the Priority Fee to increase the speed of transaction execution. <br>Otherwise there is a high probability that you will not be able to successfully pack<br>Priority Fee corresponds to the TX, not the wallet, and each TX is charged Priority Fee only once. <br> How do I see if the SOL network is congested? Visit https://solscan.io/ at the bottom of the page",you_balance:"Your {symbol} balance",d_allowance_b:"Your current allowance",y_allowance_b:"Request approve amount",prepare:"Prepare",approve_amount:"Amount to approve",send_amount:"Exact amount to be sent ({amount} {symbol})",send_amount_b:"Your token balance({amount} {symbol})",insufficient_balance:"Insufficient {symbol} balance",confirm:"Confirm",close:"Close",send:"Send",batch_send_all_solana_tokens:"📣 Now Supports Batch Sending of All Solana Tokens",recheck_tips:"Click to Recheck if you think failure list detection is inaccurate",recheck:"Recheck",send_fail_tips:"If the send fails, all the amount sent is automatically returned to your wallet, just resend it. If your GAS Fee is set too low and causes a jam, your next TX Fee GAS must be higher than your last TX Gas Fee.",ckb_tips:"Due to the CKB network mechanism, we need to wait for the previous TX transaction to complete before initiating the next transaction, please wait."}}},u=s("850d"),l=(s("38cf"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"step1"},[t("LogoView",{attrs:{logo:e.logo}}),t("div",{staticClass:"inputBox"},[t("div",{staticClass:"inputContext inputContextAddress"},[t("div",{staticClass:"label"},[t("span",[e._v(" "+e._s(e.$t("".concat(e.viewName,".token")))+" ")])]),t("el-tooltip",{staticClass:"item",attrs:{disabled:!0,effect:"dark",content:e.$t("".concat(e.viewName,".inputAlert_1")),placement:(e.isPc,"top")}},[t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",size:"large"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.addressOptions,(function(s,a){return t("el-option",{key:a,attrs:{label:s.label,value:s.value}},[t("span",{staticStyle:{float:"left"}},[s.label&&"SOL"!==s.value?[e._v(" "+e._s(s.label)+" - ")]:e._e(),e._v(" "+e._s(e._f("autoAddress")(s.value)))],2)])})),1)],1)],1),t("div",{staticClass:"inputContext inputContextDecimals"},[t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".decimals"))))])]),t("el-input",{attrs:{size:"large",oninput:"value=value.replace(/[^\\d]/g,'')","max-length":"9"},model:{value:e.decimals,callback:function(t){e.decimals=t},expression:"decimals"}})],1)]),t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".address_amount"))))]),t("span",{staticClass:"btnText",on:{click:e.onBulkAmount}},[e._v(e._s(e.$t("".concat(e.viewName,".auto_amount"))))]),e.isInput?t("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("".concat(e.viewName,".upload_file"))))]):t("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("".concat(e.viewName,".iinsert_manually"))))])]),t("el-row",[t("el-col",{attrs:{xs:{span:24}}},[e.isInput?t("Editor",{ref:"editor",on:{changed:e.onChangeEditor},model:{value:e.editorValue,callback:function(t){e.editorValue=t},expression:"editorValue"}}):t("upload-excel-component",{attrs:{"on-success":e.onUploadFileSuccess,"before-upload":e.beforeUpload}})],1)],1),t("div",{staticClass:"label label-remark"},[e.isInput?t("span",[e._v(e._s(e.$t("".concat(e.viewName,".inputAlert_3"))))]):t("span",[e._v(e._s(e.$t("".concat(e.viewName,".inputAlert_2"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isInput,expression:"!isInput"}],staticClass:"btnText"},[t("a",{attrs:{target:"_blank",href:"/example/ckb.xlsx"}},[e._v(e._s(e.$t("".concat(e.viewName,".download_examples"))))])]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isInput,expression:"isInput"}],staticClass:"btnText",on:{click:e.onExample}},[e._v(e._s(e.$t("".concat(e.viewName,".show_examples"))))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[t("div",{staticClass:"label label-remark"},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}]},[e._v(e._s(e.$t("".concat(e.viewName,".inputAlert_4"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}]},[e._v(e._s(e.$t("".concat(e.viewName,".inputAlert_12"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}],staticClass:"btnText",on:{click:e.onDeleteErr}},[e._v(e._s(e.$t("".concat(e.viewName,".delete_err"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(1)}}},[e._v(e._s(e.$t("".concat(e.viewName,".repeat_1"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(2)}}},[e._v(e._s(e.$t("".concat(e.viewName,".repeat_2"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(3)}}},[e._v(e._s(e.$t("".concat(e.viewName,".repeat_3"))))])]),t("ul",e._l(e.errInfoList,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",loading:e.nextLoading,type:"primary"},on:{click:e.onNext}},[e._v(e._s(e.$t("".concat(e.viewName,".next"))))]),t("div",{staticClass:"btnRight"},[t("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(t){return e.onOpenNewTab({path:"/createWallet/ckb"})}}},[e._v(" CKB "+e._s(e.$t("route.createWallet"))+" ")])],1)],1)],1)}),d=[],p=s("5530"),b=(s("14d9"),s("d3b7"),s("159b"),s("a15b"),s("498a"),s("99af"),s("37969")),m=function(){var e=this,t=e._self._c;return e.logo&&e.isPc?t("div",{staticClass:"px1Box"},[t("div",{staticClass:"bgPicBox bgPicBoxLeft"},[t("img",{staticClass:"tokenLogo",attrs:{src:e.logo,alt:""}})]),t("div",{staticClass:"bgPicBox bgPicBoxRight"},[t("img",{staticClass:"tokenLogo",attrs:{src:e.logo,alt:""}})])]):e._e()},f=[],_=s("2f62"),h={inject:[],components:{},props:{logo:{type:String,default:"https://s2.coinmarketcap.com/static/img/coins/128x128/4948.png"}},data:function(){return{}},computed:Object(p["a"])({},Object(_["b"])(["account","isPc","language"])),created:function(){},mounted:function(){return Object(c["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{}},v=h,w=(s("1b7be"),s("2877")),x=Object(w["a"])(v,m,f,!1,null,"2ec7beeb",null),y=x.exports,g=s("fa7e"),k={name:"Step1",inject:["ckbWalletStateTest","viewName","onOpenNewTab"],components:{LogoView:y,UploadExcelComponent:b["a"],Editor:g["a"]},data:function(){return{initData:!1,balance:{},repeat:!1,repeat_status:!1,loading_address:!1,stepActive:1,addressOptions:[],symbol:"CKB",address:"CKB",logo:"",decimals:8,selectTokenInfo:null,isInput:!0,editorValue:"",queueList:[],errInfoList:[],nextLoading:!1,allTokenList:[]}},computed:Object(p["a"])({},Object(_["b"])(["isPc","isZh","ckbNetwork","ckbAccount"])),watch:{solAccount:{immediate:!0,handler:function(e){""!==e&&this.init()}},address:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function s(){return Object(i["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:"CKB"!==e&&null!=e||(t.decimals=9,t.logo="");case 1:case"end":return s.stop()}}),s)})))()},addressOptions:function(e){},editorValue:function(e){this.onEditCheck(e)},decimals:function(){this.onEditCheck(this.editorValue)}},created:function(){},mounted:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ckbWalletStateTest();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:case"end":return t.stop()}}),t)})))()},methods:{init:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initData=!0,e.initData=!1,e.loading_address=!1;case 3:case"end":return t.stop()}}),t)})))()},onExample:function(){"mainnet"===this.ckbNetwork?this.editorValue="ckb1qzda0cr08m85hc8jlnfp3zer7xulejywt49kt2rr0vthywaa50xwsqdfjcds7fz7l8kxs8kyjsx8800xfw9nv2c3csdz0,100\nckb1qzda0cr08m85hc8jlnfp3zer7xulejywt49kt2rr0vthywaa50xwsq07zv9l3zyqcvystrtepx48ul2pu6y63yqxq7mlv,80":this.editorValue="ckt1qzda0cr08m85hc8jlnfp3zer7xulejywt49kt2rr0vthywaa50xwsqdfjcds7fz7l8kxs8kyjsx8800xfw9nv2cl2mzgh,88\nckt1qzda0cr08m85hc8jlnfp3zer7xulejywt49kt2rr0vthywaa50xwsq07zv9l3zyqcvystrtepx48ul2pu6y63yqgj4545,77"},onBulkAmount:function(){var e=this;this.$prompt(this.$t("ckbOneToMore.auto_amount"),this.$t("ckbOneToMore.inputAlert_5"),{confirmButtonText:this.$t("ckbOneToMore.confirm"),cancelButtonText:this.$t("ckbOneToMore.close")}).then((function(t){var s=t.value,a=e.editorValue.split("\n"),n="";for(var r in a){var i=a[r].split(",");i[1]&&(a[r]=i[0]),parseInt(r)+1===a.length?n+=a[r]+","+s:n+=a[r]+","+s+"\n"}e.editorValue=n})).catch((function(){}))},onNext:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ckbWalletStateTest();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:if(e.nextLoading=!0,""!==e.editorValue){t.next=8;break}return e.$message.error(e.$t("ckbOneToMore.inputAlert_6")),t.abrupt("return");case 8:if(s=e.onEditCheck(e.editorValue),!s){t.next=11;break}return t.abrupt("return");case 11:e.nextLoading=!1,e.$emit("onStep1Confirm",{queueList:e.queueList,address:e.address,decimals:e.decimals});case 13:case"end":return t.stop()}}),t)})))()},getAllSolTokenInfo:function(e){return Object(c["a"])(Object(i["a"])().mark((function e(){var t;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[{value:"CKB",label:"CKB",decimals:8}],e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()},onDeleteErr:function(){var e=this,t="",s=[];for(var a in this.queueList)s.push(this.queueList[a]);this.queueList=s,this.queueList.forEach((function(s,a){var n=a===e.queueList.length-1?"":"\n";t+=e.queueList[a].join()+n})),this.editorValue=t},onRepeat:function(e){var t=this,s="",a=[],n=[];for(var r in this.queueList)a[this.queueList[r][0]]&&1===e?delete this.queueList[r]:a[this.queueList[r][0]]&&2===e?(n[this.queueList[r][0]]+=parseFloat(this.queueList[r][1]),delete this.queueList[r]):(a[this.queueList[r][0]]=!0,2===e&&(n[this.queueList[r][0]]=parseFloat(this.queueList[r][1]),delete this.queueList[r]));if(2===e)for(var i in n)this.queueList.push([i,n[i]]);3===e&&(this.repeat_status=!0,this.repeat=!1,this.errInfoList=[]);var c=[];for(var o in this.queueList)c.push(this.queueList[o]);this.queueList=c,this.queueList.forEach((function(e,a){var n=a===t.queueList.length-1?"":"\n";s+=t.queueList[a].join()+n})),this.editorValue=s},onEditCheck:function(e){if(""===e)return this.queueList=[],this.errInfoList=[],void(this.repeat_status=!1);var t=e.split("\n"),s=[],a=[],n=[],r=!1,i=!1;for(var c in t){var o=parseInt(c)+1,u=t[c].trim().split(",");if(2===u.length)if(this.isValidAddress(u[0]))if(parseFloat(u[1])<63||!parseFloat(u[1]))r=!0,a.push(this.$t("ckbOneToMore.inputAlert_8",{line:o,str:u[1]}));else{var l=String(u[1]).split(".");2===l.length&&String(u[1]).split(".")[1].length>this.decimals?(r=!0,a.push(this.$t("ckbOneToMore.decimals_error",{line:o,number:u[1]}))):(n[u[0]]&&!this.repeat_status?(i=!0,r=!0,a.push(this.$t("ckbOneToMore.inputAlert_11",{line:o,str:u[0]}))):n[u[0]]=!0,s.push(u))}else r=!0,a.push(this.$t("ckbOneToMore.inputAlert_7",{line:o,str:u[0]}));else r=!0,a.push(this.$t("ckbOneToMore.inputAlert_9",{line:o,str:u[0]}))}return this.repeat=i,this.queueList=s,this.errInfoList=a,r},handleFilterAddress:function(){var e=arguments;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.length>0&&void 0!==e[0]?e[0]:"";case 1:case"end":return t.stop()}}),t)})))()},isValidAddress:function(e){return-1!==e.indexOf("ckb")||-1!==e.indexOf("ckt")},onToggleInputType:function(){this.isInput=!this.isInput},beforeUpload:function(e){var t=e.size/1024/1024<100;return!!t||(this.$message({message:"Please do not upload files larger than 100m in size.",type:"warning"}),!1)},onChangeEditor:function(e){this.editorValue=e},onUploadFileSuccess:function(e){var t=e.results,s=(e.header,"");t.forEach((function(e,a){var n=a===t.length-1?"":"\n";s+="".concat(e.Address,",").concat(e.Amount).concat(n)})),this.editorValue=s,this.onToggleInputType()}}},O=k,L=(s("815e"),Object(w["a"])(O,l,d,!1,null,"2e2ee50f",null)),j=L.exports,C=(s("b680"),s("a9e3"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"step2"},[t("div",{staticClass:"label"},[t("span",[e._v(e._s("Gas Fees")+" ")])]),t("ul",{staticClass:"gasBox"},[e.gasList.fast?t("li",{class:{gasList:!0,gasListTrue:"fast"===e.gasType},on:{click:function(t){return e.onChangeGasType("fast")}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("common.fast"))+" ")]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gasList.fast))]),t("span",{staticClass:"unit"},[e._v("shannons/kB")])]),t("span",{staticClass:"symbol_price"},[e._v(e._s(e.$BN(e.gasList.fast).div(1e8).toFixed())+" "+e._s(e.symbol))])]):e._e(),e.gasList.normal?t("li",{class:{gasList:!0,gasListTrue:"normal"===e.gasType},on:{click:function(t){return e.onChangeGasType("normal")}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("common.normal")))]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gasList.normal))]),t("span",{staticClass:"unit"},[e._v("shannons/kB")]),t("span",{staticClass:"symbol_price"},[e._v(e._s(e.$BN(e.gasList.normal).div(1e8).toFixed())+" "+e._s(e.symbol))])])]):e._e(),e.gasList.slow?t("li",{class:{gasList:!0,gasListTrue:"slow"===e.gasType},on:{click:function(t){return e.onChangeGasType("slow")}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("common.slow")))]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gasList.slow))]),t("span",{staticClass:"unit"},[e._v("shannons/kB")]),t("span",{staticClass:"symbol_price"},[e._v(e._s(e.$BN(e.gasList.slow).div(1e8).toFixed())+" "+e._s(e.symbol))])])]):e._e(),t("li",{class:{gasList:!0,gasListTrue:"custom"===e.gasType},on:{click:function(t){return e.onChangeGasType("custom")}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("common.custom"))+" "),t("span",{staticStyle:{"font-size":"12px",color:"rgba(0,0,0,0.5)"}},[e._v("(shannons/kB)")])]),t("span",{staticClass:"inputBox",staticStyle:{width:"100%"}},[t("el-input-number",{staticClass:"inputText",staticStyle:{width:"100%"},attrs:{min:1e3,step:1,"step-strictly":!0,size:"mini"},model:{value:e.gasList.custom,callback:function(t){e.$set(e.gasList,"custom",t)},expression:"gasList.custom"}})],1),Number(e.gasList.custom)>0?t("span",{staticClass:"symbol_price"},[e._v(e._s(e.$BN(e.gasList.custom).div(1e8).toFixed())+" "+e._s(e.symbol))]):e._e()])]),t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".summary"))))])]),t("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.step2_loading,expression:"step2_loading"}],staticClass:"abstract"},[t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.address_count))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".total_address_num"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.send_amount)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".total_send_token_num"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.send_tx))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".total_send_tx_num"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.tokenBalance)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".token_balance"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.fee)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".y_fee"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.ethBalance)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".you_balance"),{symbol:e.symbol})))])])]),t("DealList",{attrs:{list:e.approveList}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.approve_status,expression:"approve_status"}],staticClass:"tips",attrs:{title:e.$t("".concat(e.viewName,".inputAlert_10")),type:"success",closable:!1,effect:"dark"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[t("ul",e._l(e.errInfoList,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),t("el-button",{attrs:{loading:e.step2_loading,size:"large",type:"primary",disabled:e.send_btn},on:{click:e.onNext}},[e._v(e._s(e.$t("".concat(e.viewName,".next"))))])],1)],1)}),T=[],N=s("668b"),S=(s("25f0"),function(){var e=this,t=e._self._c;return t("ul",{directives:[{name:"show",rawName:"v-show",value:e.list.length>0,expression:"list.length > 0"}],staticClass:"dealList"},e._l(e.list,(function(s,a){return t("li",{key:s.address},[t("div",{staticClass:"left"},[t("span",{staticClass:"index"},[e._v(e._s(a+1))]),t("a",{staticClass:"address",attrs:{target:"_blank",href:e.$ethUtils.getScanLink("ckb","tx",s.address)}},[e._v(e._s(s.address))])]),t("div",{staticClass:"right"},[t("span",{staticClass:"status"},[0===s.status?t("i",{staticClass:"el-icon-loading"}):1===s.status?t("i",{staticClass:"el-icon-success"}):2===s.status?t("i",{staticClass:"el-icon-error",staticStyle:{color:"#F05252"}}):e._e()])])])})),0)}),A=[],q={props:{list:{type:Array,required:!0}},data:function(){return{blockTxurl:""}},computed:Object(p["a"])({},Object(_["b"])(["isPc","solNetwork"])),created:function(){},mounted:function(){},methods:{}},B=q,P=(s("1daa"),Object(w["a"])(B,S,A,!1,null,"e6757166",null)),$=P.exports,I=s("901e"),E=s.n(I),F=s("016a"),U=s("986e"),M=s("ce84"),z=s("d2c8"),V={name:"Step2",inject:["viewName"],components:{DealList:$},props:{queueList:{type:Array,required:!0},address:{type:String,required:!0},decimals:{type:Number,required:!0}},data:function(){return{gasType:"normal",gasList:{fast:"20000",normal:"10000",slow:"6000",custom:"5000"},c_address:"",web3:{},send_tx:0,symbol:"CKB",approve_status:!1,send_amount:0,address_count:0,step2_loading:!1,fee:0,d_fee:0,allowance_select:2,currentFee:"",tokenBalance:0,tokenDecimals:"",ethBalance:0,send_btn:!1,approveList:[],errInfoList:[],arrayLimit:200,sliderMarks:{}}},computed:Object(p["a"])(Object(p["a"])({},Object(_["b"])(["isPc","ckbIndexer","ckbNetwork","ckbAccount"])),{},{gas:function(){return Number(this.gasList[this.gasType])}}),watch:{step2_loading:function(e){U["h"].$emit(U["g"],e)},"gasList.custom":function(e){localStorage.setItem("ckb-multiSender-gasType-custom",e)}},created:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var s,a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=localStorage.getItem("ckb-multiSender-gasType"),a=localStorage.getItem("ckb-multiSender-gasType-custom"),s&&(e.gasType=s),t.next=5,Object(z["c"])("ckb");case 5:n=t.sent,n&&(e.gasList.fast=n.data.fast.price,e.gasList.normal=n.data.normal.price,e.gasList.slow=n.data.slow.price),a&&(e.gasList.custom=a);case 8:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var s,a,n,r,c,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.step2_loading=!0,e.c_address=Object(F["b"])("MULTI_SENDER"),t.next=4,e.onUpdateBalance(e.address);case 4:for(a in e.address_count=e.queueList.length,e.arrayLimit=200,e.send_tx=Math.ceil(e.queueList.length/e.arrayLimit),s=0,e.queueList)s=new E.a(s).plus(e.queueList[a][1]).toFixed();if(e.send_amount=s,n=Object(F["c"])("MULTI_SENDER"),e.currentFee=parseFloat(n.toString()),console.log("currentFee",e.currentFee),r=e.currentFee,e.d_fee=parseFloat(r),c=e.d_fee,e.fee=c,o=parseFloat(e.send_amount)+parseFloat(c),"SOL"!==e.address){t.next=24;break}if(!(Number(e.ethBalance)<Number(o))){t.next=24;break}return e.step2_loading=!1,e.errInfoList.push(e.$t("ckbOneToMore.insufficient_balance",{symbol:"CKB"})),e.send_btn=!0,t.abrupt("return");case 24:e.step2_loading=!1;case 25:case"end":return t.stop()}}),t)})))()},methods:{onChangeGasType:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function s(){return Object(i["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:localStorage.setItem("ckb-multiSender-gasType",e),t.gasType=e;case 2:case"end":return s.stop()}}),s)})))()},onNext:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onStep2Confirm",{queueList:e.queueList,address:e.address,decimals:e.decimals,send_tx:e.send_tx,arrayLimit:e.arrayLimit,currentFee:e.currentFee,c_address:e.c_address,gas:e.gas});case 1:case"end":return t.stop()}}),t)})))()},onPrev:function(){this.$emit("onStep2Prev")},onUpdateBalance:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var s,a,n,r,c,o,u,l,d,p;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,console.log(t.ckbNetwork),s=F["a"][t.ckbNetwork].predefined;try{a=t.ckbIndexer.collector({lock:M["helpers"].parseAddress(t.ckbAccount,{config:s})})}catch(i){t.$message({showClose:!0,message:"Wrong network selection, please select the correct network!",duration:0,type:"error"})}n=new E.a(0),r=!1,c=!1,e.prev=7,u=Object(N["a"])(a.collect());case 9:return e.next=11,u.next();case 11:if(!(r=!(l=e.sent).done)){e.next=17;break}d=l.value,n=n.plus(d.cellOutput.capacity);case 14:r=!1,e.next=9;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](7),c=!0,o=e.t0;case 23:if(e.prev=23,e.prev=24,!r||null==u.return){e.next=28;break}return e.next=28,u.return();case 28:if(e.prev=28,!c){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(23);case 33:p=n.div(Math.pow(10,8)).toFixed(),t.ethBalance=p,t.tokenBalance=p,e.next=41;break;case 38:e.prev=38,e.t1=e["catch"](0),console.log(e.t1,"e");case 41:case"end":return e.stop()}}),e,null,[[0,38],[7,19,23,33],[24,,28,32]])})))()}}},H=V,R=(s("3e158"),Object(w["a"])(H,C,T,!1,null,"2b495784",null)),D=R.exports,K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"step3"},[t("div",{staticClass:"label"},[t("span",[e._v(" "+e._s(e.$t("".concat(e.viewName,".step3_alert_1"),{a:e.send_status.a,b:e.send_status.b})))]),t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&!e.all_send,expression:"send_status.b === 0 && !all_send"}]},[e._v(e._s(e.$t("".concat(e.viewName,".step3_alert_2"))))])]),t("DealList",{attrs:{list:e.dealList}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&e.all_send,expression:"send_status.b ===0 && all_send"}],staticClass:"tips",attrs:{title:e.$t("".concat(e.viewName,".step3_alert_3")),type:"success",closable:!1,effect:"dark"}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:!e.all_send&&e.dealList.length>0,expression:"!all_send && dealList.length > 0"}],staticClass:"tips",attrs:{title:e.$t("".concat(e.viewName,".ckb_tips")),type:"success",closable:!1}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],staticClass:"tips",attrs:{title:e.$t("".concat(e.viewName,".step3_alert_4")),type:"success",closable:!1,effect:"dark"}}),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],attrs:{size:"large",type:"primary"},on:{click:e.onSend}},[e._v(e._s(e.$t("".concat(e.viewName,".step3_alert_5"),{d:e.d_slice})))])],1),t("div",{staticClass:"resultList"},[t("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.wait_result_list"),"(").concat(e.waitList.length,")"),name:"wait"}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.waitListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.waitList.length>0,expression:"waitList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.waitListText,expression:"waitListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)]),t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.success_result_list"),"(").concat(e.successList.length,")"),name:"success"}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.successListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.successList.length>0,expression:"successList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.successListText,expression:"successListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)]),t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.error_result_list"),"(").concat(e.errorList.length,")"),name:"error"}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.errorListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.errorList.length>0,expression:"errorList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.errorListText,expression:"errorListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)])],1)],1),e.errorList.length>0?t("el-alert",{staticStyle:{"line-height":"18px"},attrs:{title:e.$t("ckbOneToMore.send_fail_tips"),type:"error"}}):e._e()],1)},G=[],W=s("b85c"),X=(s("4de4"),s("d81d"),s("caad"),s("2532"),s("3ca3"),s("ddb0"),s("fb6a"),s("13d5"),s("d9e2"),s("4c53"),s("c740"),s("ed08")),Y=s("0abe"),Q=s("eb1c"),J={name:"Step3",inject:["viewName","onCopySuccess"],components:{DealList:$},props:{send_tx:{type:Number,required:!0},arrayLimit:{type:Number,required:!0},currentFee:{type:[String,Number],required:!0},c_address:{type:String,required:!0},gas:{type:Number,required:!0},queueList:{type:Array,required:!0},address:{type:String,required:!0},decimals:{type:Number,required:!0}},data:function(){return{dealList:[],send_close:!1,addresses_to_send:[],balances_to_send:[],send_status:{},all_send:!1,activeTab:"wait",d_slice:0,d_slice_s:0,successList:[],errorList:[],allQueueList:[],allTxHashInfo:{},web3:{},useUtxos:[]}},computed:Object(p["a"])(Object(p["a"])({},Object(_["b"])(["isPc","ckbRpc","ckbIndexer","ckbNetwork","ckbAccount","ckbClient"])),{},{successListText:function(){var e="";return this.successList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},errorListText:function(){var e="";return this.errorList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},waitListText:function(){var e="";return this.waitList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},waitList:function(){var e=this;return this.allQueueList.filter((function(t){var s=e.successList.concat(e.errorList).map((function(e){return e.address}));return!s.includes(t.address)}))}}),created:function(){},mounted:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in a=e,e.addresses_to_send=[],e.balances_to_send=[],e.allQueueList=[],e.queueList)e.allQueueList.push({address:e.queueList[s][0],balance:e.queueList[s][1]}),e.addresses_to_send.push(e.queueList[s][0]),e.balances_to_send.push(new E.a(10).pow(e.decimals).times(e.queueList[s][1]).toFixed(0));return t.next=7,e._multisend(e.send_tx,e.arrayLimit);case 7:case"end":return t.stop()}}),t)})))()},methods:{onPrev:function(){this.$emit("onStep3Prev")},onSend:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.send_close=!1,t.next=3,e._multisend(e.d_slice_s,e.arrayLimit);case 3:case"end":return t.stop()}}),t)})))()},flips:function(e,t){return Number(e)-Number(t)},updateTxStatus:function(e,t){this.dealList=this.dealList.map((function(s){return s.address===e?{address:s.address,status:t}:s}))},confirmTransaction:function(e,t){var s=this;return Object(c["a"])(Object(i["a"])().mark((function a(){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t,"attempts"),a.prev=1,a.next=4,s.ckbRpc.getTransaction(e);case 4:if(n=a.sent,"committed"!==n.txStatus.status){a.next=9;break}return a.abrupt("return",!0);case 9:if(!(t>1)){a.next=15;break}return a.next=12,Object(X["E"])(5e3);case 12:return a.next=14,s.confirmTransaction(e,t-1);case 14:return a.abrupt("return",a.sent);case 15:return a.abrupt("return",!1);case 16:a.next=27;break;case 18:if(a.prev=18,a.t0=a["catch"](1),!(t>1)){a.next=26;break}return a.next=23,Object(X["E"])(5e3);case 23:return a.next=25,s.confirmTransaction(e,t-1);case 25:return a.abrupt("return",a.sent);case 26:return a.abrupt("return",!1);case 27:case"end":return a.stop()}}),a,null,[[1,18]])})))()},onCheckTx:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function s(){var a,n,r,c,o,u;return Object(i["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(X["E"])(5e3);case 2:return a=e.addresses_to_send,n=e.balances_to_send,r=e.txHash,s.next=5,t.confirmTransaction(r,30);case 5:if(c=s.sent,t.dealList=t.dealList.map((function(e){return e.address===r?{address:e.address,status:c?1:2}:e})),c){s.next=15;break}o=Object(i["a"])().mark((function e(s){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.c_address!==a[s]&&t.errorList.push({address:a[s],balance:new E.a(n[s]).div(Math.pow(10,t.decimals)).toFixed()}),t.successList=t.successList.filter((function(e){return e.address!==a[s]}));case 2:case"end":return e.stop()}}),e)})),s.t0=Object(i["a"])().keys(a);case 10:if((s.t1=s.t0()).done){s.next=15;break}return u=s.t1.value,s.delegateYield(o(u),"t2",13);case 13:s.next=10;break;case 15:case"end":return s.stop()}}),s)})))()},_multisend:function(e,t){var s=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r,c,o,u,l,d,p,b,m,f,_,h,v,w,x,y,g,k,O,L,j,C,T,S,A,q,B,P,$,I,U,z,V,H,R,D,K,G,J,Z;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.prev=0,s.d_slice=s.send_tx-e===0?1:s.send_tx-e+1,s.d_slice_s=e,s.send_status={a:s.send_tx,b:e},r=s.flips(s.send_tx,e)*t,c=s.flips(s.send_tx,e-1)*t,o=s.addresses_to_send.slice(r,c),u=s.balances_to_send.slice(r,c),o.push(s.c_address),u.push(s.currentFee*Math.pow(10,8)),l=F["a"][s.ckbNetwork].predefined,d=s.ckbClient,p={from:d.address,amount:0},b=[],m=function(e){var t,a=Object(W["a"])(F["a"][s.ckbNetwork].HASH_DATA);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.codeHashes.includes(e)){var r,i=Object(W["a"])(n.txHashes);try{var c=function(){var e=r.value,t=e.split("-")[0];b.some((function(e){return e.outPoint.txHash===t}))||b.push({outPoint:{txHash:t,index:"0x0"},depType:n.depType})};for(i.s();!(r=i.n()).done;)c()}catch(o){i.e(o)}finally{i.f()}}}}catch(o){a.e(o)}finally{a.f()}},f=u.reduce((function(e,t){return M["BI"].from(e).add(t)}),0),p.amount=f,_=M["helpers"].TransactionSkeleton({}),h=M["helpers"].parseAddress(p.from,{config:l}),m(h.codeHash),v=M["BI"].from(p.amount).add(Number(s.gas)),w=M["BI"].from(0),x=[],y=s.ckbIndexer.collector({lock:h,type:"empty"}),g=[],k=5;case 26:if(0!==g.length){n.next=70;break}if(0!==k){n.next=29;break}return n.abrupt("break",70);case 29:O=!1,L=!1,n.prev=31,C=Object(N["a"])(y.collect());case 33:return n.next=35,C.next();case 35:if(!(O=!(T=n.sent).done)){n.next=48;break}if(S=T.value,!s.useUtxos.includes(S.outPoint.txHash)){n.next=39;break}return n.abrupt("continue",45);case 39:if(w=w.add(S.cellOutput.capacity),m(S.cellOutput.lock.codeHash),x.push(S),g.push(S.outPoint.txHash),!(w>=v)){n.next=45;break}return n.abrupt("break",48);case 45:O=!1,n.next=33;break;case 48:n.next=54;break;case 50:n.prev=50,n.t0=n["catch"](31),L=!0,j=n.t0;case 54:if(n.prev=54,n.prev=55,!O||null==C.return){n.next=59;break}return n.next=59,C.return();case 59:if(n.prev=59,!L){n.next=62;break}throw j;case 62:return n.finish(59);case 63:return n.finish(54);case 64:if(0!==g.length){n.next=68;break}return n.next=67,Object(X["E"])(2e3);case 67:k-=1;case 68:n.next=26;break;case 70:if(!w.lt(v)){n.next=72;break}throw new Error(s.$t("ckbOneToMore.insufficient_balance",{symbol:"CKB"}));case 72:for(q in A=[],o)B=M["helpers"].parseAddress(o[q],{config:l}),m(B.codeHash),P={cellOutput:{capacity:M["BI"].from(u[q]).toHexString(),lock:B},data:"0x"},A.push(P);if(w.sub(v).gt(0)&&($={cellOutput:{capacity:w.sub(v).toHexString(),lock:h},data:"0x"},A.push($)),_=_.update("inputs",(function(e){return e.push.apply(e,x)})),_=_.update("outputs",(function(e){return e.push.apply(e,A)})),console.log(b),_=_.update("cellDeps",(function(e){return e.push.apply(e,b)})),I=_.get("inputs").findIndex((function(e){return Y["bytes"].equal(Y["blockchain"].Script.pack(e.cellOutput.lock),Y["blockchain"].Script.pack(h))})),-1===I){n.next=95;break}while(I>=_.get("witnesses").size)_=_.update("witnesses",(function(e){return e.push("0x")}));if(U=_.get("witnesses").get(I),z={lock:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},"0x"===U){n.next=93;break}if(V=Y["blockchain"].WitnessArgs.unpack(Y["bytes"].bytify(U)),H=V.lock,!H||!z.lock||Y["bytes"].equal(H,z.lock)){n.next=89;break}throw new Error("Lock field in first witness is set aside for signature!");case 89:R=V.inputType,R&&(z.inputType=R),D=V.outputType,D&&(z.outputType=D);case 93:U=Y["bytes"].hexify(Y["blockchain"].WitnessArgs.pack(z)),_=_.update("witnesses",(function(e){return e.set(I,U)}));case 95:return _=M["commons"].common.prepareSigningEntries(_),K=M["helpers"].createTransactionFromSkeleton(_),n.next=99,Object(Q["signRawTransaction"])(K,d.address);case 99:return G=n.sent,n.next=102,s.ckbRpc.sendTransaction(G,"passthrough");case 102:for(Z in J=n.sent,o)s.c_address!==o[Z]&&s.successList.push({address:o[Z],balance:new E.a(u[Z]).div(Math.pow(10,s.decimals)).toFixed()});return s.useUtxos=s.useUtxos.concat(g),a.dealList.push({address:J,status:0}),a.send_status={a:s.send_tx,b:e-1},s.allTxHashInfo[J]={addresses_to_send:o,balances_to_send:u},n.next=110,s.onCheckTx({txHash:J,addresses_to_send:s.allTxHashInfo[J].addresses_to_send,balances_to_send:s.allTxHashInfo[J].balances_to_send});case 110:return n.next=112,Object(X["E"])(1e3);case 112:e--,e>0?s._multisend(e,t):s.all_send=!0,n.next=120;break;case 116:n.prev=116,n.t1=n["catch"](0),s.$message({showClose:!0,message:n.t1.toString(),duration:0,type:"error"}),s.send_close=!0;case 120:case"end":return n.stop()}}),n,null,[[0,116],[31,50,54,64],[55,,59,63]])})))()}}},Z=J,ee=(s("1eb6"),Object(w["a"])(Z,K,G,!1,null,"5d51be54",null)),te=ee.exports,se="ckbOneToMore",ae="multiSender",ne={name:ae,provide:function(){return{viewName:se}},components:{OneToMoreHeader:u["a"],Step1:j,Step2:D,Step3:te},data:function(){return{viewName:se,supportNetworks:[{icon:"ckb",value:"mainnet"},{icon:"coin-debug2",value:"testnet"}],stepActive:0,send_tx:0,arrayLimit:0,c_address:"",currentFee:0,gas:0,queueList:[],logo:"",address:"CKB",decimals:8}},watch:{},created:function(){this.$i18n.getLocaleMessage("en")[se]||(this.$i18n.mergeLocaleMessage("en",o.en),this.$i18n.mergeLocaleMessage("zh",o.zh))},mounted:function(){return Object(c["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onStep1Confirm:function(e){var t=e.queueList,s=e.address,a=e.decimals;this.queueList=t,this.address=s,this.decimals=a,this.stepActive=1},onStep2Confirm:function(e){var t=e.queueList,s=e.address,a=e.decimals,n=e.send_tx,r=e.arrayLimit,i=e.currentFee,c=e.c_address,o=e.gas;this.queueList=t,this.address=s,this.decimals=a,this.send_tx=n,this.arrayLimit=r,this.currentFee=i,this.c_address=c,this.stepActive=2,this.gas=o},onStep2Prev:function(){this.stepActive=0},onStep2Next:function(){this.stepActive=2},onStep3Prev:function(){this.stepActive=1},onChangeEditor:function(e){this.editorValue=e}}},re=ne,ie=(s("2e1f"),Object(w["a"])(re,n,r,!1,null,"643c75a4",null));t["default"]=ie.exports},f4e2:function(e,t,s){}}]);