(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-155ddfb2"],{2302:function(e,t,a){"use strict";var n=a("ed08");t["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(n["c"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"250e":function(e,t,a){"use strict";a("65b3")},"42ca":function(e,t,a){},"65b3":function(e,t,a){},6953:function(e,t,a){e.exports=a.p+"static/img/eth.bc4ce105.png"},"7dde":function(e,t,a){},a4c6:function(e,t,a){"use strict";a("fc06")},bfe0:function(e,t,a){"use strict";a("7dde")},c256:function(e,t,a){"use strict";a("42ca")},c415:function(e,t,a){"use strict";a("e285")},e285:function(e,t,a){},ecac:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"flexBox"},[a("div",{staticClass:"leftBox"},[a("UserCard",{attrs:{address:e.address}})],1),a("div",{staticClass:"rightBox"},[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabsArr,(function(t){return a("el-tab-pane",{key:t.value,attrs:{disabled:!e.balanceList[t.value]||0===e.balanceList[t.value].list.length,label:t.label,name:t.value}},[e.balanceList[t.value]?a("AssetTable",{attrs:{address:e.address,list:e.balanceList[t.value].list,is_all:e.balanceList[t.value].is_all,loading:e.balanceList[t.value].loading,"chain-name":t.value},on:{onGetChainAllBalance:e.onGetChainBalance}}):e._e()],1)})),1)],1)])])},i=[],s=a("e7e7"),r=a("a892"),o=a("4833"),c=a("efe2"),l=(a("8b79"),a("a9b5"),a("6a61"),a("52c1")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"share"},[a("i",{class:e.loading?"el-icon-loading":"el-icon-share",on:{click:e.onGenerateImg}})]),a("div",{ref:"imageTofile",staticClass:"cardBox"},[e._m(0),a("div",{staticClass:"content"},[a("div",{staticClass:"userInfo"},[e._m(1),a("el-tooltip",{attrs:{effect:"dark",content:e.account,placement:"top"}},[a("div",{staticClass:"account"},[a("span",{staticClass:"text"},[e._v(e._s(e.account))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.account,expression:"account",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],attrs:{type:"text"}},[a("svg-icon",{staticClass:"copy",attrs:{"icon-class":"copy"}})],1)],1)]),a("div",{staticClass:"price"},[e._v("$"+e._s(e._f("toThousandFilter")(e._f("autoFixed")(e.total_usd_value))))])],1),a("div",{staticClass:"user-bio"},[a("div",{staticClass:"user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("i",{staticClass:"el-icon-time"}),a("span",[e._v(e._s(e.$t("profile.address_age")))])]),a("div",{staticClass:"desc"},[a("el-tooltip",{attrs:{effect:"dark",content:e.$t("profile.address_age_tips"),placement:"top"}},[a("span",[e._v(e._s(e.create_day)+" days")])])],1)]),a("div",{staticClass:"user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("i",{staticClass:"el-icon-orange"}),a("span",[e._v(e._s(e.$t("profile.personal")))])]),a("div",{staticClass:"chartBox"},[a("PieChart",{ref:"PieChart",staticClass:"leftBox"}),a("div",{staticClass:"rightBox"},[a("ul",e._l(e.dataArr,(function(t){return a("li",{key:t.name},[a("i",{style:"background: "+t.color}),a("span",{staticClass:"symbol"},[e._v(e._s(t.name))]),a("span",{staticClass:"per"},[e._v(" "+e._s((t.value/e.total_usd_value*100).toFixed(2))+"%")])])})),0)])],1)])])]),a("div",{staticClass:"scanBox"},[a("div",{staticClass:"leftBox"},[e._m(2),a("p",{staticClass:"desc"},[e._v(e._s(e.$t("profile.share_desc"))+": ETH BSC HECO Polygon ...")])]),a("div",{staticClass:"rightBox"},[a("img",{staticClass:"img",attrs:{src:e.hrefQRCode}})])])]),a("ShareDialog",{ref:"ShareDialog",attrs:{"generate-img-url":e.generateImgUrl}})],1)},u=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("span",[e._v("Wallet")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"picture"},[n("img",{staticClass:"img",attrs:{src:a("6953")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/c0deCn/wiki@master/logo.png"}}),a("span",[e._v("CoinTool.App")])])}],h=(a("f597"),a("5618")),p=a.n(h),f=a("1735"),m=a.n(f),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className+" leftBox",style:{height:e.height,width:e.width},attrs:{id:e.id}},[e._v("1")])},b=[],g=a("8d48"),_=a("6e8a"),C=a("0dd7"),w=a("b91a"),y=a("33d5"),$=a("9115"),x=a("b477"),S=a("2302");g["a"]([C["a"],w["a"],$["a"],x["a"],y["a"]]);var k={mixins:[S["a"]],props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"50%"},height:{type:String,default:"200px"}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=_["l"](document.getElementById(this.id))},setOptions:function(e){this.chart.setOption({tooltip:{trigger:"item"},legend:{top:"5%",left:"center",show:!1},grid:{top:"35%"},series:[{name:"",type:"pie",center:["50%","50%"],radius:["55%","80%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:6,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"16",fontWeight:"bold"}},color:e.color,labelLine:{show:!1},data:e.data}]})}}},E=k,j=a("5d22"),R=Object(j["a"])(E,v,b,!1,null,"6ccc9cea",null),B=R.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialog",attrs:{width:e.isPc?"400px":"auto",height:"800px",visible:e.isShowDialog,modal:!0,title:"x"},on:{"update:visible":function(t){e.isShowDialog=t}}},[a("div",{staticClass:"dialogBox"},[a("div",{staticClass:"imgBox"},[a("img",{attrs:{src:e.generateImgUrl}})]),a("div",{staticClass:"shareBtn"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){e.isShowDialog=!1}}},[e._v(e._s("取消"))]),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.onDownLoad}},[e._v(e._s("下载图片"))])])])])},A=[],z={components:{},props:{generateImgUrl:{require:!0,type:String}},data:function(){return{loading:!0,isShowDialog:!1}},computed:Object(c["a"])({},Object(l["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){},methods:{onDownLoad:function(){var e=document.createElement("a");e.setAttribute("href",this.generateImgUrl),e.setAttribute("download","");var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!0,!1,0,null),e.dispatchEvent(t)},show:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isShowDialog=!e.isShowDialog;case 1:case"end":return t.stop()}}),t)})))()}}},L=z,I=(a("c256"),Object(j["a"])(L,O,A,!1,null,"c19cf77e",null)),D=I.exports,T=a("8975"),N=a("ed08"),P={inject:["onCopySuccess"],components:{PieChart:B,ShareDialog:D},props:{address:{type:String,require:!0}},data:function(){return{total_usd_value:"",dataArr:[],create_day:0,hrefQRCode:"https://cdn.jsdelivr.net/gh/c0deCn/wiki@master/logo.png",loading:!1,generateImgUrl:""}},computed:Object(c["a"])({},Object(l["b"])(["isConnect","account","isPc","language"])),created:function(){this.onSetUrlInfo()},mounted:function(){this.getAccountInfo(),this.getTotalBalance()},methods:{onSetUrlInfo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.a.toDataURL(window.location.href,{color:{dark:"#87c5aa",light:"#2A3350"}});case 2:e.hrefQRCode=t.sent;case 3:case"end":return t.stop()}}),t)})))()},onGenerateImg:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,s,r,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading){t.next=2;break}return t.abrupt("return");case 2:e.loading=!0,a=e.$refs.imageTofile,n=a.offsetWidth,i=a.offsetHeight,s=document.createElement("canvas"),r=2,o=s.getContext("2d"),s.width=n*r,s.height=i*r,o.scale(r,r),c=a.getBoundingClientRect(),o.translate(-c.left,-c.top),l={useCORS:!0,tainttest:!0,scale:r,backgroundColor:"#2A3350",canvas:s,width:n,height:i},m()(a,l).then((function(t){var a=t.toDataURL("image/png"),n=t.getContext("2d");n.mozImageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.msImageSmoothingEnabled=!1,n.imageSmoothingEnabled=!1,e.generateImgUrl=a,e.$refs.ShareDialog.show(),e.loading=!1})).catch((function(t){e.loading=!1}));case 16:case"end":return t.stop()}}),t)})))()},getAccountInfo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax({url:"https://api.debank.com/user/addr",method:"get",data:{addr:e.address}});case 2:a=t.sent,n=e.$moment(new Date).format("YYYY-MM-DD"),i=e.$moment(1e3*a.data.create_at).format("YYYY-MM-DD"),s=e.$moment(n).diff(i,"days"),e.create_day=s;case 7:case"end":return t.stop()}}),t)})))()},getTotalBalance:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax({url:"https://openapi.debank.com/v1/user/total_balance",method:"get",data:{id:e.address}});case 2:a=t.sent,n=[],i=[],a.chain_list.forEach((function(t){0!==t.usd_value&&(n.push({value:Object(T["autoFixed"])(t.usd_value),name:e.$coinInfo[t.id].chainName,color:e.$coinInfo[t.id].color}),i.push(e.$coinInfo[t.id].color))})),e.total_usd_value=a.total_usd_value,e.$refs.PieChart.setOptions({data:n,color:i}),e.dataArr=n,e.dataArr=n.sort(Object(N["m"])("value",1));case 10:case"end":return t.stop()}}),t)})))()}}},U=P,H=(a("bfe0"),Object(j["a"])(U,d,u,!1,null,"79fc71d2",null)),F=H.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableBox"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":"id","max-height":e.isPc?600:450}},[e.isPc?a("el-table-column",{attrs:{label:e.$t("profile.network"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("svg-icon",{staticClass:"icon",style:{color:e.$coinInfo[n.chain].color?e.$coinInfo[n.chain].color:"","margin-right":"6px"},attrs:{"icon-class":e.$coinInfo[n.chain].icon}}),a("span",{staticClass:"name"},[e._v(e._s(e.$coinInfo[n.chain].chainName))])]}}],null,!1,1560517925)}):e._e(),a("el-table-column",{attrs:{label:e.$t("profile.symbol"),"min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"tokenBox"},[a("el-image",{staticClass:"img",attrs:{src:n.logo_url}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn/pic/unknown-token.png"}})])]),a("span",[e._v(e._s(n.optimized_symbol))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.chainName!==n.id,expression:"chainName !== row.id"},{name:"clipboard",rawName:"v-clipboard:copy",value:n.id,expression:"row.id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"copy"}})],1)],1)]}}])}),e.isPc?a("el-table-column",{attrs:{label:e.$t("profile.price"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" $"+e._s(e._f("toThousandFilter")(e._f("autoFixed")(a.price)))+" ")]}}],null,!1,4182280618)}):e._e(),e.isPc?a("el-table-column",{attrs:{label:e.$t("profile.balance"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e._f("toThousandFilter")(e._f("autoFixed")(a.balance)))+" ")]}}],null,!1,2196246277)}):e._e(),a("el-table-column",{attrs:{label:e.$t("profile.value"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" $"+e._s(e._f("toThousandFilter")(e._f("autoFixed")(a.all_price)))+" ")]}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.is_all&&e.list.length>0,expression:"!is_all && list.length > 0"}],staticClass:"showMore"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.onGetChainAllBalance}},[e._v(e._s(e.$t("profile.load_chain_all")))])])],1)},G=[],Y={inject:["onCopySuccess"],props:{list:{type:Array,required:!0},is_all:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},chainName:{type:String,required:!0},address:{type:String,required:!0}},data:function(){return{}},computed:Object(c["a"])({},Object(l["b"])(["isPc","language"])),watch:{},created:function(){},methods:{onGetChainAllBalance:function(){this.$emit("onGetChainAllBalance",this.chainName,!0)}}},q=Y,Q=(a("a4c6"),a("250e"),Object(j["a"])(q,M,G,!1,null,"ec7c90b8",null)),W=Q.exports,J={zh:{profile:{address_age:"地址年龄",address_age_tips:"自第一笔交易至今的时间",portfolio:"资产总览",support:"支持的链",personal:"资产占比",all:"全部资产",symbol:"Token",balance:"数量",value:"价值",price:"价格",load_chain_all:"加载所有资产",share_desc:"快速查询多链余额",network:"链"}},en:{profile:{address_age:"Age of address",address_age_tips:"time since first transaction",portfolio:"Portfolio",support:"Compatibility",personal:"Asset ratio",all:"All Chain",symbol:"Symbol",balance:"Balance",value:"Value",price:"Price",load_chain_all:"Load all",share_desc:"Query balance",network:"Network"}}},V="profile",K={name:V,components:{UserCard:F,AssetTable:W},data:function(){return{list:[],balanceList:{},balanceListStatus:{},tabsArr:[],supportChainList:["eth","bsc","matic","heco","xdai","ftm","okt","avax","arb","op"],activeTab:"bsc",address:""}},computed:Object(c["a"])({},Object(l["b"])(["name","avatar","roles"])),created:function(){this.$i18n.getLocaleMessage("en")[V]||(this.$i18n.mergeLocaleMessage("en",J.en),this.$i18n.mergeLocaleMessage("zh",J.zh)),this.tabsArr=this.getTabsArr();var e=this.$route.params.address;this.address=e},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initData();case 1:case"end":return t.stop()}}),t)})))()},methods:{initData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object(r["a"])(this.supportChainList);try{for(a.s();!(e=a.n()).done;){var n=e.value;this.onGetChainBalance(n,t)}}catch(i){a.e(i)}finally{a.f()}},getAllChainBalance:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];for(var a in this.balanceList)"all"!==a&&(t=t.concat(this.balanceList[a].list));t=t.sort(Object(N["m"])("all_price",1)),this.$set(this.balanceList,"all",{list:t,is_all:e,loading:!1})},onGetChainBalance:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:"bsc",i=e.length>1&&void 0!==e[1]&&e[1],"all"!==n){a.next=6;break}return t.initData(i),t.getAllChainBalance(i),a.abrupt("return");case 6:return a.next=8,t.$ajax({url:"https://api.debank.com/token/balance_list",method:"get",data:{chain:n,is_all:i,user_addr:t.address}});case 8:s=a.sent,r=s.data.map((function(e){var t=e.balance/1e18;return Object(c["a"])(Object(c["a"])({},e),{},{balance:t,all_price:t*e.price})})),r=r.sort(Object(N["m"])("all_price",1)),t.$set(t.balanceList,n,{list:r,is_all:i,loading:!1}),t.getAllChainBalance(i);case 13:case"end":return a.stop()}}),a)})))()},getTabsArr:function(){var e=this,t=this.supportChainList.map((function(t){return{label:e.$coinInfo[t].chainName,value:t}}));return[{label:this.$t("profile.all"),value:"all"}].concat(Object(s["a"])(t))}}},X=K,Z=(a("c415"),Object(j["a"])(X,n,i,!1,null,"39694ac6",null));t["default"]=Z.exports},fc06:function(e,t,a){}}]);