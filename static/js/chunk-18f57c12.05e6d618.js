(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18f57c12"],{8632:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s("c7eb"),a=s("5530"),o=s("1da1"),r=s("64b9"),c=(s("ab9c"),s("c739"),s("ab3e"),function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(t,s,o){var c,i,l,u,d,b,m,f,p,_,v,g;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.getParsedAccountInfo(new r["PublicKey"](t));case 2:return m=e.sent,f="spl-token",p=!1,_=null===m||void 0===m||null===(c=m.value)||void 0===c||null===(i=c.data)||void 0===i||null===(l=i.parsed)||void 0===l||null===(u=l.info)||void 0===u?void 0:u.extensions[1].state,v=m.value.data.parsed.info.decimals,"spl-token-2022"===(null===m||void 0===m||null===(d=m.value)||void 0===d||null===(b=d.data)||void 0===b?void 0:b.program)&&(p=!0,f="spl-token-2022"),g=Object(a["a"])(Object(a["a"])({decimals:v},_),{},{is2022:p,solTokenVersion:f}),g.is2022=p,e.abrupt("return",g);case 11:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}())},"873c":function(e,t,s){},e641:function(e,t,s){"use strict";s.r(t);s("99af");var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"container"},[t("img",{staticClass:"bg-img-left",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/token/sol.png"}}),t("img",{staticClass:"bg-img-right",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/token/sol.png"}}),t("TransactionSuccessDialog",{ref:"TransactionSuccessDialog",attrs:{"is-show-manage-pane":!1,title:"Execute successfully"}}),t("div",{staticClass:"header"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"solana"}}),t("span",{staticClass:"headerTitle"},[e._v(e._s(e.$t("route.".concat(e.viewName))))]),t("span",{staticClass:"headerDesc"},[e._v(e._s(e.$t("routeDesc.".concat(e.viewName))))])],1),t("div",{staticClass:"flexBox"},[e.isPc?t("div",{staticClass:"otherLink"},[t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/sol/claimyoursol"),target:"_blank"}},[t("svg-icon",{attrs:{"icon-class":"solana"}}),e._v(" "+e._s(e.$t("route.claimyoursol"))+" ")],1),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/multiSender/").concat(e.chainName),target:"_blank"}},[t("svg-icon",{attrs:{"icon-class":"hot4"}}),e._v(" "+e._s(e.$t("route.multiSenderSymbol",{symbol:"SOL"}))+" ")],1),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/sol/liquidity"),target:"_blank"}},[e._v(" "+e._s(e.$t("route.burn_pool"))+" ")])],1):e._e(),t("div",{staticClass:"card"},[t("div",{staticClass:"listTitle"},[t("span",{staticClass:"left"},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"tools"}}),e._v(e._s(e.$appName))],1),t("svg-icon",{staticClass:"shareIcon",attrs:{"icon-class":"share"},on:{click:e.onShare}})],1),t("el-form",{ref:"form",attrs:{"label-position":"top",rules:e.rules,model:e.form}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24,xs:24}},[t("el-form-item",{attrs:{prop:"tokenAddress"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".select_token")))+" "),e.form.tokenAddress?t("i",{staticClass:"el-icon-link linkIcon",on:{click:function(t){e.onOpenNewTab(e.$ethUtils.getScanLink(e.chainName,"token",e.form.tokenAddress))}}}):e._e()]),e.loading_address?t("i",{staticClass:"el-icon-loading"}):e._e()]),t("SolSelectAddress",{attrs:{"address-list":e.addressOptions,loading:e.loading_address},on:{"update:selectedTokenInfoObj":e.handleSelectedObj},model:{value:e.form.tokenAddress,callback:function(t){e.$set(e.form,"tokenAddress",t)},expression:"form.tokenAddress"}})],1)],1),e.form.tokenAddress?t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"burn_amount"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".burn_amount"))))]),e.tokenInfo?t("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(e._s(e.$t("common.balance"))+": "+e._s(e.tokenInfo.tokenBalance))]):e._e()],1),t("div",{staticClass:"inputContent"},[t("el-input",{attrs:{disabled:e.form.isAllBurn,clearable:"",oninput:"value=value.replace(/[^\\d\\.]/g,'')"},model:{value:e.form.burn_amount,callback:function(t){e.$set(e.form,"burn_amount",t)},expression:"form.burn_amount"}})],1)])],1):e._e(),e.form.tokenAddress?t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"isAllBurn"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".all_burn_and_close_account"))))])]),t("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#2AB079"},model:{value:e.form.isAllBurn,callback:function(t){e.$set(e.form,"isAllBurn",t)},expression:"form.isAllBurn"}})],1)],1):e._e()],1)],1),t("div",{staticClass:"btnBox"},[e.solAccount?e.form.tokenAddress?t("el-button",{attrs:{type:"success",size:"large",loading:e.isBurnLoading},on:{click:e.onBurn}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),e._v(" "+e._s(e.$t("".concat(e.viewName,".burn_btn_text")))+" ")],1):e._e():t("el-button",{attrs:{type:"success",size:"large",disabled:!0}},[e._v(" "+e._s(e.$t("common.connect_wallet_tips"))+" ")])],1)],1)])],1)},a=[],o=s("3835"),r=s("c7eb"),c=s("1da1"),i=s("5530"),l=(s("b680"),s("ab9c")),u=s("2f62"),d={zh:{"sol-burn":{burn_tips:"燃烧Token的数量不能 > 你的Token余额",select_token:"选择代币",all_burn_and_close_account:"全部销毁并关闭账户",burn_amount:"燃烧数量",burn_btn_text:"销毁"}},en:{"sol-burn":{burn_tips:"The number of Token burned cannot > your Token balance",select_token:"Select Token",all_burn_and_close_account:"Burn all && close account",burn_amount:"Burn Amount",burn_btn_text:"Burn"}}},b=s("3e44"),m=s("2c23"),f=s("64b9"),p=s("de3a"),_=s("901e"),v=s.n(_),g=s("eaa1"),k=(s("03c3"),"sol-burn"),h={name:k,inject:["onCopySuccess","onShare","onOpenNewTab"],components:{TransactionSuccessDialog:g["a"],SolSelectAddress:p["a"]},data:function(){return{viewName:k,symbol:"SOL",chainName:"sol",addressOptions:[],loading_address:!1,isBurnLoading:!1,tokenInfo:{},form:{tokenAddress:"",burn_amount:"",isAllBurn:!1}}},watch:{solAccount:{immediate:!0,handler:function(e){""!==e?this.init():this.addressOptions=[]}}},computed:Object(i["a"])({},Object(u["b"])(["isPc","solClient","solNetwork","solAddressList","solAccount"])),deactivated:function(){},activated:function(){this.init()},beforeDestroy:function(){},created:function(){this.$i18n.getLocaleMessage("en")[k]||(this.$i18n.mergeLocaleMessage("en",d.en),this.$i18n.mergeLocaleMessage("zh",d.zh)),this.rules={tokenAddress:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],burn_amount:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},methods:{init:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function t(){var s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=l["h"][e.solNetwork],window.solConnection=new f["Connection"](s,"confirmed"),e.loading_address=!0,t.next=5,Object(l["n"])(e.solAccount,"all");case 5:e.addressOptions=t.sent,e.loading_address=!1;case 7:case"end":return t.stop()}}),t)})))()},onBurn:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function t(){var s,n,a,c,i,u,d,p;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.isAllBurn){t.next=3;break}return t.next=3,e.$refs["form"].validate();case 3:if(!(e.form.burn_amount>e.tokenInfo.tokenBalance)){t.next=6;break}return e.$message.error(e.$t("".concat(k,".burn_tips"))),t.abrupt("return");case 6:return e.isBurnLoading=!0,t.prev=7,n=null===(s=e.solClient)||void 0===s?void 0:s.publicKey,a=new m["a"](b["TOKEN_PROGRAM_ID"],n,window.solConnection),t.next=12,f["PublicKey"].findProgramAddress([new f["PublicKey"](e.solAccount).toBuffer(),b["TOKEN_PROGRAM_ID"].toBuffer(),new f["PublicKey"](e.form.tokenAddress).toBuffer()],l["b"]);case 12:return c=t.sent,i=Object(o["a"])(c,1),u=i[0],t.next=17,a.burn(new f["PublicKey"](e.form.tokenAddress),u,e.solClient,[],new v.a(e.form.burn_amount).times(Math.pow(10,e.tokenInfo.decimals)).toFixed(0));case 17:return d=t.sent,t.next=20,Object(l["S"])(Object(l["K"])("BURN"),Object(l["t"])("BURN"),d,[]);case 20:if(p=t.sent,p){t.next=23;break}return t.abrupt("return");case 23:e.$refs.TransactionSuccessDialog.show({tx:p}),e.$refs.BurnDialog.show(),t.next=30;break;case 27:t.prev=27,t.t0=t["catch"](7),e.$message.error(t.t0);case 30:return t.prev=30,e.isBurnLoading=!1,t.finish(30);case 33:case"end":return t.stop()}}),t,null,[[7,27,30,33]])})))()},handleSelectedObj:function(e){this.tokenInfo=e}}},w=h,x=(s("ec28"),s("2877")),A=Object(x["a"])(w,n,a,!1,null,"6410cabd",null);t["default"]=A.exports},ec28:function(e,t,s){"use strict";s("873c")}}]);