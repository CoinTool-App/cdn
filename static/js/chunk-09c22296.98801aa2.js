(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09c22296"],{3007:function(e,t,a){},"40c1":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("SuccessDialog",{ref:"SuccessDialog",attrs:{tx:e.tx}}),a("div",{staticClass:"flexBox"},[a("div",{staticClass:"infoBox"},[a("ul",{staticClass:"list"},e._l(e.renderList,(function(t,o){return a("li",{key:o},[a("div",{staticClass:"leftBox"},[a("div",{staticClass:"topBox smallBox"},[a("div",{staticClass:"imgBox"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":t.approve_icon}})],1),a("span",{staticClass:"name"},[e._v(e._s(t.approve_name))])]),t.token_contract?a("div",{staticClass:"bottomBox smallBox"},[a("div",{staticClass:"imgBox"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":t.token_icon}})],1),a("span",{staticClass:"name"},[e._v(e._s(t.token_name))])]):e._e()]),a("div",{staticClass:"rightBox"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return e.onSetInfo(t)}}},[e._v("GET")])],1)])})),0)]),a("div",{staticClass:"content"},[a("div",{staticClass:"checkAll"},[a("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:e.onCheckAllApprove}},[a("svg-icon",{attrs:{"icon-class":"certified"}}),e._v(" "+e._s(e.$t("customApprove.check_all"))+" "),a("i",{staticClass:"el-icon-right"})],1)],1),a("div",{staticClass:"headerBox"},[a("div",{staticClass:"bgIcon"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"certified"}})],1),a("h1",{staticClass:"title"},[e._v(e._s(e.customApproveType+" "+e.$t("route.customApprove")))])]),a("el-form",{attrs:{"label-position":"top","label-suffix":":"}},[a("el-form-item",{staticClass:"item"},[a("el-radio-group",{model:{value:e.customApproveType,callback:function(t){e.customApproveType=t},expression:"customApproveType"}},[a("el-radio",{attrs:{label:"Token",border:""}},[e._v("Token")]),a("el-radio",{attrs:{label:"NFT",border:""}},[e._v("NFT")])],1)],1),a("el-form-item",{staticClass:"item",attrs:{label:"Chain"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{value:e.chainName,size:"large"},on:{change:e.onChangeChain}},e._l(e.chainList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"16px"}},[a("svg-icon",{staticClass:"icon",style:"color:"+e.$coinInfo[t.value].color,attrs:{"icon-class":e.$coinInfo[t.value].icon}})],1)])})),1)],1),a("el-form-item",{staticClass:"item",attrs:{label:"Action"}},[a("el-radio-group",{model:{value:e.approval_type,callback:function(t){e.approval_type=t},expression:"approval_type"}},[a("el-radio-button",{attrs:{border:"",label:0}},[e._v(e._s(e.$t("customApprove.approval")))]),a("el-radio-button",{attrs:{border:"",label:1}},[e._v(e._s(e.$t("customApprove.cancel_approval")))])],1)],1)],1),"Token"===e.customApproveType?a("el-form",{ref:"tokenForm",attrs:{rules:e.tokenFormRules,model:e.tokenForm,"label-position":"top","label-suffix":":"}},[a("el-form-item",{staticClass:"item",attrs:{label:e.$t("customApprove.token_address"),prop:"token_address"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.tokenForm.token_address,callback:function(t){e.$set(e.tokenForm,"token_address",t)},expression:"tokenForm.token_address"}})],1),a("el-form-item",{staticClass:"item",attrs:{prop:"approve_contract"}},[a("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("customApprove.approve_contract"))+" "),a("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$t("customApprove.safety_tips"))},slot:"content"}),a("i",{staticClass:"el-icon-warning"})])],1)]),a("el-input",{staticStyle:{width:"100%"},model:{value:e.tokenForm.approve_contract,callback:function(t){e.$set(e.tokenForm,"approve_contract",t)},expression:"tokenForm.approve_contract"}})],1)],1):a("el-form",{ref:"nftForm",attrs:{model:e.nftForm,rules:e.nftFormRules,"label-position":"top","label-suffix":":"}},[a("el-form-item",{staticClass:"item",attrs:{label:e.$t("customApprove.nft_address"),prop:"nft_address"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.nftForm.nft_address,callback:function(t){e.$set(e.nftForm,"nft_address",t)},expression:"nftForm.nft_address"}})],1),a("el-form-item",{staticClass:"item",attrs:{prop:"approve_contract"}},[a("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("customApprove.approve_contract"))+" "),a("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$t("customApprove.safety_tips"))},slot:"content"}),a("i",{staticClass:"el-icon-warning"})])],1)]),a("el-input",{staticStyle:{width:"100%"},model:{value:e.nftForm.approve_contract,callback:function(t){e.$set(e.nftForm,"approve_contract",t)},expression:"nftForm.approve_contract"}})],1)],1),a("el-form",{attrs:{"label-position":"top","label-suffix":":"}},[a("el-form-item",{staticClass:"item",attrs:{label:e.$t("customApprove.now_approve_status")}},[a("div",{staticClass:"statusBox"},[""!==e.approve_status?a("el-tag",{staticClass:"tags"},[e._v(e._s(-1===e.approve_status?e.$t("customApprove.unlimited"):e.approve_status))]):e._e(),a("el-button",{attrs:{type:"success",plain:"",size:"mini",loading:e.checkApproveLoading},on:{click:e.onCheckApprove}},[a("svg-icon",{attrs:{"icon-class":"certified"}}),e._v(e._s(e.$t("customApprove.check_approve_status"))+" ")],1)],1)])],1),a("div",{staticClass:"btnBox"},[a("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.buttonLoad},on:{click:e.onConfirm}},[e._v(e._s("Confirm"))])],1)],1)])],1)},s=[],r=a("4833"),n=a("efe2"),c=(a("6a61"),a("37de"),a("1e34"),a("8b79"),a("ed08")),i={zh:{customApprove:{desc:"工具说明：检查您的钱包地址授权过哪些合约，请及时取消不信任的合约授权，保证你钱包的安全性！",smart_contract:"授权智能合约",token:"被授权Token",amount:"授权数量",donation:"请CoinTool.App 喝一杯 ☕️ 咖啡({amount}{sybmol})",alert_text:"当您向某项合约授权无限额度的权限，该项目有权支配您所有的资产，此类授权危险系数极大，建议您及时收回授权.",action:"操作",decline:"取消授权",decline_ok:"成功取消授权",addressError:"查询地址错误",unlock:"取消授权请先解锁钱包",privareaddress:"注意:这是私人钱包，请立即取消授权!",addressZero:"你没有授权代币给合约过，很棒!",unlimited:"无限",sleep:"查询过程缓慢，请耐心等待!",inputPlaceholder:"请输入你要检查的地址",dangerLevel:"危险等级",high:"高",low:"低",search_error:"当前查询频率高峰，请10秒后尝试",timeout_tips:"RPC查询超时，请重试",batchCancel:"取消所有授权",stopScan:"取消扫描",history_record:"历史授权记录",approve_contract:"授信合约(如Uniswap、pancakeswap)",nft_address:"NFT合约地址",approval:"授信",cancel_approval:"取消授信",approve_checker:"授信检查",approve_number:"授权数量",token_address:"Token 地址",transferSuccess:"交易成功",safety_tips:"请确定授信合约安全！如遇到恶意合约请及时取消！",now_approve_status:"当前授权状态",check_all:"检测所有授权",check_approve_status:"检查授权状态"}},en:{customApprove:{desc:"Tips: check your wallet address authorized those contracts, please cancel the authorization of the contracts do not trust, to ensure the security of your wallet!",smart_contract:"Contract",token:"Token",amount:"Allowance",sleep:"The query process is slow, please be patient!",donation:"please CoinTool.App  Have a cup of coffee ({amount}{sybmol})",alert_text:"When you authorize an unlimited amount of access to a contract, the program has the right to control all of your assets, this type of authorization is extremely dangerous and you are advised to withdraw it in time.",action:"Action",decline:"Revoke",decline_ok:"Successfully Decline",addressError:"Address Error",addressZero:"You don't have an allowance token for a contract. It's great!",unlimited:"Unlimited",unlock:"Please unlock wallet",privareaddress:"Attention:This is a private wallet, please cancel authorization now!",inputPlaceholder:"Please enter the address you want to check",dangerLevel:"Danger level",high:"High",low:"Low",search_error:"Current query peak, please try 10 seconds later",timeout_tips:"RPC query timed out. Please try again",batchCancel:"All Revoke",stopScan:"Stop Scan",history_record:"Historical record",approve_contract:"Approve Contract",nft_address:" NFT address",approval:"Approval",cancel_approval:"Cancel Approval",approve_checker:"Approve Checker",approve_number:"Approve Number",token_address:"Token Address",transferSuccess:"Transfer Success",safety_tips:"Please confirm the Approve contract is safe! <br> If encounter malicious contract, please cancel in time!",now_approve_status:"Approve Status",check_all:"Check All Approve",check_approve_status:"Check Approve Status"}}},p=a("52c1"),l=a("a835"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{width:e.isPc?"600px":"90%",title:e.$t("customApprove.transferSuccess"),"modal-append-to-body":!1,visible:e.isShowDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isShowDialog=t}}},[a("div",{staticClass:"dialogBox"},[a("el-alert",{staticClass:"smaillBox",attrs:{title:"TX",type:"success",closable:!1,"show-icon":""}},[a("el-link",{staticClass:"link",attrs:{type:"success",target:"_blank",href:e.blockTxurl+"/tx/"+e.tx}},[e._v(e._s(e.blockTxurl+"/tx/"+e.tx)+" ")])],1),a("div",{staticClass:"btnBox"},[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.blockTxurl+"/tx/"+e.tx,expression:"`${blockTxurl}/tx/${tx}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"primary"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)],1)])},u=[],d={inject:["onCheckConnect","onCopySuccess"],components:{},props:{tx:{type:String,require:!0}},data:function(){return{blockTxurl:"",isShowDialog:!1}},computed:Object(n["a"])({},Object(p["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){this.blockTxurl=l["a"].resolveLinkOnEtherscan()},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},m=d,v=(a("7e42"),a("5d22")),_=Object(v["a"])(m,f,u,!1,null,"a693c6b0",null),h=_.exports,k="customApprove",b=Object(n["a"])(Object(n["a"])({name:k,inject:["onCheckConnect"],components:{SuccessDialog:h},props:{}},Object(p["b"])(["isPc"])),{},{data:function(){return{checkApproveLoading:!1,buttonLoad:!1,customApproveType:"Token",approval_type:0,chainName:"eth",loading:!1,tokenFormRules:{},nftFormRules:{},tokenForm:{token_address:"",approve_contract:""},nftForm:{nft_address:"",approve_contract:""},tx:"",chainList:[],approve_status:"",tokenList:[{approve_icon:"uniswap",approve_contract:"0x7a250d5630b4cf539739df2c5dacb4c659f2488d",approve_name:"UNISWAP V2"},{approve_icon:"uniswap",approve_contract:"0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45",approve_name:"UNISWAP V3"},{token_icon:"eth1",token_contract:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",token_name:"WETH",approve_icon:"opensea",approve_contract:"0x1E0049783F008A0085193E00003D00cd54003c71",approve_name:"OPENSEA offer"},{token_icon:"eth1",token_contract:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",token_name:"WETH",approve_icon:"opensea",approve_contract:"0xe5c783ee536cf5e63e792988335c4255169be4e1",approve_name:"OPENSEA(old Wyvern) offer"},{approve_icon:"pancakeswap",approve_contract:"0x10ed43c718714eb63d5aa57b78b54704e256024e",approve_name:"PancakeSwap"}],nftList:[{approve_icon:"opensea",approve_contract:"0x1E0049783F008A0085193E00003D00cd54003c71",approve_name:"OpenSea Listing"},{approve_icon:"x2y2",approve_contract:"0xF849de01B080aDC3A814FaBE1E2087475cF2E354",approve_name:"X2Y2: ERC721 Delegate"}]}},computed:Object(n["a"])(Object(n["a"])({},Object(p["b"])(["isPc","account"])),{},{renderList:function(){return"NFT"===this.customApproveType?this.nftList:this.tokenList}}),watch:{account:function(e){this.tokenForm.address=e.toLowerCase(),this.tokenForm.web3Address=e.toLowerCase()},$route:{immediate:!0,handler:function(e){}}},created:function(){this.$i18n.getLocaleMessage("en")[k]||(this.$i18n.mergeLocaleMessage("en",i.en),this.$i18n.mergeLocaleMessage("zh",i.zh));var e=this.$route.meta.chainName;this.chainList=Object(c["p"])(k),this.chainName=e,this.tokenFormRules={token_address:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],approve_contract:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}]},this.nftFormRules={nft_address:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],approve_contract:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}]}},mounted:function(){},methods:{onCheckAllApprove:function(){this.$router.push({path:"/approve/".concat(this.chainName)})},onSetInfo:function(e){"NFT"===this.customApproveType?this.nftForm={nft_address:e.token_contract,approve_contract:e.approve_contract}:this.tokenForm={token_address:e.token_contract,approve_contract:e.approve_contract}},onChangeChain:function(e){this.$router.replace({path:"/".concat(k,"/").concat(e),query:this.$route.query})},onCheckApprove:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s,r,n,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Token"!==e.customApproveType){t.next=5;break}return t.next=3,e.$refs["tokenForm"].validate();case 3:t.next=7;break;case 5:return t.next=7,e.$refs["nftForm"].validate();case 7:if(e.checkApproveLoading=!0,t.prev=8,"Token"!==e.customApproveType){t.next=23;break}return a="0xdd62ed3e000000000000000000000000".concat(l["a"].getAccount().substring(2,50),"000000000000000000000000").concat(e.tokenForm.approve_contract.substring(2,50)),t.next=13,l["a"].sendEthcall({from:l["a"].getAccount(),to:e.tokenForm.token_address,data:a});case 13:return o=t.sent,t.next=16,l["a"].sendEthcall({from:l["a"].getAccount(),to:e.tokenForm.token_address,data:"0x313ce567"});case 16:s=t.sent,r=parseInt(o)/Math.pow(10,parseInt(s)),console.log(o),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"===o&&(r=-1),e.approve_status=r,t.next=29;break;case 23:return n="0xe985e9c5000000000000000000000000".concat(l["a"].getAccount().substring(2,50),"000000000000000000000000").concat(e.nftForm.approve_contract.substring(2,50)),t.next=26,l["a"].sendEthcall({from:l["a"].getAccount(),to:e.nftForm.nft_address,data:n});case 26:c=t.sent,i=1===parseInt(c)?"Already Approve":"No Approve",e.approve_status=i;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](8),console.log(t.t0);case 34:return t.prev=34,e.checkApproveLoading=!1,t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[8,31,34,37]])})))()},onConfirm:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,o,s,r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Token"!==e.customApproveType){t.next=5;break}return t.next=3,e.$refs["tokenForm"].validate();case 3:t.next=7;break;case 5:return t.next=7,e.$refs["nftForm"].validate();case 7:if(e.onCheckConnect()){t.next=9;break}return t.abrupt("return");case 9:return e.buttonLoad=!0,"Token"===e.customApproveType?(a=e.tokenForm.token_address,o=1===e.approval_type?"0x095ea7b3000000000000000000000000"+e.tokenForm.approve_contract.replace("0x","").toLowerCase()+"0000000000000000000000000000000000000000000000000000000000000000":"0x095ea7b3000000000000000000000000"+e.tokenForm.approve_contract.replace("0x","").toLowerCase()+"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"):(a=e.nftForm.nft_address,o=1===e.approval_type?"0xa22cb465000000000000000000000000"+e.nftForm.approve_contract.replace("0x","")+"0000000000000000000000000000000000000000000000000000000000000000":"0xa22cb465000000000000000000000000"+e.nftForm.approve_contract.replace("0x","")+"0000000000000000000000000000000000000000000000000000000000000001"),s={from:l["a"].getAccount(),to:a,value:"0x0",data:o,chainId:l["a"].getChainId()},r=e,t.prev=13,t.next=16,l["a"].sendTransaction(s);case 16:return n=t.sent,t.next=19,l["a"].getTransactionSuccess(n);case 19:c=t.sent,200===c.code&&(r.buttonLoad=!1),e.tx=n,e.$refs.SuccessDialog.show(),t.next=30;break;case 25:return t.prev=25,t.t0=t["catch"](13),e.$message({message:r.$t("common.transactionError")+": "+t.t0,type:"error"}),e.buttonLoad=!1,t.abrupt("return");case 30:case"end":return t.stop()}}),t,null,[[13,25]])})))()}}}),x=b,g=(a("fb1b"),Object(v["a"])(x,o,s,!1,null,"0e9bfdcf",null));t["default"]=g.exports},"7e42":function(e,t,a){"use strict";a("ccf5")},ccf5:function(e,t,a){},fb1b:function(e,t,a){"use strict";a("3007")}}]);