(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-322d8544"],{"0fb9":function(t,e,a){},"0fc7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("SuccessDialog",{ref:"SuccessDialog",attrs:{tx:t.tx}}),a("div",{staticClass:"flexBox"},[a("div",{staticClass:"content"},[a("div",{staticClass:"checkAll",on:{click:t.onCopy}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"share"}})],1),a("div",{staticClass:"headerBox"},[a("div",{staticClass:"bgIcon"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"coin-transform2"}})],1),a("h1",{staticClass:"title"},[t._v(t._s(""+t.$t("route.customSender")))])]),a("el-form",{ref:"form",attrs:{rules:t.formRules,model:t.form,"label-position":"top","label-suffix":":"}},[a("el-form-item",{staticClass:"item",attrs:{label:"Chain"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{value:t.chainName,size:"large"},on:{change:t.onChangeChain}},t._l(t.chainList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"16px"}},[a("svg-icon",{staticClass:"icon",style:"color:"+t.$coinInfo[e.value].color,attrs:{"icon-class":t.$coinInfo[e.value].icon}})],1)])})),1)],1),a("el-form-item",{staticClass:"item",attrs:{label:"to",prop:"to"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.to,callback:function(e){t.$set(t.form,"to",e)},expression:"form.to"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"value",prop:"value"}},[a("el-input",{model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),a("el-form-item",{staticClass:"item",attrs:{prop:"data"}},[a("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"label"},[t._v(t._s("Data(HEX)")+" "),a("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.$t("customSender.data_tips"))},slot:"content"}),a("i",{staticClass:"el-icon-question"})])],1)]),a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:2},model:{value:t.form.data,callback:function(e){t.$set(t.form,"data",e)},expression:"form.data"}})],1)],1),a("div",{staticClass:"btnBox"},[a("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.buttonLoad},on:{click:t.onConfirm}},[t._v(t._s("Confirm"))])],1)],1)])],1)},o=[],n=a("4833"),c=a("efe2"),i=(a("6a61"),a("8b79"),a("05d6"),a("ed08")),r={zh:{customSender:{transferSuccess:"交易成功",data_tips:"16进制"}},en:{customSender:{transferSuccess:"Transfer Success",data_tips:"hex"}}},l=a("52c1"),u=a("a835"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:t.isPc?"600px":"90%",title:t.$t("customSender.transferSuccess"),"modal-append-to-body":!1,visible:t.isShowDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e}}},[a("div",{staticClass:"dialogBox"},[a("el-alert",{staticClass:"smaillBox",attrs:{title:"TX",type:"success",closable:!1,"show-icon":""}},[a("el-link",{staticClass:"link",attrs:{type:"success",target:"_blank",href:t.blockTxurl+"/tx/"+t.tx}},[t._v(t._s(t.blockTxurl+"/tx/"+t.tx)+" ")])],1),a("div",{staticClass:"btnBox"},[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.blockTxurl+"/tx/"+t.tx,expression:"`${blockTxurl}/tx/${tx}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("common.copy"))+" ")])],1)],1)])},m=[],f={inject:["onCheckConnect","onCopySuccess"],components:{},props:{tx:{type:String,require:!0}},data:function(){return{blockTxurl:"",isShowDialog:!1}},computed:Object(c["a"])({},Object(l["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){this.blockTxurl=u["a"].resolveLinkOnEtherscan()},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},h=f,p=(a("1963"),a("5d22")),b=Object(p["a"])(h,d,m,!1,null,"4b29d8e0",null),v=b.exports,g=a("7921"),x=a.n(g),C=a("85d4"),w="customSender",y=Object(c["a"])(Object(c["a"])({name:w,inject:["onCheckConnect","onCopySuccess","onShare"],components:{SuccessDialog:v},props:{}},Object(l["b"])(["isPc"])),{},{data:function(){return{chainName:"eth",buttonLoad:!1,formRules:{},form:{to:"",value:"",data:"0x"},tx:"",chainList:[]}},computed:Object(c["a"])({},Object(l["b"])(["isPc","account","chainId"])),watch:{account:function(t){this.form.address=t.toLowerCase(),this.form.web3Address=t.toLowerCase()},$route:{immediate:!0,handler:function(t){}},chainId:{immediate:!0,handler:function(t){this.chainName=this.$ethUtils.chainIdToChainName(parseInt(t))}},form:{deep:!0,handler:function(t){var e=this.$route.path+"?to=".concat(t.to,"&value=").concat(t.value,"&data=").concat(t.data);window.history.replaceState("","",e)}}},created:function(){this.$i18n.getLocaleMessage("en")[w]||(this.$i18n.mergeLocaleMessage("en",r.en),this.$i18n.mergeLocaleMessage("zh",r.zh)),this.chainList=Object(i["q"])(w),this.formRules={to:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],value:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],data:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}]}},mounted:function(){var t=this.$route.query,e=t.to,a=t.value,s=t.data;this.form={to:e&&e.length>40?e:"",value:a||0,data:s||"0x"}},methods:{onCopy:function(){var t=this,e=window.location.href;this.$copyText(e).then((function(){t.onCopySuccess()}))},onChangeChain:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(parseInt(e.chainId)===e.$coinInfo[t].chainId){a.next=3;break}return a.next=3,e.$ethUtils.addToMetamask(e.$coinInfo[t].chainId);case 3:case"end":return a.stop()}}),a)})))()},onConfirm:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs["form"].validate();case 2:return a={from:u["a"].getAccount(),to:t.form.to,value:Object(C["toHex"])(new x.a(t.form.value).times(Math.pow(10,18)).toFixed(0)),data:t.form.data,chainId:u["a"].getChainId()},e.prev=3,e.next=6,u["a"].sendTransaction(a);case 6:return s=e.sent,e.next=9,u["a"].getTransactionSuccess(s);case 9:o=e.sent,200===o.code&&(t.buttonLoad=!1),t.tx=s,t.$refs.SuccessDialog.show(),e.next=20;break;case 15:return e.prev=15,e.t0=e["catch"](3),t.$message({message:t.$t("common.transactionError")+": "+e.t0,type:"error"}),t.buttonLoad=!1,e.abrupt("return");case 20:case"end":return e.stop()}}),e,null,[[3,15]])})))()}}}),S=y,$=(a("663dd"),Object(p["a"])(S,s,o,!1,null,"ec6c830a",null));e["default"]=$.exports},1963:function(t,e,a){"use strict";a("7088")},"663dd":function(t,e,a){"use strict";a("0fb9")},7088:function(t,e,a){}}]);