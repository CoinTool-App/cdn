(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-744f54ec"],{"0fc70":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("SuccessDialog",{ref:"SuccessDialog",attrs:{tx:t.tx}}),e("div",{staticClass:"flexBox"},[e("div",{staticClass:"content"},[e("div",{staticClass:"checkAll",on:{click:t.onCopy}},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"share"}})],1),e("div",{staticClass:"headerBox"},[e("div",{staticClass:"bgIcon"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"coin-transform2"}})],1),e("h1",{staticClass:"title"},[t._v(t._s("".concat(t.$t("route.customSender"))))])]),e("el-form",{ref:"form",attrs:{rules:t.formRules,model:t.form,"label-position":"top","label-suffix":":"}},[e("el-form-item",{staticClass:"item",attrs:{label:"Chain"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{value:t.chainName,size:"large"},on:{change:t.onChangeChain}},t._l(t.chainList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(a.label))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"16px"}},[e("svg-icon",{staticClass:"icon",style:"color:".concat(t.$coinInfo[a.value].color),attrs:{"icon-class":t.$coinInfo[a.value].icon}})],1)])})),1)],1),e("el-form-item",{staticClass:"item",attrs:{label:"to",prop:"to"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.to,callback:function(e){t.$set(t.form,"to",e)},expression:"form.to"}})],1),e("el-form-item",{staticClass:"item",attrs:{label:"value",prop:"value"}},[e("el-input",{model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),e("el-form-item",{staticClass:"item",attrs:{prop:"data"}},[e("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[e("span",{staticClass:"label"},[t._v(t._s("Data(HEX)")+" "),e("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[e("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.$t("customSender.data_tips"))},slot:"content"}),e("i",{staticClass:"el-icon-question"})])],1)]),e("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:2},model:{value:t.form.data,callback:function(e){t.$set(t.form,"data",e)},expression:"form.data"}})],1)],1),e("div",{staticClass:"btnBox"},[e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.buttonLoad},on:{click:t.onConfirm}},[t._v(t._s("Confirm"))])],1)],1)])],1)},o=[],c=a("c14f"),n=a("1da1"),i=a("5530"),r=(a("99af"),a("b680"),a("ed08")),l={zh:{customSender:{transferSuccess:"交易成功",data_tips:"16进制"}},en:{customSender:{transferSuccess:"Transfer Success",data_tips:"hex"}}},u=a("2f62"),d=a("a835"),m=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{width:t.isPc?"600px":"90%",title:t.$t("customSender.transferSuccess"),"modal-append-to-body":!1,visible:t.isShowDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e}}},[e("div",{staticClass:"dialogBox"},[e("el-alert",{staticClass:"smaillBox",attrs:{title:"TX",type:"success",closable:!1,"show-icon":""}},[e("el-link",{staticClass:"link",attrs:{type:"success",target:"_blank",href:"".concat(t.blockTxurl,"/tx/").concat(t.tx)}},[t._v(t._s("".concat(t.blockTxurl,"/tx/").concat(t.tx))+" ")])],1),e("div",{staticClass:"btnBox"},[e("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"".concat(t.blockTxurl,"/tx/").concat(t.tx),expression:"`${blockTxurl}/tx/${tx}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("common.copy"))+" ")])],1)],1)])},f=[],h={inject:["onCheckConnect","onCopySuccess"],components:{},props:{tx:{type:String,require:!0}},data:function(){return{blockTxurl:"",isShowDialog:!1}},computed:Object(i["a"])({},Object(u["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){this.blockTxurl=d["a"].resolveLinkOnEtherscan()},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},p=h,b=(a("ca37"),a("2877")),v=Object(b["a"])(p,m,f,!1,null,"4b29d8e0",null),g=v.exports,C=a("901e"),x=a.n(C),w=a("5ba3"),y="customSender",S=Object(i["a"])(Object(i["a"])({name:y,inject:["onCheckConnect","onCopySuccess","onShare"],components:{SuccessDialog:g},props:{}},Object(u["b"])(["isPc"])),{},{data:function(){return{chainName:"eth",buttonLoad:!1,formRules:{},form:{to:"",value:"",data:"0x"},tx:"",chainList:[]}},computed:Object(i["a"])({},Object(u["b"])(["isPc","account","chainId"])),watch:{account:function(t){this.form.address=t.toLowerCase(),this.form.web3Address=t.toLowerCase()},$route:{immediate:!0,handler:function(t){}},chainId:{immediate:!0,handler:function(t){this.chainName=this.$ethUtils.chainIdToChainName(parseInt(t))}},form:{deep:!0,handler:function(t){var e=this.$route.path+"?to=".concat(t.to,"&value=").concat(t.value,"&data=").concat(t.data);window.history.replaceState("","",e)}}},created:function(){this.$i18n.getLocaleMessage("en")[y]||(this.$i18n.mergeLocaleMessage("en",l.en),this.$i18n.mergeLocaleMessage("zh",l.zh)),this.chainList=Object(r["s"])(y),this.formRules={to:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],value:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],data:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}]}},mounted:function(){var t=this.$route.query,e=t.to,a=t.value,s=t.data;this.form={to:e&&e.length>40?e:"",value:a||0,data:s||"0x"}},methods:{onCopy:function(){var t=this,e=window.location.href;this.$copyText(e).then((function(){t.onCopySuccess()}))},onChangeChain:function(t){var e=this;return Object(n["a"])(Object(c["a"])().m((function a(){return Object(c["a"])().w((function(a){while(1)switch(a.n){case 0:if(parseInt(e.chainId)===e.$coinInfo[t].chainId){a.n=1;break}return a.n=1,e.$ethUtils.addToMetamask(e.$coinInfo[t].chainId);case 1:return a.a(2)}}),a)})))()},onConfirm:function(){var t=this;return Object(n["a"])(Object(c["a"])().m((function e(){var a,s,o,n,i,r;return Object(c["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,t.$refs["form"].validate();case 1:return a={from:d["a"].getAccount(),to:t.form.to,value:Object(w["toHex"])(new x.a(t.form.value).times(Math.pow(10,18)).toFixed(0)),data:t.form.data},e.p=2,e.n=3,d["a"].sendEthestimateGas(a);case 3:s=e.v,o=parseInt(s)+.3*parseInt(s),a.gas=Object(w["toHex"])(parseInt(o)),e.n=5;break;case 4:e.p=4,e.v;case 5:return e.p=5,e.n=6,d["a"].sendTransaction(a);case 6:return n=e.v,e.n=7,d["a"].getTransactionSuccess(n);case 7:i=e.v,200===i.code&&(t.buttonLoad=!1),t.tx=n,t.$refs.SuccessDialog.show(),e.n=9;break;case 8:return e.p=8,r=e.v,t.$message({message:t.$t("common.transactionError")+": "+r,type:"error"}),t.buttonLoad=!1,e.a(2);case 9:return e.a(2)}}),e,null,[[5,8],[2,4]])})))()}}}),$=S,k=(a("d388"),Object(b["a"])($,s,o,!1,null,"022e67b2",null));e["default"]=k.exports},"262d":function(t,e,a){},ca37:function(t,e,a){"use strict";a("262d")},d388:function(t,e,a){"use strict";a("e9d3")},e9d3:function(t,e,a){}}]);