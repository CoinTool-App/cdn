(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dfb38d68"],{"189a":function(e,t,a){"use strict";a.r(t);var s=a("ade3"),r=(a("caad"),a("99af"),a("2532"),function(){var e=this,t=e._self._c;return t("div",{class:"container ".concat(e.tableData.length>0?"miniContainer":"")},[t("HistoryRecordDialog",{ref:"HistoryRecordDialog",attrs:{list:e.historyRecordDialogList}}),e.isPc&&!["sol","trx"].includes(e.form.coin)?t("Chrome"):e._e(),t("div",{staticClass:"createBox"},[t("div",{staticClass:"bgIcon"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"certified"}})],1),t("div",{staticClass:"boxCenter"},[t("div",{staticClass:"coinIcon"},[t("svg-icon",{style:"color:".concat(e.$coinInfo[e.form.coin].color),attrs:{"icon-class":e.$coinInfo[e.form.coin].icon}}),t("span",{staticClass:"title",style:"color:".concat(e.$coinInfo[e.form.coin].color)},[e._v(" "+e._s("".concat(this.$coinInfo[e.form.coin].chainName," ").concat(e.$t("route.approve")))+" ")])],1),e._m(0),t("div",{staticClass:"switchBox"},[t("el-select",{staticStyle:{width:"100%"},attrs:{value:e.form.coin,size:"large"},on:{change:e.onChangeChain}},e._l(e.chainList,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"16px"}},[t("svg-icon",{staticClass:"icon",style:"color:".concat(e.$coinInfo[a.value].color),attrs:{"icon-class":e.$coinInfo[a.value].icon}})],1)])})),1)],1),t("div",{staticClass:"inputBox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],staticClass:"input",attrs:{type:"text",placeholder:e.$t("approve.inputPlaceholder")},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}}),t("div",{staticClass:"icon",on:{click:e.onStartCheck}},[t("i",{class:"".concat(e.loading?"el-icon-loading":"el-icon-right")})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:0===e.tableData.length,expression:"tableData.length === 0"}],staticClass:"desc"},[t("el-alert",{attrs:{title:e.$t("approve.desc"),type:"success",closable:!1}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isTP&&!["sol","trx"].includes(e.form.coin),expression:"!isTP && !['sol', 'trx'].includes(form.coin)"}],staticClass:"dialogBtn"},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onCustomApprove}},[e._v(e._s(e.$t("approve.approve_contract")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isRunning,expression:"isRunning"}],staticClass:"stopBtn"},[t("el-button",{attrs:{size:e.isPc?"small":"mini",type:"success",icon:"el-icon-video-pause"},on:{click:function(t){e.isStopScan=!0}}},[e._v(e._s(e.$t("approve.stopScan")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRunning&&e.tableData.length>0&&!["sol","trx"].includes(e.form.coin),expression:"\n          !isRunning &&\n          tableData.length > 0 &&\n          !['sol', 'trx'].includes(form.coin)\n        "}],staticClass:"stopBtn"},[t("el-button",{attrs:{size:e.isPc?"small":"mini",type:"danger"},on:{click:e.onShowHistoryRecord}},[e._v(e._s(e.$t("approve.history_record")))])],1)])]),t("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],attrs:{"text-inside":!0,"stroke-width":12,percentage:e.percentage}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],staticClass:"scrollBox"},[t("div",{staticClass:"tips"},[t("p",{staticClass:"alertText"},[e._v(e._s(e.$t("approve.alert_text")))]),(""!==e.account&&e.isTP,e._e()),"trx"===e.form.coin||e.isTP||e.account?e._e():t("div",{staticClass:"btnBox",staticStyle:{"margin-bottom":"20px"}},[t("el-button",{attrs:{type:"success"},on:{click:e.onConnectWallet}},[e._v(e._s(e.$t("common.connect")))])],1),e.form.web3Address.toLowerCase()===e.form.address.toLowerCase()&&""!==e.form.web3Address?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRunning,expression:"!isRunning"}],staticClass:"btnBox"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isTP||!0,expression:"isTP || true"}],attrs:{type:"success"},on:{click:e.onDonationTP}},[e._v(e._s(e.$t("common.donation_confirm")))]),t("el-button",{attrs:{type:"success"},on:{click:e.onBatchCancel}},[e._v(e._s(e.$t("approve.batchCancel")))])],1):e._e()]),t("div",{staticClass:"cardList"},["sol"===e.form.coin?e._l(e.tableData,(function(a,r){return t("div",{key:r,staticClass:"card"},[t("div",{staticClass:"index"},[e._v(e._s(r+1))]),t("div",{staticClass:"coinInfo"},[t("div",{staticClass:"left"},[t("div",{staticClass:"imgBox"},[t("el-image",{staticClass:"img img1",attrs:{src:a.logo_url}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])])],1),t("div",{staticClass:"sybmol"},[t("a",{staticStyle:{"margin-left":"6px"},attrs:{href:e.getBrowserLink(Object(s["a"])(Object(s["a"])({chainName:e.form.coin,address:a.mint},"address",e.form.address),"type","contract")),target:"_blank"}},[t("span",[e._v(e._s(a.symbol))]),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:"nft"===a.tokenType,expression:"item.tokenType === 'nft'"}],staticClass:"tag",attrs:{size:"mini"}},[e._v("NFT")])],1)])])]),t("ul",[t("li",[t("span",{staticClass:"key"},[e._v(e._s("Mint")+":")]),t("div",{staticClass:"value"},[t("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,address:a.mint,type:"contract"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(a.mint))+" ")]),t("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.mint,expression:"item.mint",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[t("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]),t("li",[t("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.smart_contract"))+":")]),t("div",{staticClass:"value"},[t("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,address:a.delegate,type:"contract"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(a.delegate))+" ")]),t("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.delegate,expression:"item.delegate",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[t("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]),t("li",[t("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.amount"))+":")]),t("div",{staticClass:"value"},[e._v(" "+e._s(a.delegatedAmount)+" ")])])]),t("div",{staticClass:"unlockBtn"},[e.form.web3Address.toLowerCase()===e.form.address.toLowerCase()&&""!==e.form.web3Address?t("el-button",{attrs:{loading:1===a.status,type:"danger",size:"mini"},on:{click:function(t){return e.onCloseApprove(r,a)}}},[e._v(e._s(e.$t("approve.decline")))]):t("el-tag",{attrs:{type:"info",size:"mini"}},[e._v(e._s(e.$t("approve.unlock")))])],1)])})):e._l(e.tableData,(function(a,s){return t("div",{key:s,staticClass:"card"},[t("div",{staticClass:"index"},[e._v(e._s(s+1))]),t("div",{staticClass:"coinInfo"},[t("div",{staticClass:"left"},[t("div",{staticClass:"imgBox"},[t("el-image",{staticClass:"img img1",attrs:{src:e.debankChainList.includes(e.form.coin)?a.logo_url:e.getLogoLink(e.form.coin,a.token_address)}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])])],1),t("div",{staticClass:"sybmol"},[t("a",{staticStyle:{"margin-left":"6px"},attrs:{href:e.getBrowserLink({chainName:e.form.coin,token:a.token_address,address:e.form.address,type:"token"}),target:"_blank"}},[t("span",[e._v(e._s(a.symbol))]),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:"nft"===a.tokenType,expression:"item.tokenType === 'nft'"}],staticClass:"tag",attrs:{size:"mini"}},[e._v("NFT")])],1)])]),t("div",{staticClass:"right"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isPc,expression:"isPc"}]},[e._v(e._s(e.$t("approve.dangerLevel"))+":")]),t("span",{class:"flag ".concat(1!==a.type||e.isSafeAddress(a.c_address)?"greenBg":"redBg")},[e._v(" "+e._s(1!==a.type||e.isSafeAddress(a.c_address)?e.$t("approve.low"):e.$t("approve.high"))+" ")])])]),t("ul",[a.privat_address&&!e.isPc?t("li",[t("span",{staticClass:"key"},[e._v(e._s("Tips")+":")]),t("div",{staticStyle:{color:"red"}},[e._v(e._s(e.$t("approve.privareaddress")))])]):e._e(),t("li",[t("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.smart_contract"))+":")]),t("div",{staticClass:"value"},[t("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,address:a.c_address,type:"contract"}),target:"_blank"}},[e._v(" "+e._s(e._f("autoCheckName")(a.c_address))),a.privat_address&&e.isPc?t("span",{staticStyle:{"margin-left":"10px",color:"red"}},[e._v(e._s(e.$t("approve.privareaddress")))]):e._e()]),t("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.tx_hash,expression:"item.tx_hash",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[t("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]),t("li",[t("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.token"))+":")]),t("div",{staticClass:"value"},[t("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,token:a.token_address,address:e.form.address,type:"token"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(a.token_address))+" ")]),t("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.token_address,expression:"item.token_address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[t("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]),a.approve_time?t("li",[t("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.approve_date"))+":")]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.$moment(1e3*a.approve_time).format("YYYY-MM-DD HH:mm:ss"))+"(UTC) ")])]):e._e(),a.tx_hash?t("li",[t("span",{staticClass:"key"},[e._v(e._s("TX")+":")]),t("div",{staticClass:"value"},[t("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,tx:a.tx_hash,type:"tx"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(a.tx_hash))+" ")]),t("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.tx_hash,expression:"item.tx_hash",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[t("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]):e._e(),t("li",[t("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.amount"))+":")]),t("div",{staticClass:"value"},[e._v(" "+e._s(a.amount)+" "),t("i",{directives:[{name:"show",rawName:"v-show",value:1===a.type,expression:"item.type === 1"}],staticClass:"el-icon-warning",staticStyle:{color:"red"}})])])]),t("div",{staticClass:"unlockBtn"},[e.form.web3Address.toLowerCase()===e.form.address.toLowerCase()&&""!==e.form.web3Address?t("el-button",{attrs:{loading:1===a.status,type:"danger",size:"mini"},on:{click:function(t){return e.onCloseApprove(s,a)}}},[e._v(e._s(e.$t("approve.decline")))]):t("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.$t("approve.unlock")))])],1)])}))],2)])],1)}),n=[function(){var e=this,t=e._self._c;return t("ul",{staticClass:"typeBox"},[t("li",[t("i",{staticClass:"el-icon-success icon"}),t("span",{staticClass:"label"},[e._v("Token")])]),t("li",[t("i",{staticClass:"el-icon-success icon"}),t("span",{staticClass:"label"},[e._v("NFT")])])])}],o=a("2909"),c=a("3835"),i=a("b85c"),d=a("c7eb"),l=a("1da1"),u=a("5530"),p=(a("ac1f"),a("5319"),a("d81d"),a("14d9"),a("d3b7"),a("ddb0"),a("498a"),a("b680"),a("a9e3"),a("b0c0"),a("4e82"),a("967a"),a("0ebb"),a("3ca3"),a("7db0"),a("4de4"),a("a434"),{zh:{approve:{desc:"工具说明：检查您的钱包地址授权过哪些合约，请及时取消不信任的合约授权，保证你钱包的安全性！",smart_contract:"授权智能合约",token:"被授权Token",amount:"授权数量",donation:"请{appName} 喝一杯 ☕️ 咖啡({amount}{sybmol})",alert_text:"当您向某项合约授权无限额度的权限，该项目有权支配您所有的资产，此类授权危险系数极大，建议您及时收回授权.",action:"操作",decline:"取消授权",decline_ok:"成功取消授权",addressError:"查询地址错误",unlock:"取消授权请先解锁钱包",privareaddress:"注意:这是私人钱包，请立即取消授权!",addressZero:"你没有授权代币给任何合约，很安全!",unlimited:"无限",sleep:"查询过程缓慢，请耐心等待!",inputPlaceholder:"请输入你要检查的地址",dangerLevel:"危险等级",high:"高",low:"低",search_error:"当前查询频率高峰，请10秒后尝试",timeout_tips:"RPC查询超时，请重试",batchCancel:"取消所有授权",stopScan:"取消扫描",history_record:"历史授权记录",approve_contract:"自定义授权合约",nft_address:"NFT合约地址",approval:"授信",cancel_approval:"取消授信",approve_date:"授权日期",metasafe_desc:"Cointool - MetaSafe 是一款 WEB3.0 防范恶意授权转账的浏览器插件，为用户提供资产安全保护！"}},en:{approve:{desc:"Tips: check your wallet address authorized those contracts, please cancel the authorization of the contracts do not trust, to ensure the security of your wallet!",smart_contract:"Contract",token:"Token",amount:"Allowance",sleep:"The query process is slow, please be patient!",donation:"please {appName}  Have a cup of coffee ({amount}{sybmol})",alert_text:"When you authorize an unlimited amount of access to a contract, the program has the right to control all of your assets, this type of authorization is extremely dangerous and you are advised to withdraw it in time.",action:"Action",decline:"Revoke",decline_ok:"Successfully Decline",addressError:"Address Error",addressZero:"You don't authorize tokens to any contracts. It's safe",unlimited:"unlimited",unlock:"Please unlock wallet",privareaddress:"Attention:This is a private wallet, please cancel authorization now!",inputPlaceholder:"Please enter the address you want to check",dangerLevel:"Danger level",high:"High",low:"Low",search_error:"Current query peak, please try 10 seconds later",timeout_tips:"RPC query timed out. Please try again",batchCancel:"All Revoke",stopScan:"Stop Scan",history_record:"Historical record",approve_contract:"Custom Approve",nft_address:" NFT address",approval:"Approval",cancel_approval:"Cancel Approval",approve_date:"Approve Date",metasafe_desc:"CoinTool - MetaSafe is a WEB 3.0 browser plugin against malicious approve and transfers, providing users with asset security!"}}}),f=a("a835"),m=a("5ba3"),b=a("1b74"),h=a.n(b),v=a("c039"),x=a.n(v),k=a("901e"),g=a.n(k),_=a("e6ce"),w={heco:"https://api.hecoinfo.com/api?module=account&action=txlist&startblock=0&endblock=999999999999999&&address=#address#&apiKey=5UZHH6GSYYPRXSI1DRS29KAE3NQP64UXRZ",ftm:"https://api.ftmscan.com/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["ftm"].apiKey),polygon:"https://api.polygonscan.com/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["polygon"].apiKey),bsc:"https://api.bscscan.com/api?module=account&action=txlist&address=#address#&apiKey=J9AWK46R68H8S4KNPE3VXDJK788JDV9TCY",eth:"https://api.etherscan.io/api?module=account&action=txlist&address=#address#&apiKey=NTBHBJKFU6G8H9RSIGDD24XBIRK3YJ3C64",op:"https://api-optimistic.etherscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["op"].apiKey),btt:"https://api.bttcscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["btt"].apiKey),avax:"https://api.snowtrace.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["avax"].apiKey),arb:"https://api.arbiscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["arb"].apiKey),cro:"https://api.cronoscan.com/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["cro"].apiKey),movr:"https://api-moonriver.moonscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["movr"].apiKey),glmr:"https://api-moonbeam.moonscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["glmr"].apiKey),"polygon-zkevm":"https://api-zkevm.polygonscan.com/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["glmr"].apiKey),celo:"https://explorer.celo.org/mainnet/api?module=account&action=txlist&address=#address#&sort=desc",fuse:"https://explorer.fuse.io/api?module=account&action=txlist&address=#address#&sort=desc",xdai:"".concat(_["a"]["xdai"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),trx:"https://api.trongrid.io/v1/accounts/#address#/transactions/trc20?limit=200",one:"https://explorer.harmony.one/api?module=account&action=txlist&address=#address#&sort=desc",brise:"".concat(_["a"]["brise"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),dogechain:"https://explorer.dogechain.dog/api?module=account&action=txlist&address=#address#&sort=desc",etc:"".concat(_["a"]["etc"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),syscoin:"https://explorer.syscoin.org/api?module=account&action=txlist&address=#address#&sort=desc",canto:"".concat(_["a"]["canto"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),onus:"https://explorer.onuschain.io/api?module=account&action=txlist&address=#address#&sort=desc",vlx:"https://evmexplorer.velas.com/api?module=account&action=txlist&address=#address#&sort=desc",pls:"".concat(_["a"]["pls"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),base:"https://api.basescan.org/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["base"].apiKey),linea:"".concat(_["a"]["linea"].blockBrowserApi,"/api?module=account&action=txlist&address=#address#&apiKey=").concat(_["a"]["linea"].apiKey),scroll:"https://blockscout.scroll.io/api?module=account&action=txlist&address=#address#&sort=desc",shibarium:"".concat(_["a"]["shibarium"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),mantle:"".concat(_["a"]["mantle"].blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),zkfair:"".concat(_["a"]["zkfair"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),manta:"".concat(_["a"]["manta"].blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),fon:"".concat(_["a"]["fon"].blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),eos:"".concat(_["a"]["eos"].blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),metis:"".concat(_["a"]["metis"].blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),zeta:"".concat(_["a"]["zeta"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),merlin:"https://scan.merlinchain.io/api?module=account&action=txlist&address=#address#&sort=desc",meld:"".concat(_["a"]["meld"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),blast:"https://api.blastscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(_["a"]["blast"].apiKey),ace:"".concat(_["a"]["ace"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),mode:"".concat(_["a"]["mode"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),b2:"".concat(_["a"]["b2"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),taiko:"https://api.taikoscan.io/api?module=account&action=txlist&address=#address#&apiKey=CTV99S7EUESMDYN5HKX8B9BGNH3C63FIPT",kroma:"https://api.kromascan.com/api?module=account&action=txlist&address=#address#&apiKey=XF3WCQ81CPAJFDIT2BVJQJJHRHAGMFNIRM",vana:"".concat(_["a"]["vana"].blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),sonic:"https://api.sonicscan.org/api?module=account&action=txlist&address=#address#&apiKey=D7KFSPEBC8XU2IJWFCR81Z491VQ567YYBE"},y=a("1a04"),C=a("ed08"),$=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"dialog",attrs:{width:e.isPc?"600px":"90%",height:"800px",visible:e.isShowDialog,modal:!0,title:e.$t("approve.history_record")},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[t("el-table-column",{attrs:{prop:"symbol",label:"symbol",width:"180"}}),t("el-table-column",{attrs:{prop:"token_address",label:"Token Address"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.row;return[t("span",[e._v(e._s(e._f("autoAddress")(s.token_address)))]),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:s.token_address,expression:"row.token_address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"copy"}})],1)]}}])}),t("el-table-column",{attrs:{prop:"c_address",label:"Contract Address"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.row;return[t("span",[e._v(e._s(e._f("autoAddress")(s.c_address)))]),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:s.c_address,expression:"row.c_address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"copy"}})],1)]}}])})],1)],1)])},j=[],O=a("2f62"),N={inject:["onCopySuccess"],components:{},props:{list:{require:!0,type:Array}},data:function(){return{loading:!0,isShowDialog:!1}},computed:Object(u["a"])({},Object(O["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},A=N,L=a("2877"),S=Object(L["a"])(A,$,j,!1,null,"5ee21ea8",null),T=S.exports,D=function(){var e=this,t=e._self._c;return e.isShowChrome?t("div",{staticClass:"chrome"},[t("i",{staticClass:"el-icon-close closeIcon",on:{click:function(t){e.isShowChrome=!1}}}),t("svg-icon",{staticClass:"chromeIcon",attrs:{"icon-class":"chrome"}}),t("p",{staticClass:"title"},[e._v("Google extended - MetaSafe")]),t("p",{staticClass:"desc"},[e._v(e._s(e.$t("approve.metasafe_desc")))]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onDownload}},[e._v("Download")])],1):e._e()},I=[],B={props:{},data:function(){return{isShowChrome:!0}},created:function(){},mounted:function(){},methods:{onDownload:function(){window.open("https://chromewebstore.google.com/detail/cointool-metasafe/adoeinlolcjogennbgahohnjeckanaeb","_blank")}}},P=B,R=(a("d5bf"),Object(L["a"])(P,D,I,!1,null,"67cc8230",null)),K=R.exports,z=a("986e"),E=a("ab9c"),H=a("3e44"),M=a("64b9"),F="approve",W=Object(u["a"])(Object(u["a"])({name:F,inject:["tronWalletStateTest","onCanCoffee","onDonation","onCopySuccess","solwalletStateTest"],components:{HistoryRecordDialog:T,Chrome:K},props:{}},Object(O["b"])(["isPc"])),{},{data:function(){return{solConnection:null,solTokenInfoList:[],debankChainList:["okt","sbch","cfx"],loading:!1,donationChecked:!0,isGiveCoffet:!1,isBatchCancel:!1,checkApiMap:{},form:{coin:"eth",address:"",web3Address:"",approveType:"token"},chainName:"",tableData:[],percentage:0,isStopScan:!1,isRunning:!1,historyRecordDialogList:[],securityContract:[],donationTo:"0x400D0158bF59394949443a37F34C83Ed06579e16"}},computed:Object(u["a"])(Object(u["a"])({},Object(O["b"])(["isPc","isTP","account","solAccount","solClient","tronWeb","navShowChain"])),{},{chainList:function(){return Object(C["s"])(F,this.navShowChain)}}),watch:{account:{handler:function(e){"trx"!==this.form.coin&&"sol"!==this.form.coin&&(this.form.address=e.toLowerCase(),this.form.web3Address=e.toLowerCase())},immediate:!0},solAccount:{handler:function(e){"sol"===this.form.coin&&(this.form.web3Address=e.toLowerCase())},immediate:!0},$route:{immediate:!0,handler:function(e){}}},created:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$i18n.getLocaleMessage("en")[F]||(e.$i18n.mergeLocaleMessage("en",p.en),e.$i18n.mergeLocaleMessage("zh",p.zh)),e.securityContract=f["a"].getCoinToolContract(),a=e.$route.meta.chainName,"trx"===a&&(e.donationTo="TMkFMaLJ5gA4QN1mnHSxUY4fURhavsXW9o"),e.form.coin=a,"sol"!==a){t.next=10;break}return e.donationTo=E["a"],e.solConnection=new M["Connection"](e.$coinInfo[a].rpcNode),t.next=10,e.getSolTokenInfoListRes();case 10:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.checkApiMap=w;var t=this.$route.query.address;setTimeout((function(){if("trx"===e.form.coin)try{var a,s;e.form.web3Address=(null===(a=e.tronWeb)||void 0===a?void 0:a.defaultAddress.base58)||"",e.form.address=(null===(s=e.tronWeb)||void 0===s?void 0:s.defaultAddress.base58)||"",t&&0!==t.length&&(e.form.address=t)}catch(r){console.log(r)}else t&&0!==t.length&&(e.form.address=t.toLowerCase())}),3e3)},methods:{getLogoLink:function(e,t){try{return"trx"===e?this.$coinInfo[e].logoLink.replace("#address#",t):this.$coinInfo[e].logoLink.replace("#address#",t.toLowerCase()).replace("#addressT#",Object(m["toChecksumAddress"])(t))}catch(a){return"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}},isSafeAddress:function(e){return f["a"].isSafeAddress(e)},getDeBankList:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a,s;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.percentage=0,e.loading=!0,t.prev=2,t.next=5,e.$ajax({url:"https://openapi.debank.com/v1/user/token_authorized_list",data:{id:e.form.address,chain_id:e.form.coin},isProxy:!0,method:"get",timeout:2e4});case 5:a=t.sent,s=a.map((function(t){var a;t.spenders.length>0&&(a=t.spenders[0]);var s=t.sum_exposure_usd>=t.price*t.balance?1:2,r={tokenType:"erc20",privat_address:!1,type:s,status:0,symbol:t.symbol,token_address:t.id,c_address:a.id,amount:e.$t("approve.unlimited"),approve_time:"",block_height:"",logo_url:t.logo_url,tx_hash:""};return r})),e.tableData=s,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:return t.prev=13,e.percentage=100,e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.finish(13);case 18:case"end":return t.stop()}}),t,null,[[2,10,13,18]])})))()},onCustomApprove:function(){this.$router.push({path:"/customApprove/".concat(this.chainName)})},onShowHistoryRecord:function(){this.$refs.HistoryRecordDialog.show()},onBatchCancel:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a,s,r,n,o;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.onCheckNetwork()){t.next=2;break}return t.abrupt("return");case 2:e.isBatchCancel=!0,a=Object(i["a"])(e.tableData.entries()),t.prev=4,a.s();case 6:if((s=a.n()).done){t.next=12;break}return r=Object(c["a"])(s.value,2),n=r[0],o=r[1],t.next=10,e.onCloseApprove(n,o);case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),a.e(t.t0);case 17:return t.prev=17,a.f(),t.finish(17);case 20:e.isBatchCancel=!1,e.onCanCoffee({from:e.form.web3Address,to:e.donationTo,chain:e.form.coin,title:e.$t("common.donation_alert")});case 22:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})))()},onConnectWallet:function(){z["h"].$emit(z["c"])},getBrowserLink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{chainName:"eth",token:"",address:"",tx:"",type:"token"};return"token"===e.type?"trx"===e.chainName?"".concat(this.$coinInfo[e.chainName].blockBrowser,"/#/token20/").concat(e.token,"?a=").concat(e.address):"sol"===e.chainName?"https://solscan.io/token/".concat(e.token):"".concat(this.$coinInfo[e.chainName].blockBrowser,"/token/").concat(e.token,"?a=").concat(e.address):"contract"===e.type?"trx"===e.chainName?"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/#/address/").concat(e.address):"sol"===e.chainName?"https://solscan.io/account/".concat(e.address):"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/address/").concat(e.address):"tx"===e.type?"trx"===e.chainName?"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/#/tx/").concat(e.tx):"sol"===e.chainName?"https://solscan.io/tx/".concat(e.tx):"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/tx/").concat(e.tx):void 0},onChangeChain:function(e){this.tableData=[],this.percentage=0,this.$router.replace({path:"/".concat(F,"/").concat(e),query:this.$route.query})},onStartCheck:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.form.address){t.next=3;break}return e.$message.error(e.$t("approve.inputPlaceholder")),t.abrupt("return");case 3:if(e.form.address=e.form.address.trim(),a=["trx","sol"].includes(e.form.coin)?e.form.coin:"eth",h.a.validate(e.form.address,a)){t.next=8;break}return e.$message.error(e.$t("approve.addressError")),t.abrupt("return");case 8:if(e.isRunning=!0,"trx"!==e.form.coin){t.next=14;break}return t.next=12,e.trxCheckList();case 12:t.next=26;break;case 14:if("sol"!==e.form.coin){t.next=19;break}return t.next=17,e.solCheckList();case 17:t.next=26;break;case 19:if(!e.debankChainList.includes(e.form.coin)){t.next=24;break}return t.next=22,e.getDeBankList();case 22:t.next=26;break;case 24:return t.next=26,e.commonCheckList();case 26:e.isRunning=!1;case 27:case"end":return t.stop()}}),t)})))()},commonCheckList:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a,s,r,n,o,c,i,l,u,p,f,m,b,h,v,x,k,_,w,$,j,O,N,A,L,S,T,D,I,B,P,R,K,z,E,H,M,F,W,Z,J,Y,U,G,X,q,Q,V,ee,te,ae,se,re,ne,oe,ce,ie,de,le,ue,pe,fe,me,be,he,ve,xe,ke,ge,_e,we,ye,Ce,$e,je,Oe,Ne,Ae,Le,Se,Te,De,Ie,Be,Pe,Re,Ke,ze,Ee,He,Me,Fe,We,Ze,Je,Ye,Ue,Ge,Xe,qe,Qe,Ve,et,tt,at,st,rt,nt,ot,ct,it,dt,lt,ut,pt,ft,mt,bt,ht,vt,xt,kt,gt,_t,wt,yt,Ct,$t,jt,Ot,Nt,At,Lt,St;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.tableData=[],e.percentage=0,e.loading=!0,a=[],s=[],t.prev=5,r=[1,250,137,56,43114,30,42161,11297108109,1285,8217,42,43113,80001,1284,97,31,42161,256,71393,336,16666e5,9001,7700,42170,10,321,59144,8453,1101,25,40,534352,204],n=["heco","bsc","btt","ftm","polygon","vlx","eth","avax","arb","movr","cro","glmr","celo","fuse","op","dogechain","syscoin","canto","onus","polygon-zkevm","base","linea","scroll","mantle","manta","fon","eos","metis","merlin","blast","taiko","kroma","sonic"],o=["shibarium","xdai","brise","etc","pls","canto","zkfair","zeta","meld","ace","mode","b2","vana"],"opbnb"!==e.form.coin){t.next=57;break}return t.next=12,e.$ajax({url:"https://op-bnb-mainnet-explorer-api.nodereal.io/api/tx/getAssetTransferByAddress?address=".concat(e.form.address,"&type=transaction&pageSize=100&page=1"),method:"get"});case 12:c=t.sent,t.prev=13,i=c.data.list,t.t0=Object(d["a"])().keys(i);case 16:if((t.t1=t.t0()).done){t.next=50;break}if(l=t.t1.value,i[l].input&&"0x095ea7b3"===i[l].input.substr(0,10)){t.next=20;break}return t.abrupt("continue",16);case 20:if(u="0x"+i[l].input.substring(34,74),i[l].to!==i[l].from&&"0x0000000000000000000000000000000000000000"!==u){t.next=23;break}return t.abrupt("continue",16);case 23:if(p=(i[l].to+u).toLowerCase(),!a[p]){t.next=26;break}return t.abrupt("continue",16);case 26:if(a[p]=!0,f=!1,s[i[l].to]){t.next=37;break}return t.next=31,e.getTokenInfo(i[l].to);case 31:if(m=t.sent,!m){t.next=36;break}s[i[l].to]=m,t.next=37;break;case 36:return t.abrupt("continue",16);case 37:if(b=s[i[l].to],h=b.symbol,v=b.decimal,x=e.$t("approve.unlimited"),k=1,_="0x"+i[l].input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==_&&(x=new g.a(_).div(Math.pow(10,v)).toFixed(4),k=2,x>4951760157141521e12&&(x=e.$t("approve.unlimited"),k=1)),w={tokenType:"erc20",privat_address:f,type:k,status:0,symbol:h,token_address:i[l].to,c_address:u,amount:x,approve_time:Number(i[l].blockTimeStamp),block_height:Number(i[l].blockNum),tx_hash:i[l].hash},0!==x&&"0.0000"!==x&&"NaN"!==x){t.next=46;break}return e.historyRecordDialogList.push(w),t.abrupt("continue",16);case 46:e.percentage=100,e.tableData.push(w),t.next=16;break;case 50:t.next=54;break;case 52:t.prev=52,t.t2=t["catch"](13);case 54:return e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.abrupt("return");case 57:if("ethw"!==e.form.coin){t.next=91;break}return t.next=60,e.$ajax({url:"https://www.oklink.com/api/explorer/v2/all/approve/list?t=".concat((new Date).getTime()),headers:{"x-apikey":e.$ethUtils.getOklinkKey()},method:"post",data:{chainList:["ETHW"],type:1,address:e.form.address}});case 60:$=t.sent,t.prev=61,j=$.data.tokenApproveInfos,t.t3=Object(d["a"])().keys(j);case 64:if((t.t4=t.t3()).done){t.next=84;break}O=t.t4.value,t.t5=Object(d["a"])().keys(j[O].contractApproveInfos);case 67:if((t.t6=t.t5()).done){t.next=82;break}if(N=t.t6.value,A=j[O].contractApproveInfos[N].address,L=!1,S=j[O].name,T=j[O].contractApproveInfos[N].approvedAmount||e.$t("approve.unlimited"),D=1,I={tokenType:"ERC20"===j[O].contractApproveInfos[N].tokenType?"erc20":"nft",privat_address:L,type:D,status:0,symbol:S,token_address:j[O].address,c_address:A,amount:T,approve_time:Number(j[O].contractApproveInfos[N].updateTime),block_height:Number(0),tx_hash:j[O].contractApproveInfos[N].txhash},0!==T&&"0.0000"!==T&&"NaN"!==T){t.next=78;break}return e.historyRecordDialogList.push(I),t.abrupt("continue",67);case 78:e.percentage=100,e.tableData.push(I),t.next=67;break;case 82:t.next=64;break;case 84:t.next=88;break;case 86:t.prev=86,t.t7=t["catch"](61);case 88:return e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.abrupt("return");case 91:if("one"!==e.form.coin){t.next=177;break}return t.next=94,e.checkONE(e.form.address);case 94:B=t.sent,P=1,R=B.transactions.length-1;case 97:if(!(R>=0)){t.next=172;break}if(!e.isStopScan){t.next=102;break}return e.loading=!1,e.isStopScan=!1,t.abrupt("return");case 102:if(P++,!(B.transactions[R].input.indexOf("0x095ea7b3")>-1)){t.next=135;break}if(K="0x"+B.transactions[R].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==K&&K.toLowerCase()!==e.form.address.toLowerCase()&&Object(y["fromBech32"])(B.transactions[R].to).toLowerCase()!==e.form.address.toLowerCase()){t.next=107;break}return t.abrupt("continue",169);case 107:if((Object(y["fromBech32"])(B.transactions[R].to).toLowerCase()+K.toLowerCase()).toLowerCase(),z=!1,s[Object(y["fromBech32"])(B.transactions[R].to)]){t.next=118;break}return t.next=112,e.getTokenInfo(Object(y["fromBech32"])(B.transactions[R].to));case 112:if(E=t.sent,!E){t.next=117;break}s[Object(y["fromBech32"])(B.transactions[R].to)]=E,t.next=118;break;case 117:return t.abrupt("continue",169);case 118:if(s[K]){t.next=124;break}return t.next=121,e.getCode(K);case 121:H=t.sent,H||(z=!0),s[K]=!0;case 124:if(M=s[Object(y["fromBech32"])(B.transactions[R].to)],F=M.symbol,W=M.decimal,Z=e.$t("approve.unlimited"),J=1,Y="0x"+B.transactions[R].input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==Y&&(Z=new g.a(Y).div(Math.pow(10,W)).toFixed(4),J=2,Z>4951760157141521e12&&(Z=e.$t("approve.unlimited"),J=1)),U={tokenType:"erc20",privat_address:z,type:J,status:0,symbol:F,token_address:Object(y["fromBech32"])(B.transactions[R].to),c_address:K,amount:Z,approve_time:Number(B.transactions[R].timestamp),block_height:Number(B.transactions[R].blockNumber),tx_hash:B.transactions[R].hash},0!==Z&&"0.0000"!==Z){t.next=133;break}return e.historyRecordDialogList.push(U),t.abrupt("continue",169);case 133:e.percentage=parseInt(P/B.transactions.length*100),e.tableData.push(U);case 135:if(!(B.transactions[R].input.indexOf("0xa22cb465")>-1)){t.next=169;break}if(G="0x"+B.transactions[R].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==G){t.next=139;break}return t.abrupt("continue",169);case 139:if(X=(Object(y["fromBech32"])(B.transactions[R].to).toLowerCase()+G.toLowerCase()).toLowerCase(),!a[X]){t.next=142;break}return t.abrupt("continue",169);case 142:if(a[X]=!0,q=!1,s[Object(y["fromBech32"])(B.transactions[R].to)]){t.next=153;break}return t.next=147,e.getTokenNftInfo(Object(y["fromBech32"])(B.transactions[R].to));case 147:if(Q=t.sent,!Q){t.next=152;break}s[Object(y["fromBech32"])(B.transactions[R].to)]=Q,t.next=153;break;case 152:return t.abrupt("continue",169);case 153:if(s[G]){t.next=159;break}return t.next=156,e.getCode(G);case 156:V=t.sent,V||(q=!0),s[G]=!0;case 159:if(ee=s[Object(y["fromBech32"])(B.transactions[R].to)].symbol,te=e.$t("approve.unlimited"),ae=1,se="0x"+B.transactions[R].input.substring(74,200),re={tokenType:"nft",privat_address:q,type:ae,status:0,symbol:ee,token_address:Object(y["fromBech32"])(B.transactions[R].to),c_address:G,amount:te,approve_time:Number(B.transactions[R].timestamp),block_height:Number(B.transactions[R].blockNumber),tx_hash:B.result[R].hash},"0x0000000000000000000000000000000000000000000000000000000000000001"===se){t.next=167;break}return e.historyRecordDialogList.push(re),t.abrupt("continue",169);case 167:e.percentage=parseInt(P/B.transactions.length*100),e.tableData.push(re);case 169:R--,t.next=97;break;case 172:return e.percentage=100,e.loading=!1,e.tableData=e.tableData.sort(Object(C["I"])("block_height",1)),0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.abrupt("return");case 177:if(!o.includes(e.form.coin)){t.next=267;break}return t.next=180,Promise.any([e.checkApi(e.form.address),e.checkApiProxy(e.form.address)]);case 180:if(ne=t.sent,null===ne||void 0===ne||!ne.items){t.next=267;break}oe=1,ce=ne.items.length-1;case 184:if(!(ce>=0)){t.next=262;break}if(!e.isStopScan){t.next=189;break}return e.loading=!1,e.isStopScan=!1,t.abrupt("return");case 189:if(oe++,!(ne.items[ce].raw_input.indexOf("0x095ea7b3")>-1)){t.next=225;break}if(ie="0x"+ne.items[ce].raw_input.substring(34,74),"0x0000000000000000000000000000000000000000"!==ie&&ie.toLowerCase()!==e.form.address.toLowerCase()&&ne.items[ce].to.hash.toLowerCase()!==e.form.address.toLowerCase()){t.next=194;break}return t.abrupt("continue",259);case 194:if(de=(ne.items[ce].to.hash.toLowerCase()+ie.toLowerCase()).toLowerCase(),!a[de]){t.next=197;break}return t.abrupt("continue",259);case 197:if(a[de]=!0,le=!1,s[ne.items[ce].to.hash]){t.next=208;break}return t.next=202,e.getTokenInfo(ne.items[ce].to.hash);case 202:if(ue=t.sent,!ue){t.next=207;break}s[ne.items[ce].to.hash]=ue,t.next=208;break;case 207:return t.abrupt("continue",259);case 208:if(s[ie]){t.next=214;break}return t.next=211,e.getCode(ie);case 211:pe=t.sent,pe||(le=!0),s[ie]=!0;case 214:if(fe=s[ne.items[ce].to.hash],me=fe.symbol,be=fe.decimal,he=e.$t("approve.unlimited"),ve=1,xe="0x"+ne.items[ce].raw_input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==xe&&(he=new g.a(xe).div(Math.pow(10,be)).toFixed(4),ve=2,he>4951760157141521e12&&(he=e.$t("approve.unlimited"),ve=1)),ke={tokenType:"erc20",privat_address:le,type:ve,status:0,symbol:me,token_address:ne.items[ce].to.hash,c_address:ie,amount:he,approve_time:Number(ne.items[ce].timestamp),block_height:Number(ne.items[ce].block),tx_hash:ne.items[ce].hash},0!==he&&"0.0000"!==he&&"NaN"!==he){t.next=223;break}return e.historyRecordDialogList.push(ke),t.abrupt("continue",259);case 223:e.percentage=parseInt(oe/ne.items.length*100),e.tableData.push(ke);case 225:if(!(ne.items[ce].raw_input.indexOf("0xa22cb465")>-1)){t.next=259;break}if(ge="0x"+ne.items[ce].raw_input.substring(34,74),"0x0000000000000000000000000000000000000000"!==ge){t.next=229;break}return t.abrupt("continue",259);case 229:if(_e=(ne.items[ce].to.hash.toLowerCase()+ge.toLowerCase()).toLowerCase(),!a[_e]){t.next=232;break}return t.abrupt("continue",259);case 232:if(a[_e]=!0,we=!1,s[ne.items[ce].to.hash]){t.next=243;break}return t.next=237,e.getTokenNftInfo(ne.items[ce].to.hash);case 237:if(ye=t.sent,!ye){t.next=242;break}s[ne.items[ce].to.hash]=ye,t.next=243;break;case 242:return t.abrupt("continue",259);case 243:if(s[ge]){t.next=249;break}return t.next=246,e.getCode(ge);case 246:Ce=t.sent,Ce||(we=!0),s[ge]=!0;case 249:if($e=s[ne.items[ce].to.hash].symbol,je=e.$t("approve.unlimited"),Oe=1,Ne="0x"+ne.items[ce].raw_input.substring(74,200),Ae={tokenType:"nft",privat_address:we,type:Oe,status:0,symbol:$e,token_address:ne.items[ce].to.hash,c_address:ge,amount:je,approve_time:Number(ne.items[ce].timestamp),block_height:Number(ne.items[ce].block),tx_hash:ne.items[ce].hash},"0x0000000000000000000000000000000000000000000000000000000000000001"===Ne){t.next=257;break}return e.historyRecordDialogList.push(Ae),t.abrupt("continue",259);case 257:e.percentage=parseInt(oe/ne.items.length*100),e.tableData.push(Ae);case 259:ce--,t.next=184;break;case 262:return e.percentage=100,e.loading=!1,e.tableData=e.tableData.sort(Object(C["I"])("block_height",1)),0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.abrupt("return");case 267:if(!n.includes(e.form.coin)){t.next=362;break}return t.next=270,Promise.any([e.checkApi(e.form.address),e.checkApiProxy(e.form.address)]);case 270:if(Le=t.sent,t.prev=271,null===Le||void 0===Le||!Le.result){t.next=358;break}Se=1,Te=Le.result.length-1;case 275:if(!(Te>=0)){t.next=353;break}if(!e.isStopScan){t.next=280;break}return e.loading=!1,e.isStopScan=!1,t.abrupt("return");case 280:if(Se++,!(Le.result[Te].input.indexOf("0x095ea7b3")>-1)){t.next=316;break}if(De="0x"+Le.result[Te].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==De&&De.toLowerCase()!==e.form.address.toLowerCase()&&Le.result[Te].to.toLowerCase()!==e.form.address.toLowerCase()){t.next=285;break}return t.abrupt("continue",350);case 285:if(Ie=(Le.result[Te].to.toLowerCase()+De.toLowerCase()).toLowerCase(),!a[Ie]){t.next=288;break}return t.abrupt("continue",350);case 288:if(a[Ie]=!0,Be=!1,s[Le.result[Te].to]){t.next=299;break}return t.next=293,e.getTokenInfo(Le.result[Te].to);case 293:if(Pe=t.sent,!Pe){t.next=298;break}s[Le.result[Te].to]=Pe,t.next=299;break;case 298:return t.abrupt("continue",350);case 299:if(s[De]){t.next=305;break}return t.next=302,e.getCode(De);case 302:Re=t.sent,Re||(Be=!0),s[De]=!0;case 305:if(Ke=s[Le.result[Te].to],ze=Ke.symbol,Ee=Ke.decimal,He=e.$t("approve.unlimited"),Me=1,Fe="0x"+Le.result[Te].input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==Fe&&(He=new g.a(Fe).div(Math.pow(10,Ee)).toFixed(4),Me=2,He>4951760157141521e12&&(He=e.$t("approve.unlimited"),Me=1)),We={tokenType:"erc20",privat_address:Be,type:Me,status:0,symbol:ze,token_address:Le.result[Te].to,c_address:De,amount:He,approve_time:Number(Le.result[Te].timeStamp),block_height:Number(Le.result[Te].blockNumber),tx_hash:Le.result[Te].hash},0!==He&&"0.0000"!==He&&"NaN"!==He){t.next=314;break}return e.historyRecordDialogList.push(We),t.abrupt("continue",350);case 314:e.percentage=parseInt(Se/Le.result.length*100),e.tableData.push(We);case 316:if(!(Le.result[Te].input.indexOf("0xa22cb465")>-1)){t.next=350;break}if(Ze="0x"+Le.result[Te].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==Ze){t.next=320;break}return t.abrupt("continue",350);case 320:if(Je=(Le.result[Te].to.toLowerCase()+Ze.toLowerCase()).toLowerCase(),!a[Je]){t.next=323;break}return t.abrupt("continue",350);case 323:if(a[Je]=!0,Ye=!1,s[Le.result[Te].to]){t.next=334;break}return t.next=328,e.getTokenNftInfo(Le.result[Te].to);case 328:if(Ue=t.sent,!Ue){t.next=333;break}s[Le.result[Te].to]=Ue,t.next=334;break;case 333:return t.abrupt("continue",350);case 334:if(s[Ze]){t.next=340;break}return t.next=337,e.getCode(Ze);case 337:Ge=t.sent,Ge||(Ye=!0),s[Ze]=!0;case 340:if(Xe=s[Le.result[Te].to].symbol,qe=e.$t("approve.unlimited"),Qe=1,Ve="0x"+Le.result[Te].input.substring(74,200),et={tokenType:"nft",privat_address:Ye,type:Qe,status:0,symbol:Xe,token_address:Le.result[Te].to,c_address:Ze,amount:qe,approve_time:Number(Le.result[Te].timeStamp),block_height:Number(Le.result[Te].blockNumber),tx_hash:Le.result[Te].hash},"0x0000000000000000000000000000000000000000000000000000000000000001"===Ve){t.next=348;break}return e.historyRecordDialogList.push(et),t.abrupt("continue",350);case 348:e.percentage=parseInt(Se/Le.result.length*100),e.tableData.push(et);case 350:Te--,t.next=275;break;case 353:return e.percentage=100,e.loading=!1,e.tableData=e.tableData.sort(Object(C["I"])("block_height",1)),0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.abrupt("return");case 358:t.next=362;break;case 360:t.prev=360,t.t8=t["catch"](271);case 362:if(!r.includes(e.$coinInfo[e.form.coin].chainId)){t.next=434;break}return t.prev=363,t.next=366,e.$ajax({url:"https://cointool-airdorp.glitch.me/api/tokenApi/",timeout:1e5,method:"get",data:{type:"2",chainid:e.$coinInfo[e.form.coin].chainId,address:e.form.address}});case 366:tt=t.sent,at=tt.data.items,st=1,t.t9=Object(d["a"])().keys(at);case 370:if((t.t10=t.t9()).done){t.next=425;break}if(rt=t.t10.value,st++,t.prev=373,!at[rt].log_events){t.next=419;break}if(at[rt].from_address.toLowerCase()===e.form.address.toLowerCase()){t.next=377;break}return t.abrupt("continue",370);case 377:t.t11=Object(d["a"])().keys(at[rt].log_events);case 378:if((t.t12=t.t11()).done){t.next=419;break}if(nt=t.t12.value,"Approval"!==at[rt].log_events[nt].decoded.name){t.next=399;break}if("0x0000000000000000000000000000000000000000"!==at[rt].log_events[nt].decoded.params[1].value&&at[rt].log_events[nt].decoded.params[1].value.toLowerCase()!==e.form.address.toLowerCase()&&at[rt].log_events[nt].sender_address.toLowerCase()!==e.form.address.toLowerCase()){t.next=383;break}return t.abrupt("continue",378);case 383:if(ot=(at[rt].log_events[nt].sender_address.toLowerCase()+at[rt].log_events[nt].decoded.params[1].value.toLowerCase()).toLowerCase(),!a[ot]){t.next=386;break}return t.abrupt("continue",378);case 386:if(a[ot]=!0,ct=!1,it=e.$t("approve.unlimited"),dt=1,lt=at[rt].log_events[nt].decoded.params[2].value,("0"===lt||"115792089237316195423570985008687907853269984665640564039457584007913129639935"!==lt&&at[rt].log_events[nt].sender_contract_decimals&&at[rt].log_events[nt].sender_contract_decimals>0)&&(it=new g.a(lt).div(Math.pow(10,at[rt].log_events[nt].sender_contract_decimals)).toFixed(4),dt=2,it>4951760157141521e12&&(it=e.$t("approve.unlimited"),dt=1)),ut="empty",at[rt].log_events[nt].sender_contract_decimals&&0!==at[rt].log_events[nt].sender_contract_decimals&&(ut=at[rt].log_events[nt].sender_name),pt={tokenType:"erc20",privat_address:ct,type:dt,status:0,symbol:ut,token_address:at[rt].log_events[nt].sender_address,c_address:at[rt].log_events[nt].decoded.params[1].value,amount:it,approve_time:e.$moment(at[rt].log_events[nt].block_signed_at).unix(),block_height:Number(at[rt].log_events[nt].block_height),tx_hash:at[rt].log_events[nt].tx_hash},0!==it&&"0.0000"!==it&&"NaN"!==it){t.next=398;break}return e.historyRecordDialogList.push(pt),t.abrupt("continue",378);case 398:e.tableData.push(pt);case 399:if("ApprovalForAll"!==at[rt].log_events[nt].decoded.name){t.next=417;break}if("0x0000000000000000000000000000000000000000"!==at[rt].log_events[nt].decoded.params[1].value){t.next=402;break}return t.abrupt("continue",378);case 402:if(ft=(at[rt].log_events[nt].sender_address.toLowerCase()+at[rt].log_events[nt].decoded.params[1].value.toLowerCase()).toLowerCase(),!a[ft]){t.next=405;break}return t.abrupt("continue",378);case 405:if(a[ft]=!0,mt=!1,bt=e.$t("approve.unlimited"),ht=1,vt=at[rt].log_events[nt].decoded.params[2].value,xt=at[rt].log_events[nt].sender_name,kt={tokenType:"nft",privat_address:mt,type:ht,status:0,symbol:xt,token_address:at[rt].log_events[nt].sender_address,c_address:at[rt].log_events[nt].decoded.params[1].value,amount:bt,approve_time:e.$moment(at[rt].log_events[nt].block_signed_at).unix(),block_height:Number(at[rt].log_events[nt].block_height),tx_hash:at[rt].log_events[nt].tx_hash},vt){t.next=415;break}return e.historyRecordDialogList.push(kt),t.abrupt("continue",378);case 415:e.percentage=parseInt(st/at[rt].length*100),e.tableData.push(kt);case 417:t.next=378;break;case 419:t.next=423;break;case 421:t.prev=421,t.t13=t["catch"](373);case 423:t.next=370;break;case 425:e.percentage=100,e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.next=433;break;case 430:t.prev=430,t.t14=t["catch"](363),console.log(t.t14,"e111");case 433:return t.abrupt("return");case 434:t.next=442;break;case 436:return t.prev=436,t.t15=t["catch"](5),e.loading=!1,e.$message.error(e.$t("common.network_error_try_again")),console.log(t.t15),t.abrupt("return");case 442:return t.next=444,e.onCheckEth(e.form.address);case 444:if(gt=t.sent,!gt.error){t.next=450;break}return _t=-1!==gt.error.indexOf("timeout")?e.$t("approve.timeout_tips"):gt.error,e.$message.error(_t),e.loading=!1,t.abrupt("return");case 450:if(0!==gt.result.length){t.next=454;break}return e.$message({message:e.$t("approve.addressZero"),duration:1e4,showClose:!0,type:"success"}),e.loading=!1,t.abrupt("return");case 454:wt=1,yt=gt.result.length-1;case 456:if(!(yt>=0)){t.next=489;break}if(!e.isStopScan){t.next=461;break}return e.loading=!1,e.isStopScan=!1,t.abrupt("return");case 461:if(wt++,Ct=gt.result[yt].topics[2].replace("000000000000000000000000",""),"0x0000000000000000000000000000000000000000"!==Ct){t.next=465;break}return t.abrupt("continue",486);case 465:if($t=gt.result[yt].address+Ct,!a[$t]){t.next=468;break}return t.abrupt("continue",486);case 468:if(a[$t]=!0,s[gt.result[yt].address]){t.next=478;break}return t.next=472,e.getTokenInfo(gt.result[yt].address);case 472:if(jt=t.sent,!jt){t.next=477;break}s[gt.result[yt].address]=jt,t.next=478;break;case 477:return t.abrupt("continue",486);case 478:if(Ot=s[gt.result[yt].address],Nt=Ot.symbol,At=Ot.decimal,Lt=e.$t("approve.unlimited"),St=1,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==gt.result[yt].data&&(Lt=new g.a(parseInt(gt.result[yt].data)).div(Math.pow(10,At)).toFixed(4),St=2,Lt>4951760157141521e12&&(Lt=e.$t("approve.unlimited"),St=1)),0!==Lt&&"0.0000"!==Lt){t.next=484;break}return t.abrupt("continue",486);case 484:e.percentage=parseInt(wt/gt.result.length*100),e.tableData.push({type:St,status:0,symbol:Nt,token_address:gt.result[yt].address,c_address:Ct,amount:Lt});case 486:yt--,t.next=456;break;case 489:e.percentage=100,e.loading=!1;case 491:case"end":return t.stop()}}),t,null,[[5,436],[13,52],[61,86],[271,360],[363,430],[373,421]])})))()},solCheckList:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a,s;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSolTokenInfoListRes();case 2:return e.percentage=0,e.loading=!0,a=function(t,a){var s=H["AccountLayout"].decode(a.data);if(0===s.delegateOption)return null;s.address=t.toBase58(),s.mint=new M["PublicKey"](s.mint).toBase58();var r=e.solTokenInfoList.find((function(e){return s.mint.toLowerCase()===e.mint.toLowerCase()}));return s.owner=new M["PublicKey"](s.owner),s.amount=H["u64"].fromBuffer(s.amount),s.delegate=new M["PublicKey"](s.delegate).toBase58(),s.delegatedAmount=H["u64"].fromBuffer(s.delegatedAmount).toNumber(),s.isInitialized=0!==s.state,s.isFrozen=2===s.state,1===s.isNativeOption?(s.rentExemptReserve=H["u64"].fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),0===s.closeAuthorityOption?s.closeAuthority=null:s.closeAuthority=new M["PublicKey"](s.closeAuthority),r?(s.logo_url=r.icon,s.name=r.name,s.symbol=r.symbol,s.decimals=r.decimals):("1"===s.delegatedAmount?(s.name="unknow nft",s.symbol="unknow nft"):(s.name="unknow token",s.symbol="unknow token"),s.decimals=9),s},t.next=7,e.solConnection.getTokenAccountsByOwner(new M["PublicKey"](e.form.address),{programId:H["TOKEN_PROGRAM_ID"]}).then((function(e){return e.value.map((function(e){return a(e.pubkey,e.account)})).filter((function(e){return e}))})).catch((function(){}));case 7:s=t.sent,e.loading=!1,console.log(s,"tokens"),e.tableData=s,0===s.length?e.$message({message:e.$t("approve.addressZero"),duration:1e4,showClose:!0,type:"success"}):e.percentage=100;case 12:case"end":return t.stop()}}),t)})))()},getSolTokenInfoListRes:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a,s;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.solTokenInfoList.length>0)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$ajax({url:"https://uapi.raydium.io/v2/sdk/token/raydium.mainnet.json",method:"get",data:{}});case 4:a=t.sent,s=[].concat(Object(o["a"])(a["official"]),Object(o["a"])(a["unNamed"]),Object(o["a"])(a["unOfficial"])),e.solTokenInfoList=s;case 7:case"end":return t.stop()}}),t)})))()},trxCheckList:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a,s,r,n,o,c,i,l,u,p;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableData=[],e.percentage=0,e.loading=!0,a=[],s=!1,r=!0,t.prev=6,t.next=9,Promise.any([e.checkApi(e.form.address),e.checkApiProxy(e.form.address)]);case 9:n=t.sent;case 10:if(!r){t.next=47;break}n&&n.meta.fingerprint||(r=!1),t.t0=Object(d["a"])().keys(n.data);case 13:if((t.t1=t.t0()).done){t.next=45;break}if(o=t.t1.value,!e.isStopScan){t.next=19;break}return e.loading=!1,e.isStopScan=!1,t.abrupt("return");case 19:if("Approval"!==n.data[o].type){t.next=33;break}if(c=n.data[o].to,i=n.data[o].from+c,!a[i]){t.next=24;break}return t.abrupt("continue",13);case 24:if(a[i]=!0,l=e.$t("approve.unlimited"),u=1,p=n.data[o].value,"115792089237316195423570985008687907853269984665640564039457584007913129639935"!==n.data[o].value&&(l=new g.a(parseInt(p)).div(Math.pow(10,n.data[o].token_info.decimals)).toFixed(4),u=2,l>4951760157141521e12&&(l=e.$t("approve.unlimited"),u=1)),0!==l&&"0.0000"!==l){t.next=31;break}return t.abrupt("continue",13);case 31:s=!0,e.tableData.push({type:u,status:0,symbol:n.data[o].token_info.symbol,token_address:n.data[o].token_info.address,c_address:c,amount:l});case 33:if(parseInt(o)!==n.data.length-1){t.next=43;break}if(!n.meta.fingerprint){t.next=42;break}return t.next=37,new Promise((function(e){return setTimeout(e,1e3)}));case 37:return t.next=39,Promise.any([e.checkApi(e.form.address,n.meta.fingerprint),e.checkApiProxy(e.form.address,n.meta.fingerprint)]);case 39:n=t.sent,t.next=43;break;case 42:r=!1;case 43:t.next=13;break;case 45:t.next=10;break;case 47:t.next=52;break;case 49:t.prev=49,t.t2=t["catch"](6),console.log(t.t2);case 52:if(s){t.next=56;break}return e.$message({message:e.$t("approve.addressZero"),type:"success"}),e.loading=!1,t.abrupt("return");case 56:e.percentage=100,e.loading=!1;case 58:case"end":return t.stop()}}),t,null,[[6,49]])})))()},onCloseApprove:function(e,t){var a=this;return Object(l["a"])(Object(d["a"])().mark((function s(){return Object(d["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if("trx"!==a.form.coin){s.next=5;break}return s.next=3,a.onCloseTrxApprove(e,t);case 3:s.next=12;break;case 5:if("sol"!==a.form.coin){s.next=10;break}return s.next=8,a.onCloseSolApprove(e,t);case 8:s.next=12;break;case 10:return s.next=12,a.onCloseCommonApprove(e,t);case 12:case"end":return s.stop()}}),s)})))()},onCloseSolApprove:function(e,t){var a=this;return Object(l["a"])(Object(d["a"])().mark((function s(){var r,n,o,c;return Object(d["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,a.solwalletStateTest();case 2:if(s.sent){s.next=4;break}return s.abrupt("return");case 4:return a.tableData[e].status=1,s.prev=5,r=new M["PublicKey"](a.form.address),n=new M["Transaction"],n.add(H["Token"].createRevokeInstruction(H["TOKEN_PROGRAM_ID"],t.address,r,[])),n.feePayer=r,s.next=12,Object(E["p"])(a.solConnection);case 12:return n.recentBlockhash=s.sent,s.next=15,a.solClient.signAndSendTransaction(n);case 15:o=s.sent,c=o.signature,c?(a.tableData.splice(e,1),a.$message.success(a.$t("approve.decline_ok")),a.onDonation({chain:a.form.coin,title:a.$t("common.donation_alert")})):a.$message.error("Error"),s.next=23;break;case 20:s.prev=20,s.t0=s["catch"](5),a.tableData[e].status=0;case 23:case"end":return s.stop()}}),s,null,[[5,20]])})))()},onCloseTrxApprove:function(e,t){var a=this;return Object(l["a"])(Object(d["a"])().mark((function s(){var r,n,o;return Object(d["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a.tableData[e].status=1,s.prev=1,r=[{type:"address",value:t.c_address},{type:"uint256",value:0}],s.next=5,a.tronWeb.transactionBuilder.triggerSmartContract(t.token_address,"approve(address,uint256)",{feeLimit:4e7},r);case 5:return n=s.sent,s.next=8,a.tronWeb.trx.sign(n.transaction);case 8:o=s.sent,a.tronWeb.trx.sendRawTransaction(o).then((function(t){a.tableData.splice(e,1),a.$message.success(a.$t("approve.decline_ok")),a.onDonation({chain:a.form.coin,title:a.$t("common.donation_alert")})})).catch((function(e){console.log(e)})),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](1),a.tableData[e].status=0;case 15:case"end":return s.stop()}}),s,null,[[1,12]])})))()},onCheckNetwork:function(){var e;return"trx"===this.form.coin?this.form.address.toUpperCase()===(null===(e=this.tronWeb)||void 0===e?void 0:e.defaultAddress.base58.toUpperCase())||(this.$message({message:this.$t("common.network_error_switch_network",{chainName:"trx"}),type:"error"}),!1):this.$coinInfo[this.form.coin].chainId===f["a"].getChainId()||(this.$message({message:this.$t("common.network_error_switch_network",{chainName:f["a"].resolveChainNameT()}),type:"error"}),!1)},onCloseCommonApprove:function(e,t){var a=this;return Object(l["a"])(Object(d["a"])().mark((function s(){var r,n,o,c,i,l;return Object(d["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a.onCheckNetwork()){s.next=2;break}return s.abrupt("return");case 2:return r="0x095ea7b3000000000000000000000000"+t.c_address.replace("0x","").toLowerCase()+"0000000000000000000000000000000000000000000000000000000000000000","nft"===t.tokenType&&(r="0xa22cb465000000000000000000000000"+t.c_address.replace("0x","").toLowerCase()+"0000000000000000000000000000000000000000000000000000000000000000"),a.tableData[e].status=1,s.prev=5,n={from:a.form.web3Address,to:t.token_address,value:"0x0",data:r},s.prev=7,s.next=10,f["a"].sendEthestimateGas(n);case 10:o=s.sent,c=parseInt(o)+.3*parseInt(o),n.gas=Object(m["toHex"])(parseInt(c)),s.next=17;break;case 15:s.prev=15,s.t0=s["catch"](7);case 17:return s.next=19,f["a"].sendTransaction(n);case 19:return i=s.sent,s.next=22,f["a"].getTransactionSuccess(i);case 22:l=s.sent,200===l.code?(a.tableData.splice(e,1),a.$message.success(a.$t("approve.decline_ok")),a.donationChecked&&!1===a.isBatchCancel&&a.onCanCoffee({from:a.form.web3Address,to:a.donationTo,chain:a.form.coin,title:a.$t("common.donation_alert")})):(a.tableData[e].status=0,a.$message({message:"Error：".concat(l.message),type:"error"})),s.next=29;break;case 26:s.prev=26,s.t1=s["catch"](5),a.tableData[e].status=0;case 29:case"end":return s.stop()}}),s,null,[[5,26],[7,15]])})))()},onDonationTP:function(){this.onDonation({from:this.form.web3Address,to:this.donationTo,chain:this.form.coin,title:this.$t("common.donation_alert")})},onCheckEth:function(e){var t=this;return Object(l["a"])(Object(d["a"])().mark((function a(){var s;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getLogs",params:[{address:[],topics:["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x000000000000000000000000"+e.replace("0x","")],fromBlock:"earliest",toBlock:"latest"}]}});case 3:if(s=a.sent,!s.error){a.next=8;break}return a.abrupt("return",{result:[]});case 8:return a.abrupt("return",s);case 9:a.next=14;break;case 11:return a.prev=11,a.t0=a["catch"](0),a.abrupt("return",{error:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()},checkApi:function(e){var t=arguments,a=this;return Object(l["a"])(Object(d["a"])().mark((function s(){var r,n;return Object(d["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:"",n=a.checkApiMap[a.form.coin].replace("#address#",e),r&&"trx"===a.form.coin&&(r="&fingerprint="+r),s.prev=3,s.next=6,a.$ajax({url:n+r,method:"get",timeout:2e4});case 6:return s.abrupt("return",s.sent);case 9:return s.prev=9,s.t0=s["catch"](3),s.abrupt("return",!1);case 12:case"end":return s.stop()}}),s,null,[[3,9]])})))()},checkApiProxy:function(e){var t=arguments,a=this;return Object(l["a"])(Object(d["a"])().mark((function s(){var r,n;return Object(d["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:"",n=a.checkApiMap[a.form.coin].replace("#address#",e),r&&"trx"===a.form.coin&&(r="&fingerprint="+r),n+=r,s.prev=4,s.next=7,a.$ajax({url:"https://proxy.cointool.workers.dev/?url=".concat(encodeURIComponent(n)),method:"get",timeout:2e4});case 7:return s.abrupt("return",s.sent);case 10:return s.prev=10,s.t0=s["catch"](4),s.abrupt("return",!1);case 13:case"end":return s.stop()}}),s,null,[[4,10]])})))()},checkONE:function(e){var t=this;return Object(l["a"])(Object(d["a"])().mark((function a(){var s;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$ajax({url:"https://a.api.s0.t.hmny.io/",method:"post",data:{jsonrpc:"2.0",method:"hmyv2_getTransactionsHistory",id:1,params:[{fullTx:!0,txType:"SENT",order:"DESC",address:e,pageIndex:0,pageSize:1e3}]}});case 2:return s=a.sent,a.abrupt("return",null===s||void 0===s?void 0:s.result);case 4:case"end":return a.stop()}}),a)})))()},checkHeco:function(e,t,a){var s=this;return Object(l["a"])(Object(d["a"])().mark((function r(){var n;return Object(d["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s.$ajax({url:s.$coinInfo[s.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getLogs",params:[{address:[],topics:["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x000000000000000000000000"+a.replace("0x","")],fromBlock:Object(m["toHex"])(e),toBlock:Object(m["toHex"])(t)}]}});case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},blockNumber:function(){var e=this;return Object(l["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax({url:e.$coinInfo[e.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:83}});case 2:return a=t.sent,t.abrupt("return",parseInt(a.result));case 4:case"end":return t.stop()}}),t)})))()},getallowance:function(e,t,a){var s=this;return Object(l["a"])(Object(d["a"])().mark((function r(){var n,o;return Object(d["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n="0xdd62ed3e000000000000000000000000".concat(e.substring(2,50),"000000000000000000000000").concat(a.substring(2,50)),r.next=3,s.$ajax({url:s.$coinInfo[s.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:t,data:n},"latest"]}});case 3:return o=r.sent,r.abrupt("return",o.result);case 5:case"end":return r.stop()}}),r)})))()},getTokenInfo:function(e){var t=this;return Object(l["a"])(Object(d["a"])().mark((function a(){var s,r;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x95d89b41"},"latest"]}});case 3:return s=a.sent,a.next=6,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x313ce567"},"latest"]}});case 6:return r=a.sent,a.abrupt("return",{symbol:x.a.abi.decodeParams(["string"],s.result)[0],decimal:parseInt(r.result)});case 10:return a.prev=10,a.t0=a["catch"](0),a.abrupt("return",!1);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},getTokenNftInfo:function(e){var t=this;return Object(l["a"])(Object(d["a"])().mark((function a(){var s;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x06fdde03"},"latest"]}});case 3:return s=a.sent,a.abrupt("return",{symbol:x.a.abi.decodeParams(["string"],s.result)[0]});case 7:return a.prev=7,a.t0=a["catch"](0),a.abrupt("return",!1);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getCode:function(e){var t=this;return Object(l["a"])(Object(d["a"])().mark((function a(){var s;return Object(d["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getCode",params:[e,"latest"]}});case 3:if(s=a.sent,"0x"!==s.result){a.next=8;break}return a.abrupt("return",!1);case 8:return a.abrupt("return",!0);case 9:a.next=14;break;case 11:return a.prev=11,a.t0=a["catch"](0),a.abrupt("return",!1);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()}}}),Z=W,J=(a("2c34"),Object(L["a"])(Z,r,n,!1,null,"67c397eb",null));t["default"]=J.exports},"1ba7":function(e,t,a){},"2c34":function(e,t,a){"use strict";a("eb0c")},38:function(e,t){},39:function(e,t){},d5bf:function(e,t,a){"use strict";a("1ba7")},eb0c:function(e,t,a){}}]);