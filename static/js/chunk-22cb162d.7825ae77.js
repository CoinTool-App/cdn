(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22cb162d"],{"189a":function(e,a,t){"use strict";t.r(a);var s,o,r,n,c,i,d,l,u,p,f,m,h,v,b,k,g,_,w,y,x,C,$,j,O,N,A,L,S,T,D,B,I=t("ade3"),P=(t("caad"),t("99af"),t("2532"),function(){var e=this,a=e._self._c;return a("div",{class:"container ".concat(e.tableData.length>0?"miniContainer":"")},[a("HistoryRecordDialog",{ref:"HistoryRecordDialog",attrs:{list:e.historyRecordDialogList}}),e.isPc&&!["sol","trx"].includes(e.form.coin)?a("Chrome"):e._e(),a("div",{staticClass:"createBox"},[a("div",{staticClass:"bgIcon"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"certified"}})],1),a("div",{staticClass:"boxCenter"},[a("div",{staticClass:"coinIcon"},[a("svg-icon",{style:"color:".concat(e.$coinInfo[e.form.coin].color),attrs:{"icon-class":e.$coinInfo[e.form.coin].icon}}),a("span",{staticClass:"title",style:"color:".concat(e.$coinInfo[e.form.coin].color)},[e._v(" "+e._s("".concat(this.$coinInfo[e.form.coin].chainName," ").concat(e.$t("route.approve")))+" ")])],1),e._m(0),a("div",{staticClass:"switchBox"},[a("el-select",{staticStyle:{width:"100%"},attrs:{value:e.form.coin,size:"large"},on:{change:e.onChangeChain}},e._l(e.chainList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"16px"}},[a("svg-icon",{staticClass:"icon",style:"color:".concat(e.$coinInfo[t.value].color),attrs:{"icon-class":e.$coinInfo[t.value].icon}})],1)])})),1)],1),a("div",{staticClass:"inputBox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],staticClass:"input",attrs:{type:"text",placeholder:e.$t("approve.inputPlaceholder")},domProps:{value:e.form.address},on:{input:function(a){a.target.composing||e.$set(e.form,"address",a.target.value)}}}),a("div",{staticClass:"icon",on:{click:e.onStartCheck}},[a("i",{class:"".concat(e.loading?"el-icon-loading":"el-icon-right")})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.tableData.length,expression:"tableData.length === 0"}],staticClass:"desc"},[a("el-alert",{attrs:{title:e.$t("approve.desc"),type:"success",closable:!1}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isTP&&!["sol","trx"].includes(e.form.coin),expression:"!isTP && !['sol', 'trx'].includes(form.coin)"}],staticClass:"dialogBtn"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onCustomApprove}},[e._v(e._s(e.$t("approve.approve_contract")))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isRunning,expression:"isRunning"}],staticClass:"stopBtn"},[a("el-button",{attrs:{size:e.isPc?"small":"mini",type:"success",icon:"el-icon-video-pause"},on:{click:function(a){e.isStopScan=!0}}},[e._v(e._s(e.$t("approve.stopScan")))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRunning&&e.tableData.length>0&&!["sol","trx"].includes(e.form.coin),expression:"\n          !isRunning &&\n          tableData.length > 0 &&\n          !['sol', 'trx'].includes(form.coin)\n        "}],staticClass:"stopBtn"},[a("el-button",{attrs:{size:e.isPc?"small":"mini",type:"danger"},on:{click:e.onShowHistoryRecord}},[e._v(e._s(e.$t("approve.history_record")))])],1)])]),a("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],attrs:{"text-inside":!0,"stroke-width":12,percentage:e.percentage}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],staticClass:"scrollBox"},[a("div",{staticClass:"tips"},[a("p",{staticClass:"alertText"},[e._v(e._s(e.$t("approve.alert_text")))]),(""!==e.account&&e.isTP,e._e()),"trx"===e.form.coin||e.isTP||e.account?e._e():a("div",{staticClass:"btnBox",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onConnectWallet}},[e._v(e._s(e.$t("common.connect")))])],1),e.form.web3Address.toLowerCase()===e.form.address.toLowerCase()&&""!==e.form.web3Address?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRunning,expression:"!isRunning"}],staticClass:"btnBox"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isTP||!0,expression:"isTP || true"}],attrs:{type:"success"},on:{click:e.onDonationTP}},[e._v(e._s(e.$t("common.donation_confirm")))]),a("el-button",{attrs:{type:"success"},on:{click:e.onBatchCancel}},[e._v(e._s(e.$t("approve.batchCancel")))])],1):e._e()]),a("div",{staticClass:"cardList"},["sol"===e.form.coin?e._l(e.tableData,(function(t,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"index"},[e._v(e._s(s+1))]),a("div",{staticClass:"coinInfo"},[a("div",{staticClass:"left"},[a("div",{staticClass:"imgBox"},[a("el-image",{staticClass:"img img1",attrs:{src:t.logo_url}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])])],1),a("div",{staticClass:"sybmol"},[a("a",{staticStyle:{"margin-left":"6px"},attrs:{href:e.getBrowserLink(Object(I["a"])(Object(I["a"])({chainName:e.form.coin,address:t.mint},"address",e.form.address),"type","contract")),target:"_blank"}},[a("span",[e._v(e._s(t.symbol))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:"nft"===t.tokenType,expression:"item.tokenType === 'nft'"}],staticClass:"tag",attrs:{size:"mini"}},[e._v("NFT")])],1)])])]),a("ul",[a("li",[a("span",{staticClass:"key"},[e._v(e._s("Mint")+":")]),a("div",{staticClass:"value"},[a("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,address:t.mint,type:"contract"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(t.mint))+" ")]),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.mint,expression:"item.mint",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[a("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]),a("li",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.smart_contract"))+":")]),a("div",{staticClass:"value"},[a("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,address:t.delegate,type:"contract"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(t.delegate))+" ")]),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.delegate,expression:"item.delegate",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[a("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]),a("li",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.amount"))+":")]),a("div",{staticClass:"value"},[e._v(" "+e._s(t.delegatedAmount)+" ")])])]),a("div",{staticClass:"unlockBtn"},[e.form.web3Address.toLowerCase()===e.form.address.toLowerCase()&&""!==e.form.web3Address?a("el-button",{attrs:{loading:1===t.status,type:"danger",size:"mini"},on:{click:function(a){return e.onCloseApprove(s,t)}}},[e._v(e._s(e.$t("approve.decline")))]):a("el-tag",{attrs:{type:"info",size:"mini"}},[e._v(e._s(e.$t("approve.unlock")))])],1)])})):e._l(e.tableData,(function(t,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"index"},[e._v(e._s(s+1))]),a("div",{staticClass:"coinInfo"},[a("div",{staticClass:"left"},[a("div",{staticClass:"imgBox"},[a("el-image",{staticClass:"img img1",attrs:{src:e.debankChainList.includes(e.form.coin)?t.logo_url:e.getLogoLink(e.form.coin,t.token_address)}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])])],1),a("div",{staticClass:"sybmol"},[a("a",{staticStyle:{"margin-left":"6px"},attrs:{href:e.getBrowserLink({chainName:e.form.coin,token:t.token_address,address:e.form.address,type:"token"}),target:"_blank"}},[a("span",[e._v(e._s(t.symbol))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:"nft"===t.tokenType,expression:"item.tokenType === 'nft'"}],staticClass:"tag",attrs:{size:"mini"}},[e._v("NFT")])],1)])]),a("div",{staticClass:"right"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.isPc,expression:"isPc"}]},[e._v(e._s(e.$t("approve.dangerLevel"))+":")]),a("span",{class:"flag ".concat(1!==t.type||e.isSafeAddress(t.c_address)?"greenBg":"redBg")},[e._v(" "+e._s(1!==t.type||e.isSafeAddress(t.c_address)?e.$t("approve.low"):e.$t("approve.high"))+" ")])])]),a("ul",[t.privat_address&&!e.isPc?a("li",[a("span",{staticClass:"key"},[e._v(e._s("Tips")+":")]),a("div",{staticStyle:{color:"red"}},[e._v(e._s(e.$t("approve.privareaddress")))])]):e._e(),a("li",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.smart_contract"))+":")]),a("div",{staticClass:"value"},[a("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,address:t.c_address,type:"contract"}),target:"_blank"}},[e._v(" "+e._s(e._f("autoCheckName")(t.c_address))),t.privat_address&&e.isPc?a("span",{staticStyle:{"margin-left":"10px",color:"red"}},[e._v(e._s(e.$t("approve.privareaddress")))]):e._e()]),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.tx_hash,expression:"item.tx_hash",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[a("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]),a("li",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.token"))+":")]),a("div",{staticClass:"value"},[a("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,token:t.token_address,address:e.form.address,type:"token"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(t.token_address))+" ")]),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.token_address,expression:"item.token_address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[a("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]),t.approve_time?a("li",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.approve_date"))+":")]),a("div",{staticClass:"value"},[e._v(" "+e._s(e.$moment(1e3*t.approve_time).format("YYYY-MM-DD HH:mm:ss"))+"(UTC) ")])]):e._e(),t.tx_hash?a("li",[a("span",{staticClass:"key"},[e._v(e._s("TX")+":")]),a("div",{staticClass:"value"},[a("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,tx:t.tx_hash,type:"tx"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(t.tx_hash))+" ")]),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.tx_hash,expression:"item.tx_hash",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy"},[a("svg-icon",{staticClass:"copyIcon",attrs:{"icon-class":"copy"}})],1)])]):e._e(),a("li",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.amount"))+":")]),a("div",{staticClass:"value"},[e._v(" "+e._s(t.amount)+" "),a("i",{directives:[{name:"show",rawName:"v-show",value:1===t.type,expression:"item.type === 1"}],staticClass:"el-icon-warning",staticStyle:{color:"red"}})])])]),a("div",{staticClass:"unlockBtn"},[e.form.web3Address.toLowerCase()===e.form.address.toLowerCase()&&""!==e.form.web3Address?a("el-button",{attrs:{loading:1===t.status,type:"danger",size:"mini"},on:{click:function(a){return e.onCloseApprove(s,t)}}},[e._v(e._s(e.$t("approve.decline")))]):a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.$t("approve.unlock")))])],1)])}))],2)])],1)}),R=[function(){var e=this,a=e._self._c;return a("ul",{staticClass:"typeBox"},[a("li",[a("i",{staticClass:"el-icon-success icon"}),a("span",{staticClass:"label"},[e._v("Token")])]),a("li",[a("i",{staticClass:"el-icon-success icon"}),a("span",{staticClass:"label"},[e._v("NFT")])])])}],K=t("2909"),z=t("3056"),E=t("3835"),H=t("b85c"),M=t("c14f"),F=t("1da1"),W=t("5530"),J=(t("ac1f"),t("5319"),t("d81d"),t("a573"),t("14d9"),t("d3b7"),t("ddb0"),t("498a"),t("b680"),t("a9e3"),t("b0c0"),t("4e82"),t("967a"),t("0ebb"),t("3ca3"),t("7db0"),t("0643"),t("fffc"),t("4de4"),t("2382"),t("a434"),{zh:{approve:{desc:"工具说明：检查您的钱包地址授权过哪些合约，请及时取消不信任的合约授权，保证你钱包的安全性！",smart_contract:"授权智能合约",token:"被授权Token",amount:"授权数量",donation:"请{appName} 喝一杯 ☕️ 咖啡({amount}{sybmol})",alert_text:"当您向某项合约授权无限额度的权限，该项目有权支配您所有的资产，此类授权危险系数极大，建议您及时收回授权.",action:"操作",decline:"取消授权",decline_ok:"成功取消授权",addressError:"查询地址错误",unlock:"取消授权请先解锁钱包",privareaddress:"注意:这是私人钱包，请立即取消授权!",addressZero:"你没有授权代币给任何合约，很安全!",unlimited:"无限",sleep:"查询过程缓慢，请耐心等待!",inputPlaceholder:"请输入你要检查的地址",dangerLevel:"危险等级",high:"高",low:"低",search_error:"当前查询频率高峰，请10秒后尝试",timeout_tips:"RPC查询超时，请重试",batchCancel:"取消所有授权",stopScan:"取消扫描",history_record:"历史授权记录",approve_contract:"自定义授权合约",nft_address:"NFT合约地址",approval:"授信",cancel_approval:"取消授信",approve_date:"授权日期",metasafe_desc:"Cointool - MetaSafe 是一款 WEB3.0 防范恶意授权转账的浏览器插件，为用户提供资产安全保护！"}},en:{approve:{desc:"Tips: check your wallet address authorized those contracts, please cancel the authorization of the contracts do not trust, to ensure the security of your wallet!",smart_contract:"Contract",token:"Token",amount:"Allowance",sleep:"The query process is slow, please be patient!",donation:"please {appName}  Have a cup of coffee ({amount}{sybmol})",alert_text:"When you authorize an unlimited amount of access to a contract, the program has the right to control all of your assets, this type of authorization is extremely dangerous and you are advised to withdraw it in time.",action:"Action",decline:"Revoke",decline_ok:"Successfully Decline",addressError:"Address Error",addressZero:"You don't authorize tokens to any contracts. It's safe",unlimited:"unlimited",unlock:"Please unlock wallet",privareaddress:"Attention:This is a private wallet, please cancel authorization now!",inputPlaceholder:"Please enter the address you want to check",dangerLevel:"Danger level",high:"High",low:"Low",search_error:"Current query peak, please try 10 seconds later",timeout_tips:"RPC query timed out. Please try again",batchCancel:"All Revoke",stopScan:"Stop Scan",history_record:"Historical record",approve_contract:"Custom Approve",nft_address:" NFT address",approval:"Approval",cancel_approval:"Cancel Approval",approve_date:"Approve Date",metasafe_desc:"CoinTool - MetaSafe is a WEB 3.0 browser plugin against malicious approve and transfers, providing users with asset security!"}}}),Z=t("a835"),Y=t("5ba3"),U=t("1b74"),G=t.n(U),X=t("c039"),q=t.n(X),Q=t("901e"),V=t.n(Q),ee=t("e6ce"),ae={heco:"https://api.hecoinfo.com/api?module=account&action=txlist&startblock=0&endblock=999999999999999&&address=#address#&apiKey=5UZHH6GSYYPRXSI1DRS29KAE3NQP64UXRZ",ftm:"https://api.ftmscan.com/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(s=ee["a"]["ftm"])||void 0===s?void 0:s.apiKey),polygon:"https://api.polygonscan.com/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(o=ee["a"]["polygon"])||void 0===o?void 0:o.apiKey),bsc:"https://api.bscscan.com/api?module=account&action=txlist&address=#address#&apiKey=J9AWK46R68H8S4KNPE3VXDJK788JDV9TCY",eth:"https://api.etherscan.io/api?module=account&action=txlist&address=#address#&apiKey=NTBHBJKFU6G8H9RSIGDD24XBIRK3YJ3C64",op:"https://api-optimistic.etherscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(r=ee["a"]["op"])||void 0===r?void 0:r.apiKey),btt:"https://api.bttcscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(n=ee["a"]["btt"])||void 0===n?void 0:n.apiKey),avax:"https://api.snowtrace.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(c=ee["a"]["avax"])||void 0===c?void 0:c.apiKey),arb:"https://api.arbiscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(i=ee["a"]["arb"])||void 0===i?void 0:i.apiKey),cro:"https://api.cronoscan.com/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(d=ee["a"]["cro"])||void 0===d?void 0:d.apiKey),movr:"https://api-moonriver.moonscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(l=ee["a"]["movr"])||void 0===l?void 0:l.apiKey),glmr:"https://api-moonbeam.moonscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(u=ee["a"]["glmr"])||void 0===u?void 0:u.apiKey),"polygon-zkevm":"https://api-zkevm.polygonscan.com/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(p=ee["a"]["glmr"])||void 0===p?void 0:p.apiKey),celo:"https://explorer.celo.org/mainnet/api?module=account&action=txlist&address=#address#&sort=desc",fuse:"https://explorer.fuse.io/api?module=account&action=txlist&address=#address#&sort=desc",xdai:"".concat(null===(f=ee["a"]["xdai"])||void 0===f?void 0:f.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),trx:"https://api.trongrid.io/v1/accounts/#address#/transactions/trc20?limit=200",one:"https://explorer.harmony.one/api?module=account&action=txlist&address=#address#&sort=desc",brise:"".concat(null===(m=ee["a"]["brise"])||void 0===m?void 0:m.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),dogechain:"https://explorer.dogechain.dog/api?module=account&action=txlist&address=#address#&sort=desc",etc:"".concat(null===(h=ee["a"]["etc"])||void 0===h?void 0:h.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),syscoin:"https://explorer.syscoin.org/api?module=account&action=txlist&address=#address#&sort=desc",canto:"".concat(null===(v=ee["a"]["canto"])||void 0===v?void 0:v.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),onus:"https://explorer.onuschain.io/api?module=account&action=txlist&address=#address#&sort=desc",vlx:"https://evmexplorer.velas.com/api?module=account&action=txlist&address=#address#&sort=desc",pls:"".concat(null===(b=ee["a"]["pls"])||void 0===b?void 0:b.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),base:"https://api.basescan.org/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(k=ee["a"]["base"])||void 0===k?void 0:k.apiKey),linea:"".concat(null===(g=ee["a"]["linea"])||void 0===g?void 0:g.blockBrowserApi,"/api?module=account&action=txlist&address=#address#&apiKey=").concat(null===(_=ee["a"]["linea"])||void 0===_?void 0:_.apiKey),scroll:"https://blockscout.scroll.io/api?module=account&action=txlist&address=#address#&sort=desc",shibarium:"".concat(null===(w=ee["a"]["shibarium"])||void 0===w?void 0:w.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),mantle:"".concat(null===(y=ee["a"]["mantle"])||void 0===y?void 0:y.blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),zkfair:"".concat(null===(x=ee["a"]["zkfair"])||void 0===x?void 0:x.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),manta:"".concat(null===(C=ee["a"]["manta"])||void 0===C?void 0:C.blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),fon:"".concat(null===($=ee["a"]["fon"])||void 0===$?void 0:$.blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),eos:"".concat(null===(j=ee["a"]["eos"])||void 0===j?void 0:j.blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),metis:"".concat(null===(O=ee["a"]["metis"])||void 0===O?void 0:O.blockBrowserApi,"?module=account&action=txlist&address=#address#&sort=desc"),zeta:"".concat(null===(N=ee["a"]["zeta"])||void 0===N?void 0:N.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),merlin:"https://scan.merlinchain.io/api?module=account&action=txlist&address=#address#&sort=desc",meld:"".concat(null===(A=ee["a"]["meld"])||void 0===A?void 0:A.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),blast:"https://api.blastscan.io/api?module=account&action=txlist&address=#address#&apiKey=".concat(null===(L=ee["a"]["blast"])||void 0===L?void 0:L.apiKey),ace:"".concat(null===(S=ee["a"]["ace"])||void 0===S?void 0:S.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),mode:"".concat(null===(T=ee["a"]["mode"])||void 0===T?void 0:T.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),b2:"".concat(null===(D=ee["a"]["b2"])||void 0===D?void 0:D.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),taiko:"https://api.taikoscan.io/api?module=account&action=txlist&address=#address#&apiKey=CTV99S7EUESMDYN5HKX8B9BGNH3C63FIPT",kroma:"https://api.kromascan.com/api?module=account&action=txlist&address=#address#&apiKey=XF3WCQ81CPAJFDIT2BVJQJJHRHAGMFNIRM",vana:"".concat(null===(B=ee["a"]["vana"])||void 0===B?void 0:B.blockBrowserApi,"/api/v2/addresses/#address#/transactions?filter=from"),sonic:"https://api.sonicscan.org/api?module=account&action=txlist&address=#address#&apiKey=D7KFSPEBC8XU2IJWFCR81Z491VQ567YYBE"},te=t("5a50"),se=t("1a04"),oe=t("ed08"),re=function(){var e=this,a=e._self._c;return a("el-dialog",{staticClass:"dialog",attrs:{width:e.isPc?"600px":"90%",height:"800px",visible:e.isShowDialog,modal:!0,title:e.$t("approve.history_record")},on:{"update:visible":function(a){e.isShowDialog=a}}},[a("div",{staticClass:"dialogBox"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[a("el-table-column",{attrs:{prop:"symbol",label:"symbol",width:"180"}}),a("el-table-column",{attrs:{prop:"token_address",label:"Token Address"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("span",[e._v(e._s(e._f("autoAddress")(s.token_address)))]),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:s.token_address,expression:"row.token_address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"copy"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"c_address",label:"Contract Address"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("span",[e._v(e._s(e._f("autoAddress")(s.c_address)))]),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:s.c_address,expression:"row.c_address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"copy"}})],1)]}}])})],1)],1)])},ne=[],ce=t("2f62"),ie={inject:["onCopySuccess"],components:{},props:{list:{require:!0,type:Array}},data:function(){return{loading:!0,isShowDialog:!1}},computed:Object(W["a"])({},Object(ce["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},de=ie,le=t("2877"),ue=Object(le["a"])(de,re,ne,!1,null,"5ee21ea8",null),pe=ue.exports,fe=function(){var e=this,a=e._self._c;return e.isShowChrome?a("div",{staticClass:"chrome"},[a("i",{staticClass:"el-icon-close closeIcon",on:{click:function(a){e.isShowChrome=!1}}}),a("svg-icon",{staticClass:"chromeIcon",attrs:{"icon-class":"chrome"}}),a("p",{staticClass:"title"},[e._v("Google extended - MetaSafe")]),a("p",{staticClass:"desc"},[e._v(e._s(e.$t("approve.metasafe_desc")))]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onDownload}},[e._v("Download")])],1):e._e()},me=[],he={props:{},data:function(){return{isShowChrome:!0}},created:function(){},mounted:function(){},methods:{onDownload:function(){window.open("https://chromewebstore.google.com/detail/cointool-metasafe/adoeinlolcjogennbgahohnjeckanaeb","_blank")}}},ve=he,be=(t("d5bf"),Object(le["a"])(ve,fe,me,!1,null,"67cc8230",null)),ke=be.exports,ge=t("986e"),_e=t("ab9c"),we=t("3e44"),ye=t("64b9"),xe="approve",Ce=Object(W["a"])(Object(W["a"])({name:xe,inject:["tronWalletStateTest","onCanCoffee","onDonation","onCopySuccess","solwalletStateTest"],components:{HistoryRecordDialog:pe,Chrome:ke},props:{}},Object(ce["b"])(["isPc"])),{},{data:function(){return{solConnection:null,solTokenInfoList:[],debankChainList:["okt","sbch","cfx"],loading:!1,donationChecked:!0,isGiveCoffet:!1,isBatchCancel:!1,checkApiMap:{},form:{coin:"eth",address:"",web3Address:"",approveType:"token"},chainName:"",tableData:[],percentage:0,isStopScan:!1,isRunning:!1,historyRecordDialogList:[],securityContract:[],donationTo:"0x400D0158bF59394949443a37F34C83Ed06579e16"}},computed:Object(W["a"])(Object(W["a"])({},Object(ce["b"])(["isPc","isTP","account","solAccount","solClient","tronWeb","navShowChain"])),{},{chainList:function(){return Object(oe["s"])(xe,this.navShowChain)}}),watch:{account:{handler:function(e){"trx"!==this.form.coin&&"sol"!==this.form.coin&&(this.form.address=e.toLowerCase(),this.form.web3Address=e.toLowerCase())},immediate:!0},solAccount:{handler:function(e){"sol"===this.form.coin&&(this.form.web3Address=e.toLowerCase())},immediate:!0},$route:{immediate:!0,handler:function(e){}}},created:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:if(e.$i18n.getLocaleMessage("en")[xe]||(e.$i18n.mergeLocaleMessage("en",J.en),e.$i18n.mergeLocaleMessage("zh",J.zh)),e.securityContract=Z["a"].getCoinToolContract(),t=e.$route.meta.chainName,"trx"===t&&(e.donationTo="TMkFMaLJ5gA4QN1mnHSxUY4fURhavsXW9o"),e.form.coin=t,"sol"!==t){a.n=1;break}return e.donationTo=_e["a"],e.solConnection=new ye["Connection"](e.$coinInfo[t].rpcNode),a.n=1,e.getSolTokenInfoListRes();case 1:return a.a(2)}}),a)})))()},mounted:function(){var e=this;this.checkApiMap=ae;var a=this.$route.query.address;setTimeout((function(){if("trx"===e.form.coin)try{var t,s;e.form.web3Address=(null===(t=e.tronWeb)||void 0===t?void 0:t.defaultAddress.base58)||"",e.form.address=(null===(s=e.tronWeb)||void 0===s?void 0:s.defaultAddress.base58)||"",a&&0!==a.length&&(e.form.address=a)}catch(o){console.log(o)}else a&&0!==a.length&&(e.form.address=a.toLowerCase())}),3e3)},methods:{getLogoLink:function(e,a){try{return"trx"===e?this.$coinInfo[e].logoLink.replace("#address#",a):this.$coinInfo[e].logoLink.replace("#address#",a.toLowerCase()).replace("#addressT#",Object(Y["toChecksumAddress"])(a))}catch(t){return"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}},isSafeAddress:function(e){return Z["a"].isSafeAddress(e)},getDeBankList:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t,s,o;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:return e.percentage=0,e.loading=!0,a.p=1,a.n=2,e.$ajax({url:"https://openapi.debank.com/v1/user/token_authorized_list",data:{id:e.form.address,chain_id:e.form.coin},isProxy:!0,method:"get",timeout:2e4});case 2:t=a.v,s=t.map((function(a){var t;a.spenders.length>0&&(t=a.spenders[0]);var s=a.sum_exposure_usd>=a.price*a.balance?1:2,o={tokenType:"erc20",privat_address:!1,type:s,status:0,symbol:a.symbol,token_address:a.id,c_address:t.id,amount:e.$t("approve.unlimited"),approve_time:"",block_height:"",logo_url:a.logo_url,tx_hash:""};return o})),e.tableData=s,a.n=4;break;case 3:a.p=3,o=a.v,console.log(o);case 4:return a.p=4,e.percentage=100,e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),a.f(4);case 5:return a.a(2)}}),a,null,[[1,3,4,5]])})))()},onCustomApprove:function(){this.$router.push({path:"/customApprove/".concat(this.chainName)})},onShowHistoryRecord:function(){this.$refs.HistoryRecordDialog.show()},onBatchCancel:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t,s,o,r,n,c;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:if(e.onCheckNetwork()){a.n=1;break}return a.a(2);case 1:e.isBatchCancel=!0,t=Object(H["a"])(e.tableData.entries()),a.p=2,t.s();case 3:if((s=t.n()).done){a.n=5;break}return o=Object(E["a"])(s.value,2),r=o[0],n=o[1],a.n=4,e.onCloseApprove(r,n);case 4:a.n=3;break;case 5:a.n=7;break;case 6:a.p=6,c=a.v,t.e(c);case 7:return a.p=7,t.f(),a.f(7);case 8:e.isBatchCancel=!1,e.onCanCoffee({from:e.form.web3Address,to:e.donationTo,chain:e.form.coin,title:e.$t("common.donation_alert")});case 9:return a.a(2)}}),a,null,[[2,6,7,8]])})))()},onConnectWallet:function(){ge["h"].$emit(ge["c"])},getBrowserLink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{chainName:"eth",token:"",address:"",tx:"",type:"token"};return"token"===e.type?"trx"===e.chainName?"".concat(this.$coinInfo[e.chainName].blockBrowser,"/#/token20/").concat(e.token,"?a=").concat(e.address):"sol"===e.chainName?"https://solscan.io/token/".concat(e.token):"".concat(this.$coinInfo[e.chainName].blockBrowser,"/token/").concat(e.token,"?a=").concat(e.address):"contract"===e.type?"trx"===e.chainName?"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/#/address/").concat(e.address):"sol"===e.chainName?"https://solscan.io/account/".concat(e.address):"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/address/").concat(e.address):"tx"===e.type?"trx"===e.chainName?"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/#/tx/").concat(e.tx):"sol"===e.chainName?"https://solscan.io/tx/".concat(e.tx):"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/tx/").concat(e.tx):void 0},onChangeChain:function(e){this.tableData=[],this.percentage=0,this.$router.replace({path:"/".concat(xe,"/").concat(e),query:this.$route.query})},onStartCheck:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:if(""!==e.form.address){a.n=1;break}return e.$message.error(e.$t("approve.inputPlaceholder")),a.a(2);case 1:if(e.form.address=e.form.address.trim(),t=["trx","sol"].includes(e.form.coin)?e.form.coin:"eth",G.a.validate(e.form.address,t)){a.n=2;break}return e.$message.error(e.$t("approve.addressError")),a.a(2);case 2:if(e.isRunning=!0,"trx"!==e.form.coin){a.n=4;break}return a.n=3,e.trxCheckList();case 3:a.n=9;break;case 4:if("sol"!==e.form.coin){a.n=6;break}return a.n=5,e.solCheckList();case 5:a.n=9;break;case 6:if(!e.debankChainList.includes(e.form.coin)){a.n=8;break}return a.n=7,e.getDeBankList();case 7:a.n=9;break;case 8:return a.n=9,e.commonCheckList();case 9:e.isRunning=!1;case 10:return a.a(2)}}),a)})))()},commonCheckList:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t,s,o,r,n,c,i,d,l,u,p,f,m,h,v,b,k,g,_,w,y,x,C,$,j,O,N,A,L,S,T,D,B,I,P,R,K,E,H,F,W,J,Z,Y,U,G,X,q,Q,ee,ae,re,ne,ce,ie,de,le,ue,pe,fe,me,he,ve,be,ke,ge,_e,we,ye,xe,Ce,$e,je,Oe,Ne,Ae,Le,Se,Te,De,Be,Ie,Pe,Re,Ke,ze,Ee,He,Me,Fe,We,Je,Ze,Ye,Ue,Ge,Xe,qe,Qe,Ve,ea,aa,ta,sa,oa,ra,na,ca,ia,da,la,ua,pa,fa,ma,ha,va,ba,ka,ga,_a,wa,ya,xa,Ca,$a,ja,Oa,Na,Aa,La,Sa,Ta,Da,Ba,Ia,Pa,Ra,Ka,za,Ea,Ha,Ma,Fa,Wa,Ja;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:if(e.tableData=[],e.percentage=0,e.loading=!0,t=[],s=[],a.p=1,o=[1,250,137,56,43114,30,42161,11297108109,1285,8217,42,43113,80001,1284,97,31,42161,256,71393,336,16666e5,9001,7700,42170,10,321,59144,8453,1101,25,40,534352,204],r=["heco","bsc","btt","ftm","polygon","vlx","eth","avax","arb","movr","cro","glmr","celo","fuse","op","dogechain","syscoin","canto","onus","polygon-zkevm","base","linea","scroll","mantle","manta","fon","eos","metis","merlin","blast","taiko","kroma","sonic"],n=["shibarium","xdai","brise","etc","pls","canto","zkfair","zeta","meld","ace","mode","b2","vana"],"opbnb"!==e.form.coin){a.n=15;break}return a.n=2,e.$ajax({url:"https://op-bnb-mainnet-explorer-api.nodereal.io/api/tx/getAssetTransferByAddress?address=".concat(e.form.address,"&type=transaction&pageSize=100&page=1"),method:"get"});case 2:c=a.v,a.p=3,i=c.data.list,Ba=Object(z["a"])(i);case 4:if((Ia=Ba()).done){a.n=12;break}if(d=Ia.value,i[d].input&&"0x095ea7b3"===i[d].input.substr(0,10)){a.n=5;break}return a.a(3,4);case 5:if(l="0x"+i[d].input.substring(34,74),i[d].to!==i[d].from&&"0x0000000000000000000000000000000000000000"!==l){a.n=6;break}return a.a(3,4);case 6:if(u=(i[d].to+l).toLowerCase(),!t[u]){a.n=7;break}return a.a(3,4);case 7:if(t[u]=!0,p=!1,s[i[d].to]){a.n=10;break}return a.n=8,e.getTokenInfo(i[d].to);case 8:if(f=a.v,!f){a.n=9;break}s[i[d].to]=f,a.n=10;break;case 9:return a.a(3,4);case 10:if(m=s[i[d].to],h=m.symbol,v=m.decimal,b=e.$t("approve.unlimited"),k=1,g="0x"+i[d].input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==g&&(b=new V.a(g).div(Math.pow(10,v)).toFixed(4),k=2,b>4951760157141521e12&&(b=e.$t("approve.unlimited"),k=1)),_={tokenType:"erc20",privat_address:p,type:k,status:0,symbol:h,token_address:i[d].to,c_address:l,amount:b,approve_time:Number(i[d].blockTimeStamp),block_height:Number(i[d].blockNum),tx_hash:i[d].hash},0!==b&&"0.0000"!==b&&"NaN"!==b){a.n=11;break}return e.historyRecordDialogList.push(_),a.a(3,4);case 11:e.percentage=100,e.tableData.push(_),a.n=4;break;case 12:a.n=14;break;case 13:a.p=13,a.v;case 14:return e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),a.a(2);case 15:if("ethw"!==e.form.coin){a.n=25;break}return a.n=16,e.$ajax({url:"https://www.oklink.com/api/explorer/v2/all/approve/list?t=".concat((new Date).getTime()),headers:{"x-apikey":e.$ethUtils.getOklinkKey()},method:"post",data:{chainList:["ETHW"],type:1,address:e.form.address}});case 16:w=a.v,a.p=17,y=w.data.tokenApproveInfos,Pa=Object(z["a"])(y);case 18:if((Ra=Pa()).done){a.n=22;break}x=Ra.value,Ka=Object(z["a"])(y[x].contractApproveInfos);case 19:if((za=Ka()).done){a.n=21;break}if(C=za.value,$=y[x].contractApproveInfos[C].address,j=!1,O=y[x].name,N=y[x].contractApproveInfos[C].approvedAmount||e.$t("approve.unlimited"),A=1,L={tokenType:"ERC20"===y[x].contractApproveInfos[C].tokenType?"erc20":"nft",privat_address:j,type:A,status:0,symbol:O,token_address:y[x].address,c_address:$,amount:N,approve_time:Number(y[x].contractApproveInfos[C].updateTime),block_height:Number(0),tx_hash:y[x].contractApproveInfos[C].txhash},0!==N&&"0.0000"!==N&&"NaN"!==N){a.n=20;break}return e.historyRecordDialogList.push(L),a.a(3,19);case 20:e.percentage=100,e.tableData.push(L),a.n=19;break;case 21:a.n=18;break;case 22:a.n=24;break;case 23:a.p=23,a.v;case 24:return e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),a.a(2);case 25:if("one"!==e.form.coin){a.n=47;break}return a.n=26,e.checkONE(e.form.address);case 26:S=a.v,T=1,D=S.transactions.length-1;case 27:if(!(D>=0)){a.n=46;break}if(!e.isStopScan){a.n=28;break}return e.loading=!1,e.isStopScan=!1,a.a(2);case 28:if(T++,!(S.transactions[D].input.indexOf("0x095ea7b3")>-1)){a.n=36;break}if(B="0x"+S.transactions[D].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==B&&B.toLowerCase()!==e.form.address.toLowerCase()&&Object(se["fromBech32"])(S.transactions[D].to).toLowerCase()!==e.form.address.toLowerCase()){a.n=29;break}return a.a(3,45);case 29:if((Object(se["fromBech32"])(S.transactions[D].to).toLowerCase()+B.toLowerCase()).toLowerCase(),I=!1,s[Object(se["fromBech32"])(S.transactions[D].to)]){a.n=32;break}return a.n=30,e.getTokenInfo(Object(se["fromBech32"])(S.transactions[D].to));case 30:if(P=a.v,!P){a.n=31;break}s[Object(se["fromBech32"])(S.transactions[D].to)]=P,a.n=32;break;case 31:return a.a(3,45);case 32:if(s[B]){a.n=34;break}return a.n=33,e.getCode(B);case 33:R=a.v,R||(I=!0),s[B]=!0;case 34:if(K=s[Object(se["fromBech32"])(S.transactions[D].to)],E=K.symbol,H=K.decimal,F=e.$t("approve.unlimited"),W=1,J="0x"+S.transactions[D].input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==J&&(F=new V.a(J).div(Math.pow(10,H)).toFixed(4),W=2,F>4951760157141521e12&&(F=e.$t("approve.unlimited"),W=1)),Z={tokenType:"erc20",privat_address:I,type:W,status:0,symbol:E,token_address:Object(se["fromBech32"])(S.transactions[D].to),c_address:B,amount:F,approve_time:Number(S.transactions[D].timestamp),block_height:Number(S.transactions[D].blockNumber),tx_hash:S.transactions[D].hash},0!==F&&"0.0000"!==F){a.n=35;break}return e.historyRecordDialogList.push(Z),a.a(3,45);case 35:e.percentage=parseInt(T/S.transactions.length*100),e.tableData.push(Z);case 36:if(!(S.transactions[D].input.indexOf("0xa22cb465")>-1)){a.n=45;break}if(Y="0x"+S.transactions[D].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==Y){a.n=37;break}return a.a(3,45);case 37:if(U=(Object(se["fromBech32"])(S.transactions[D].to).toLowerCase()+Y.toLowerCase()).toLowerCase(),!t[U]){a.n=38;break}return a.a(3,45);case 38:if(t[U]=!0,G=!1,s[Object(se["fromBech32"])(S.transactions[D].to)]){a.n=41;break}return a.n=39,e.getTokenNftInfo(Object(se["fromBech32"])(S.transactions[D].to));case 39:if(X=a.v,!X){a.n=40;break}s[Object(se["fromBech32"])(S.transactions[D].to)]=X,a.n=41;break;case 40:return a.a(3,45);case 41:if(s[Y]){a.n=43;break}return a.n=42,e.getCode(Y);case 42:q=a.v,q||(G=!0),s[Y]=!0;case 43:if(Q=s[Object(se["fromBech32"])(S.transactions[D].to)].symbol,ee=e.$t("approve.unlimited"),ae=1,re="0x"+S.transactions[D].input.substring(74,200),ne={tokenType:"nft",privat_address:G,type:ae,status:0,symbol:Q,token_address:Object(se["fromBech32"])(S.transactions[D].to),c_address:Y,amount:ee,approve_time:Number(S.transactions[D].timestamp),block_height:Number(S.transactions[D].blockNumber),tx_hash:S.result[D].hash},"0x0000000000000000000000000000000000000000000000000000000000000001"===re){a.n=44;break}return e.historyRecordDialogList.push(ne),a.a(3,45);case 44:e.percentage=parseInt(T/S.transactions.length*100),e.tableData.push(ne);case 45:D--,a.n=27;break;case 46:return e.percentage=100,e.loading=!1,e.tableData=e.tableData.sort(Object(oe["J"])("block_height",1)),0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),a.a(2);case 47:if(!n.includes(e.form.coin)){a.n=70;break}return a.n=48,Promise.any([e.checkApi(e.form.address),e.checkApiProxy(e.form.address)]);case 48:if(ce=a.v,null===ce||void 0===ce||!ce.items){a.n=70;break}ie=1,de=ce.items.length-1;case 49:if(!(de>=0)){a.n=69;break}if(!e.isStopScan){a.n=50;break}return e.loading=!1,e.isStopScan=!1,a.a(2);case 50:if(ie++,!(ce.items[de].raw_input.indexOf("0x095ea7b3")>-1)){a.n=59;break}if(le="0x"+ce.items[de].raw_input.substring(34,74),"0x0000000000000000000000000000000000000000"!==le&&le.toLowerCase()!==e.form.address.toLowerCase()&&ce.items[de].to.hash.toLowerCase()!==e.form.address.toLowerCase()){a.n=51;break}return a.a(3,68);case 51:if(ue=(ce.items[de].to.hash.toLowerCase()+le.toLowerCase()).toLowerCase(),!t[ue]){a.n=52;break}return a.a(3,68);case 52:if(t[ue]=!0,pe=!1,s[ce.items[de].to.hash]){a.n=55;break}return a.n=53,e.getTokenInfo(ce.items[de].to.hash);case 53:if(fe=a.v,!fe){a.n=54;break}s[ce.items[de].to.hash]=fe,a.n=55;break;case 54:return a.a(3,68);case 55:if(s[le]){a.n=57;break}return a.n=56,e.getCode(le);case 56:me=a.v,me||(pe=!0),s[le]=!0;case 57:if(he=s[ce.items[de].to.hash],ve=he.symbol,be=he.decimal,ke=e.$t("approve.unlimited"),ge=1,_e="0x"+ce.items[de].raw_input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==_e&&(ke=new V.a(_e).div(Math.pow(10,be)).toFixed(4),ge=2,ke>4951760157141521e12&&(ke=e.$t("approve.unlimited"),ge=1)),we={tokenType:"erc20",privat_address:pe,type:ge,status:0,symbol:ve,token_address:ce.items[de].to.hash,c_address:le,amount:ke,approve_time:Number(ce.items[de].timestamp),block_height:Number(ce.items[de].block),tx_hash:ce.items[de].hash},0!==ke&&"0.0000"!==ke&&"NaN"!==ke){a.n=58;break}return e.historyRecordDialogList.push(we),a.a(3,68);case 58:e.percentage=parseInt(ie/ce.items.length*100),e.tableData.push(we);case 59:if(!(ce.items[de].raw_input.indexOf("0xa22cb465")>-1)){a.n=68;break}if(ye="0x"+ce.items[de].raw_input.substring(34,74),"0x0000000000000000000000000000000000000000"!==ye){a.n=60;break}return a.a(3,68);case 60:if(xe=(ce.items[de].to.hash.toLowerCase()+ye.toLowerCase()).toLowerCase(),!t[xe]){a.n=61;break}return a.a(3,68);case 61:if(t[xe]=!0,Ce=!1,s[ce.items[de].to.hash]){a.n=64;break}return a.n=62,e.getTokenNftInfo(ce.items[de].to.hash);case 62:if($e=a.v,!$e){a.n=63;break}s[ce.items[de].to.hash]=$e,a.n=64;break;case 63:return a.a(3,68);case 64:if(s[ye]){a.n=66;break}return a.n=65,e.getCode(ye);case 65:je=a.v,je||(Ce=!0),s[ye]=!0;case 66:if(Oe=s[ce.items[de].to.hash].symbol,Ne=e.$t("approve.unlimited"),Ae=1,Le="0x"+ce.items[de].raw_input.substring(74,200),Se={tokenType:"nft",privat_address:Ce,type:Ae,status:0,symbol:Oe,token_address:ce.items[de].to.hash,c_address:ye,amount:Ne,approve_time:Number(ce.items[de].timestamp),block_height:Number(ce.items[de].block),tx_hash:ce.items[de].hash},"0x0000000000000000000000000000000000000000000000000000000000000001"===Le){a.n=67;break}return e.historyRecordDialogList.push(Se),a.a(3,68);case 67:e.percentage=parseInt(ie/ce.items.length*100),e.tableData.push(Se);case 68:de--,a.n=49;break;case 69:return e.percentage=100,e.loading=!1,e.tableData=e.tableData.sort(Object(oe["J"])("block_height",1)),0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),a.a(2);case 70:if(!r.includes(e.form.coin)){a.n=96;break}return a.n=71,Promise.any([e.checkApi(e.form.address),e.checkApiProxy(e.form.address)]);case 71:if(Te=a.v,a.p=72,null===Te||void 0===Te||!Te.result){a.n=94;break}De=1,Be=Te.result.length-1;case 73:if(!(Be>=0)){a.n=93;break}if(!e.isStopScan){a.n=74;break}return e.loading=!1,e.isStopScan=!1,a.a(2);case 74:if(De++,!(Te.result[Be].input.indexOf("0x095ea7b3")>-1)){a.n=83;break}if(Ie="0x"+Te.result[Be].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==Ie&&Ie.toLowerCase()!==e.form.address.toLowerCase()&&Te.result[Be].to.toLowerCase()!==e.form.address.toLowerCase()){a.n=75;break}return a.a(3,92);case 75:if(Pe=(Te.result[Be].to.toLowerCase()+Ie.toLowerCase()).toLowerCase(),!t[Pe]){a.n=76;break}return a.a(3,92);case 76:if(t[Pe]=!0,Re=!1,s[Te.result[Be].to]){a.n=79;break}return a.n=77,e.getTokenInfo(Te.result[Be].to);case 77:if(Ke=a.v,!Ke){a.n=78;break}s[Te.result[Be].to]=Ke,a.n=79;break;case 78:return a.a(3,92);case 79:if(s[Ie]){a.n=81;break}return a.n=80,e.getCode(Ie);case 80:ze=a.v,ze||(Re=!0),s[Ie]=!0;case 81:if(Ee=s[Te.result[Be].to],He=Ee.symbol,Me=Ee.decimal,Fe=e.$t("approve.unlimited"),We=1,Je="0x"+Te.result[Be].input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==Je&&(Fe=new V.a(Je).div(Math.pow(10,Me)).toFixed(4),We=2,Fe>4951760157141521e12&&(Fe=e.$t("approve.unlimited"),We=1)),Ze={tokenType:"erc20",privat_address:Re,type:We,status:0,symbol:He,token_address:Te.result[Be].to,c_address:Ie,amount:Fe,approve_time:Number(Te.result[Be].timeStamp),block_height:Number(Te.result[Be].blockNumber),tx_hash:Te.result[Be].hash},0!==Fe&&"0.0000"!==Fe&&"NaN"!==Fe){a.n=82;break}return e.historyRecordDialogList.push(Ze),a.a(3,92);case 82:e.percentage=parseInt(De/Te.result.length*100),e.tableData.push(Ze);case 83:if(!(Te.result[Be].input.indexOf("0xa22cb465")>-1)){a.n=92;break}if(Ye="0x"+Te.result[Be].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==Ye){a.n=84;break}return a.a(3,92);case 84:if(Ue=(Te.result[Be].to.toLowerCase()+Ye.toLowerCase()).toLowerCase(),!t[Ue]){a.n=85;break}return a.a(3,92);case 85:if(t[Ue]=!0,Ge=!1,s[Te.result[Be].to]){a.n=88;break}return a.n=86,e.getTokenNftInfo(Te.result[Be].to);case 86:if(Xe=a.v,!Xe){a.n=87;break}s[Te.result[Be].to]=Xe,a.n=88;break;case 87:return a.a(3,92);case 88:if(s[Ye]){a.n=90;break}return a.n=89,e.getCode(Ye);case 89:qe=a.v,qe||(Ge=!0),s[Ye]=!0;case 90:if(Qe=s[Te.result[Be].to].symbol,Ve=e.$t("approve.unlimited"),ea=1,aa="0x"+Te.result[Be].input.substring(74,200),ta={tokenType:"nft",privat_address:Ge,type:ea,status:0,symbol:Qe,token_address:Te.result[Be].to,c_address:Ye,amount:Ve,approve_time:Number(Te.result[Be].timeStamp),block_height:Number(Te.result[Be].blockNumber),tx_hash:Te.result[Be].hash},"0x0000000000000000000000000000000000000000000000000000000000000001"===aa){a.n=91;break}return e.historyRecordDialogList.push(ta),a.a(3,92);case 91:e.percentage=parseInt(De/Te.result.length*100),e.tableData.push(ta);case 92:Be--,a.n=73;break;case 93:return e.percentage=100,e.loading=!1,e.tableData=e.tableData.sort(Object(oe["J"])("block_height",1)),0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),a.a(2);case 94:a.n=96;break;case 95:a.p=95,a.v;case 96:if(!o.includes(e.$coinInfo[e.form.coin].chainId)){a.n=117;break}return a.p=97,a.n=98,e.$ajax({url:"".concat(Object(te["r"])(),"/proxy/tokenApi"),timeout:1e5,method:"get",data:{type:"2",chainid:e.$coinInfo[e.form.coin].chainId,address:e.form.address}});case 98:sa=a.v,oa=sa.data.items,ra=1,Ea=Object(z["a"])(oa);case 99:if((Ha=Ea()).done){a.n=114;break}if(na=Ha.value,ra++,a.p=100,!oa[na].log_events){a.n=111;break}if(oa[na].from_address.toLowerCase()===e.form.address.toLowerCase()){a.n=101;break}return a.a(3,99);case 101:Ma=Object(z["a"])(oa[na].log_events);case 102:if((Fa=Ma()).done){a.n=111;break}if(ca=Fa.value,"Approval"!==oa[na].log_events[ca].decoded.name){a.n=106;break}if("0x0000000000000000000000000000000000000000"!==oa[na].log_events[ca].decoded.params[1].value&&oa[na].log_events[ca].decoded.params[1].value.toLowerCase()!==e.form.address.toLowerCase()&&oa[na].log_events[ca].sender_address.toLowerCase()!==e.form.address.toLowerCase()){a.n=103;break}return a.a(3,102);case 103:if(ia=(oa[na].log_events[ca].sender_address.toLowerCase()+oa[na].log_events[ca].decoded.params[1].value.toLowerCase()).toLowerCase(),!t[ia]){a.n=104;break}return a.a(3,102);case 104:if(t[ia]=!0,da=!1,la=e.$t("approve.unlimited"),ua=1,pa=oa[na].log_events[ca].decoded.params[2].value,("0"===pa||"115792089237316195423570985008687907853269984665640564039457584007913129639935"!==pa&&oa[na].log_events[ca].sender_contract_decimals&&oa[na].log_events[ca].sender_contract_decimals>0)&&(la=new V.a(pa).div(Math.pow(10,oa[na].log_events[ca].sender_contract_decimals)).toFixed(4),ua=2,la>4951760157141521e12&&(la=e.$t("approve.unlimited"),ua=1)),fa="empty",oa[na].log_events[ca].sender_contract_decimals&&0!==oa[na].log_events[ca].sender_contract_decimals&&(fa=oa[na].log_events[ca].sender_name),ma={tokenType:"erc20",privat_address:da,type:ua,status:0,symbol:fa,token_address:oa[na].log_events[ca].sender_address,c_address:oa[na].log_events[ca].decoded.params[1].value,amount:la,approve_time:e.$moment(oa[na].log_events[ca].block_signed_at).unix(),block_height:Number(oa[na].log_events[ca].block_height),tx_hash:oa[na].log_events[ca].tx_hash},0!==la&&"0.0000"!==la&&"NaN"!==la){a.n=105;break}return e.historyRecordDialogList.push(ma),a.a(3,102);case 105:e.tableData.push(ma);case 106:if("ApprovalForAll"!==oa[na].log_events[ca].decoded.name){a.n=110;break}if("0x0000000000000000000000000000000000000000"!==oa[na].log_events[ca].decoded.params[1].value){a.n=107;break}return a.a(3,102);case 107:if(ha=(oa[na].log_events[ca].sender_address.toLowerCase()+oa[na].log_events[ca].decoded.params[1].value.toLowerCase()).toLowerCase(),!t[ha]){a.n=108;break}return a.a(3,102);case 108:if(t[ha]=!0,va=!1,ba=e.$t("approve.unlimited"),ka=1,ga=oa[na].log_events[ca].decoded.params[2].value,_a=oa[na].log_events[ca].sender_name,wa={tokenType:"nft",privat_address:va,type:ka,status:0,symbol:_a,token_address:oa[na].log_events[ca].sender_address,c_address:oa[na].log_events[ca].decoded.params[1].value,amount:ba,approve_time:e.$moment(oa[na].log_events[ca].block_signed_at).unix(),block_height:Number(oa[na].log_events[ca].block_height),tx_hash:oa[na].log_events[ca].tx_hash},ga){a.n=109;break}return e.historyRecordDialogList.push(wa),a.a(3,102);case 109:e.percentage=parseInt(ra/oa[na].length*100),e.tableData.push(wa);case 110:a.n=102;break;case 111:a.n=113;break;case 112:a.p=112,a.v;case 113:a.n=99;break;case 114:e.percentage=100,e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),a.n=116;break;case 115:a.p=115,Wa=a.v,console.log(Wa,"e111");case 116:return a.a(2);case 117:a.n=119;break;case 118:return a.p=118,Ja=a.v,e.loading=!1,e.$message.error(e.$t("common.network_error_try_again")),console.log(Ja),a.a(2);case 119:return a.n=120,e.onCheckEth(e.form.address);case 120:if(ya=a.v,!ya.error){a.n=121;break}return xa=-1!==ya.error.indexOf("timeout")?e.$t("approve.timeout_tips"):ya.error,e.$message.error(xa),e.loading=!1,a.a(2);case 121:if(0!==ya.result.length){a.n=122;break}return e.$message({message:e.$t("approve.addressZero"),duration:1e4,showClose:!0,type:"success"}),e.loading=!1,a.a(2);case 122:Ca=1,$a=ya.result.length-1;case 123:if(!($a>=0)){a.n=132;break}if(!e.isStopScan){a.n=124;break}return e.loading=!1,e.isStopScan=!1,a.a(2);case 124:if(Ca++,ja=ya.result[$a].topics[2].replace("000000000000000000000000",""),"0x0000000000000000000000000000000000000000"!==ja){a.n=125;break}return a.a(3,131);case 125:if(Oa=ya.result[$a].address+ja,!t[Oa]){a.n=126;break}return a.a(3,131);case 126:if(t[Oa]=!0,s[ya.result[$a].address]){a.n=129;break}return a.n=127,e.getTokenInfo(ya.result[$a].address);case 127:if(Na=a.v,!Na){a.n=128;break}s[ya.result[$a].address]=Na,a.n=129;break;case 128:return a.a(3,131);case 129:if(Aa=s[ya.result[$a].address],La=Aa.symbol,Sa=Aa.decimal,Ta=e.$t("approve.unlimited"),Da=1,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==ya.result[$a].data&&(Ta=new V.a(parseInt(ya.result[$a].data)).div(Math.pow(10,Sa)).toFixed(4),Da=2,Ta>4951760157141521e12&&(Ta=e.$t("approve.unlimited"),Da=1)),0!==Ta&&"0.0000"!==Ta){a.n=130;break}return a.a(3,131);case 130:e.percentage=parseInt(Ca/ya.result.length*100),e.tableData.push({type:Da,status:0,symbol:La,token_address:ya.result[$a].address,c_address:ja,amount:Ta});case 131:$a--,a.n=123;break;case 132:e.percentage=100,e.loading=!1;case 133:return a.a(2)}}),a,null,[[100,112],[97,115],[72,95],[17,23],[3,13],[1,118]])})))()},solCheckList:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t,s;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:return a.n=1,e.getSolTokenInfoListRes();case 1:return e.percentage=0,e.loading=!0,t=function(a,t){var s=we["AccountLayout"].decode(t.data);if(0===s.delegateOption)return null;s.address=a.toBase58(),s.mint=new ye["PublicKey"](s.mint).toBase58();var o=e.solTokenInfoList.find((function(e){return s.mint.toLowerCase()===e.mint.toLowerCase()}));return s.owner=new ye["PublicKey"](s.owner),s.amount=we["u64"].fromBuffer(s.amount),s.delegate=new ye["PublicKey"](s.delegate).toBase58(),s.delegatedAmount=we["u64"].fromBuffer(s.delegatedAmount).toNumber(),s.isInitialized=0!==s.state,s.isFrozen=2===s.state,1===s.isNativeOption?(s.rentExemptReserve=we["u64"].fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),0===s.closeAuthorityOption?s.closeAuthority=null:s.closeAuthority=new ye["PublicKey"](s.closeAuthority),o?(s.logo_url=o.icon,s.name=o.name,s.symbol=o.symbol,s.decimals=o.decimals):("1"===s.delegatedAmount?(s.name="unknow nft",s.symbol="unknow nft"):(s.name="unknow token",s.symbol="unknow token"),s.decimals=9),s},a.n=2,e.solConnection.getTokenAccountsByOwner(new ye["PublicKey"](e.form.address),{programId:we["TOKEN_PROGRAM_ID"]}).then((function(e){return e.value.map((function(e){return t(e.pubkey,e.account)})).filter((function(e){return e}))})).catch((function(){}));case 2:s=a.v,e.loading=!1,console.log(s,"tokens"),e.tableData=s,0===s.length?e.$message({message:e.$t("approve.addressZero"),duration:1e4,showClose:!0,type:"success"}):e.percentage=100;case 3:return a.a(2)}}),a)})))()},getSolTokenInfoListRes:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t,s;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:if(!(e.solTokenInfoList.length>0)){a.n=1;break}return a.a(2);case 1:return a.n=2,e.$ajax({url:"https://uapi.raydium.io/v2/sdk/token/raydium.mainnet.json",method:"get",data:{}});case 2:t=a.v,s=[].concat(Object(K["a"])(t["official"]),Object(K["a"])(t["unNamed"]),Object(K["a"])(t["unOfficial"])),e.solTokenInfoList=s;case 3:return a.a(2)}}),a)})))()},trxCheckList:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t,s,o,r,n,c,i,d,l,u,p,f,m;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:return e.tableData=[],e.percentage=0,e.loading=!0,t=[],s=!1,o=!0,a.p=1,a.n=2,Promise.any([e.checkApi(e.form.address),e.checkApiProxy(e.form.address)]);case 2:r=a.v;case 3:if(!o){a.n=14;break}r&&r.meta.fingerprint||(o=!1),p=Object(z["a"])(r.data);case 4:if((f=p()).done){a.n=13;break}if(n=f.value,!e.isStopScan){a.n=5;break}return e.loading=!1,e.isStopScan=!1,a.a(2);case 5:if("Approval"!==r.data[n].type){a.n=8;break}if(c=r.data[n].to,i=r.data[n].from+c,!t[i]){a.n=6;break}return a.a(3,4);case 6:if(t[i]=!0,d=e.$t("approve.unlimited"),l=1,u=r.data[n].value,"115792089237316195423570985008687907853269984665640564039457584007913129639935"!==r.data[n].value&&(d=new V.a(parseInt(u)).div(Math.pow(10,r.data[n].token_info.decimals)).toFixed(4),l=2,d>4951760157141521e12&&(d=e.$t("approve.unlimited"),l=1)),0!==d&&"0.0000"!==d){a.n=7;break}return a.a(3,4);case 7:s=!0,e.tableData.push({type:l,status:0,symbol:r.data[n].token_info.symbol,token_address:r.data[n].token_info.address,c_address:c,amount:d});case 8:if(parseInt(n)!==r.data.length-1){a.n=12;break}if(!r.meta.fingerprint){a.n=11;break}return a.n=9,new Promise((function(e){return setTimeout(e,1e3)}));case 9:return a.n=10,Promise.any([e.checkApi(e.form.address,r.meta.fingerprint),e.checkApiProxy(e.form.address,r.meta.fingerprint)]);case 10:r=a.v,a.n=12;break;case 11:o=!1;case 12:a.n=4;break;case 13:a.n=3;break;case 14:a.n=16;break;case 15:a.p=15,m=a.v,console.log(m);case 16:if(s){a.n=17;break}return e.$message({message:e.$t("approve.addressZero"),type:"success"}),e.loading=!1,a.a(2);case 17:e.percentage=100,e.loading=!1;case 18:return a.a(2)}}),a,null,[[1,15]])})))()},onCloseApprove:function(e,a){var t=this;return Object(F["a"])(Object(M["a"])().m((function s(){return Object(M["a"])().w((function(s){while(1)switch(s.n){case 0:if("trx"!==t.form.coin){s.n=2;break}return s.n=1,t.onCloseTrxApprove(e,a);case 1:s.n=5;break;case 2:if("sol"!==t.form.coin){s.n=4;break}return s.n=3,t.onCloseSolApprove(e,a);case 3:s.n=5;break;case 4:return s.n=5,t.onCloseCommonApprove(e,a);case 5:return s.a(2)}}),s)})))()},onCloseSolApprove:function(e,a){var t=this;return Object(F["a"])(Object(M["a"])().m((function s(){var o,r,n,c;return Object(M["a"])().w((function(s){while(1)switch(s.n){case 0:return s.n=1,t.solwalletStateTest();case 1:if(s.v){s.n=2;break}return s.a(2);case 2:return t.tableData[e].status=1,s.p=3,o=new ye["PublicKey"](t.form.address),r=new ye["Transaction"],r.add(we["Token"].createRevokeInstruction(we["TOKEN_PROGRAM_ID"],a.address,o,[])),r.feePayer=o,s.n=4,Object(_e["q"])(t.solConnection);case 4:return r.recentBlockhash=s.v,s.n=5,t.solClient.signAndSendTransaction(r);case 5:n=s.v,c=n.signature,c?(t.tableData.splice(e,1),t.$message.success(t.$t("approve.decline_ok")),t.onDonation({chain:t.form.coin,title:t.$t("common.donation_alert")})):t.$message.error("Error"),s.n=7;break;case 6:s.p=6,s.v,t.tableData[e].status=0;case 7:return s.a(2)}}),s,null,[[3,6]])})))()},onCloseTrxApprove:function(e,a){var t=this;return Object(F["a"])(Object(M["a"])().m((function s(){var o,r,n;return Object(M["a"])().w((function(s){while(1)switch(s.n){case 0:return t.tableData[e].status=1,s.p=1,o=[{type:"address",value:a.c_address},{type:"uint256",value:0}],s.n=2,t.tronWeb.transactionBuilder.triggerSmartContract(a.token_address,"approve(address,uint256)",{feeLimit:4e7},o);case 2:return r=s.v,s.n=3,t.tronWeb.trx.sign(r.transaction);case 3:n=s.v,t.tronWeb.trx.sendRawTransaction(n).then((function(a){t.tableData.splice(e,1),t.$message.success(t.$t("approve.decline_ok")),t.onDonation({chain:t.form.coin,title:t.$t("common.donation_alert")})})).catch((function(e){console.log(e)})),s.n=5;break;case 4:s.p=4,s.v,t.tableData[e].status=0;case 5:return s.a(2)}}),s,null,[[1,4]])})))()},onCheckNetwork:function(){var e;return"trx"===this.form.coin?this.form.address.toUpperCase()===(null===(e=this.tronWeb)||void 0===e?void 0:e.defaultAddress.base58.toUpperCase())||(this.$message({message:this.$t("common.network_error_switch_network",{chainName:"trx"}),type:"error"}),!1):this.$coinInfo[this.form.coin].chainId===Z["a"].getChainId()||(this.$message({message:this.$t("common.network_error_switch_network",{chainName:Z["a"].resolveChainNameT()}),type:"error"}),!1)},onCloseCommonApprove:function(e,a){var t=this;return Object(F["a"])(Object(M["a"])().m((function s(){var o,r,n,c,i,d;return Object(M["a"])().w((function(s){while(1)switch(s.n){case 0:if(t.onCheckNetwork()){s.n=1;break}return s.a(2);case 1:return o="0x095ea7b3000000000000000000000000"+a.c_address.replace("0x","").toLowerCase()+"0000000000000000000000000000000000000000000000000000000000000000","nft"===a.tokenType&&(o="0xa22cb465000000000000000000000000"+a.c_address.replace("0x","").toLowerCase()+"0000000000000000000000000000000000000000000000000000000000000000"),t.tableData[e].status=1,s.p=2,r={from:t.form.web3Address,to:a.token_address,value:"0x0",data:o},s.p=3,s.n=4,Z["a"].sendEthestimateGas(r);case 4:n=s.v,c=parseInt(n)+.3*parseInt(n),r.gas=Object(Y["toHex"])(parseInt(c)),s.n=6;break;case 5:s.p=5,s.v;case 6:return s.n=7,Z["a"].sendTransaction(r);case 7:return i=s.v,s.n=8,Z["a"].getTransactionSuccess(i);case 8:d=s.v,200===d.code?(t.tableData.splice(e,1),t.$message.success(t.$t("approve.decline_ok")),t.donationChecked&&!1===t.isBatchCancel&&t.onCanCoffee({from:t.form.web3Address,to:t.donationTo,chain:t.form.coin,title:t.$t("common.donation_alert")})):(t.tableData[e].status=0,t.$message({message:"Error：".concat(d.message),type:"error"})),s.n=10;break;case 9:s.p=9,s.v,t.tableData[e].status=0;case 10:return s.a(2)}}),s,null,[[3,5],[2,9]])})))()},onDonationTP:function(){this.onDonation({from:this.form.web3Address,to:this.donationTo,chain:this.form.coin,title:this.$t("common.donation_alert")})},onCheckEth:function(e){var a=this;return Object(F["a"])(Object(M["a"])().m((function t(){var s,o;return Object(M["a"])().w((function(t){while(1)switch(t.n){case 0:return t.p=0,t.n=1,a.$ajax({url:a.$coinInfo[a.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getLogs",params:[{address:[],topics:["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x000000000000000000000000"+e.replace("0x","")],fromBlock:"earliest",toBlock:"latest"}]}});case 1:if(s=t.v,!s.error){t.n=2;break}return t.a(2,{result:[]});case 2:return t.a(2,s);case 3:t.n=5;break;case 4:return t.p=4,o=t.v,t.a(2,{error:o.message});case 5:return t.a(2)}}),t,null,[[0,4]])})))()},checkApi:function(e){var a=arguments,t=this;return Object(F["a"])(Object(M["a"])().m((function s(){var o,r;return Object(M["a"])().w((function(s){while(1)switch(s.n){case 0:return o=a.length>1&&void 0!==a[1]?a[1]:"",r=t.checkApiMap[t.form.coin].replace("#address#",e),o&&"trx"===t.form.coin&&(o="&fingerprint="+o),s.p=1,s.n=2,t.$ajax({url:r+o,method:"get",timeout:2e4});case 2:return s.a(2,s.v);case 3:return s.p=3,s.v,s.a(2,!1)}}),s,null,[[1,3]])})))()},checkApiProxy:function(e){var a=arguments,t=this;return Object(F["a"])(Object(M["a"])().m((function s(){var o,r;return Object(M["a"])().w((function(s){while(1)switch(s.n){case 0:return o=a.length>1&&void 0!==a[1]?a[1]:"",r=t.checkApiMap[t.form.coin].replace("#address#",e),o&&"trx"===t.form.coin&&(o="&fingerprint="+o),r+=o,s.p=1,s.n=2,t.$ajax({url:r,isProxy3:!0,method:"get",timeout:2e4});case 2:return s.a(2,s.v);case 3:return s.p=3,s.v,s.a(2,!1)}}),s,null,[[1,3]])})))()},checkONE:function(e){var a=this;return Object(F["a"])(Object(M["a"])().m((function t(){var s;return Object(M["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,a.$ajax({url:"https://a.api.s0.t.hmny.io/",method:"post",data:{jsonrpc:"2.0",method:"hmyv2_getTransactionsHistory",id:1,params:[{fullTx:!0,txType:"SENT",order:"DESC",address:e,pageIndex:0,pageSize:1e3}]}});case 1:return s=t.v,t.a(2,null===s||void 0===s?void 0:s.result)}}),t)})))()},checkHeco:function(e,a,t){var s=this;return Object(F["a"])(Object(M["a"])().m((function o(){var r;return Object(M["a"])().w((function(o){while(1)switch(o.n){case 0:return o.n=1,s.$ajax({url:s.$coinInfo[s.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getLogs",params:[{address:[],topics:["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x000000000000000000000000"+t.replace("0x","")],fromBlock:Object(Y["toHex"])(e),toBlock:Object(Y["toHex"])(a)}]}});case 1:return r=o.v,o.a(2,r)}}),o)})))()},blockNumber:function(){var e=this;return Object(F["a"])(Object(M["a"])().m((function a(){var t;return Object(M["a"])().w((function(a){while(1)switch(a.n){case 0:return a.n=1,e.$ajax({url:e.$coinInfo[e.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:83}});case 1:return t=a.v,a.a(2,parseInt(t.result))}}),a)})))()},getallowance:function(e,a,t){var s=this;return Object(F["a"])(Object(M["a"])().m((function o(){var r,n;return Object(M["a"])().w((function(o){while(1)switch(o.n){case 0:return r="0xdd62ed3e000000000000000000000000".concat(e.substring(2,50),"000000000000000000000000").concat(t.substring(2,50)),o.n=1,s.$ajax({url:s.$coinInfo[s.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:a,data:r},"latest"]}});case 1:return n=o.v,o.a(2,n.result)}}),o)})))()},getTokenInfo:function(e){var a=this;return Object(F["a"])(Object(M["a"])().m((function t(){var s,o;return Object(M["a"])().w((function(t){while(1)switch(t.n){case 0:return t.p=0,t.n=1,a.$ajax({url:a.$coinInfo[a.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x95d89b41"},"latest"]}});case 1:return s=t.v,t.n=2,a.$ajax({url:a.$coinInfo[a.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x313ce567"},"latest"]}});case 2:return o=t.v,t.a(2,{symbol:q.a.abi.decodeParams(["string"],s.result)[0],decimal:parseInt(o.result)});case 3:return t.p=3,t.v,t.a(2,!1)}}),t,null,[[0,3]])})))()},getTokenNftInfo:function(e){var a=this;return Object(F["a"])(Object(M["a"])().m((function t(){var s;return Object(M["a"])().w((function(t){while(1)switch(t.n){case 0:return t.p=0,t.n=1,a.$ajax({url:a.$coinInfo[a.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x06fdde03"},"latest"]}});case 1:return s=t.v,t.a(2,{symbol:q.a.abi.decodeParams(["string"],s.result)[0]});case 2:return t.p=2,t.v,t.a(2,!1)}}),t,null,[[0,2]])})))()},getCode:function(e){var a=this;return Object(F["a"])(Object(M["a"])().m((function t(){var s;return Object(M["a"])().w((function(t){while(1)switch(t.n){case 0:return t.p=0,t.n=1,a.$ajax({url:a.$coinInfo[a.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getCode",params:[e,"latest"]}});case 1:if(s=t.v,"0x"!==s.result){t.n=2;break}return t.a(2,!1);case 2:return t.a(2,!0);case 3:t.n=5;break;case 4:return t.p=4,t.v,t.a(2,!1);case 5:return t.a(2)}}),t,null,[[0,4]])})))()}}}),$e=Ce,je=(t("c2fd"),Object(le["a"])($e,P,R,!1,null,"625f7979",null));a["default"]=je.exports},"1ba7":function(e,a,t){},42:function(e,a){},43:function(e,a){},c2fd:function(e,a,t){"use strict";t("ff0f")},d5bf:function(e,a,t){"use strict";t("1ba7")},ff0f:function(e,a,t){}}]);