(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b53d8bc2"],{"0499":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseMatchForFulfill=t.generateRandomSalt=t.mapOrderAmountsFromUnitsToFill=t.mapOrderAmountsFromFilledStatus=t.totalItemsAmount=t.areAllCurrenciesSame=t.mapInputItemToOfferItem=t.deductFees=t.feeToConsiderationItem=void 0;const r=n("c030"),i=n("4d8a"),a=n("54e8"),s=n("2ec4"),o=n("b888"),u=(e,t)=>r.BigNumber.from(e).mul(r.BigNumber.from(t)).div(a.ONE_HUNDRED_PERCENT_BP),l=({fee:e,token:t,baseAmount:n,baseEndAmount:i=n})=>({itemType:t===r.ethers.constants.AddressZero?a.ItemType.NATIVE:a.ItemType.ERC20,token:t,identifierOrCriteria:"0",startAmount:u(n,e.basisPoints).toString(),endAmount:u(i,e.basisPoints).toString(),recipient:e.recipient});t.feeToConsiderationItem=l;const d=(e,t)=>{if(!t)return e;const n=t.reduce((e,t)=>e+t.basisPoints,0);return e.map(e=>Object.assign(Object.assign({},e),{startAmount:(0,s.isCurrencyItem)(e)?r.BigNumber.from(e.startAmount).sub(u(e.startAmount,n)).toString():e.startAmount,endAmount:(0,s.isCurrencyItem)(e)?r.BigNumber.from(e.endAmount).sub(u(e.endAmount,n)).toString():e.endAmount}))};t.deductFees=d;const p=e=>{var t,n,i,s,u,l,d,p;if("itemType"in e){if("identifiers"in e||"criteria"in e){const r="criteria"in e?e.criteria:new o.MerkleTree(e.identifiers).getRoot();return{itemType:e.itemType===a.ItemType.ERC721?a.ItemType.ERC721_WITH_CRITERIA:a.ItemType.ERC1155_WITH_CRITERIA,token:e.token,identifierOrCriteria:r,startAmount:null!==(t=e.amount)&&void 0!==t?t:"1",endAmount:null!==(i=null!==(n=e.endAmount)&&void 0!==n?n:e.amount)&&void 0!==i?i:"1"}}return"amount"in e||"endAmount"in e?{itemType:e.itemType,token:e.token,identifierOrCriteria:null!==(s=e.identifier)&&void 0!==s?s:"0",startAmount:e.amount,endAmount:null!==(l=null!==(u=e.endAmount)&&void 0!==u?u:e.amount)&&void 0!==l?l:"1"}:{itemType:e.itemType,token:e.token,identifierOrCriteria:e.identifier,startAmount:"1",endAmount:"1"}}return{itemType:e.token&&e.token!==r.ethers.constants.AddressZero?a.ItemType.ERC20:a.ItemType.NATIVE,token:null!==(d=e.token)&&void 0!==d?d:r.ethers.constants.AddressZero,identifierOrCriteria:"0",startAmount:e.amount,endAmount:null!==(p=e.endAmount)&&void 0!==p?p:e.amount}};t.mapInputItemToOfferItem=p;const c=({offer:e,consideration:t})=>{const n=[...e,...t],r=n.filter(s.isCurrencyItem);return r.every(({itemType:e,token:t})=>e===r[0].itemType&&t.toLowerCase()===r[0].token.toLowerCase())};t.areAllCurrenciesSame=c;const y=e=>{r.BigNumber.from(0),r.BigNumber.from(0);return e.map(({startAmount:e,endAmount:t})=>({startAmount:e,endAmount:t})).reduce(({startAmount:e,endAmount:t},{startAmount:n,endAmount:r})=>({startAmount:e.add(n),endAmount:t.add(r)}),{startAmount:r.BigNumber.from(0),endAmount:r.BigNumber.from(0)})};t.totalItemsAmount=y;const m=(e,{totalFilled:t,totalSize:n})=>{if(t.eq(0)||n.eq(0))return e;const r=n.sub(t).mul(a.ONE_HUNDRED_PERCENT_BP).div(n);return{parameters:Object.assign(Object.assign({},e.parameters),{offer:e.parameters.offer.map(e=>Object.assign(Object.assign({},e),{startAmount:u(e.startAmount,r).toString(),endAmount:u(e.endAmount,r).toString()})),consideration:e.parameters.consideration.map(e=>Object.assign(Object.assign({},e),{startAmount:u(e.startAmount,r).toString(),endAmount:u(e.endAmount,r).toString()}))}),signature:e.signature}};t.mapOrderAmountsFromFilledStatus=m;const f=(e,t,n)=>r.BigNumber.from(e).mul(r.BigNumber.from(t)).div(n),h=(e,{unitsToFill:t,totalSize:n})=>{const i=r.BigNumber.from(t);if(i.lte(0))throw new Error("Units to fill must be greater than 1");const a=(0,s.getMaximumSizeForOrder)(e);return n.eq(0)&&(n=a),{parameters:Object.assign(Object.assign({},e.parameters),{offer:e.parameters.offer.map(e=>Object.assign(Object.assign({},e),{startAmount:f(e.startAmount,i,n).toString(),endAmount:f(e.endAmount,i,n).toString()})),consideration:e.parameters.consideration.map(e=>Object.assign(Object.assign({},e),{startAmount:f(e.startAmount,i,n).toString(),endAmount:f(e.endAmount,i,n).toString()}))}),signature:e.signature}};t.mapOrderAmountsFromUnitsToFill=h;const g=t=>t?"0x"+e.from((0,i.concat)([(0,i.keccak256)((0,i.toUtf8Bytes)(t)).slice(0,10),Uint8Array.from(Array(20).fill(0)),(0,i.randomBytes)(8)])).toString("hex"):"0x"+e.from((0,i.randomBytes)(8)).toString("hex").padStart(64,"0");t.generateRandomSalt=g;const T=()=>!0;t.shouldUseMatchForFulfill=T}).call(this,n("1c35").Buffer)},"0930":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC20__factory=void 0;const r=n("c030"),i=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];class a{static createInterface(){return new r.utils.Interface(i)}static connect(e,t){return new r.Contract(e,i,t)}}t.ERC20__factory=a,a.abi=i},"0aed":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHARED_STOREFRONT_LAZY_MINT_ADAPTER_CROSS_CHAIN_ADDRESS=t.SHARED_STOREFRONT_ADDRESSES=t.SHARED_STOREFRONT_ADDRESS_GOERLI=t.SHARED_STOREFRONT_ADDRESS_MAINNET=t.ENGLISH_AUCTION_ZONE_TESTNETS=t.ENGLISH_AUCTION_ZONE_MAINNETS=t.DEFAULT_ZONE=t.API_V1_PATH=t.API_BASE_TESTNET=t.API_BASE_MAINNET=t.MAX_EXPIRATION_MONTHS=t.INVERSE_BASIS_POINT=void 0;const r=n("c030");t.INVERSE_BASIS_POINT=1e4,t.MAX_EXPIRATION_MONTHS=1,t.API_BASE_MAINNET="https://api.opensea.io",t.API_BASE_TESTNET="https://testnets-api.opensea.io",t.API_V1_PATH="/api/v1",t.DEFAULT_ZONE=r.ethers.constants.AddressZero,t.ENGLISH_AUCTION_ZONE_MAINNETS="0x110b2b128a9ed1be5ef3232d8e4e41640df5c2cd",t.ENGLISH_AUCTION_ZONE_TESTNETS="0x9B814233894Cd227f561B78Cc65891AA55C62Ad2",t.SHARED_STOREFRONT_ADDRESS_MAINNET="0x495f947276749ce646f68ac8c248420045cb7b5e",t.SHARED_STOREFRONT_ADDRESS_GOERLI="0x804159144aefb1dc17b171afcefa5b33746c722f";const i="0x2953399124f0cbb46d2cbacd8a89cf0599974963",a="0x5bc519d852f7ca2c8cf2d095299d5bb2d13f02c9";t.SHARED_STOREFRONT_ADDRESSES=[t.SHARED_STOREFRONT_ADDRESS_MAINNET,t.SHARED_STOREFRONT_ADDRESS_GOERLI,i,a].map(e=>e.toLowerCase()),t.SHARED_STOREFRONT_LAZY_MINT_ADAPTER_CROSS_CHAIN_ADDRESS="0xa604060890923ff400e8c6f5290461a83aedacec"},"0b13":function(e,t,n){"use strict";n.r(t);var r=n("6e45");n.d(t,"randomBytes",(function(){return r["a"]}));var i=n("5553");n.d(t,"shuffled",(function(){return i["a"]}))},"0b52":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC20ABI=void 0;const r=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];t.ERC20ABI=r},"0c0a":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("fe98"),t)},"26bf":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){function e(e,t){var n=t?"└":"├";return n+=e?"─ ":"──┐",n}function t(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&(t&&"function"===typeof e[r]||n.push(r));return n}function n(r,i,a,s,o,u,l){var d,p,c="",y=0,m=s.slice(0);if(m.push([i,a])&&s.length>0&&(s.forEach((function(e,t){t>0&&(c+=(e[1]?" ":"│")+"  "),p||e[0]!==i||(p=!0)})),c+=e(r,a)+r,o&&("object"!==typeof i||i instanceof Date)&&(c+=": "+i),p&&(c+=" (circular ref.)"),l(c)),!p&&"object"===typeof i){var f=t(i,u);f.forEach((function(e){d=++y===f.length,n(e,i[e],d,m,o,u,l)}))}}var r={asLines:function(e,t,r,i){var a="function"!==typeof r&&r;n(".",e,!1,[],t,a,i||r)},asTree:function(e,t,r){var i="";return n(".",e,!1,[],t,r,(function(e){i+=e+"\n"})),i}};return r}))},"29a7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC721__factory=t.ERC20__factory=t.ERC1155__factory=t.factories=void 0,t.factories=n("8d51");var r=n("c562");Object.defineProperty(t,"ERC1155__factory",{enumerable:!0,get:function(){return r.ERC1155__factory}});var i=n("0930");Object.defineProperty(t,"ERC20__factory",{enumerable:!0,get:function(){return i.ERC20__factory}});var a=n("2ad5");Object.defineProperty(t,"ERC721__factory",{enumerable:!0,get:function(){return a.ERC721__factory}})},"2ad5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC721__factory=void 0;const r=n("c030"),i=[{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}];class a{static createInterface(){return new r.utils.Interface(i)}static connect(e,t){return new r.Contract(e,i,t)}}t.ERC721__factory=a,a.abi=i},"2ec4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMaximumSizeForOrder=t.getSummedTokenAndIdentifierAmounts=t.getPresentItemAmount=t.isCriteriaItem=t.isErc1155Item=t.isErc721Item=t.isErc20Item=t.isNativeCurrencyItem=t.isCurrencyItem=void 0;const r=n("c030"),i=n("54e8"),a=n("3c7f"),s=n("b989"),o=({itemType:e})=>[i.ItemType.NATIVE,i.ItemType.ERC20].includes(e);t.isCurrencyItem=o;const u=({itemType:e})=>e===i.ItemType.NATIVE;t.isNativeCurrencyItem=u;const l=e=>e===i.ItemType.ERC20;t.isErc20Item=l;const d=e=>[i.ItemType.ERC721,i.ItemType.ERC721_WITH_CRITERIA].includes(e);t.isErc721Item=d;const p=e=>[i.ItemType.ERC1155,i.ItemType.ERC1155_WITH_CRITERIA].includes(e);t.isErc1155Item=p;const c=e=>[i.ItemType.ERC721_WITH_CRITERIA,i.ItemType.ERC1155_WITH_CRITERIA].includes(e);t.isCriteriaItem=c;const y=({startAmount:e,endAmount:t,timeBasedItemParams:n})=>{const i=r.BigNumber.from(e),a=r.BigNumber.from(t);if(!n)return i.gt(a)?i:a;const{isConsiderationItem:s,currentBlockTimestamp:o,ascendingAmountTimestampBuffer:u,startTime:l,endTime:d}=n,p=r.BigNumber.from(d).sub(l),c=a.gt(e),y=r.BigNumber.from(c?o+u:o);if(y.lt(l))return i;const m=(y.gt(d)?r.BigNumber.from(d):y).sub(l),f=p.sub(m);return i.mul(f).add(a.mul(m)).add(s?p.sub(1):0).div(p)};t.getPresentItemAmount=y;const m=({items:e,criterias:n,timeBasedItemParams:i})=>{const s=(0,a.getItemToCriteriaMap)(e,n),o=e.reduce((e,n)=>{var a,o,u,l;const d=null!==(o=null===(a=s.get(n))||void 0===a?void 0:a.identifier)&&void 0!==o?o:n.identifierOrCriteria;return Object.assign(Object.assign({},e),{[n.token]:Object.assign(Object.assign({},e[n.token]),{[d]:(null!==(l=null===(u=e[n.token])||void 0===u?void 0:u[d])&&void 0!==l?l:r.BigNumber.from(0)).add((0,t.getPresentItemAmount)({startAmount:n.startAmount,endAmount:n.endAmount,timeBasedItemParams:i}))})})},{});return o};t.getSummedTokenAndIdentifierAmounts=m;const f=({parameters:{offer:e,consideration:t}})=>{const n=[...e,...t],r=n.flatMap(({startAmount:e,endAmount:t})=>[e,t]);return(0,s.findGcd)(r)};t.getMaximumSizeForOrder=f},"39cc":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSeaSDK=void 0;const i=n("faa1"),a=n("a467"),s=n("54e8"),o=n("c030"),u=n("4d8a"),l=n("fe98"),d=n("0aed"),p=n("6f8e"),c=n("c8c8"),y=n("29a7"),m=n("f10d"),f=n("6520");class h{constructor(e,t={},n,r){var o;this.getAmountWithBasisPointsApplied=(e,t)=>e.mul(t).div(d.INVERSE_BASIS_POINT).toString(),this.createSellOrder=this.createListing,this.createBuyOrder=this.createOffer,null!==(o=t.chain)&&void 0!==o||(t.chain=m.Chain.Mainnet),this.chain=t.chain,this.api=new l.OpenSeaAPI(t),this.provider=e,this._signerOrProvider=null!==r&&void 0!==r?r:this.provider,this.seaport_v1_5=new a.Seaport(this._signerOrProvider,{overrides:{defaultConduitKey:s.OPENSEA_CONDUIT_KEY}}),this._emitter=new i,this.logger=null!==n&&void 0!==n?n:e=>e}addListener(e,t,n=!1){n?this._emitter.once(e,t):this._emitter.addListener(e,t)}removeListener(e,t){this._emitter.removeListener(e,t)}removeAllListeners(e){this._emitter.removeAllListeners(e)}wrapEth({amountInEth:e,accountAddress:t}){return r(this,void 0,void 0,(function*(){yield this._requireAccountIsAvailable(t);const n=(0,u.parseEther)(o.FixedNumber.from(e).toString());this._dispatch(m.EventType.WrapEth,{accountAddress:t,amount:n});const r=new o.Contract((0,f.getWETHAddress)(this.chain),["function deposit() payable"],this._signerOrProvider);r.connect(this.provider);try{const e=yield r.deposit({value:n});yield this._confirmTransaction(e.hash,m.EventType.WrapEth,"Wrapping ETH")}catch(i){console.error(i),this._dispatch(m.EventType.TransactionDenied,{error:i,accountAddress:t})}}))}unwrapWeth({amountInEth:e,accountAddress:t}){return r(this,void 0,void 0,(function*(){yield this._requireAccountIsAvailable(t);const n=(0,u.parseEther)(o.FixedNumber.from(e).toString());this._dispatch(m.EventType.UnwrapWeth,{accountAddress:t,amount:n});const r=new o.Contract((0,f.getWETHAddress)(this.chain),["function withdraw(uint wad) public"],this._signerOrProvider);r.connect(this.provider);try{const e=yield r.withdraw(n);yield this._confirmTransaction(e.hash,m.EventType.UnwrapWeth,"Unwrapping W-ETH")}catch(i){console.error(i),this._dispatch(m.EventType.TransactionDenied,{error:i,accountAddress:t})}}))}getFees({collection:e,paymentTokenAddress:t,startAmount:n,endAmount:i}){var a,s;return r(this,void 0,void 0,(function*(){const r=null===(a=e.fees)||void 0===a?void 0:a.openseaFees,o=null===(s=e.fees)||void 0===s?void 0:s.sellerFees,u=(0,f.feesToBasisPoints)(r),l=(0,f.feesToBasisPoints)(o),p=d.INVERSE_BASIS_POINT-u-l,c=(e,r)=>({token:t,amount:this.getAmountWithBasisPointsApplied(n,e),endAmount:this.getAmountWithBasisPointsApplied(null!==i&&void 0!==i?i:n,e),recipient:r}),y=e=>Array.from(e.entries()).map(([e,t])=>c(t,e));return{sellerFee:c(p),openseaSellerFees:u>0&&e.fees?y(r):[],collectionSellerFees:l>0&&e.fees?y(o):[]}}))}getNFTItems(e,t=[]){return e.map((e,n)=>{var r,i;return{itemType:(0,f.getAssetItemType)(e.token_standard.toUpperCase()),token:(0,f.getAddressAfterRemappingSharedStorefrontAddressToLazyMintAdapterAddress)(e.contract),identifier:null!==(r=e.identifier)&&void 0!==r?r:void 0,amount:null!==(i=t[n].toString())&&void 0!==i?i:"1"}})}createOffer({asset:e,accountAddress:t,startAmount:n,quantity:i=1,domain:a,salt:s,expirationTime:u,paymentTokenAddress:l=(0,f.getWETHAddress)(this.chain)}){return r(this,void 0,void 0,(function*(){yield this._requireAccountIsAvailable(t);const{nft:r}=yield this.api.getNFT(this.chain,e.tokenAddress,e.tokenId),p=this.getNFTItems([r],[o.BigNumber.from(null!==i&&void 0!==i?i:1)]),{basePrice:y}=yield this._getPriceParameters(m.OrderSide.Buy,l,null!==u&&void 0!==u?u:(0,f.getMaxOrderExpirationTimestamp)(),n),h=yield this.api.getCollection(r.collection),{openseaSellerFees:g,collectionSellerFees:T}=yield this.getFees({collection:h,paymentTokenAddress:l,startAmount:y}),b=[...g,...T],{executeAllActions:v}=yield this.seaport_v1_5.createOrder({offer:[{token:l,amount:y.toString()}],consideration:[...p,...b],endTime:void 0!==u?o.BigNumber.from(u).toString():(0,f.getMaxOrderExpirationTimestamp)().toString(),zone:d.DEFAULT_ZONE,domain:a,salt:o.BigNumber.from(null!==s&&void 0!==s?s:0).toString(),restrictedByZone:!1,allowPartialFills:!0},t),O=yield v();return this.api.postOrder(O,{protocol:"seaport",protocolAddress:c.DEFAULT_SEAPORT_CONTRACT_ADDRESS,side:"bid"})}))}createListing({asset:e,accountAddress:t,startAmount:n,endAmount:i,quantity:a=1,domain:s,salt:u,listingTime:l,expirationTime:y,paymentTokenAddress:h=o.ethers.constants.AddressZero,buyerAddress:g,englishAuction:T}){var b;return r(this,void 0,void 0,(function*(){yield this._requireAccountIsAvailable(t);const{nft:r}=yield this.api.getNFT(this.chain,e.tokenAddress,e.tokenId),v=this.getNFTItems([r],[o.BigNumber.from(null!==a&&void 0!==a?a:1)]);if(T&&h==o.ethers.constants.AddressZero)throw new Error("English auctions must use wrapped ETH or an ERC-20 token.");const{basePrice:O,endPrice:A}=yield this._getPriceParameters(m.OrderSide.Sell,h,null!==y&&void 0!==y?y:(0,f.getMaxOrderExpirationTimestamp)(),n,null!==i&&void 0!==i?i:void 0),_=yield this.api.getCollection(r.collection),{sellerFee:E,openseaSellerFees:C,collectionSellerFees:I}=yield this.getFees({collection:_,paymentTokenAddress:h,startAmount:O,endAmount:A}),S=[E,...C,...I];g&&S.push(...(0,p.getPrivateListingConsiderations)(v,g));const{executeAllActions:P}=yield this.seaport_v1_5.createOrder({offer:v,consideration:S,startTime:null===l||void 0===l?void 0:l.toString(),endTime:null!==(b=null===y||void 0===y?void 0:y.toString())&&void 0!==b?b:(0,f.getMaxOrderExpirationTimestamp)().toString(),zone:T?(0,f.isTestChain)(this.chain)?d.ENGLISH_AUCTION_ZONE_TESTNETS:d.ENGLISH_AUCTION_ZONE_MAINNETS:d.DEFAULT_ZONE,domain:s,salt:o.BigNumber.from(null!==u&&void 0!==u?u:0).toString(),restrictedByZone:!!T,allowPartialFills:!T},t),B=yield P();return this.api.postOrder(B,{protocol:"seaport",protocolAddress:c.DEFAULT_SEAPORT_CONTRACT_ADDRESS,side:"ask"})}))}createCollectionOffer({collectionSlug:e,accountAddress:t,amount:n,quantity:i,domain:a,salt:s,expirationTime:u,paymentTokenAddress:l}){var d;return r(this,void 0,void 0,(function*(){yield this._requireAccountIsAvailable(t);const r=yield this.api.getCollection(e),p=yield this.api.buildOffer(t,i,e),c=p.partialParameters.consideration[0],y={itemType:c.itemType,token:c.token,identifier:c.identifierOrCriteria,amount:c.startAmount},{basePrice:h}=yield this._getPriceParameters(m.OrderSide.Buy,l,null!==u&&void 0!==u?u:(0,f.getMaxOrderExpirationTimestamp)(),n),{openseaSellerFees:g,collectionSellerFees:T}=yield this.getFees({collection:r,paymentTokenAddress:l,startAmount:h,endAmount:h}),b=[y,...g,...T],v={offerer:t,offer:[{token:l,amount:h.toString()}],consideration:b,endTime:null!==(d=null===u||void 0===u?void 0:u.toString())&&void 0!==d?d:(0,f.getMaxOrderExpirationTimestamp)().toString(),zone:p.partialParameters.zone,domain:a,salt:o.BigNumber.from(null!==s&&void 0!==s?s:0).toString(),restrictedByZone:!0,allowPartialFills:!0},{executeAllActions:O}=yield this.seaport_v1_5.createOrder(v,t),A=yield O();return this.api.postCollectionOffer(A,e)}))}fulfillPrivateOrder({order:e,accountAddress:t,domain:n,overrides:i}){var a;return r(this,void 0,void 0,(function*(){if(!(null===(a=e.taker)||void 0===a?void 0:a.address))throw new Error("Order is not a private listing - must have a taker address");const r=(0,p.constructPrivateListingCounterOrder)(e.protocolData,e.taker.address),s=(0,p.getPrivateListingFulfillments)(e.protocolData),o=yield this.seaport_v1_5.matchOrders({orders:[e.protocolData,r],fulfillments:s,overrides:Object.assign(Object.assign({},i),{value:r.parameters.offer[0].startAmount}),accountAddress:t,domain:n}).transact(),u=yield o.wait();return yield this._confirmTransaction(u.transactionHash,m.EventType.MatchOrders,"Fulfilling order"),u.transactionHash}))}fulfillOrder({order:e,accountAddress:t,recipientAddress:n,domain:i,overrides:a}){return r(this,void 0,void 0,(function*(){yield this._requireAccountIsAvailable(t),(0,f.requireValidProtocol)(e.protocolAddress);let r=void 0;if(e.orderHash){const n=yield this.api.generateFulfillmentData(t,e.orderHash,e.protocolAddress,e.side),i=n.fulfillment_data.transaction.input_data;"orders"in i&&"extraData"in i.orders[0]&&(r=i.orders[0].extraData);const a=n.fulfillment_data.orders[0].signature;e.clientSignature=a,e.protocolData.signature=a}const s=!!e.taker;if(s){if(n)throw new Error("Private listings cannot be fulfilled with a recipient address");return this.fulfillPrivateOrder({order:e,accountAddress:t,domain:i,overrides:a})}const{executeAllActions:o}=yield this.seaport_v1_5.fulfillOrder({order:e.protocolData,accountAddress:t,recipientAddress:n,extraData:r,domain:i,overrides:a}),u=yield o();return yield this._confirmTransaction(u.hash,m.EventType.MatchOrders,"Fulfilling order"),u.hash}))}cancelSeaportOrders({orders:e,accountAddress:t,domain:n,protocolAddress:i=c.DEFAULT_SEAPORT_CONTRACT_ADDRESS,overrides:a}){return r(this,void 0,void 0,(function*(){const r=o.ethers.utils.getAddress(i);if(r!==c.DEFAULT_SEAPORT_CONTRACT_ADDRESS)throw new Error(`Only ${c.DEFAULT_SEAPORT_CONTRACT_ADDRESS} is currently supported for cancelling orders.`);const s=yield this.seaport_v1_5.cancelOrders(e,t,n,a).transact();return s.hash}))}cancelOrder({order:e,accountAddress:t,domain:n}){return r(this,void 0,void 0,(function*(){yield this._requireAccountIsAvailable(t),(0,f.requireValidProtocol)(e.protocolAddress),this._dispatch(m.EventType.CancelOrder,{orderV2:e,accountAddress:t});const r=yield this.cancelSeaportOrders({orders:[e.protocolData.parameters],accountAddress:t,domain:n,protocolAddress:e.protocolAddress});yield this._confirmTransaction(r,m.EventType.CancelOrder,"Cancelling order")}))}isOrderFulfillable({order:e,accountAddress:t}){return r(this,void 0,void 0,(function*(){(0,f.requireValidProtocol)(e.protocolAddress);try{const n=yield this.seaport_v1_5.validate([e.protocolData],t).callStatic();return!!n}catch(n){if((0,f.hasErrorCode)(n)&&"CALL_EXCEPTION"===n.code)return!1;throw n}}))}getBalance({accountAddress:e,asset:t},n=1){var i,a;return r(this,void 0,void 0,(function*(){try{switch(t.tokenStandard){case m.TokenStandard.ERC20:{const n=new o.ethers.Contract(t.tokenAddress,y.ERC20__factory.createInterface(),this.provider);return yield n.callStatic.balanceOf(e)}case m.TokenStandard.ERC1155:{const n=new o.ethers.Contract(t.tokenAddress,y.ERC1155__factory.createInterface(),this.provider);return yield n.callStatic.balanceOf(e,t.tokenId)}case m.TokenStandard.ERC721:{const n=new o.ethers.Contract(t.tokenAddress,y.ERC721__factory.createInterface(),this.provider);try{const r=yield n.callStatic.ownerOf(t.tokenId);return r.toLowerCase()==e.toLowerCase()?o.BigNumber.from(1):o.BigNumber.from(0)}catch(r){return this.logger("Failed to get ownerOf ERC721: "+(null!==(i=r.message)&&void 0!==i?i:r)),o.BigNumber.from(0)}}default:throw new Error("Unsupported token standard for getBalance")}}catch(r){if(n<=0)throw new Error("Unable to get owner from smart contract: "+(null!==(a=r.message)&&void 0!==a?a:r));return yield(0,f.delay)(500),yield this.getBalance({accountAddress:e,asset:t},n-1)}}))}computeFees({asset:e}){return r(this,void 0,void 0,(function*(){const t=0;let n=0;const r=0;let i=0;if(e){const t=e.collection.fees;n=+(0,f.feesToBasisPoints)(null===t||void 0===t?void 0:t.openseaFees),i=+(0,f.feesToBasisPoints)(null===t||void 0===t?void 0:t.sellerFees)}return{totalBuyerFeeBasisPoints:t+r,totalSellerFeeBasisPoints:n+i,openseaBuyerFeeBasisPoints:t,openseaSellerFeeBasisPoints:n,devBuyerFeeBasisPoints:r,devSellerFeeBasisPoints:i}}))}approveOrder(e,t){return r(this,void 0,void 0,(function*(){yield this._requireAccountIsAvailable(e.maker.address),(0,f.requireValidProtocol)(e.protocolAddress),this._dispatch(m.EventType.ApproveOrder,{orderV2:e,accountAddress:e.maker.address});const n=yield this.seaport_v1_5.validate([e.protocolData],e.maker.address,t).transact();return yield this._confirmTransaction(n.hash,m.EventType.ApproveOrder,"Approving order"),n.hash}))}_getPriceParameters(e,t,n,i,a){var s;return r(this,void 0,void 0,(function*(){const r=t===o.ethers.constants.AddressZero;let u;if(!r&&[m.Chain.Mainnet,m.Chain.Sepolia].includes(this.chain)){const{tokens:e}=yield this.api.getPaymentTokens({address:t.toLowerCase()});u=e[0]}const l=null!==(s=null===u||void 0===u?void 0:u.decimals)&&void 0!==s?s:18,d=o.ethers.utils.parseUnits(i.toString(),l),p=a?o.ethers.utils.parseUnits(a.toString(),l):void 0,c=void 0!==p?d.sub(p):o.BigNumber.from(0),y=d,h=p,g=c;if(null==i||d.lt(0))throw new Error("Starting price must be a number >= 0");if(!r&&!u)try{t.toLowerCase()==(0,f.getWETHAddress)(this.chain).toLowerCase()&&(u={name:"Wrapped Ether",symbol:"WETH",decimals:18,address:t})}catch(T){throw new Error(`No ERC-20 token found for ${t}, only WETH is currently supported for chains other than Mainnet Ethereum`)}if(r&&e===m.OrderSide.Buy)throw new Error("Offers must use wrapped ETH or an ERC-20 token.");if(c.lt(0))throw new Error("End price must be less than or equal to the start price.");if(c.gt(0)&&o.BigNumber.from(n).isZero())throw new Error("Expiration time must be set if order will change in price.");return{basePrice:y,extra:g,paymentToken:u,endPrice:h}}))}_dispatch(e,t){this._emitter.emit(e,t)}_requireAccountIsAvailable(e){return r(this,void 0,void 0,(function*(){const t=o.ethers.utils.getAddress(e),n=[];if("address"in this._signerOrProvider?n.push(this._signerOrProvider.address):"listAccounts"in this._signerOrProvider&&n.push(...yield this._signerOrProvider.listAccounts()),!n.includes(t))throw new Error(`Specified accountAddress is not available through wallet or provider: ${t}. Accounts available: ${n.length>0?n.join(", "):"none"}`)}))}_confirmTransaction(e,t,n){return r(this,void 0,void 0,(function*(){const r={transactionHash:e,event:t};this.logger("Transaction started: "+n);try{this._dispatch(m.EventType.TransactionCreated,r),yield this.provider.waitForTransaction(e),this.logger("Transaction succeeded: "+n),this._dispatch(m.EventType.TransactionConfirmed,r)}catch(i){throw this.logger("Transaction failed: "+n),this._dispatch(m.EventType.TransactionFailed,Object.assign(Object.assign({},r),{error:i})),i}}))}}t.OpenSeaSDK=h},"3c7f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getItemToCriteriaMap=t.generateCriteriaResolvers=void 0;const r=n("54e8"),i=n("2ec4"),a=({orders:e,offerCriterias:t=[[]],considerationCriterias:n=[[]]})=>{const a=e.flatMap((e,t)=>e.parameters.offer.map((e,n)=>({orderIndex:t,item:e,index:n,side:r.Side.OFFER})).filter(({item:e})=>(0,i.isCriteriaItem)(e.itemType))),s=e.flatMap((e,t)=>e.parameters.consideration.map((e,n)=>({orderIndex:t,item:e,index:n,side:r.Side.CONSIDERATION})).filter(({item:e})=>(0,i.isCriteriaItem)(e.itemType))),o=(e,t)=>e.map(({orderIndex:e,item:n,index:r,side:i})=>{const a=n.identifierOrCriteria||"0",s=t[e][r];return{orderIndex:e,index:r,side:i,identifier:s.identifier,criteriaProof:"0"===a?[]:s.proof}}),u=[...o(a,t),...o(s,n)];return u};t.generateCriteriaResolvers=a;const s=(e,t)=>{const n=[...t];return e.reduce((e,t)=>((0,i.isCriteriaItem)(t.itemType)&&e.set(t,n.shift()),e),new Map)};t.getItemToCriteriaMap=s},"3d1b9":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Seaport=void 0;const i=n("6425"),a=n("c030"),s=n("4d8a"),o=n("d5ab"),u=n("6bec3"),l=n("54e8"),d=n("649b"),p=n("416c"),c=n("e58e"),y=n("6ed4"),m=n("2ec4"),f=n("0499"),h=n("e51f");class g{constructor(e,{overrides:t,ascendingAmountFulfillmentBuffer:n=300,balanceAndApprovalChecksOnOrderCreation:r=!0,conduitKeyToConduit:s,seaportVersion:d="1.5"}={}){var p,c,y;this.OPENSEA_CONDUIT_KEY=l.OPENSEA_CONDUIT_KEY,this.getOrderHash=e=>{const t="OfferItem(uint8 itemType,address token,uint256 identifierOrCriteria,uint256 startAmount,uint256 endAmount)",n="ConsiderationItem(uint8 itemType,address token,uint256 identifierOrCriteria,uint256 startAmount,uint256 endAmount,address recipient)",r="OrderComponents(address offerer,address zone,OfferItem[] offer,ConsiderationItem[] consideration,uint8 orderType,uint256 startTime,uint256 endTime,bytes32 zoneHash,uint256 salt,bytes32 conduitKey,uint256 counter)",i=`${r}${n}${t}`,s=a.ethers.utils.keccak256(a.ethers.utils.toUtf8Bytes(t)),o=a.ethers.utils.keccak256(a.ethers.utils.toUtf8Bytes(n)),u=a.ethers.utils.keccak256(a.ethers.utils.toUtf8Bytes(i)),l=a.ethers.utils.keccak256("0x"+e.offer.map(e=>a.ethers.utils.keccak256("0x"+[s.slice(2),e.itemType.toString().padStart(64,"0"),e.token.slice(2).padStart(64,"0"),a.ethers.BigNumber.from(e.identifierOrCriteria).toHexString().slice(2).padStart(64,"0"),a.ethers.BigNumber.from(e.startAmount).toHexString().slice(2).padStart(64,"0"),a.ethers.BigNumber.from(e.endAmount).toHexString().slice(2).padStart(64,"0")].join("")).slice(2)).join("")),d=a.ethers.utils.keccak256("0x"+e.consideration.map(e=>a.ethers.utils.keccak256("0x"+[o.slice(2),e.itemType.toString().padStart(64,"0"),e.token.slice(2).padStart(64,"0"),a.ethers.BigNumber.from(e.identifierOrCriteria).toHexString().slice(2).padStart(64,"0"),a.ethers.BigNumber.from(e.startAmount).toHexString().slice(2).padStart(64,"0"),a.ethers.BigNumber.from(e.endAmount).toHexString().slice(2).padStart(64,"0"),e.recipient.slice(2).padStart(64,"0")].join("")).slice(2)).join("")),p=a.ethers.utils.keccak256("0x"+[u.slice(2),e.offerer.slice(2).padStart(64,"0"),e.zone.slice(2).padStart(64,"0"),l.slice(2),d.slice(2),e.orderType.toString().padStart(64,"0"),a.ethers.BigNumber.from(e.startTime).toHexString().slice(2).padStart(64,"0"),a.ethers.BigNumber.from(e.endTime).toHexString().slice(2).padStart(64,"0"),e.zoneHash.slice(2),a.BigNumber.from(e.salt).toHexString().slice(2).padStart(64,"0"),e.conduitKey.slice(2).padStart(64,"0"),a.ethers.BigNumber.from(e.counter).toHexString().slice(2).padStart(64,"0")].join(""));return p};const m=e instanceof a.providers.Provider?e:e.provider;if(this.signer=e._isSigner?e:void 0,!m)throw new Error("Either a provider or custom signer with provider must be provided");this.provider=m,this.multicallProvider=new i.providers.MulticallProvider(this.provider),this.contract=new a.Contract(null!==(p=null===t||void 0===t?void 0:t.contractAddress)&&void 0!==p?p:"1.5"===d?l.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS:l.CROSS_CHAIN_SEAPORT_V1_4_ADDRESS,u.SeaportABIv14,this.multicallProvider),this.domainRegistry=new a.Contract(null!==(c=null===t||void 0===t?void 0:t.domainRegistryAddress)&&void 0!==c?c:l.DOMAIN_REGISTRY_ADDRESS,o.DomainRegistryABI,this.multicallProvider),this.config={ascendingAmountFulfillmentBuffer:n,balanceAndApprovalChecksOnOrderCreation:r,conduitKeyToConduit:Object.assign(Object.assign(Object.assign({},l.KNOWN_CONDUIT_KEYS_TO_CONDUIT),{[l.NO_CONDUIT]:this.contract.address}),s),seaportVersion:d},this.defaultConduitKey=null!==(y=null===t||void 0===t?void 0:t.defaultConduitKey)&&void 0!==y?y:l.NO_CONDUIT}createOrder(e,t,n){return r(this,void 0,void 0,(function*(){const i=this._getSigner(t),a=null!==t&&void 0!==t?t:yield i.getAddress(),{orderComponents:s,approvalActions:o}=yield this._formatOrder(i,a,Boolean(n),e),u={type:"create",getMessageToSign:()=>this._getMessageToSign(s),createOrder:()=>r(this,void 0,void 0,(function*(){const e=yield this.signOrder(s,a);return{parameters:s,signature:e}}))},l=[...o,u];return{actions:l,executeAllActions:()=>(0,h.executeAllActions)(l)}}))}createBulkOrders(e,t,n){var i;return r(this,void 0,void 0,(function*(){const a=this._getSigner(t),s=yield a.getAddress(),o=yield this.getCounter(s),u=[],l=[];for(const t of e){null!==(i=t.counter)&&void 0!==i||(t.counter=o);const{orderComponents:e,approvalActions:r}=yield this._formatOrder(a,s,Boolean(n),t);l.push(e);for(const t of r)void 0===u.find(e=>e.token===t.token)&&u.push(t)}const d={type:"createBulk",getMessageToSign:()=>this._getBulkMessageToSign(l),createBulkOrders:()=>r(this,void 0,void 0,(function*(){const e=yield this.signBulkOrder(l,s);return e}))},p=[...u,d];return{actions:p,executeAllActions:()=>(0,h.executeAllActions)(p)}}))}_formatOrder(e,t,n,{conduitKey:i=this.defaultConduitKey,zone:s=a.ethers.constants.AddressZero,zoneHash:o=a.ethers.constants.HashZero,startTime:u=Math.floor(Date.now()/1e3).toString(),endTime:c=l.MAX_INT.toString(),offer:y,consideration:h,counter:g,allowPartialFills:T,restrictedByZone:b,fees:v,domain:O,salt:A}){var _;return r(this,void 0,void 0,(function*(){const r=y.map(f.mapInputItemToOfferItem),l=[...h.map(e=>{var n;return Object.assign(Object.assign({},(0,f.mapInputItemToOfferItem)(e)),{recipient:null!==(n=e.recipient)&&void 0!==n?n:t})})];if((null===v||void 0===v?void 0:v.length)&&!(0,f.areAllCurrenciesSame)({offer:r,consideration:l}))throw new Error("All currency tokens in the order must be the same token when applying fees");const E=[...r,...l].filter(m.isCurrencyItem),C=(0,f.totalItemsAmount)(E),I=this.config.conduitKeyToConduit[i],S=this._getOrderTypeFromOrderOptions({allowPartialFills:T,restrictedByZone:b}),P=[...(0,f.deductFees)(l,v),...E.length&&null!==(_=null===v||void 0===v?void 0:v.map(e=>(0,f.feeToConsiderationItem)({fee:e,token:E[0].token,baseAmount:C.startAmount,baseEndAmount:C.endAmount})))&&void 0!==_?_:[]],B=void 0!==A?"0x"+a.BigNumber.from(A).toHexString().slice(2).padStart(64,"0"):(0,f.generateRandomSalt)(O),w={offerer:t,zone:s,zoneHash:o,startTime:u,endTime:c,orderType:S,offer:r,consideration:P,totalOriginalConsiderationItems:P.length,salt:B,conduitKey:i,counter:(null!==g&&void 0!==g?g:yield this.getCounter(t)).toString()},x=[];if(this.config.balanceAndApprovalChecksOnOrderCreation){const i=yield(0,p.getBalancesAndApprovals)({owner:t,items:r,criterias:[],multicallProvider:this.multicallProvider,operator:I}),a=(0,p.validateOfferBalancesAndApprovals)({offer:r,criterias:[],balancesAndApprovals:i,throwOnInsufficientBalances:!0,operator:I}),s=(0,d.getApprovalActions)(a,n,e);x.push(...s)}return{orderComponents:w,approvalActions:x}}))}_getSigner(e){if(this.signer)return this.signer;if(!(this.provider instanceof a.providers.JsonRpcProvider))throw new Error("Either signer or a JsonRpcProvider must be provided");return this.provider.getSigner(e)}_getOrderTypeFromOrderOptions({allowPartialFills:e,restrictedByZone:t}){return e?t?l.OrderType.PARTIAL_RESTRICTED:l.OrderType.PARTIAL_OPEN:t?l.OrderType.FULL_RESTRICTED:l.OrderType.FULL_OPEN}_getDomainData(){return r(this,void 0,void 0,(function*(){const{chainId:e}=yield this.provider.getNetwork();return{name:l.SEAPORT_CONTRACT_NAME,version:"1.5"===this.config.seaportVersion?l.SEAPORT_CONTRACT_VERSION_V1_5:l.SEAPORT_CONTRACT_VERSION_V1_4,chainId:e,verifyingContract:this.contract.address}}))}_getMessageToSign(e){return r(this,void 0,void 0,(function*(){const t=yield this._getDomainData();return JSON.stringify(s._TypedDataEncoder.getPayload(t,l.EIP_712_ORDER_TYPE,e))}))}_getBulkMessageToSign(e){return r(this,void 0,void 0,(function*(){const t=yield this._getDomainData(),n=(0,c.getBulkOrderTree)(e),r=n.types,i=n.getDataToSign();return JSON.stringify(s._TypedDataEncoder.getPayload(t,r,{tree:i}))}))}signOrder(e,t){return r(this,void 0,void 0,(function*(){const n=this._getSigner(t),r=yield this._getDomainData();let i=yield n._signTypedData(r,l.EIP_712_ORDER_TYPE,e);return 132===i.length&&(i=a.ethers.utils.splitSignature(i).compact),i}))}signBulkOrder(e,t){return r(this,void 0,void 0,(function*(){const n=this._getSigner(t),r=yield this._getDomainData(),i=(0,c.getBulkOrderTree)(e),s=i.types,o=i.getDataToSign(),u={tree:o};let l=yield n._signTypedData(r,s,u);132===l.length&&(l=a.ethers.utils.splitSignature(l).compact);const d=e.map((e,t)=>({parameters:e,signature:i.getEncodedProofAndSignature(t,l)}));return d}))}cancelOrders(e,t,n,r){const i=this._getSigner(t);return(0,h.getTransactionMethods)(this.contract.connect(i),"cancel",[e,r],n)}bulkCancelOrders(e,t,n){const r=this._getSigner(e);return(0,h.getTransactionMethods)(this.contract.connect(r),"incrementCounter",[n],t)}validate(e,t,n,r){const i=this._getSigner(t);return(0,h.getTransactionMethods)(this.contract.connect(i),"validate",[e,r],n)}getOrderStatus(e){return this.contract.getOrderStatus(e)}getCounter(e){return this.contract.getCounter(e)}fulfillOrder({order:e,unitsToFill:t,offerCriteria:n=[],considerationCriteria:i=[],tips:s=[],extraData:o="0x",accountAddress:u,conduitKey:l=this.defaultConduitKey,recipientAddress:d=a.ethers.constants.AddressZero,domain:c,exactApproval:h=!1,overrides:g}){return r(this,void 0,void 0,(function*(){if(!e.signature)throw new Error("Order is missing signature");const{parameters:r}=e,{offerer:T,offer:b,consideration:v}=r,O=this._getSigner(u),A=yield O.getAddress(),_=this.config.conduitKeyToConduit[r.conduitKey],E=this.config.conduitKeyToConduit[l],[C,I,S,P]=yield Promise.all([(0,p.getBalancesAndApprovals)({owner:T,items:b,criterias:n,multicallProvider:this.multicallProvider,operator:_}),(0,p.getBalancesAndApprovals)({owner:A,items:[...b,...v],criterias:[...n,...i],multicallProvider:this.multicallProvider,operator:E}),this.multicallProvider.getBlock("latest"),this.getOrderStatus(this.getOrderHash(r))]),B=S.timestamp,{totalFilled:w,totalSize:x}=P,R=(0,y.validateAndSanitizeFromOrderStatus)(e,P),k={startTime:R.parameters.startTime,endTime:R.parameters.endTime,currentBlockTimestamp:B,ascendingAmountTimestampBuffer:this.config.ascendingAmountFulfillmentBuffer},N=s.map(e=>Object.assign(Object.assign({},(0,f.mapInputItemToOfferItem)(e)),{recipient:e.recipient})),F=d===a.ethers.constants.AddressZero;return!t&&F&&(0,y.shouldUseBasicFulfill)(R.parameters,w)?(0,y.fulfillBasicOrder)({order:R,seaportContract:this.contract,offererBalancesAndApprovals:C,fulfillerBalancesAndApprovals:I,timeBasedItemParams:k,conduitKey:l,offererOperator:_,fulfillerOperator:E,signer:O,tips:N,domain:c,overrides:g},h):(0,y.fulfillStandardOrder)({order:R,unitsToFill:t,totalFilled:w,totalSize:x.eq(0)?(0,m.getMaximumSizeForOrder)(R):x,offerCriteria:n,considerationCriteria:i,tips:N,extraData:o,seaportContract:this.contract,offererBalancesAndApprovals:C,fulfillerBalancesAndApprovals:I,timeBasedItemParams:k,conduitKey:l,signer:O,offererOperator:_,fulfillerOperator:E,recipientAddress:d,domain:c,overrides:g},h)}))}fulfillOrders({fulfillOrderDetails:e,accountAddress:t,conduitKey:n=this.defaultConduitKey,recipientAddress:i=a.ethers.constants.AddressZero,domain:s,exactApproval:o=!1}){return r(this,void 0,void 0,(function*(){if(e.some(e=>!e.order.signature))throw new Error("All orders must include signatures");const r=this._getSigner(t),a=yield r.getAddress(),u=e.map(({order:e})=>this.config.conduitKeyToConduit[e.parameters.conduitKey]),l=this.config.conduitKeyToConduit[n],d=e.flatMap(({order:e})=>e.parameters.offer),c=e.flatMap(({order:e})=>e.parameters.consideration),m=e.flatMap(({offerCriteria:e=[]})=>e),h=e.flatMap(({considerationCriteria:e=[]})=>e),[g,T,b,v]=yield Promise.all([Promise.all(e.map(({order:e,offerCriteria:t=[]},n)=>(0,p.getBalancesAndApprovals)({owner:e.parameters.offerer,items:e.parameters.offer,criterias:t,operator:u[n],multicallProvider:this.multicallProvider}))),(0,p.getBalancesAndApprovals)({owner:a,items:[...d,...c],criterias:[...m,...h],operator:l,multicallProvider:this.multicallProvider}),this.multicallProvider.getBlock("latest"),Promise.all(e.map(({order:e})=>this.getOrderStatus(this.getOrderHash(e.parameters))))]),O=e.map((e,t)=>{var n,r,i,a,s;return{order:e.order,unitsToFill:e.unitsToFill,orderStatus:v[t],offerCriteria:null!==(n=e.offerCriteria)&&void 0!==n?n:[],considerationCriteria:null!==(r=e.considerationCriteria)&&void 0!==r?r:[],tips:null!==(a=null===(i=e.tips)||void 0===i?void 0:i.map(e=>Object.assign(Object.assign({},(0,f.mapInputItemToOfferItem)(e)),{recipient:e.recipient})))&&void 0!==a?a:[],extraData:null!==(s=e.extraData)&&void 0!==s?s:"0x",offererBalancesAndApprovals:g[t],offererOperator:u[t]}});return(0,y.fulfillAvailableOrders)({ordersMetadata:O,seaportContract:this.contract,fulfillerBalancesAndApprovals:T,currentBlockTimestamp:b.timestamp,ascendingAmountTimestampBuffer:this.config.ascendingAmountFulfillmentBuffer,fulfillerOperator:l,signer:r,conduitKey:n,recipientAddress:i,domain:s,exactApproval:o})}))}matchOrders({orders:e,fulfillments:t,overrides:n,accountAddress:r,domain:i}){const a=this._getSigner(r);return(0,h.getTransactionMethods)(this.contract.connect(a),"matchOrders",[e,t,n],i)}setDomain(e,t,n){const r=this._getSigner(t);return(0,h.getTransactionMethods)(this.domainRegistry.connect(r),"setDomain",[e,n])}getNumberOfDomains(e){return r(this,void 0,void 0,(function*(){return this.domainRegistry.getNumberOfDomains(e)}))}getDomain(e,t){return this.domainRegistry.getDomain(e,t)}getDomains(e){return r(this,void 0,void 0,(function*(){try{return this.domainRegistry.getDomains(e)}catch(t){const n=(yield this.domainRegistry.getNumberOfDomains(e)).toNumber(),r=Promise.all([...Array(n).keys()].map(t=>this.domainRegistry.getDomain(e,t)));return r}}))}}t.Seaport=g},"416c":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.validateStandardFulfillBalancesAndApprovals=t.validateBasicFulfillBalancesAndApprovals=t.validateOfferBalancesAndApprovals=t.getInsufficientBalanceAndApprovalAmounts=t.getBalancesAndApprovals=void 0;const i=n("c030"),a=n("54e8"),s=n("649b"),o=n("a7cf"),u=n("3c7f"),l=n("2ec4"),d=(e,t,n)=>{const r=e.find(({token:e,identifierOrCriteria:r})=>t.toLowerCase()===e.toLowerCase()&&r.toLowerCase()===n.toLowerCase());if(!r)throw new Error("Balances and approvals didn't contain all tokens and identifiers");return r},p=({owner:e,items:t,criterias:n,operator:d,multicallProvider:p})=>r(void 0,void 0,void 0,(function*(){const c=(0,u.getItemToCriteriaMap)(t,n);return Promise.all(t.map(t=>r(void 0,void 0,void 0,(function*(){var n,r;let u=Promise.resolve(i.BigNumber.from(0));return u=(0,l.isErc721Item)(t.itemType)||(0,l.isErc1155Item)(t.itemType)||(0,l.isErc20Item)(t.itemType)?(0,s.approvedItemAmount)(e,t,d,p):Promise.resolve(a.MAX_INT),{token:t.token,identifierOrCriteria:null!==(r=null===(n=c.get(t))||void 0===n?void 0:n.identifier)&&void 0!==r?r:t.identifierOrCriteria,balance:yield(0,o.balanceOf)(e,t,p,c.get(t)),approvedAmount:yield u,itemType:t.itemType}}))))}));t.getBalancesAndApprovals=p;const c=({balancesAndApprovals:e,tokenAndIdentifierAmounts:t,operator:n})=>{const r=[...Object.entries(t).map(([e,t])=>Object.entries(t).map(([t,n])=>[e,t,n]))].flat(),i=t=>r.filter(([n,r,i])=>d(e,n,r)[t].lt(i)).map(([n,r,i])=>{const a=d(e,n,r);return{token:n,identifierOrCriteria:r,requiredAmount:i,amountHave:a[t],itemType:a.itemType}}),a=e=>({token:e.token,identifierOrCriteria:e.identifierOrCriteria,approvedAmount:e.amountHave,requiredApprovedAmount:e.requiredAmount,itemType:e.itemType,operator:n}),[s,o]=[i("balance"),i("approvedAmount").map(a)];return{insufficientBalances:s,insufficientApprovals:o}};t.getInsufficientBalanceAndApprovalAmounts=c;const y=({offer:e,criterias:n,balancesAndApprovals:r,timeBasedItemParams:i,throwOnInsufficientBalances:a=!0,throwOnInsufficientApprovals:s,operator:o})=>{const{insufficientBalances:u,insufficientApprovals:d}=(0,t.getInsufficientBalanceAndApprovalAmounts)({balancesAndApprovals:r,tokenAndIdentifierAmounts:(0,l.getSummedTokenAndIdentifierAmounts)({items:e,criterias:n,timeBasedItemParams:i?Object.assign(Object.assign({},i),{isConsiderationItem:!1}):void 0}),operator:o});if(a&&u.length>0)throw new Error("The offerer does not have the amount needed to create or fulfill.");if(s&&d.length>0)throw new Error("The offerer does not have the sufficient approvals.");return d};t.validateOfferBalancesAndApprovals=y;const m=({offer:e,consideration:n,offererBalancesAndApprovals:r,fulfillerBalancesAndApprovals:i,timeBasedItemParams:a,offererOperator:s,fulfillerOperator:o})=>{(0,t.validateOfferBalancesAndApprovals)({offer:e,criterias:[],balancesAndApprovals:r,timeBasedItemParams:a,throwOnInsufficientApprovals:!0,operator:s});const u=n.filter(t=>t.itemType!==e[0].itemType),{insufficientBalances:d,insufficientApprovals:p}=(0,t.getInsufficientBalanceAndApprovalAmounts)({balancesAndApprovals:i,tokenAndIdentifierAmounts:(0,l.getSummedTokenAndIdentifierAmounts)({items:u,criterias:[],timeBasedItemParams:Object.assign(Object.assign({},a),{isConsiderationItem:!0})}),operator:o});if(d.length>0)throw new Error("The fulfiller does not have the balances needed to fulfill.");return p};t.validateBasicFulfillBalancesAndApprovals=m;const f=({offer:e,consideration:n,offerCriteria:r,considerationCriteria:i,offererBalancesAndApprovals:a,fulfillerBalancesAndApprovals:s,timeBasedItemParams:o,offererOperator:u,fulfillerOperator:d})=>{(0,t.validateOfferBalancesAndApprovals)({offer:e,criterias:r,balancesAndApprovals:a,timeBasedItemParams:o,throwOnInsufficientApprovals:!0,operator:u});const p=h({items:e,criterias:r,balancesAndApprovals:s,timeBasedItemParams:o}),{insufficientBalances:c,insufficientApprovals:y}=(0,t.getInsufficientBalanceAndApprovalAmounts)({balancesAndApprovals:p,tokenAndIdentifierAmounts:(0,l.getSummedTokenAndIdentifierAmounts)({items:n,criterias:i,timeBasedItemParams:Object.assign(Object.assign({},o),{isConsiderationItem:!0})}),operator:d});if(c.length>0)throw new Error("The fulfiller does not have the balances needed to fulfill.");return y};t.validateStandardFulfillBalancesAndApprovals=f;const h=({items:e,criterias:t,timeBasedItemParams:n,balancesAndApprovals:r})=>{const i=(0,l.getSummedTokenAndIdentifierAmounts)({items:e,criterias:t,timeBasedItemParams:Object.assign(Object.assign({},n),{isConsiderationItem:!1})}),a=r.map(e=>Object.assign({},e));return Object.entries(i).forEach(([e,t])=>Object.entries(t).forEach(([t,n])=>{const r=d(a,e,t),i=a.indexOf(r);a[i].balance=a[i].balance.add(n)})),a}},"4a84":function(e,t,n){"use strict";n.r(t);var r=n("c167");n.d(t,"ConstructorFragment",(function(){return r["a"]})),n.d(t,"ErrorFragment",(function(){return r["b"]})),n.d(t,"EventFragment",(function(){return r["c"]})),n.d(t,"Fragment",(function(){return r["e"]})),n.d(t,"FunctionFragment",(function(){return r["f"]})),n.d(t,"ParamType",(function(){return r["g"]})),n.d(t,"FormatTypes",(function(){return r["d"]}));var i=n("5791");n.d(t,"AbiCoder",(function(){return i["a"]})),n.d(t,"defaultAbiCoder",(function(){return i["b"]}));var a=n("a807");n.d(t,"Interface",(function(){return a["b"]})),n.d(t,"Indexed",(function(){return a["a"]}));var s=n("5134");n.d(t,"checkResultErrors",(function(){return s["d"]})),n.d(t,"LogDescription",(function(){return a["c"]})),n.d(t,"TransactionDescription",(function(){return a["d"]}))},"4d8a":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var s=n("4a84");Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return s.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return s.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return s.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return s.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return s.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return s.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return s.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return s.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return s.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}});var o=n("ca68");Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return o.isAddress}});var u=a(n("71da"));t.base64=u;var l=n("2cf2");Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return l.Base58}});var d=n("549e");Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return d.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return d.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return d.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return d.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return d.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return d.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return d.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return d.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return d.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return d.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return d.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return d.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return d.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return d.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return d.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return d.stripZeros}});var p=n("7d0b");Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return p._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return p.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return p.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return p.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return p.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return p.namehash}});var c=n("f002");Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return c.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return c.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return c.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return c.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return c.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return c.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return c.mnemonicToSeed}});var y=n("ce42");Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return y.getJsonWalletAddress}});var m=n("6f5a");Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return m.keccak256}});var f=n("ffb2");Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return f.Logger}});var h=n("820a");Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return h.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return h.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return h.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return h.sha512}});var g=n("08e9");Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var T=n("0b13");Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return T.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return T.shuffled}});var b=n("9bda");Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return b.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return b.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return b.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return b.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return b.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return b.shallowCopy}});var v=a(n("e165"));t.RLP=v;var O=n("ae1c");Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return O.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return O.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return O.SigningKey}});var A=n("8e19");Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return A.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return A.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return A.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return A._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return A.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return A.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return A.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return A.Utf8ErrorFuncs}});var _=n("5ac3");Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return _.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return _.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return _.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return _.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return _.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return _.TransactionTypes}});var E=n("7149");Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return E.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return E.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return E.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return E.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return E.parseUnits}});var C=n("288a");Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return C.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return C.verifyTypedData}});var I=n("baf7");Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return I._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return I.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return I.poll}});var S=n("820a");Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return S.SupportedAlgorithm}});var P=n("8e19");Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return P.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return P.Utf8ErrorReason}})},"51e6":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleMountainRange=void 0;const i=n("1c35"),a=r(n("94f8")),s=r(n("b309"));class o extends s.default{constructor(e=a.default,t=[],n,r,s){super(),this.root=i.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},t=t.map(this.bufferify),this.hashFn=this.bufferifyFn(e),this.hashLeafFn=n,this.peakBaggingFn=r,this.hashBranchFn=s;for(const i of t)this.append(i)}append(e){e=this.bufferify(e);const t=this.hashFn(e),n=this.bufferToHex(t);this.data[n]&&this.bufferToHex(this.hashFn(this.data[n]))===n||(this.data[n]=e);const r=this.hashLeaf(this.size+1,t);this.hashes[this.size+1]=r,this.width+=1;const i=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const a=[];for(let s=0;s<i.length;s++)a[s]=this._getOrCreateNode(i[s]);this.root=this.peakBagging(this.width,a)}hashLeaf(e,t){return t=this.bufferify(t),this.hashLeafFn?this.bufferify(this.hashLeafFn(e,t)):this.hashFn(i.Buffer.concat([this.bufferify(e),t]))}hashBranch(e,t,n){return this.hashBranchFn?this.bufferify(this.hashBranchFn(e,t,n)):this.hashFn(i.Buffer.concat([this.bufferify(e),this.bufferify(t),this.bufferify(n)]))}getPeaks(){const e=this.getPeakIndexes(this.width),t=[];for(let n=0;n<e.length;n++)t[n]=this.hashes[e[n]];return t}getLeafIndex(e){return e%2===1?this.getSize(e):this.getSize(e-1)+1}getPeakIndexes(e){const t=this.numOfPeaks(e),n=[];let r=0,i=0;for(let a=255;a>0;a--)if(0!==(e&1<<a-1)&&(i=i+(1<<a)-1,n[r++]=i,n.length>=t))break;if(r!==n.length)throw new Error("invalid bit calculation");return n}numOfPeaks(e){let t=e,n=0;while(t>0)t%2===1&&n++,t>>=1;return n}peakBagging(e,t){const n=this.getSize(e);if(this.numOfPeaks(e)!==t.length)throw new Error("received invalid number of peaks");return 0!==e||t.length?this.peakBaggingFn?this.bufferify(this.peakBaggingFn(n,t)):this.hashFn(i.Buffer.concat([this.bufferify(n),...t.map(this.bufferify)])):i.Buffer.alloc(0)}getSize(e){return(e<<1)-this.numOfPeaks(e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(e){return this.hashes[e]}mountainHeight(e){let t=1;while(1<<t<=e+t)t++;return t-1}heightAt(e){let t=e,n=0,r=0;while(t>n)t-=(1<<r)-1,r=this.mountainHeight(t),n=(1<<r)-1;return r-(n-t)}isLeaf(e){return 1===this.heightAt(e)}getChildren(e){const t=e-(1<<this.heightAt(e)-1),n=e-1;if(t===n)throw new Error("not a parent");return[t,n]}getMerkleProof(e){if(e>this.size)throw new Error("out of range");if(!this.isLeaf(e))throw new Error("not a leaf");const t=this.root,n=this.width,r=this.getPeakIndexes(this.width),i=[];let a=0;for(let d=0;d<r.length;d++)i[d]=this.hashes[r[d]],r[d]>=e&&0===a&&(a=r[d]);let s=0,o=0,u=this.heightAt(a);const l=[];while(a!==e)u--,[s,o]=this.getChildren(a),a=e<=s?s:o,l[u-1]=this.hashes[e<=s?o:s];return{root:t,width:n,peakBagging:i,siblings:l}}verify(e,t,n,r,i,a){r=this.bufferify(r);const s=this.getSize(t);if(s<n)throw new Error("index is out of range");if(!e.equals(this.peakBagging(t,i)))throw new Error("invalid root hash from the peaks");let o,u=0;const l=this.getPeakIndexes(t);for(let f=0;f<l.length;f++)if(l[f]>=n){o=i[f],u=l[f];break}if(!o)throw new Error("target not found");let d=a.length+1;const p=new Array(d);let c,y=0,m=0;while(d>0){if(p[--d]=u,u===n)break;[y,m]=this.getChildren(u),u=n>y?m:y}while(d<p.length)u=p[d],c=0===d?this.hashLeaf(u,this.hashFn(r)):u-1===p[d-1]?this.hashBranch(u,a[d-1],c):this.hashBranch(u,c,a[d-1]),d++;if(!c.equals(o))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(e,t){const n={};let r=0,i=0,a=t.length;for(let s=1;s<=32;s++)r=32-s,i=1<<s-1,n[r]=0!==(e&i)?t[--a]:0;if(0!==a)throw new Error("invalid number of peaks");return n}peakMapToPeaks(e,t){const n=this.numOfPeaks(e),r=new Array(n);let i=0;for(let a=0;a<32;a++)0!==t[a]&&(r[i++]=t[a]);if(i!==n)throw new Error("invalid number of peaks");return r}peakUpdate(e,t,n){const r={},i=e+1;let a=this.getLeafIndex(i),s=this.hashLeaf(a,n),o=0,u=0,l=!1,d=!1,p=!1;for(let c=1;c<=32;c++)o=32-c,p?r[o]=t[o]:(u=1<<c-1,l=0!==(e&u),d=0!==(i&u),a++,l&&(s=this.hashBranch(a,t[o],s)),d?(r[o]=l?t[o]:s,p=!0):r[o]=0);return r}rollUp(e,t,n,r){if(!e.equals(this.peakBagging(t,n)))throw new Error("invalid root hash from the peaks");let i=t,a=this.peaksToPeakMap(t,n);for(let s=0;s<r.length;s++)a=this.peakUpdate(i,a,r[s]),i++;return this.peakBagging(i,this.peakMapToPeaks(i,a))}_getOrCreateNode(e){if(e>this.size)throw new Error("out of range");if(!this.hashes[e]){const[t,n]=this.getChildren(e),r=this._getOrCreateNode(t),i=this._getOrCreateNode(n);this.hashes[e]=this.hashBranch(e,r,i)}return this.hashes[e]}}t.MerkleMountainRange=o,"undefined"!==typeof window&&(window.MerkleMountainRange=o),t.default=o},"54e8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOMAIN_REGISTRY_ADDRESS=t.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS=t.CROSS_CHAIN_SEAPORT_V1_4_ADDRESS=t.KNOWN_CONDUIT_KEYS_TO_CONDUIT=t.NO_CONDUIT=t.ONE_HUNDRED_PERCENT_BP=t.MAX_INT=t.BasicOrderRouteType=t.Side=t.ItemType=t.OrderType=t.EIP_712_BULK_ORDER_TYPE=t.EIP_712_ORDER_TYPE=t.OPENSEA_CONDUIT_ADDRESS=t.OPENSEA_CONDUIT_KEY=t.SEAPORT_CONTRACT_VERSION_V1_5=t.SEAPORT_CONTRACT_VERSION_V1_4=t.SEAPORT_CONTRACT_NAME=void 0;const r=n("c030");var i,a,s,o;t.SEAPORT_CONTRACT_NAME="Seaport",t.SEAPORT_CONTRACT_VERSION_V1_4="1.4",t.SEAPORT_CONTRACT_VERSION_V1_5="1.5",t.OPENSEA_CONDUIT_KEY="0x0000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000",t.OPENSEA_CONDUIT_ADDRESS="0x1e0049783f008a0085193e00003d00cd54003c71",t.EIP_712_ORDER_TYPE={OrderComponents:[{name:"offerer",type:"address"},{name:"zone",type:"address"},{name:"offer",type:"OfferItem[]"},{name:"consideration",type:"ConsiderationItem[]"},{name:"orderType",type:"uint8"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"zoneHash",type:"bytes32"},{name:"salt",type:"uint256"},{name:"conduitKey",type:"bytes32"},{name:"counter",type:"uint256"}],OfferItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"}],ConsiderationItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]},t.EIP_712_BULK_ORDER_TYPE={BulkOrder:[{name:"tree",type:"OrderComponents[2][2][2][2][2][2][2]"}],OrderComponents:[{name:"offerer",type:"address"},{name:"zone",type:"address"},{name:"offer",type:"OfferItem[]"},{name:"consideration",type:"ConsiderationItem[]"},{name:"orderType",type:"uint8"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"zoneHash",type:"bytes32"},{name:"salt",type:"uint256"},{name:"conduitKey",type:"bytes32"},{name:"counter",type:"uint256"}],OfferItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"}],ConsiderationItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]},function(e){e[e["FULL_OPEN"]=0]="FULL_OPEN",e[e["PARTIAL_OPEN"]=1]="PARTIAL_OPEN",e[e["FULL_RESTRICTED"]=2]="FULL_RESTRICTED",e[e["PARTIAL_RESTRICTED"]=3]="PARTIAL_RESTRICTED"}(i||(t.OrderType=i={})),function(e){e[e["NATIVE"]=0]="NATIVE",e[e["ERC20"]=1]="ERC20",e[e["ERC721"]=2]="ERC721",e[e["ERC1155"]=3]="ERC1155",e[e["ERC721_WITH_CRITERIA"]=4]="ERC721_WITH_CRITERIA",e[e["ERC1155_WITH_CRITERIA"]=5]="ERC1155_WITH_CRITERIA"}(a||(t.ItemType=a={})),function(e){e[e["OFFER"]=0]="OFFER",e[e["CONSIDERATION"]=1]="CONSIDERATION"}(s||(t.Side=s={})),function(e){e[e["ETH_TO_ERC721"]=0]="ETH_TO_ERC721",e[e["ETH_TO_ERC1155"]=1]="ETH_TO_ERC1155",e[e["ERC20_TO_ERC721"]=2]="ERC20_TO_ERC721",e[e["ERC20_TO_ERC1155"]=3]="ERC20_TO_ERC1155",e[e["ERC721_TO_ERC20"]=4]="ERC721_TO_ERC20",e[e["ERC1155_TO_ERC20"]=5]="ERC1155_TO_ERC20"}(o||(t.BasicOrderRouteType=o={})),t.MAX_INT=r.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.ONE_HUNDRED_PERCENT_BP=1e4,t.NO_CONDUIT=r.constants.HashZero,t.KNOWN_CONDUIT_KEYS_TO_CONDUIT={[t.OPENSEA_CONDUIT_KEY]:t.OPENSEA_CONDUIT_ADDRESS},t.CROSS_CHAIN_SEAPORT_V1_4_ADDRESS="0x00000000000001ad428e4906aE43D8F9852d0dD6",t.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS="0x00000000000000ADc04C56Bf30aC9d3c0aAF14dC",t.DOMAIN_REGISTRY_ADDRESS="0x000000000DaD0DE04D2B2D4a5A74581EBA94124A"},"5ae3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC721ABI=void 0;const r=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];t.ERC721ABI=r},"5cbf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Eip712MerkleTree=void 0;const r=n("7d0b"),i=n("4d8a"),a=n("891a"),s=n("d3b1"),o=n("994c"),u=(e,t)=>new a.MerkleTree(e.map(o.hexToBuffer),o.bufferKeccak,{complete:!0,sort:!1,hashLeaves:!1,fillDefaultHash:(0,o.hexToBuffer)(t)}),l=(e,t,n="0x"+"ff".repeat(64))=>(0,i.hexConcat)([n,"0x"+e.toString(16).padStart(6,"0"),i.defaultAbiCoder.encode([`uint256[${t.length}]`],[t])]);class d{get completedSize(){return Math.pow(2,this.depth)}getCompleteElements(){const e=this.elements;return(0,o.fillArray)([...e],this.completedSize,this.defaultNode)}getCompleteLeaves(){const e=this.elements.map(this.leafHasher);return(0,o.fillArray)([...e],this.completedSize,this.defaultLeaf)}get root(){return this.tree.getHexRoot()}getProof(e){const t=this.getCompleteLeaves(),n=t[e],r=this.tree.getHexProof(n,e),i=this.tree.getHexRoot();return{leaf:n,proof:r,root:i}}getEncodedProofAndSignature(e,t){const{proof:n}=this.getProof(e);return l(e,n,t)}getDataToSign(){let e=this.getCompleteElements();while(e.length>2)e=(0,o.chunk)(e,2);return e}add(e){this.elements.push(e)}getBulkOrderHash(){const e=this.encoder.hashStruct("BulkOrder",{tree:this.getDataToSign()}),t=this.getCompleteLeaves().map(o.hexToBuffer),n=(0,o.bufferToHex)((0,o.getRoot)(t,!1)),r=(0,i.keccak256)((0,i.toUtf8Bytes)(this.encoder._types.BulkOrder)),a=(0,i.keccak256)((0,i.hexConcat)([r,n]));if(a!==e)throw new Error("expected derived bulk order hash to match");return e}constructor(e,t,n,i,a){this.types=e,this.rootType=t,this.leafType=n,this.elements=i,this.depth=a;const o=r._TypedDataEncoder.from(e);this.encoder=o,this.leafHasher=e=>o.hashStruct(n,e),this.defaultNode=s.DefaultGetter.from(e,n),this.defaultLeaf=this.leafHasher(this.defaultNode),this.tree=u(this.getCompleteLeaves(),this.defaultLeaf)}}t.Eip712MerkleTree=d},6425:function(e,t,n){"use strict";n.r(t),n.d(t,"Multicall",(function(){return U})),n.d(t,"providers",(function(){return G}));var r=n("e36d"),i=n("c030");const a=[{type:"function",name:"isValidSignature",constant:!0,inputs:[{type:"bytes32"},{type:"bytes"}],outputs:[{type:"bytes4"}],payable:!1,stateMutability:"view"}],s={isValidSignatureBytes32:"0x1626ba7e"};var o=Object.freeze({__proto__:null,abi:a,returns:s});const u=[{type:"function",name:"deploy",constant:!1,inputs:[{type:"address"},{type:"bytes32"}],outputs:[],payable:!0,stateMutability:"payable"}];var l=Object.freeze({__proto__:null,abi:u});const d=[{type:"function",name:"nonce",constant:!0,inputs:[],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"readNonce",constant:!0,inputs:[{type:"uint256"}],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"updateImplementation",constant:!1,inputs:[{type:"address"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"selfExecute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"execute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"},{type:"uint256"},{type:"bytes"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"createContract",inputs:[{type:"bytes"}],payable:!0,stateMutability:"payable"}];var p=Object.freeze({__proto__:null,abi:d});const c=[{type:"function",name:"updateImageHash",constant:!0,inputs:[{type:"bytes32"}],outputs:[],payable:!1,stateMutability:"view"},{type:"function",name:"imageHash",constant:!0,inputs:[],outputs:[{type:"bytes32"}],payable:!1,stateMutability:"view"}];var y=Object.freeze({__proto__:null,abi:c});const m=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_mainModule",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"_imageHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_threshold",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_signers",type:"bytes"}],name:"RequiredConfig",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"address",name:"_signer",type:"address"}],name:"RequiredSigner",type:"event"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"callBlockhash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"callChainId",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCode",outputs:[{internalType:"bytes",name:"code",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeHash",outputs:[{internalType:"bytes32",name:"codeHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeSize",outputs:[{internalType:"uint256",name:"size",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callCoinbase",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callDifficulty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLeft",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callOrigin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"knownImageHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"lastImageHashUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastSignerUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastWalletUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"delegateCall",type:"bool"},{internalType:"bool",name:"revertOnError",type:"bool"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IModuleCalls.Transaction[]",name:"_txs",type:"tuple[]"}],name:"multiCall",outputs:[{internalType:"bool[]",name:"_successes",type:"bool[]"},{internalType:"bytes[]",name:"_results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"},{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"address",name:"signer",type:"address"}],internalType:"struct RequireUtils.Member[]",name:"_members",type:"tuple[]"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"uint256",name:"_sizeMembers",type:"uint256"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishInitialSigners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"requireMinNonce",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_expiration",type:"uint256"}],name:"requireNonExpired",outputs:[],stateMutability:"view",type:"function"}];var f=Object.freeze({__proto__:null,abi:m});const h=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"requireFreshSigner",outputs:[],stateMutability:"nonpayable",type:"function"}];var g=Object.freeze({__proto__:null,abi:h});const T={erc1271:o,factory:l,mainModule:p,mainModuleUpgradable:y,sequenceUtils:f,requireFreshSigner:g};var b=n("f72c");n("6779");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}const O=(e,t=!1,n=!1)=>{if(!e)throw new Error("invalid network config: empty config");const r=[];if(Array.isArray(e)?r.push(...e):r.push(e),0===r.length){if(t)throw new Error("invalid network config: empty config");return!1}const i=r.map(e=>e.chainId).sort(),a=i.filter((e,t)=>i.indexOf(e)!==t);if(a.length>0){if(t)throw new Error("invalid network config: duplicate chainIds "+a);return!1}r.forEach(e=>e.name=e.name.toLowerCase());const s=r.map(e=>e.name).sort(),o=s.filter((e,t)=>s.indexOf(e)!==t);if(o.length>0){if(t)throw new Error("invalid network config: duplicate network names "+o);return!1}let u=!1,l=!1;for(let d=0;d<r.length;d++){const e=r[d];if((!e.rpcUrl||""===e.rpcUrl)&&!e.provider){if(t)throw new Error(`invalid network config for chainId ${e.chainId}: rpcUrl or provider must be provided`);return!1}if(!n&&!e.relayer){if(t)throw new Error(`invalid network config for chainId ${e.chainId}: relayer must be provided`);return!1}if(e.isDefaultChain){if(u){if(t)throw new Error(`invalid network config for chainId ${e.chainId}: DefaultChain is already set by another config`);return!1}u=!0}if(e.isAuthChain){if(l&&t)throw new Error(`invalid network config for chainId ${e.chainId}: AuthChain is already set by another config`);l=!0}}if(!u){if(t)throw new Error("invalid network config: DefaultChain must be set");return!1}if(!l){if(t)throw new Error("invalid network config: AuthChain must be set");return!1}return!0},A=(e,t=!1)=>(O(e,!0,t),e),_=e=>A(E(e)),E=e=>{if(!e)return[];const t=e.sort((e,t)=>e.chainId===t.chainId?0:e.chainId<t.chainId?-1:1),n=t.findIndex(e=>e.isDefaultChain);n>0&&t.splice(0,0,t.splice(n,1)[0]);const r=t.findIndex(e=>e.isAuthChain&&!0!==e.isDefaultChain);return r>0&&t.splice(1,0,t.splice(r,1)[0]),t},C=(e,t)=>"string"===typeof e?(t=t||{},e.replace(/\$\{\s*([$#@\-\d\w]+)\s*\}/gim,(function(e,n){let r=t[n];return r="function"===typeof r?r():null===r||void 0===r?"":"object"===typeof r||"symbol"===typeof r?r.toString():r.valueOf(),r}))):"";let I;(function(e){e[e["MAINNET"]=1]="MAINNET",e[e["ROPSTEN"]=3]="ROPSTEN",e[e["RINKEBY"]=4]="RINKEBY",e[e["GOERLI"]=5]="GOERLI",e[e["KOVAN"]=42]="KOVAN",e[e["POLYGON"]=137]="POLYGON",e[e["POLYGON_MUMBAI"]=80001]="POLYGON_MUMBAI",e[e["POLYGON_ZKEVM"]=1101]="POLYGON_ZKEVM",e[e["BSC"]=56]="BSC",e[e["BSC_TESTNET"]=97]="BSC_TESTNET",e[e["OPTIMISM"]=10]="OPTIMISM",e[e["OPTIMISM_TESTNET"]=69]="OPTIMISM_TESTNET",e[e["ARBITRUM"]=42161]="ARBITRUM",e[e["ARBITRUM_GOERLI"]=421613]="ARBITRUM_GOERLI",e[e["ARBITRUM_NOVA"]=42170]="ARBITRUM_NOVA",e[e["AVALANCHE"]=43114]="AVALANCHE",e[e["AVALANCHE_TESTNET"]=43113]="AVALANCHE_TESTNET",e[e["FANTOM"]=250]="FANTOM",e[e["FANTOM_TESTNET"]=4002]="FANTOM_TESTNET",e[e["GNOSIS"]=100]="GNOSIS",e[e["AURORA"]=1313161554]="AURORA",e[e["AURORA_TESTNET"]=1313161556]="AURORA_TESTNET",e[e["BASE_GOERLI"]=84531]="BASE_GOERLI"})(I||(I={}));const S=e=>C("https://${network}-indexer.sequence.app",{network:e}),P=e=>C("https://${network}-relayer.sequence.app",{network:e}),B=e=>C("https://nodes.sequence.app/${network}",{network:e}),w={[I.MAINNET]:{chainId:I.MAINNET,name:"mainnet",title:"Ethereum",blockExplorer:{name:"Etherscan",rootUrl:"https://etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[I.ROPSTEN]:{chainId:I.ROPSTEN,name:"ropsten",title:"Ropsten",testnet:!0,blockExplorer:{name:"Etherscan (Ropsten)",rootUrl:"https://ropsten.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[I.RINKEBY]:{chainId:I.RINKEBY,name:"rinkeby",title:"Rinkeby",testnet:!0,blockExplorer:{name:"Etherscan (Rinkeby)",rootUrl:"https://rinkeby.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",disabled:!0},[I.GOERLI]:{chainId:I.GOERLI,name:"goerli",title:"Goerli",testnet:!0,blockExplorer:{name:"Etherscan (Goerli)",rootUrl:"https://goerli.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[I.KOVAN]:{chainId:I.KOVAN,name:"kovan",title:"Kovan",testnet:!0,blockExplorer:{name:"Etherscan (Kovan)",rootUrl:"https://kovan.etherscan.io/"}},[I.POLYGON]:{chainId:I.POLYGON,name:"polygon",title:"Polygon",blockExplorer:{name:"Polygonscan",rootUrl:"https://polygonscan.com/"}},[I.POLYGON_MUMBAI]:{chainId:I.POLYGON_MUMBAI,name:"mumbai",title:"Polygon Mumbai",testnet:!0,blockExplorer:{name:"Polygonscan (Mumbai)",rootUrl:"https://mumbai.polygonscan.com/"}},[I.POLYGON_ZKEVM]:{chainId:I.POLYGON_ZKEVM,name:"polygon-zkevm",title:"Polygon zkEVM",blockExplorer:{name:"Polygonscan (zkEVM)",rootUrl:"https://zkevm.polygonscan.com/"}},[I.BSC]:{chainId:I.BSC,name:"bsc",title:"BNB Smart Chain",blockExplorer:{name:"BSCScan",rootUrl:"https://bscscan.com/"}},[I.BSC_TESTNET]:{chainId:I.BSC_TESTNET,name:"bsc-testnet",title:"BNB Smart Chain Testnet",testnet:!0,blockExplorer:{name:"BSCScan (Testnet)",rootUrl:"https://testnet.bscscan.com/"}},[I.OPTIMISM]:{chainId:I.OPTIMISM,name:"optimism",title:"Optimism",blockExplorer:{name:"Etherscan (Optimism)",rootUrl:"https://optimistic.etherscan.io/"}},[I.OPTIMISM_TESTNET]:{chainId:I.OPTIMISM_TESTNET,name:"optimism-testnet",title:"Optimistic Kovan",testnet:!0,blockExplorer:{name:"Etherscan (Optimism Testnet)",rootUrl:"https://kovan-optimistic.etherscan.io/"}},[I.ARBITRUM]:{chainId:I.ARBITRUM,name:"arbitrum",title:"Arbitrum One",blockExplorer:{name:"Arbiscan",rootUrl:"https://arbiscan.io/"}},[I.ARBITRUM_GOERLI]:{chainId:I.ARBITRUM_GOERLI,name:"arbitrum-goerli",title:"Arbitrum Goerli",testnet:!0,blockExplorer:{name:"Arbiscan (Testnet)",rootUrl:"https://testnet.arbiscan.io/"}},[I.ARBITRUM_NOVA]:{chainId:I.ARBITRUM_NOVA,name:"arbitrum-nova",title:"Arbitrum Nova",blockExplorer:{name:"Nova Explorer",rootUrl:"https://nova-explorer.arbitrum.io/"}},[I.AVALANCHE]:{chainId:I.AVALANCHE,name:"avalanche",title:"Avalanche",blockExplorer:{name:"Snowtrace",rootUrl:"https://snowtrace.io/"}},[I.AVALANCHE_TESTNET]:{chainId:I.AVALANCHE_TESTNET,name:"avalanche-testnet",title:"Avalanche Testnet",testnet:!0,blockExplorer:{name:"Snowtrace (Testnet)",rootUrl:"https://testnet.snowtrace.io/"}},[I.FANTOM]:{chainId:I.FANTOM,name:"fantom",title:"Fantom",blockExplorer:{name:"FTMScan",rootUrl:"https://ftmscan.com/"}},[I.FANTOM_TESTNET]:{chainId:I.FANTOM_TESTNET,name:"fantom-testnet",title:"Fantom Testnet",testnet:!0,blockExplorer:{name:"FTMScan (Testnet)",rootUrl:"https://testnet.ftmscan.com/"}},[I.GNOSIS]:{chainId:I.GNOSIS,name:"gnosis",title:"Gnosis Chain",blockExplorer:{name:"Gnosis Chain Explorer",rootUrl:"https://blockscout.com/xdai/mainnet/"}},[I.AURORA]:{chainId:I.AURORA,name:"aurora",title:"Aurora",blockExplorer:{name:"Aurora Explorer",rootUrl:"https://aurorascan.dev/"}},[I.AURORA_TESTNET]:{chainId:I.AURORA_TESTNET,name:"aurora-testnet",title:"Aurora Testnet",blockExplorer:{name:"Aurora Explorer (Testnet)",rootUrl:"https://testnet.aurorascan.dev/"}},[I.BASE_GOERLI]:{chainId:I.BASE_GOERLI,name:"base-goerli",title:"Base Goerli",blockExplorer:{name:"Base Goerli Explorer",rootUrl:"https://goerli.basescan.org/"}}},x=(_([v({},w[I.MAINNET],{rpcUrl:B("mainnet"),relayer:{url:P("mainnet")},indexerUrl:S("mainnet")}),v({},w[I.POLYGON],{rpcUrl:B("polygon"),relayer:{url:P("polygon")},indexerUrl:S("polygon"),isDefaultChain:!0,isAuthChain:!0}),v({},w[I.BSC],{rpcUrl:B("bsc"),indexerUrl:S("bsc"),relayer:{url:P("bsc")}}),v({},w[I.AVALANCHE],{rpcUrl:B("avalanche"),indexerUrl:S("avalanche"),relayer:{url:P("avalanche")}}),v({},w[I.ARBITRUM],{rpcUrl:B("arbitrum"),indexerUrl:S("arbitrum"),relayer:{url:P("arbitrum")}}),v({},w[I.ARBITRUM_NOVA],{rpcUrl:B("arbitrum-nova"),indexerUrl:S("arbitrum-nova"),relayer:{url:P("arbitrum-nova")}}),v({},w[I.OPTIMISM],{rpcUrl:B("optimism"),indexerUrl:S("optimism"),relayer:{url:P("optimism")}}),v({},w[I.POLYGON_ZKEVM],{rpcUrl:B("polygon-zkevm"),indexerUrl:S("polygon-zkevm"),relayer:{url:P("polygon-zkevm")}}),v({},w[I.GNOSIS],{rpcUrl:B("gnosis"),indexerUrl:S("gnosis"),relayer:{url:P("gnosis")}})]),_([v({},w[I.RINKEBY],{rpcUrl:B("rinkeby"),relayer:{url:P("rinkeby")},indexerUrl:S("rinkeby")}),v({},w[I.GOERLI],{rpcUrl:B("goerli"),relayer:{url:P("goerli")},indexerUrl:S("goerli")}),v({},w[I.POLYGON_MUMBAI],{rpcUrl:B("mumbai"),relayer:{url:P("mumbai")},indexerUrl:S("mumbai"),isDefaultChain:!0,isAuthChain:!0}),v({},w[I.BSC_TESTNET],{rpcUrl:B("bsc-testnet"),relayer:{url:P("bsc-testnet")},indexerUrl:S("bsc-testnet")}),v({},w[I.ARBITRUM_GOERLI],{rpcUrl:B("arbitrum-goerli"),relayer:{url:P("arbitrum-goerli")},indexerUrl:S("arbitrum-goerli")}),v({},w[I.BASE_GOERLI],{rpcUrl:B("base-goerli"),relayer:{url:P("base-goerli")},indexerUrl:S("base-goerli")})]),{factory:"0xf9D09D634Fb818b05149329C1dcCFAeA53639d96",mainModule:"0xd01F11855bCcb95f88D7A48492F66410d4637313",mainModuleUpgradable:"0x7EFE6cE415956c5f80C6530cC6cc81b4808F6118",guestModule:"0x02390F3E6E5FD1C6786CB78FD3027C117a9955A7",sequenceUtils:"0xd130B43062D875a4B7aF3f8fc036Bc6e9D3E1B3E",libs:{requireFreshSigner:"0xE6B9B21C077F382333220a072e4c44280b873907"}}),R="2.0";i["ethers"].providers.JsonRpcProvider;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}let N;async function F(e,t){try{return await e}catch(n){const e=t instanceof Function?t(n):t;return e}}function M(e,t){return e.reduce((function(e,n,r){return t(n,r)?e[0].push(n):e[1].push(n),e}),[[],[]])}function D(e){if(void 0===e)return"latest";switch(e){case"earliest":case"latest":case"pending":return e}return r["a"].from(e)}function j(e,t){return e===t||(r["a"].isBigNumber(e)?!!r["a"].isBigNumber(t)&&e.eq(t):!r["a"].isBigNumber(t)&&e===t)}(function(e){e["ethCall"]="eth_call",e["ethGetBalance"]="eth_getBalance",e["ethGetCode"]="eth_getCode"})(N||(N={}));const L={batchSize:50,timeWindow:50,contract:x.sequenceUtils,verbose:!1};class U{constructor(e){var t=this;if(this.batchableJsonRpcMethods=[N.ethCall,N.ethGetCode,N.ethGetBalance],this.multicallInterface=new i["ethers"].utils.Interface(T.sequenceUtils.abi),this.options=void 0,this.timeout=void 0,this.queue=[],this.scheduleExecution=()=>{this.queue.length>0&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.run,this.options.timeWindow))},this.handle=(e,t,n)=>this.batchableJsonRpcMethods.find(e=>e===t.method)?(this.queue.push({request:t,callback:n,next:e}),this.options.verbose&&console.log("Scheduling call",t.method),void this.scheduleExecution()):(this.options.verbose&&console.log("Forwarded call",t.method),e(t,n)),this.run=async function(){t.options.verbose&&console.log("Processing multicall");const e=Math.min(t.options.batchSize,t.queue.length);if(0===e)return;if(1===e)return t.forward(t.queue[0]),t.queue=[],void(t.options.verbose&&console.log("Skip multicall, single item"));t.options.verbose&&console.log("Resolving",e);var n=t.queue.slice(0,e);t.queue=e===t.queue.length?[]:t.queue.slice(e),t.options.verbose&&console.log("Updated queue",t.queue.length),0!==t.queue.length&&t.scheduleExecution();const a=n[0].next;let s;var[n,o]=M(n,e=>{try{if(e.next!==a)return!1;switch(e.request.method){case N.ethCall:if(e.request.params[0].from||e.request.params[0].gasPrice||e.request.params[0].value)return!1;case N.ethGetBalance:case N.ethGetCode:const t=D(e.request.params[1]);if(void 0===s&&(s=t),!j(t,s))return!1}return!0}catch(t){return!1}});if(0!==o.length&&(t.options.verbose&&console.log("Forwarding incompatible calls",o.length),t.forward(o),0===n.length))return;let u=n.map(e=>{try{switch(e.request.method){case N.ethCall:return{delegateCall:!1,revertOnError:!1,target:e.request.params[0].to,data:e.request.params[0].data,gasLimit:e.request.params[0].gas?e.request.params[0].gas:0,value:0};case N.ethGetCode:return{delegateCall:!1,revertOnError:!1,target:t.options.contract,gasLimit:0,value:0,data:t.multicallInterface.encodeFunctionData(t.multicallInterface.getFunction("callCode"),[e.request.params[0]])};case N.ethGetBalance:return{delegateCall:!1,revertOnError:!1,target:t.options.contract,gasLimit:0,value:0,data:t.multicallInterface.encodeFunctionData(t.multicallInterface.getFunction("callBalanceOf"),[e.request.params[0]])};default:return null}}catch(n){return null}});var[n,o]=M(n,(e,t)=>void 0!==u[t]);if(u=u.filter(e=>e),0!==o.length&&(t.options.verbose&&console.log("Forwarding calls on error",o.length),t.forward(o),0===n.length))return;let l;try{l=t.multicallInterface.encodeFunctionData(t.multicallInterface.getFunction("multiCall"),[u])}catch(y){return void t.forward(n)}const d=Object(b["a"])(),p=await F(Object(b["c"])(a)({id:d,jsonrpc:R,method:N.ethCall,params:[{to:t.options.contract,value:0,data:l},r["a"].isBigNumber(s)?s.toNumber():s]}),e=>({jsonrpc:R,id:d,result:void 0,error:e}));if(p.error)return t.forward(n);let c;try{c=t.multicallInterface.decodeFunctionResult(t.multicallInterface.getFunction("multiCall"),p.result)}catch(m){return void t.forward(n)}t.options.verbose&&console.log("Got response for",n.length),n.forEach((e,n)=>{if(c[0][n])switch(e.request.method){case N.ethCall:e.callback(void 0,{jsonrpc:e.request.jsonrpc,id:e.request.id,result:c[1][n]});break;case N.ethGetCode:e.callback(void 0,{jsonrpc:e.request.jsonrpc,id:e.request.id,result:i["ethers"].utils.defaultAbiCoder.decode(["bytes"],c[1][n])[0]});break;case N.ethGetBalance:e.callback(void 0,{jsonrpc:e.request.jsonrpc,id:e.request.id,result:i["ethers"].utils.defaultAbiCoder.decode(["uint256"],c[1][n])[0]});break}else t.forward(e)})},this.options=e?k({},U.DefaultOptions,e):U.DefaultOptions,this.options.batchSize<=0)throw new Error("Invalid batch size of "+this.options.batchSize)}forward(e){Array.isArray(e)?e.forEach(e=>e.next(e.request,e.callback)):e.next(e.request,e.callback)}static isMulticall(e){return e&&void 0!==e.handle&&void 0!==e.conf&&U.isMulticallOptions(e.options)}static isMulticallOptions(e){return void 0!==e&&void 0!==e.batchSize&&void 0!==e.timeWindow&&void 0!==e.contract}}U.DefaultOptions=k({},L);const H=["getNetwork","getBlockNumber","getGasPrice","getTransactionCount","getStorageAt","sendTransaction","estimateGas","getBlock","getTransaction","getTransactionReceipt","getLogs","emit","litenerCount","addListener","removeListener","waitForTransaction","detectNetwork","getBlockWithTransactions"];class z extends i["ethers"].providers.BaseProvider{constructor(e,t){var n;super(e.getNetwork()),n=this,this.provider=e,this.multicall=void 0,this.listenerCount=this.provider.listenerCount,this.getResolver=async function(e){const t=n.provider;if(t.getResolver){const r=await t.getResolver(await e);return r?new i["ethers"].providers.Resolver(n,r.address,r.name):null}return t.getResolver(await e)},this.next=async function(e,t){try{switch(e.method){case N.ethCall:n.callback(e,t,await n.provider.call(e.params[0],e.params[1]));break;case N.ethGetCode:n.callback(e,t,await n.provider.getCode(e.params[0],e.params[1]));break;case N.ethGetBalance:n.callback(e,t,await n.provider.getBalance(e.params[0],e.params[1]));break}}catch(r){n.callback(e,t,void 0,r)}},this.multicall=U.isMulticall(t)?t:new U(t),H.forEach(t=>{void 0!==e[t]&&(this[t]=(...n)=>e[t](...n))})}callback(e,t,n,r){t(r,{jsonrpc:R,id:e.id,result:n,error:r})}async call(e,t){return this.rpcCall(N.ethCall,e,t)}async getCode(e,t){return this.rpcCall(N.ethGetCode,e,t)}async getBalance(e,t){return this.rpcCall(N.ethGetBalance,e,t)}async rpcCall(e,...t){const n=Object(b["a"])(),r=await Object(b["c"])(this.multicall.handle)(this.next,{jsonrpc:R,id:n,method:e,params:t});return r.result}}class V{constructor(e,t){if(this.provider=e,this.multicall=void 0,this.multicall=U.isMulticall(t)?t:new U(t),e.send){const t=async function(t,n){e.send(t,n)};this.send=(e,n)=>{this.multicall.handle(t,e,n)}}if(e.sendAsync){const t=async function(t,n){e.sendAsync(t,n)};this.sendAsync=(e,n)=>{this.multicall.handle(t,e,n)}}}get isMetaMask(){return this.provider.isMetaMask}get isStatus(){return this.provider.isStatus}}const K=e=>t=>{const n=U.isMulticall(e)?e:new U(e);return(e,r)=>n.handle(t,e,r)};var G=Object.freeze({__proto__:null,ProxyMethods:H,MulticallProvider:z,MulticallExternalProvider:V,multicallMiddleware:K})},"649b":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getApprovalActions=t.approvedItemAmount=void 0;const i=n("c030"),a=n("0b52"),s=n("5ae3"),o=n("54e8"),u=n("2ec4"),l=n("e51f"),d=(e,t,n,l)=>r(void 0,void 0,void 0,(function*(){if((0,u.isErc721Item)(t.itemType)||(0,u.isErc1155Item)(t.itemType)){const r=new i.Contract(t.token,s.ERC721ABI,l);return r.isApprovedForAll(e,n).then(e=>e?o.MAX_INT:i.BigNumber.from(0))}if(t.itemType===o.ItemType.ERC20){const r=new i.Contract(t.token,a.ERC20ABI,l);return r.allowance(e,n)}return o.MAX_INT}));function p(e,t,n){return e.filter((t,n)=>n===e.length-1||e[n+1].token!==t.token).map(({token:e,operator:r,itemType:d,identifierOrCriteria:p,requiredApprovedAmount:c})=>{const y=(0,u.isErc1155Item)(d);if((0,u.isErc721Item)(d)||y){const a=new i.Contract(e,s.ERC721ABI,n);return{type:"approval",token:e,identifierOrCriteria:p,itemType:d,operator:r,transactionMethods:(0,l.getTransactionMethods)(a.connect(n),t&&!y?"approve":"setApprovalForAll",[r,!(t&&!y)||p])}}{const s=new i.Contract(e,a.ERC20ABI,n);return{type:"approval",token:e,identifierOrCriteria:p,itemType:d,transactionMethods:(0,l.getTransactionMethods)(s.connect(n),"approve",[r,t?c:o.MAX_INT]),operator:r}}})}t.approvedItemAmount=d,t.getApprovalActions=p},6520:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeTokenIds=t.requireValidProtocol=t.isValidProtocol=t.isTestChain=t.feesToBasisPoints=t.getAddressAfterRemappingSharedStorefrontAddressToLazyMintAdapterAddress=t.getWETHAddress=t.getAssetItemType=t.hasErrorCode=t.getMaxOrderExpirationTimestamp=t.getNonCompliantApprovalAddress=t.delay=t.assignOrdersToSides=t.estimateGas=t.tokenFromJSON=t.collectionFromJSON=t.assetContractFromJSON=t.assetBundleFromJSON=t.userFromJSON=t.accountFromJSON=t.transactionFromJSON=t.assetEventFromJSON=t.assetFromJSON=void 0;const i=n("54e8"),a=n("c030"),s=n("0aed"),o=n("f10d"),u=e=>{const n=e.image_url&&e.image_url.endsWith(".gif"),r=e.image_url&&e.image_url.endsWith(".svg"),i={tokenId:e.token_id.toString(),tokenAddress:e.asset_contract.address,name:e.name,description:e.description,owner:e.owner,assetContract:(0,t.assetContractFromJSON)(e.asset_contract),collection:(0,t.collectionFromJSON)(e.collection),isPresale:e.is_presale,imageUrl:n||r?e.image_url:e.image_preview_url||e.image_url,imagePreviewUrl:e.image_preview_url,imageUrlOriginal:e.image_original_url,imageUrlThumbnail:e.image_thumbnail_url,animationUrl:e.animation_url,animationUrlOriginal:e.animation_original_url,externalLink:e.external_link,openseaLink:e.permalink,traits:e.traits,numSales:e.num_sales,lastSale:e.last_sale?(0,t.assetEventFromJSON)(e.last_sale):null,backgroundColor:e.background_color?"#"+e.background_color:null};return i};t.assetFromJSON=u;const l=e=>({eventType:e.event_type,eventTimestamp:e.event_timestamp,auctionType:e.auction_type,totalPrice:e.total_price,transaction:e.transaction?(0,t.transactionFromJSON)(e.transaction):null,paymentToken:e.payment_token?(0,t.tokenFromJSON)(e.payment_token):null});t.assetEventFromJSON=l;const d=e=>({fromAccount:(0,t.accountFromJSON)(e.from_account),toAccount:(0,t.accountFromJSON)(e.to_account),createdDate:new Date(e.created_date+"Z"),modifiedDate:new Date(e.modified_date+"Z"),transactionHash:e.transaction_hash,transactionIndex:e.transaction_index,blockNumber:e.block_number,blockHash:e.block_hash,timestamp:new Date(e.timestamp+"Z")});t.transactionFromJSON=d;const p=e=>({address:e.address,config:e.config,profileImgUrl:e.profile_img_url,user:e.user?(0,t.userFromJSON)(e.user):null});t.accountFromJSON=p;const c=e=>({username:e.username});t.userFromJSON=c;const y=e=>{const n={maker:e.maker,assets:e.assets?e.assets.map(t.assetFromJSON):[],assetContract:e.asset_contract?(0,t.assetContractFromJSON)(e.asset_contract):void 0,name:e.name,slug:e.slug,description:e.description,externalLink:e.external_link,permalink:e.permalink};return n};t.assetBundleFromJSON=y;const m=e=>({name:e.name,description:e.description,type:e.asset_contract_type,tokenStandard:e.schema_name,address:e.address,tokenSymbol:e.symbol,buyerFeeBasisPoints:+e.buyer_fee_basis_points,sellerFeeBasisPoints:+e.seller_fee_basis_points,openseaBuyerFeeBasisPoints:+e.opensea_buyer_fee_basis_points,openseaSellerFeeBasisPoints:+e.opensea_seller_fee_basis_points,devBuyerFeeBasisPoints:+e.dev_buyer_fee_basis_points,devSellerFeeBasisPoints:+e.dev_seller_fee_basis_points,imageUrl:e.image_url,externalLink:e.external_link,wikiLink:e.wiki_link});t.assetContractFromJSON=m;const f=e=>{var n,r,i;const a=new Date(e.created_date+"Z");return{createdDate:a,name:e.name,description:e.description,slug:e.slug,editors:e.editors,hidden:e.hidden,featured:e.featured,featuredImageUrl:e.featured_image_url,displayData:e.display_data,safelistRequestStatus:e.safelist_request_status,paymentTokens:(null!==(n=e.payment_tokens)&&void 0!==n?n:[]).map(t.tokenFromJSON),openseaBuyerFeeBasisPoints:+e.opensea_buyer_fee_basis_points,openseaSellerFeeBasisPoints:+e.opensea_seller_fee_basis_points,devBuyerFeeBasisPoints:+e.dev_buyer_fee_basis_points,devSellerFeeBasisPoints:+e.dev_seller_fee_basis_points,payoutAddress:e.payout_address,imageUrl:e.image_url,largeImageUrl:e.large_image_url,stats:e.stats,traitStats:e.traits,externalLink:e.external_url,wikiLink:e.wiki_url,fees:{openseaFees:new Map(Object.entries(null!==(r=e.fees.opensea_fees)&&void 0!==r?r:{})),sellerFees:new Map(Object.entries(null!==(i=e.fees.seller_fees)&&void 0!==i?i:{}))}}};t.collectionFromJSON=f;const h=e=>{const t={name:e.name,symbol:e.symbol,decimals:e.decimals,address:e.address,imageUrl:e.image_url,ethPrice:e.eth_price,usdPrice:e.usd_price};return t};function g(e,{from:t,to:n,data:i,value:s=a.BigNumber.from(0)}){return r(this,void 0,void 0,(function*(){return yield e.estimateGas({from:t,to:n,value:s.toString(),data:i})}))}function T(e,t){const n=e.side==o.OrderSide.Sell;let r,i;return n?(i=e,r=Object.assign(Object.assign({},t),{v:i.v,r:i.r,s:i.s})):(r=e,i=Object.assign(Object.assign({},t),{v:r.v,r:r.r,s:r.s})),{buy:r,sell:i}}function b(e){return r(this,void 0,void 0,(function*(){return new Promise(t=>setTimeout(t,e))}))}function v(e,t,n){return r(this,void 0,void 0,(function*(){const n=yield Promise.allSettled([e.methods.kittyIndexToApproved(t).call(),e.methods.partIndexToApproved(t).call()]);return n.filter(Boolean)[0].status}))}t.tokenFromJSON=h,t.estimateGas=g,t.assignOrdersToSides=T,t.delay=b,t.getNonCompliantApprovalAddress=v;const O=()=>{const e=new Date;return e.setMonth(e.getMonth()+s.MAX_EXPIRATION_MONTHS),e.setDate(e.getDate()-1),Math.round(e.getTime()/1e3)};t.getMaxOrderExpirationTimestamp=O;const A=e=>{const t=e;return!!t.code};t.hasErrorCode=A;const _=e=>{switch(e){case"ERC20":return i.ItemType.ERC20;case"ERC721":return i.ItemType.ERC721;case"ERC1155":return i.ItemType.ERC1155;default:throw new Error("Unknown schema name: "+e)}};t.getAssetItemType=_;const E=e=>{switch(e){case o.Chain.Mainnet:return"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2";case o.Chain.Polygon:return"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619";case o.Chain.Mumbai:return"0xa6fa4fb5f76172d178d61b04b0ecd319c5d1c0aa";case o.Chain.Goerli:return"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6";case o.Chain.Sepolia:return"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14";case o.Chain.Klaytn:return"0xfd844c2fca5e595004b17615f891620d1cb9bbb2";case o.Chain.Baobab:return"0x9330dd6713c8328a8d82b14e3f60a0f0b4cc7bfb";case o.Chain.Avalanche:return"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7";case o.Chain.Fuji:return"0xd00ae08403B9bbb9124bB305C09058E32C39A48c";case o.Chain.BNB:return"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c";case o.Chain.BNBTestnet:return"0xae13d989dac2f0debff460ac112a837c89baa7cd";case o.Chain.Base:case o.Chain.BaseGoerli:case o.Chain.Optimism:case o.Chain.OptimismGoerli:case o.Chain.Zora:case o.Chain.ZoraTestnet:return"0x4200000000000000000000000000000000000006";default:throw new Error("WETH is not supported on "+e)}};t.getWETHAddress=E;const C=e=>s.SHARED_STOREFRONT_ADDRESSES.includes(e.toLowerCase())?s.SHARED_STOREFRONT_LAZY_MINT_ADAPTER_CROSS_CHAIN_ADDRESS:e;t.getAddressAfterRemappingSharedStorefrontAddressToLazyMintAdapterAddress=C;const I=e=>e?Array.from(e.values()).reduce((e,t)=>t+e,0):0;t.feesToBasisPoints=I;const S=e=>{switch(e){case o.Chain.Goerli:case o.Chain.Sepolia:case o.Chain.Mumbai:case o.Chain.Baobab:case o.Chain.BaseGoerli:case o.Chain.BNBTestnet:case o.Chain.ArbitrumSepolia:case o.Chain.Fuji:case o.Chain.OptimismGoerli:case o.Chain.SolanaDevnet:case o.Chain.ZoraTestnet:return!0;default:return!1}};t.isTestChain=S;const P=e=>{const t=a.ethers.utils.getAddress(e),n=[i.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS].map(e=>a.ethers.utils.getAddress(e));return n.includes(t)};t.isValidProtocol=P;const B=e=>{if(!(0,t.isValidProtocol)(e))throw new Error("Unsupported protocol")};t.requireValidProtocol=B;const w=e=>{if("*"===e)return["*"];const t=/^(\d+(:\d+)?)(,\d+(:\d+)?)*$/;if(!t.test(e))throw new Error("Invalid input format. Expected a valid comma-separated list of numbers and ranges.");const n=e.split(","),r=[];for(const i of n)if(i.includes(":")){const[e,t]=i.split(":"),n=a.BigNumber.from(e),s=a.BigNumber.from(t),o=s.sub(n).add(1);if(o.lte(0))throw new Error(`Invalid range. End value: ${s} must be greater than or equal to the start value: ${n}.`);for(let i=a.BigNumber.from(0);i.lt(o);i=i.add(1))r.push(n.add(i).toString())}else{const e=a.BigNumber.from(i);r.push(e.toString())}return r};t.decodeTokenIds=w},6869:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return V}));n("81b2"),n("0eb6"),n("b7ef"),n("8bd4"),n("313d"),n("fb6a"),n("d3b7"),n("0643"),n("4e3e"),n("159b"),n("20bf"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("6ce5"),n("2834"),n("72f7"),n("4ea1"),n("669d"),n("109c"),n("b2c1"),n("ac1f"),n("5319"),n("d9e2"),n("25f0"),n("14d9"),n("a15b"),n("00b4"),n("d81d"),n("a573");var r="3.7.5",i=r,a="function"===typeof atob,s="function"===typeof btoa,o="function"===typeof e,u="function"===typeof TextDecoder?new TextDecoder:void 0,l="function"===typeof TextEncoder?new TextEncoder:void 0,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=Array.prototype.slice.call(d),c=function(e){var t={};return e.forEach((function(e,n){return t[e]=n})),t}(p),y=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,m=String.fromCharCode.bind(String),f="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){return new Uint8Array(Array.prototype.slice.call(e,0))},h=function(e){return e.replace(/=/g,"").replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"}))},g=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},T=function(e){for(var t,n,r,i,a="",s=e.length%3,o=0;o<e.length;){if((n=e.charCodeAt(o++))>255||(r=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,a+=p[t>>18&63]+p[t>>12&63]+p[t>>6&63]+p[63&t]}return s?a.slice(0,s-3)+"===".substring(s):a},b=s?function(e){return btoa(e)}:o?function(t){return e.from(t,"binary").toString("base64")}:T,v=o?function(t){return e.from(t).toString("base64")}:function(e){for(var t=4096,n=[],r=0,i=e.length;r<i;r+=t)n.push(m.apply(null,e.subarray(r,r+t)));return b(n.join(""))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?h(v(e)):v(e)},A=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?m(192|t>>>6)+m(128|63&t):m(224|t>>>12&15)+m(128|t>>>6&63)+m(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return m(240|t>>>18&7)+m(128|t>>>12&63)+m(128|t>>>6&63)+m(128|63&t)},_=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,E=function(e){return e.replace(_,A)},C=o?function(t){return e.from(t,"utf8").toString("base64")}:l?function(e){return v(l.encode(e))}:function(e){return b(E(e))},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?h(C(e)):C(e)},S=function(e){return I(e,!0)},P=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,B=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return m(55296+(n>>>10))+m(56320+(1023&n));case 3:return m((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return m((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},w=function(e){return e.replace(P,B)},x=function(e){if(e=e.replace(/\s+/g,""),!y.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,n,r,i="",a=0;a<e.length;)t=c[e.charAt(a++)]<<18|c[e.charAt(a++)]<<12|(n=c[e.charAt(a++)])<<6|(r=c[e.charAt(a++)]),i+=64===n?m(t>>16&255):64===r?m(t>>16&255,t>>8&255):m(t>>16&255,t>>8&255,255&t);return i},R=a?function(e){return atob(g(e))}:o?function(t){return e.from(t,"base64").toString("binary")}:x,k=o?function(t){return f(e.from(t,"base64"))}:function(e){return f(R(e).split("").map((function(e){return e.charCodeAt(0)})))},N=function(e){return k(M(e))},F=o?function(t){return e.from(t,"base64").toString("utf8")}:u?function(e){return u.decode(k(e))}:function(e){return w(R(e))},M=function(e){return g(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))},D=function(e){return F(M(e))},j=function(e){if("string"!==typeof e)return!1;var t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},L=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},U=function(){var e=function(e,t){return Object.defineProperty(String.prototype,e,L(t))};e("fromBase64",(function(){return D(this)})),e("toBase64",(function(e){return I(this,e)})),e("toBase64URI",(function(){return I(this,!0)})),e("toBase64URL",(function(){return I(this,!0)})),e("toUint8Array",(function(){return N(this)}))},H=function(){var e=function(e,t){return Object.defineProperty(Uint8Array.prototype,e,L(t))};e("toBase64",(function(e){return O(this,e)})),e("toBase64URI",(function(){return O(this,!0)})),e("toBase64URL",(function(){return O(this,!0)}))},z=function(){U(),H()},V={version:r,VERSION:i,atob:R,atobPolyfill:x,btoa:b,btoaPolyfill:T,fromBase64:D,toBase64:I,encode:I,encodeURI:S,encodeURL:S,utob:E,btou:w,decode:D,isValid:j,fromUint8Array:O,toUint8Array:N,extendString:U,extendUint8Array:H,extendBuiltins:z}}).call(this,n("1c35").Buffer)},"6bec3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeaportABIv14=void 0;const r=[{inputs:[{internalType:"address",name:"conduitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BadContractSignature",type:"error"},{inputs:[],name:"BadFraction",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"BadReturnValueFromERC20OnTransfer",type:"error"},{inputs:[{internalType:"uint8",name:"v",type:"uint8"}],name:"BadSignatureV",type:"error"},{inputs:[],name:"CannotCancelOrder",type:"error"},{inputs:[],name:"ConsiderationCriteriaResolverOutOfRange",type:"error"},{inputs:[],name:"ConsiderationLengthNotEqualToTotalOriginal",type:"error"},{inputs:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"considerationIndex",type:"uint256"},{internalType:"uint256",name:"shortfallAmount",type:"uint256"}],name:"ConsiderationNotMet",type:"error"},{inputs:[],name:"CriteriaNotEnabledForItem",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"identifiers",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"ERC1155BatchTransferGenericFailure",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"EtherTransferGenericFailure",type:"error"},{inputs:[],name:"InexactFraction",type:"error"},{inputs:[],name:"InsufficientEtherSupplied",type:"error"},{inputs:[],name:"Invalid1155BatchTransferEncoding",type:"error"},{inputs:[],name:"InvalidBasicOrderParameterEncoding",type:"error"},{inputs:[{internalType:"address",name:"conduit",type:"address"}],name:"InvalidCallToConduit",type:"error"},{inputs:[{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"address",name:"conduit",type:"address"}],name:"InvalidConduit",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"InvalidContractOrder",type:"error"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"InvalidERC721TransferAmount",type:"error"},{inputs:[],name:"InvalidFulfillmentComponentData",type:"error"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"InvalidMsgValue",type:"error"},{inputs:[],name:"InvalidNativeOfferItem",type:"error"},{inputs:[],name:"InvalidProof",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"InvalidRestrictedOrder",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"InvalidSigner",type:"error"},{inputs:[{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],name:"InvalidTime",type:"error"},{inputs:[{internalType:"uint256",name:"fulfillmentIndex",type:"uint256"}],name:"MismatchedFulfillmentOfferAndConsiderationComponents",type:"error"},{inputs:[{internalType:"enum Side",name:"side",type:"uint8"}],name:"MissingFulfillmentComponentOnAggregation",type:"error"},{inputs:[],name:"MissingItemAmount",type:"error"},{inputs:[],name:"MissingOriginalConsiderationItems",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"NoContract",type:"error"},{inputs:[],name:"NoReentrantCalls",type:"error"},{inputs:[],name:"NoSpecifiedOrdersAvailable",type:"error"},{inputs:[],name:"OfferAndConsiderationRequiredOnFulfillment",type:"error"},{inputs:[],name:"OfferCriteriaResolverOutOfRange",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderAlreadyFilled",type:"error"},{inputs:[{internalType:"enum Side",name:"side",type:"uint8"}],name:"OrderCriteriaResolverOutOfRange",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderIsCancelled",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderPartiallyFilled",type:"error"},{inputs:[],name:"PartialFillsNotEnabledForOrder",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"TokenTransferGenericFailure",type:"error"},{inputs:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"considerationIndex",type:"uint256"}],name:"UnresolvedConsiderationCriteria",type:"error"},{inputs:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"offerIndex",type:"uint256"}],name:"UnresolvedOfferCriteria",type:"error"},{inputs:[],name:"UnusedItemParameters",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCounter",type:"uint256"},{indexed:!0,internalType:"address",name:"offerer",type:"address"}],name:"CounterIncremented",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"offerer",type:"address"},{indexed:!0,internalType:"address",name:"zone",type:"address"}],name:"OrderCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"offerer",type:"address"},{indexed:!0,internalType:"address",name:"zone",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],indexed:!1,internalType:"struct SpentItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],indexed:!1,internalType:"struct ReceivedItem[]",name:"consideration",type:"tuple[]"}],name:"OrderFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],indexed:!1,internalType:"struct OrderParameters",name:"orderParameters",type:"tuple"}],name:"OrderValidated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32[]",name:"orderHashes",type:"bytes32[]"}],name:"OrdersMatched",type:"event"},{inputs:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"counter",type:"uint256"}],internalType:"struct OrderComponents[]",name:"orders",type:"tuple[]"}],name:"cancel",outputs:[{internalType:"bool",name:"cancelled",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder",name:"advancedOrder",type:"tuple"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"}],name:"fulfillAdvancedOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder[]",name:"advancedOrders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"offerFulfillments",type:"tuple[][]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"considerationFulfillments",type:"tuple[][]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"maximumFulfilled",type:"uint256"}],name:"fulfillAvailableAdvancedOrders",outputs:[{internalType:"bool[]",name:"availableOrders",type:"bool[]"},{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"offerFulfillments",type:"tuple[][]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"considerationFulfillments",type:"tuple[][]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"uint256",name:"maximumFulfilled",type:"uint256"}],name:"fulfillAvailableOrders",outputs:[{internalType:"bool[]",name:"availableOrders",type:"bool[]"},{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"considerationToken",type:"address"},{internalType:"uint256",name:"considerationIdentifier",type:"uint256"},{internalType:"uint256",name:"considerationAmount",type:"uint256"},{internalType:"address payable",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{internalType:"address",name:"offerToken",type:"address"},{internalType:"uint256",name:"offerIdentifier",type:"uint256"},{internalType:"uint256",name:"offerAmount",type:"uint256"},{internalType:"enum BasicOrderType",name:"basicOrderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"offererConduitKey",type:"bytes32"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalAdditionalRecipients",type:"uint256"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct AdditionalRecipient[]",name:"additionalRecipients",type:"tuple[]"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct BasicOrderParameters",name:"parameters",type:"tuple"}],name:"fulfillBasicOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order",name:"order",type:"tuple"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"}],name:"fulfillOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"contractOfferer",type:"address"}],name:"getContractOffererNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"offerer",type:"address"}],name:"getCounter",outputs:[{internalType:"uint256",name:"counter",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"counter",type:"uint256"}],internalType:"struct OrderComponents",name:"order",type:"tuple"}],name:"getOrderHash",outputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"getOrderStatus",outputs:[{internalType:"bool",name:"isValidated",type:"bool"},{internalType:"bool",name:"isCancelled",type:"bool"},{internalType:"uint256",name:"totalFilled",type:"uint256"},{internalType:"uint256",name:"totalSize",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"incrementCounter",outputs:[{internalType:"uint256",name:"newCounter",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"information",outputs:[{internalType:"string",name:"version",type:"string"},{internalType:"bytes32",name:"domainSeparator",type:"bytes32"},{internalType:"address",name:"conduitController",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder[]",name:"orders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{components:[{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"offerComponents",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"considerationComponents",type:"tuple[]"}],internalType:"struct Fulfillment[]",name:"fulfillments",type:"tuple[]"},{internalType:"address",name:"recipient",type:"address"}],name:"matchAdvancedOrders",outputs:[{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"},{components:[{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"offerComponents",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"considerationComponents",type:"tuple[]"}],internalType:"struct Fulfillment[]",name:"fulfillments",type:"tuple[]"}],name:"matchOrders",outputs:[{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"contractName",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"}],name:"validate",outputs:[{internalType:"bool",name:"validated",type:"bool"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];t.SeaportABIv14=r},"6ed4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdvancedOrderNumeratorDenominator=t.generateFulfillOrdersFulfillments=t.fulfillAvailableOrders=t.validateAndSanitizeFromOrderStatus=t.fulfillStandardOrder=t.fulfillBasicOrder=t.shouldUseBasicFulfill=void 0;const r=n("c030"),i=n("54e8"),a=n("649b"),s=n("416c"),o=n("3c7f"),u=n("b989"),l=n("2ec4"),d=n("0499"),p=n("e51f"),c=({offer:e,consideration:t,offerer:n},a)=>{if(!a.eq(0))return!1;if(e.length>1||0===t.length)return!1;const s=[...e,...t],o=s.filter(({itemType:e})=>[i.ItemType.ERC721,i.ItemType.ERC1155].includes(e)),u=s.filter(({itemType:e})=>(0,l.isCriteriaItem)(e)),p=(0,l.isNativeCurrencyItem)(e[0]);if(p)return!1;if(1!==o.length||0!==u.length)return!1;if(!(0,d.areAllCurrenciesSame)({offer:e,consideration:t}))return!1;const c=s.some(({startAmount:e,endAmount:t})=>e!==t);if(c)return!1;const[y,...m]=t,f=y.recipient.toLowerCase()!==n.toLowerCase();if(f)return!1;if(t.length>1&&m.every(t=>t.itemType===e[0].itemType)&&(0,d.totalItemsAmount)(m).endAmount.gt(e[0].endAmount))return!1;const h=s.filter(l.isCurrencyItem),g=h.filter(({itemType:e})=>e===i.ItemType.NATIVE).every(({token:e})=>e===r.ethers.constants.AddressZero),T=h.every(({identifierOrCriteria:e})=>r.BigNumber.from(e).eq(0)),b=o.filter(({itemType:e})=>e===i.ItemType.ERC721).every(({endAmount:e})=>"1"===e);return g&&T&&b};t.shouldUseBasicFulfill=c;const y={[i.ItemType.ERC20]:{[i.ItemType.ERC721]:i.BasicOrderRouteType.ERC721_TO_ERC20,[i.ItemType.ERC1155]:i.BasicOrderRouteType.ERC1155_TO_ERC20},[i.ItemType.ERC721]:{[i.ItemType.NATIVE]:i.BasicOrderRouteType.ETH_TO_ERC721,[i.ItemType.ERC20]:i.BasicOrderRouteType.ERC20_TO_ERC721},[i.ItemType.ERC1155]:{[i.ItemType.NATIVE]:i.BasicOrderRouteType.ETH_TO_ERC1155,[i.ItemType.ERC20]:i.BasicOrderRouteType.ERC20_TO_ERC1155}};function m({order:e,seaportContract:t,offererBalancesAndApprovals:n,fulfillerBalancesAndApprovals:o,timeBasedItemParams:u,offererOperator:d,fulfillerOperator:c,signer:m,tips:f=[],conduitKey:h=i.NO_CONDUIT,domain:g,overrides:T},b){var v,O;const{offer:A,consideration:_}=e.parameters,E=[..._,...f],C=A[0],[I,...S]=E,P=null===(v=y[C.itemType])||void 0===v?void 0:v[I.itemType];if(void 0===P)throw new Error("Order parameters did not result in a valid basic fulfillment");const B=S.map(({startAmount:e,recipient:t})=>({amount:e,recipient:t})),w=E.filter(e=>e.itemType!==A[0].itemType),x=null===(O=(0,l.getSummedTokenAndIdentifierAmounts)({items:w,criterias:[],timeBasedItemParams:Object.assign(Object.assign({},u),{isConsiderationItem:!0})})[r.ethers.constants.AddressZero])||void 0===O?void 0:O["0"],R=(0,s.validateBasicFulfillBalancesAndApprovals)({offer:A,consideration:E,offererBalancesAndApprovals:n,fulfillerBalancesAndApprovals:o,timeBasedItemParams:u,offererOperator:d,fulfillerOperator:c}),k={offerer:e.parameters.offerer,offererConduitKey:e.parameters.conduitKey,zone:e.parameters.zone,basicOrderType:e.parameters.orderType+4*P,offerToken:C.token,offerIdentifier:C.identifierOrCriteria,offerAmount:C.endAmount,considerationToken:I.token,considerationIdentifier:I.identifierOrCriteria,considerationAmount:I.endAmount,startTime:e.parameters.startTime,endTime:e.parameters.endTime,salt:e.parameters.salt,totalOriginalAdditionalRecipients:e.parameters.consideration.length-1,signature:e.signature,fulfillerConduitKey:h,additionalRecipients:B,zoneHash:e.parameters.zoneHash},N=Object.assign(Object.assign({},T),{value:x}),F=(0,a.getApprovalActions)(R,b,m),M={type:"exchange",transactionMethods:(0,p.getTransactionMethods)(t.connect(m),"fulfillBasicOrder",[k,N],g)},D=[...F,M];return{actions:D,executeAllActions:()=>(0,p.executeAllActions)(D)}}function f({order:e,unitsToFill:n=0,totalSize:i,totalFilled:u,offerCriteria:c,considerationCriteria:y,tips:m=[],extraData:f,seaportContract:h,offererBalancesAndApprovals:g,fulfillerBalancesAndApprovals:T,offererOperator:b,fulfillerOperator:v,timeBasedItemParams:O,conduitKey:A,recipientAddress:_,signer:E,domain:C,overrides:I},S){var P;const B=n?(0,d.mapOrderAmountsFromUnitsToFill)(e,{unitsToFill:n,totalSize:i}):(0,d.mapOrderAmountsFromFilledStatus)(e,{totalFilled:u,totalSize:i}),{parameters:{offer:w,consideration:x}}=B,R=[...x,...m],k=w.filter(({itemType:e})=>(0,l.isCriteriaItem)(e)),N=R.filter(({itemType:e})=>(0,l.isCriteriaItem)(e)),F=k.length>0||N.length>0;if(k.length!==c.length||N.length!==y.length)throw new Error("You must supply the appropriate criterias for criteria based items");const M=null===(P=(0,l.getSummedTokenAndIdentifierAmounts)({items:R,criterias:y,timeBasedItemParams:Object.assign(Object.assign({},O),{isConsiderationItem:!0})})[r.ethers.constants.AddressZero])||void 0===P?void 0:P["0"],D=(0,s.validateStandardFulfillBalancesAndApprovals)({offer:w,consideration:R,offerCriteria:c,considerationCriteria:y,offererBalancesAndApprovals:g,fulfillerBalancesAndApprovals:T,timeBasedItemParams:O,offererOperator:b,fulfillerOperator:v}),j=Object.assign(Object.assign({},I),{value:M}),L=(0,a.getApprovalActions)(D,S,E),U=_!==r.ethers.constants.AddressZero,H=Boolean(n)||F||U,z=Object.assign(Object.assign({},e),{parameters:Object.assign(Object.assign({},e.parameters),{consideration:[...e.parameters.consideration,...m],totalOriginalConsiderationItems:x.length})}),{numerator:V,denominator:K}=(0,t.getAdvancedOrderNumeratorDenominator)(e,n),G={type:"exchange",transactionMethods:H?(0,p.getTransactionMethods)(h.connect(E),"fulfillAdvancedOrder",[Object.assign(Object.assign({},z),{numerator:V,denominator:K,extraData:null!==f&&void 0!==f?f:"0x"}),F?(0,o.generateCriteriaResolvers)({orders:[e],offerCriterias:[c],considerationCriterias:[y]}):[],A,_,j],C):(0,p.getTransactionMethods)(h.connect(E),"fulfillOrder",[z,A,j],C)},q=[...L,G];return{actions:q,executeAllActions:()=>(0,p.executeAllActions)(q)}}function h(e,t){const{isValidated:n,isCancelled:r,totalFilled:i,totalSize:a}=t;if(a.gt(0)&&i.div(a).eq(1))throw new Error("The order you are trying to fulfill is already filled");if(r)throw new Error("The order you are trying to fulfill is cancelled");return n?{parameters:Object.assign({},e.parameters),signature:"0x"}:e}function g({ordersMetadata:e,seaportContract:n,fulfillerBalancesAndApprovals:i,fulfillerOperator:u,currentBlockTimestamp:c,ascendingAmountTimestampBuffer:y,conduitKey:m,signer:f,recipientAddress:g,exactApproval:b,domain:v}){const O=e.map(e=>Object.assign(Object.assign({},e),{order:h(e.order,e.orderStatus)})),A=O.map(e=>Object.assign(Object.assign({},e),{order:e.unitsToFill?(0,d.mapOrderAmountsFromUnitsToFill)(e.order,{unitsToFill:e.unitsToFill,totalSize:e.orderStatus.totalSize}):(0,d.mapOrderAmountsFromFilledStatus)(e.order,{totalFilled:e.orderStatus.totalFilled,totalSize:e.orderStatus.totalSize})}));let _=r.BigNumber.from(0);const E=[],C=O.flatMap(e=>[e.order.parameters.offer,e.order.parameters.consideration]).flat().filter(({itemType:e})=>(0,l.isCriteriaItem)(e)),I=C.length>0,S=e=>{e.forEach(e=>{E.find(t=>t.token===e.token)||E.push(e)})};A.forEach(({order:e,tips:t,offerCriteria:n,considerationCriteria:a,offererBalancesAndApprovals:o,offererOperator:d})=>{var p,m;const f=[...e.parameters.consideration,...t],h={startTime:e.parameters.startTime,endTime:e.parameters.endTime,currentBlockTimestamp:c,ascendingAmountTimestampBuffer:y,isConsiderationItem:!0};_=_.add(null!==(m=null===(p=(0,l.getSummedTokenAndIdentifierAmounts)({items:f,criterias:a,timeBasedItemParams:h})[r.ethers.constants.AddressZero])||void 0===p?void 0:p["0"])&&void 0!==m?m:r.BigNumber.from(0));const g=(0,s.validateStandardFulfillBalancesAndApprovals)({offer:e.parameters.offer,consideration:f,offerCriteria:n,considerationCriteria:a,offererBalancesAndApprovals:o,fulfillerBalancesAndApprovals:i,timeBasedItemParams:h,offererOperator:d,fulfillerOperator:u}),T=e.parameters.offer.filter(({itemType:e})=>(0,l.isCriteriaItem)(e)),b=f.filter(({itemType:e})=>(0,l.isCriteriaItem)(e));if(T.length!==n.length||b.length!==a.length)throw new Error("You must supply the appropriate criterias for criteria based items");S(g)});const P={value:_},B=(0,a.getApprovalActions)(E,b,f),w=O.map(({order:e,unitsToFill:n=0,tips:r,extraData:i})=>{const{numerator:a,denominator:s}=(0,t.getAdvancedOrderNumeratorDenominator)(e,n),o=[...e.parameters.consideration,...r];return Object.assign(Object.assign({},e),{parameters:Object.assign(Object.assign({},e.parameters),{consideration:o,totalOriginalConsiderationItems:e.parameters.consideration.length}),numerator:a,denominator:s,extraData:i})}),{offerFulfillments:x,considerationFulfillments:R}=T(e),k={type:"exchange",transactionMethods:(0,p.getTransactionMethods)(n.connect(f),"fulfillAvailableAdvancedOrders",[w,I?(0,o.generateCriteriaResolvers)({orders:e.map(({order:e})=>e),offerCriterias:e.map(({offerCriteria:e})=>e),considerationCriterias:e.map(({considerationCriteria:e})=>e)}):[],x,R,m,g,w.length,P],v)},N=[...B,k];return{actions:N,executeAllActions:()=>(0,p.executeAllActions)(N)}}function T(e){const t=({sourceOrDestination:e,operator:t="",token:n,identifier:r})=>`${e}-${t}-${n}-${r}`,n={},r={};return e.forEach(({order:e,offererOperator:r,offerCriteria:i},a)=>{const s=(0,o.getItemToCriteriaMap)(e.parameters.offer,i);return e.parameters.offer.forEach((i,o)=>{var u,d,p;const c=`${t({sourceOrDestination:e.parameters.offerer,operator:r,token:i.token,identifier:null!==(d=null===(u=s.get(i))||void 0===u?void 0:u.identifier)&&void 0!==d?d:i.identifierOrCriteria})}${(0,l.isErc721Item)(i.itemType)?o:""}`;n[c]=[...null!==(p=n[c])&&void 0!==p?p:[],{orderIndex:a,itemIndex:o}]})}),e.forEach(({order:e,considerationCriteria:n,tips:i},a)=>{const s=(0,o.getItemToCriteriaMap)(e.parameters.consideration,n);return[...e.parameters.consideration,...i].forEach((e,n)=>{var i,o,u;const d=`${t({sourceOrDestination:e.recipient,token:e.token,identifier:null!==(o=null===(i=s.get(e))||void 0===i?void 0:i.identifier)&&void 0!==o?o:e.identifierOrCriteria})}${(0,l.isErc721Item)(e.itemType)?n:""}`;r[d]=[...null!==(u=r[d])&&void 0!==u?u:[],{orderIndex:a,itemIndex:n}]})}),{offerFulfillments:Object.values(n),considerationFulfillments:Object.values(r)}}t.fulfillBasicOrder=m,t.fulfillStandardOrder=f,t.validateAndSanitizeFromOrderStatus=h,t.fulfillAvailableOrders=g,t.generateFulfillOrdersFulfillments=T;const b=(e,t)=>{const n=(0,l.getMaximumSizeForOrder)(e),i=r.BigNumber.from(t),a=(0,u.gcd)(i,n),s=t?i.div(a):r.BigNumber.from(1),o=t?n.div(a):r.BigNumber.from(1);return{numerator:s,denominator:o}};t.getAdvancedOrderNumeratorDenominator=b},"6f8e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrivateListingFulfillments=t.constructPrivateListingCounterOrder=t.getPrivateListingConsiderations=void 0;const r=n("2ec4"),i=n("0499"),a=n("c030"),s=(e,t)=>e.map(e=>Object.assign(Object.assign({},e),{recipient:t}));t.getPrivateListingConsiderations=s;const o=(e,t)=>{const n=e.parameters.consideration.filter(e=>e.recipient.toLowerCase()!==t.toLowerCase());if(!n.every(e=>(0,r.isCurrencyItem)(e)))throw new Error("The consideration for the private listing did not contain only currency items");if(!n.every(e=>e.itemType===n[0].itemType))throw new Error("Not all currency items were the same for private order");const{aggregatedStartAmount:s,aggregatedEndAmount:o}=n.reduce(({aggregatedStartAmount:e,aggregatedEndAmount:t},n)=>({aggregatedStartAmount:e.add(n.startAmount),aggregatedEndAmount:t.add(n.endAmount)}),{aggregatedStartAmount:a.BigNumber.from(0),aggregatedEndAmount:a.BigNumber.from(0)}),u={parameters:Object.assign(Object.assign({},e.parameters),{offerer:t,offer:[{itemType:n[0].itemType,token:n[0].token,identifierOrCriteria:n[0].identifierOrCriteria,startAmount:s.toString(),endAmount:o.toString()}],consideration:[],salt:(0,i.generateRandomSalt)(),totalOriginalConsiderationItems:0}),signature:"0x"};return u};t.constructPrivateListingCounterOrder=o;const u=e=>{const t=[];e.parameters.offer.forEach((n,r)=>{const i=e.parameters.consideration.findIndex(e=>e.itemType===n.itemType&&e.token===n.token&&e.identifierOrCriteria===n.identifierOrCriteria);if(-1===i)throw new Error("Could not find matching offer item in the consideration for private listing");t.push({offerComponents:[{orderIndex:0,itemIndex:r}],considerationComponents:[{orderIndex:0,itemIndex:i}]})});const n=[];return e.parameters.consideration.forEach((e,t)=>{(0,r.isCurrencyItem)(e)&&n.push({offerComponents:[{orderIndex:1,itemIndex:0}],considerationComponents:[{orderIndex:0,itemIndex:t}]})}),[...t,...n]};t.getPrivateListingFulfillments=u},"7d0b":function(e,t,n){"use strict";n.r(t);var r=n("35a8");n.d(t,"id",(function(){return r["a"]}));var i=n("0a7f");n.d(t,"dnsEncode",(function(){return i["a"]})),n.d(t,"namehash",(function(){return i["d"]})),n.d(t,"isValidName",(function(){return i["c"]}));var a=n("714b");n.d(t,"messagePrefix",(function(){return a["b"]})),n.d(t,"hashMessage",(function(){return a["a"]})),n.d(t,"ensNormalize",(function(){return i["b"]}));var s=n("e108");n.d(t,"_TypedDataEncoder",(function(){return s["a"]}))},"820a":function(e,t,n){"use strict";n.r(t);var r=n("3796");n.d(t,"computeHmac",(function(){return r["a"]})),n.d(t,"ripemd160",(function(){return r["b"]})),n.d(t,"sha256",(function(){return r["c"]})),n.d(t,"sha512",(function(){return r["d"]}));var i=n("d457");n.d(t,"SupportedAlgorithm",(function(){return i["a"]}))},"891a":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleTree=void 0;const i=r(n("cc46"));t.MerkleTree=i.default;var a=n("51e6");Object.defineProperty(t,"MerkleMountainRange",{enumerable:!0,get:function(){return a.MerkleMountainRange}});var s=n("c4b1b");Object.defineProperty(t,"IncrementalMerkleTree",{enumerable:!0,get:function(){return s.IncrementalMerkleTree}});var o=n("c4744");Object.defineProperty(t,"MerkleSumTree",{enumerable:!0,get:function(){return o.MerkleSumTree}}),t.default=i.default},"8d51":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC721__factory=t.ERC20__factory=t.ERC1155__factory=void 0;var r=n("c562");Object.defineProperty(t,"ERC1155__factory",{enumerable:!0,get:function(){return r.ERC1155__factory}});var i=n("0930");Object.defineProperty(t,"ERC20__factory",{enumerable:!0,get:function(){return i.ERC20__factory}});var a=n("2ad5");Object.defineProperty(t,"ERC721__factory",{enumerable:!0,get:function(){return a.ERC721__factory}})},"8e19":function(e,t,n){"use strict";n.r(t);var r=n("70be");n.d(t,"formatBytes32String",(function(){return r["a"]})),n.d(t,"parseBytes32String",(function(){return r["b"]}));var i=n("8424");n.d(t,"nameprep",(function(){return i["a"]}));var a=n("5273");n.d(t,"_toEscapedUtf8String",(function(){return a["d"]})),n.d(t,"toUtf8Bytes",(function(){return a["f"]})),n.d(t,"toUtf8CodePoints",(function(){return a["g"]})),n.d(t,"toUtf8String",(function(){return a["h"]})),n.d(t,"Utf8ErrorFuncs",(function(){return a["b"]})),n.d(t,"Utf8ErrorReason",(function(){return a["c"]})),n.d(t,"UnicodeNormalizationForm",(function(){return a["a"]}))},"8edb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"994c":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getNextLayer=t.getRoot=t.fillArray=t.hashConcat=t.bufferKeccak=t.hexToBuffer=t.bufferToHex=t.chunk=t.makeArray=void 0;const r=n("4d8a"),i=(e,t)=>Array(e).fill(0).map((e,n)=>t(n));t.makeArray=i;const a=(e,n)=>(0,t.makeArray)(Math.ceil(e.length/n),t=>e.slice(t*n,(t+1)*n));t.chunk=a;const s=e=>(0,r.hexlify)(e);t.bufferToHex=s;const o=t=>e.from(t.slice(2),"hex");t.hexToBuffer=o;const u=e=>(0,t.hexToBuffer)((0,r.keccak256)(e));t.bufferKeccak=u;const l=e=>(0,t.bufferKeccak)((0,r.hexConcat)(e));t.hashConcat=l;const d=(e,t,n)=>(t>e.length&&e.push(...Array(t-e.length).fill(n)),e);t.fillArray=d;const p=(n,r=!0)=>{if(0===n.length)throw new Error("empty tree");const i=n.map(n=>{const i=e.isBuffer(n)?n:(0,t.hexToBuffer)(n);return r?(0,t.bufferKeccak)(i):i}),a=[i];while(a[a.length-1].length>1)a.push((0,t.getNextLayer)(a[a.length-1]));return a[a.length-1][0]};t.getRoot=p;const c=e=>(0,t.chunk)(e,2).map(t.hashConcat);t.getNextLayer=c}).call(this,n("1c35").Buffer)},a467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Seaport=void 0;const r=n("3d1b9");Object.defineProperty(t,"Seaport",{enumerable:!0,get:function(){return r.Seaport}})},a7cf:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.balanceOf=void 0;const i=n("c030"),a=n("d9eb"),s=n("0b52"),o=n("5ae3"),u=n("54e8"),l=n("2ec4"),d=(e,t,n,d)=>r(void 0,void 0,void 0,(function*(){if((0,l.isErc721Item)(t.itemType)){const r=new i.Contract(t.token,o.ERC721ABI,n);return t.itemType===u.ItemType.ERC721_WITH_CRITERIA?d?r.ownerOf(d.identifier).then(t=>i.BigNumber.from(Number(t.toLowerCase()===e.toLowerCase()))):r.balanceOf(e):r.ownerOf(t.identifierOrCriteria).then(t=>i.BigNumber.from(Number(t.toLowerCase()===e.toLowerCase())))}if((0,l.isErc1155Item)(t.itemType)){const r=new i.Contract(t.token,a.ERC1155ABI,n);if(t.itemType===u.ItemType.ERC1155_WITH_CRITERIA){if(!d){const e=i.BigNumber.from(t.startAmount),n=i.BigNumber.from(t.endAmount);return e.gt(n)?e:n}return r.balanceOf(e,d.identifier)}return r.balanceOf(e,t.identifierOrCriteria)}if((0,l.isErc20Item)(t.itemType)){const r=new i.Contract(t.token,s.ERC20ABI,n);return r.balanceOf(e)}return n.getBalance(e)}));t.balanceOf=d},a9c6:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("6520"),t)},b309:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;const i=n("1c35"),a=r(n("3452"));class s{print(){s.print(this)}bufferIndexOf(e,t,n=!1){if(n)return this.binarySearch(e,t,i.Buffer.compare);const r=(e,t)=>e.equals(t);return this.linearSearch(e,t,r)}static binarySearch(e,t,n){let r=0,i=e.length-1;while(r<=i){const a=Math.floor((r+i)/2),s=n(e[a],t);if(0===s){for(let r=a-1;r>=0;r--)if(0!==n(e[r],t))return r+1;return 0}s<0?r=a+1:i=a-1}return-1}binarySearch(e,t,n){return s.binarySearch(e,t,n)}static linearSearch(e,t,n){for(let r=0;r<e.length;r++)if(n(e[r],t))return r;return-1}linearSearch(e,t,n){return s.linearSearch(e,t,n)}static bufferify(e){if(!i.Buffer.isBuffer(e)){if("object"===typeof e&&e.words)return i.Buffer.from(e.toString(a.default.enc.Hex),"hex");if(s.isHexString(e))return i.Buffer.from(e.replace(/^0x/,""),"hex");if("string"===typeof e)return i.Buffer.from(e);if("bigint"===typeof e)return i.Buffer.from(e.toString(16),"hex");if(e instanceof Uint8Array)return i.Buffer.from(e.buffer);if("number"===typeof e){let t=e.toString();return t.length%2&&(t="0"+t),i.Buffer.from(t,"hex")}if(ArrayBuffer.isView(e))return i.Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return e}bigNumberify(e){return s.bigNumberify(e)}static bigNumberify(e){if("bigint"===typeof e)return e;if("string"===typeof e)return e.startsWith("0x")&&s.isHexString(e)?BigInt("0x"+e.replace("0x","").toString()):BigInt(e);if(i.Buffer.isBuffer(e))return BigInt("0x"+e.toString("hex"));if(e instanceof Uint8Array)return BigInt(e);if("number"===typeof e)return BigInt(e);throw new Error("cannot bigNumberify")}static isHexString(e){return"string"===typeof e&&/^(0x)?[0-9A-Fa-f]*$/.test(e)}static print(e){console.log(e.toString())}bufferToHex(e,t=!0){return s.bufferToHex(e,t)}static bufferToHex(e,t=!0){return`${t?"0x":""}${(e||i.Buffer.alloc(0)).toString("hex")}`}bufferify(e){return s.bufferify(e)}bufferifyFn(e){return t=>{const n=e(t);return i.Buffer.isBuffer(n)?n:this.isHexString(n)?i.Buffer.from(n.replace("0x",""),"hex"):"string"===typeof n?i.Buffer.from(n):"bigint"===typeof n?i.Buffer.from(t.toString(16),"hex"):ArrayBuffer.isView(n)?i.Buffer.from(n.buffer,n.byteOffset,n.byteLength):i.Buffer.from(e(a.default.enc.Hex.parse(t.toString("hex"))).toString(a.default.enc.Hex),"hex")}}isHexString(e){return s.isHexString(e)}log2(e){return 1===e?0:1+this.log2(e/2|0)}zip(e,t){return e.map((e,n)=>[e,t[n]])}static hexZeroPad(e,t){return"0x"+e.replace("0x","").padStart(t,"0")}}t.Base=s,t.default=s},b888:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleTree=void 0;const r=n("c030"),i=n("4d8a"),a=n("891a"),s=t=>(0,i.keccak256)(e.from(r.BigNumber.from(t).toHexString().slice(2).padStart(64,"0"),"hex"));class o{constructor(e){this.tree=new a.default(e.map(s),i.keccak256,{sort:!0})}getProof(e){return this.tree.getHexProof(s(e))}getRoot(){return this.tree.getRoot().toString("hex")?this.tree.getHexRoot():"0"}}t.MerkleTree=o}).call(this,n("1c35").Buffer)},b989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findGcd=t.gcd=void 0;const r=n("c030"),i=(e,n)=>{const i=r.BigNumber.from(e),a=r.BigNumber.from(n);return i.eq(0)?a:(0,t.gcd)(a.mod(e),i)};t.gcd=i;const a=e=>{let n=r.BigNumber.from(e[0]);for(let r=1;r<e.length;r++)if(n=(0,t.gcd)(e[r],n),n.eq(1))return n;return n};t.findGcd=a},c4744:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleSumTree=t.ProofStep=t.Leaf=t.Bucket=void 0;const r=n("b309");class i{constructor(e,t){this.size=BigInt(e),this.hashed=t,this.parent=null,this.left=null,this.right=null}}t.Bucket=i;class a{constructor(e,t,n){this.hashFn=e,this.rng=t.map(e=>BigInt(e)),this.data=n}getBucket(){let t;return t=this.data?this.hashFn(this.data):e.alloc(32),new i(BigInt(this.rng[1])-BigInt(this.rng[0]),t)}}t.Leaf=a;class s{constructor(e,t){this.bucket=e,this.right=t}}t.ProofStep=s;class o extends r.Base{constructor(t,n){super(),this.leaves=t,this.hashFn=n,o.checkConsecutive(t),this.buckets=[];for(const e of t)this.buckets.push(e.getBucket());let r=[];for(const e of this.buckets)r.push(e);while(1!==r.length){const t=[];while(r.length)if(r.length>=2){const n=r.shift(),a=r.shift(),s=n.size+a.size,o=this.hashFn(e.concat([this.sizeToBuffer(n.size),this.bufferify(n.hashed),this.sizeToBuffer(a.size),this.bufferify(a.hashed)])),u=new i(s,o);a.parent=u,n.parent=a.parent,n.right=a,a.left=n,t.push(u)}else t.push(r.shift());r=t}this.root=r[0]}sizeToBuffer(t){const n=e.alloc(8),r=new DataView(n.buffer);return r.setBigInt64(0,BigInt(t),!1),n}static checkConsecutive(e){let t=BigInt(0);for(const n of e){if(n.rng[0]!==t)throw new Error("leaf ranges are invalid");t=BigInt(n.rng[1])}}getProof(e){let t=this.buckets[Number(e)];const n=[];while(t&&t.parent){const e=!!t.right,r=t.right?t.right:t.left;t=t.parent,n.push(new s(r,e))}return n}sum(e){let t=BigInt(0);for(const n of e)t+=BigInt(n);return t}verifyProof(t,n,r){const a=[this.sum(r.filter(e=>!e.right).map(e=>e.bucket.size)),BigInt(t.size)-this.sum(r.filter(e=>e.right).map(e=>e.bucket.size))];if(a[0]!==n.rng[0]||a[1]!==n.rng[1])return!1;let s,o=n.getBucket();for(const u of r)s=u.right?this.hashFn(e.concat([this.sizeToBuffer(o.size),this.bufferify(o.hashed),this.sizeToBuffer(u.bucket.size),this.bufferify(u.bucket.hashed)])):this.hashFn(e.concat([this.sizeToBuffer(u.bucket.size),this.bufferify(u.bucket.hashed),this.sizeToBuffer(o.size),this.bufferify(o.hashed)])),o=new i(BigInt(o.size)+BigInt(u.bucket.size),s);return o.size===t.size&&o.hashed.toString("hex")===t.hashed.toString("hex")}}t.MerkleSumTree=o,"undefined"!==typeof window&&(window.MerkleSumTree=o),t.default=o}).call(this,n("1c35").Buffer)},c4b1b:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IncrementalMerkleTree=void 0;const i=r(n("b309")),a=r(n("26bf"));class s extends i.default{constructor(e,t){if(super(),this.hashFn=e,t.depth&&(this.depth=t.depth),t.arity&&(this.arity=t.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const n=[];let r=t.zeroValue;if(this.zeroValue=r,this.zeroes=[],this.depth)for(let i=0;i<this.depth;i++)this.zeroes.push(r),n[i]=[],r=this.hashFn(Array(this.arity).fill(r));this.nodes=n,this.root=r}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(e){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let t=e,n=this.nodes[0].length;for(let r=0;r<this.depth;r+=1){const e=n%this.arity,i=n-e,a=i+this.arity,s=[];this.nodes[r][n]=t;for(let t=i;t<a;t+=1)t<this.nodes[r].length?s.push(this.nodes[r][t]):s.push(this.zeroes[r]);t=this.hashFn(s),n=Math.floor(n/this.arity)}this.root=t}delete(e){this.update(e,this.zeroValue)}update(e,t){if(e<0||e>=this.nodes[0].length)throw new Error("out of bounds");let n=t;for(let r=0;r<this.depth;r+=1){const t=e%this.arity,i=e-t,a=i+this.arity,s=[];this.nodes[r][e]=n;for(let e=i;e<a;e+=1)e<this.nodes[r].length?s.push(this.nodes[r][e]):s.push(this.zeroes[r]);n=this.hashFn(s),e=Math.floor(e/this.arity)}this.root=n}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(e){return this.nodes[0].indexOf(e)}getLeaves(){const e=this.copyList(this.nodes[0]),t=this.nodes[0].length;for(let n=t;n<this.getMaxLeaves();n++)e[n]=this.zeroValue;return e}copyList(e){return e.map(e=>BigInt(e))}getLayers(){const e=[];for(const t of this.nodes)e.push(this.copyList(t));if(e[0].length<this.getMaxLeaves()){let t=e[0].length;for(let n=t;n<this.getMaxLeaves();n++)e[0][n]=this.zeroValue;for(let n=0;n<this.depth;n++){const r=t%this.arity,i=t-r,a=i+this.arity;for(let t=i;t<a;t++)t>=e[n].length&&(e[n][t]=this.zeroes[n]);t=Math.floor(t/this.arity)}}return e.push([this.root]),e}getHexLayers(){return this.getLayers().reduce((e,t)=>(Array.isArray(t)?e.push(t.map(e=>this.bufferToHex(this.bufferify(e)))):e.push(t),e),[])}getLayersAsObject(){const e=this.getLayers().map(e=>e.map(e=>this.bufferToHex(this.bufferify(e),!1))),t=[];for(let n=0;n<e.length;n++){const r=[];for(let i=0;i<e[n].length;i++){const a={[e[n][i]]:null};if(t.length){a[e[n][i]]={};const r=t.shift(),s=Object.keys(r)[0];if(a[e[n][i]][s]=r[s],t.length){const r=t.shift(),s=Object.keys(r)[0];a[e[n][i]][s]=r[s]}}r.push(a)}t.push(...r)}return t[0]}computeRoot(){let e,t=this.nodes[0].length;for(let n=0;n<this.depth;n+=1){const r=t%this.arity,i=t-r,a=i+this.arity,s=[];for(let e=i;e<a;e+=1)e<this.nodes[n].length?s.push(this.nodes[n][e]):s.push(this.zeroes[n]);e=this.hashFn(s),t=Math.floor(t/this.arity)}return e}getProof(e){if(e<0||e>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const t=[],n=[],r=e;for(let i=0;i<this.depth;i+=1){const r=e%this.arity,a=e-r,s=a+this.arity;n[i]=r,t[i]=[];for(let n=a;n<s;n+=1)n!==e&&(n<this.nodes[i].length?t[i].push(this.nodes[i][n]):t[i].push(this.zeroes[i]));e=Math.floor(e/this.arity)}return{root:this.root,leaf:this.nodes[0][r],pathIndices:n,siblings:t}}verify(e){let t=e.leaf;for(let n=0;n<e.siblings.length;n+=1){const r=e.siblings[n].slice();r.splice(e.pathIndices[n],0,t),t=this.hashFn(r)}return e.root===t}toString(){return this.toTreeString()}toTreeString(){const e=this.getLayersAsObject();return a.default.asTree(e,!0)}}t.IncrementalMerkleTree=s,"undefined"!==typeof window&&(window.IncrementalMerkleTree=s),t.default=s},c562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC1155__factory=void 0;const r=n("c030"),i=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class a{static createInterface(){return new r.utils.Interface(i)}static connect(e,t){return new r.Contract(e,i,t)}}t.ERC1155__factory=a,a.abi=i},c8c8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeOrder=t.serializeOrdersQueryOptions=t.getFulfillOfferPayload=t.getFulfillListingPayload=t.getFulfillmentDataPath=t.getBuildCollectionOfferPayload=t.getPostCollectionOfferPayload=t.getRefreshMetadataPath=t.getNFTPath=t.getListNFTsByAccountPath=t.getListNFTsByContractPath=t.getListNFTsByCollectionPath=t.getCollectionOffersPath=t.getPostCollectionOfferPath=t.getBuildOfferPath=t.getCollectionPath=t.getBestListingAPIPath=t.getBestOfferAPIPath=t.getAllListingsAPIPath=t.getAllOffersAPIPath=t.getOrdersAPIPath=t.DEFAULT_SEAPORT_CONTRACT_ADDRESS=void 0;const r=n("54e8"),i=n("c030"),a=n("a9c6");t.DEFAULT_SEAPORT_CONTRACT_ADDRESS=r.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS;const s=(e,t,n)=>{const r="ask"===n?"listings":"offers";return`/v2/orders/${e}/${t}/${r}`};t.getOrdersAPIPath=s;const o=e=>`/v2/offers/collection/${e}/all`;t.getAllOffersAPIPath=o;const u=e=>`/v2/listings/collection/${e}/all`;t.getAllListingsAPIPath=u;const l=(e,t)=>`/v2/offers/collection/${e}/nfts/${t}/best`;t.getBestOfferAPIPath=l;const d=(e,t)=>`/v2/listings/collection/${e}/nfts/${t}/best`;t.getBestListingAPIPath=d;const p=e=>"/api/v1/collection/"+e;t.getCollectionPath=p;const c=()=>"/v2/offers/build";t.getBuildOfferPath=c;const y=()=>"/v2/offers";t.getPostCollectionOfferPath=y;const m=e=>"/v2/offers/collection/"+e;t.getCollectionOffersPath=m;const f=e=>`/v2/collection/${e}/nfts`;t.getListNFTsByCollectionPath=f;const h=(e,t)=>`/v2/chain/${e}/contract/${t}/nfts`;t.getListNFTsByContractPath=h;const g=(e,t)=>`/v2/chain/${e}/account/${t}/nfts`;t.getListNFTsByAccountPath=g;const T=(e,t,n)=>`/v2/chain/${e}/contract/${t}/nfts/${n}`;t.getNFTPath=T;const b=(e,t,n)=>`/v2/chain/${e}/contract/${t}/nfts/${n}/refresh`;t.getRefreshMetadataPath=b;const v=(e,n)=>({criteria:{collection:{slug:e}},protocol_data:n,protocol_address:t.DEFAULT_SEAPORT_CONTRACT_ADDRESS});t.getPostCollectionOfferPayload=v;const O=(e,n,r)=>({offerer:e,quantity:n,criteria:{collection:{slug:r}},protocol_address:t.DEFAULT_SEAPORT_CONTRACT_ADDRESS});t.getBuildCollectionOfferPayload=O;const A=e=>{const t="ask"===e?"listings":"offers";return`/v2/${t}/fulfillment_data`};t.getFulfillmentDataPath=A;const _=(e,t,n,r)=>({listing:{hash:t,chain:r,protocol_address:n},fulfiller:{address:e}});t.getFulfillListingPayload=_;const E=(e,t,n,r)=>({offer:{hash:t,chain:r,protocol_address:n},fulfiller:{address:e}});t.getFulfillOfferPayload=E;const C=e=>{var t;return{limit:e.limit,cursor:e.cursor,payment_token_address:e.paymentTokenAddress,maker:e.maker,taker:e.taker,owner:e.owner,bundled:e.bundled,include_bundled:e.includeBundled,listed_after:e.listedAfter,listed_before:e.listedBefore,token_ids:null!==(t=e.tokenIds)&&void 0!==t?t:[e.tokenId],asset_contract_address:e.assetContractAddress,order_by:e.orderBy,order_direction:e.orderDirection,only_english:e.onlyEnglish}};t.serializeOrdersQueryOptions=C;const I=e=>({createdDate:e.created_date,closingDate:e.closing_date,listingTime:e.listing_time,expirationTime:e.expiration_time,orderHash:e.order_hash,maker:(0,a.accountFromJSON)(e.maker),taker:e.taker?(0,a.accountFromJSON)(e.taker):null,protocolData:e.protocol_data,protocolAddress:e.protocol_address,currentPrice:i.BigNumber.from(e.current_price),makerFees:e.maker_fees.map(({account:e,basis_points:t})=>({account:(0,a.accountFromJSON)(e),basisPoints:t})),takerFees:e.taker_fees.map(({account:e,basis_points:t})=>({account:(0,a.accountFromJSON)(e),basisPoints:t})),side:e.side,orderType:e.order_type,cancelled:e.cancelled,finalized:e.finalized,markedInvalid:e.marked_invalid,clientSignature:e.client_signature,makerAssetBundle:(0,a.assetBundleFromJSON)(e.maker_asset_bundle),takerAssetBundle:(0,a.assetBundleFromJSON)(e.taker_asset_bundle),remainingQuantity:e.remaining_quantity});t.deserializeOrder=I},cc46:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleTree=void 0;const i=n("1c35"),a=r(n("feaa")),s=r(n("94f8")),o=r(n("26bf")),u=r(n("b309"));class l extends u.default{constructor(e,t=s.default,n={}){if(super(),this.duplicateOdd=!1,this.concatenator=i.Buffer.concat,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,n.complete){if(n.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(n.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!n.isBitcoinTree,this.hashLeaves=!!n.hashLeaves,this.sortLeaves=!!n.sortLeaves,this.sortPairs=!!n.sortPairs,this.complete=!!n.complete,n.fillDefaultHash)if("function"===typeof n.fillDefaultHash)this.fillDefaultHash=n.fillDefaultHash;else{if(!i.Buffer.isBuffer(n.fillDefaultHash)&&"string"!==typeof n.fillDefaultHash)throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.fillDefaultHash=(e,t)=>n.fillDefaultHash}this.sort=!!n.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!n.duplicateOdd,n.concatenator&&(this.concatenator=n.concatenator),this.hashFn=this.bufferifyFn(t),this.processLeaves(e)}getOptions(){var e,t;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:null!==(t=null===(e=this.fillDefaultHash)||void 0===e?void 0:e.toString())&&void 0!==t?t:null,duplicateOdd:this.duplicateOdd}}processLeaves(e){if(this.hashLeaves&&(e=e.map(this.hashFn)),this.leaves=e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(i.Buffer.compare)),this.fillDefaultHash)for(let t=this.leaves.length;t<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));t++)this.leaves.push(this.bufferify(this.fillDefaultHash(t,this.hashFn)));this.createHashes(this.leaves)}createHashes(e){this.layers=[e];while(e.length>1){const t=this.layers.length;this.layers.push([]);const n=this.complete&&1===t&&!Number.isInteger(Math.log2(e.length))?2*e.length-Math.pow(2,Math.ceil(Math.log2(e.length))):e.length;for(let r=0;r<e.length;r+=2){if(r>=n){this.layers[t].push(...e.slice(n));break}if(r+1===e.length&&e.length%2===1){const n=e[e.length-1];let i=n;if(this.isBitcoinTree){i=this.hashFn(this.concatenator([a.default(n),a.default(n)])),i=a.default(this.hashFn(i)),this.layers[t].push(i);continue}if(!this.duplicateOdd){this.layers[t].push(e[r]);continue}}const s=e[r],o=r+1===e.length?s:e[r+1];let u=null;u=this.isBitcoinTree?[a.default(s),a.default(o)]:[s,o],this.sortPairs&&u.sort(i.Buffer.compare);let l=this.hashFn(this.concatenator(u));this.isBitcoinTree&&(l=a.default(this.hashFn(l))),this.layers[t].push(l)}e=this.layers[t]}}addLeaf(e,t=!1){t&&(e=this.hashFn(e)),this.processLeaves(this.leaves.concat(e))}addLeaves(e,t=!1){t&&(e=e.map(this.hashFn)),this.processLeaves(this.leaves.concat(e))}getLeaves(e){return Array.isArray(e)?(this.hashLeaves&&(e=e.map(this.hashFn),this.sortLeaves&&(e=e.sort(i.Buffer.compare))),this.leaves.filter(t=>-1!==this.bufferIndexOf(e,t,this.sortLeaves))):this.leaves}getLeaf(e){return e<0||e>this.leaves.length-1?i.Buffer.from([]):this.leaves[e]}getLeafIndex(e){e=this.bufferify(e);const t=this.getLeaves();for(let n=0;n<t.length;n++){const r=t[n];if(r.equals(e))return n}return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(e=>this.bufferToHex(e))}static marshalLeaves(e){return JSON.stringify(e.map(e=>l.bufferToHex(e)),null,2)}static unmarshalLeaves(e){let t=null;if("string"===typeof e)t=JSON.parse(e);else{if(!(e instanceof Object))throw new Error("Expected type of string or object");t=e}if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(l.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((e,t)=>(Array.isArray(t)?e.push(t.map(e=>this.bufferToHex(e))):e.push(t),e),[])}getLayersFlat(){const e=this.layers.reduce((e,t)=>(Array.isArray(t)?e.unshift(...t):e.unshift(t),e),[]);return e.unshift(i.Buffer.from([0])),e}getHexLayersFlat(){return this.getLayersFlat().map(e=>this.bufferToHex(e))}getLayerCount(){return this.getLayers().length}getRoot(){return 0===this.layers.length?i.Buffer.from([]):this.layers[this.layers.length-1][0]||i.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(e,t){if("undefined"===typeof e)throw new Error("leaf is required");e=this.bufferify(e);const n=[];if(!Number.isInteger(t)){t=-1;for(let n=0;n<this.leaves.length;n++)0===i.Buffer.compare(e,this.leaves[n])&&(t=n)}if(t<=-1)return[];for(let r=0;r<this.layers.length;r++){const e=this.layers[r],i=t%2,a=i?t-1:this.isBitcoinTree&&t===e.length-1&&r<this.layers.length-1?t:t+1;a<e.length&&n.push({position:i?"left":"right",data:e[a]}),t=t/2|0}return n}getHexProof(e,t){return this.getProof(e,t).map(e=>this.bufferToHex(e.data))}getProofs(){const e=[],t=[];return this.getProofsDFS(this.layers.length-1,0,e,t),t}getProofsDFS(e,t,n,r){const i=t%2;if(-1===e)return void(i||r.push([...n].reverse()));if(t>=this.layers[e].length)return;const a=this.layers[e],s=i?t-1:t+1;let o=!1;s<a.length&&(o=!0,n.push({position:i?"left":"right",data:a[s]}));const u=2*t,l=2*t+1;this.getProofsDFS(e-1,u,n,r),this.getProofsDFS(e-1,l,n,r),o&&n.splice(n.length-1,1)}getHexProofs(){return this.getProofs().map(e=>this.bufferToHex(e.data))}getPositionalHexProof(e,t){return this.getProof(e,t).map(e=>["left"===e.position?0:1,this.bufferToHex(e.data)])}static marshalProof(e){const t=e.map(e=>"string"===typeof e?e:i.Buffer.isBuffer(e)?l.bufferToHex(e):{position:e.position,data:l.bufferToHex(e.data)});return JSON.stringify(t,null,2)}static unmarshalProof(e){let t=null;if("string"===typeof e)t=JSON.parse(e);else{if(!(e instanceof Object))throw new Error("Expected type of string or object");t=e}if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(e=>{if("string"===typeof e)return l.bufferify(e);if(e instanceof Object)return{position:e.position,data:l.bufferify(e.data)};throw new Error("Expected item to be of type string or object")})}static marshalTree(e){const t=e.getHexRoot(),n=e.leaves.map(e=>l.bufferToHex(e)),r=e.getHexLayers(),i=e.getOptions();return JSON.stringify({options:i,root:t,layers:r,leaves:n},null,2)}static unmarshalTree(e,t=s.default,n={}){let r=null;if("string"===typeof e)r=JSON.parse(e);else{if(!(e instanceof Object))throw new Error("Expected type of string or object");r=e}if(!r)throw new Error("could not parse json");return n=Object.assign({},r.options||{},n),new l(r.leaves,t,n)}getProofIndices(e,t){const n=Math.pow(2,t);let r=new Set;for(const u of e){let e=n+u;while(e>1)r.add(1^e),e=e/2|0}const i=e.map(e=>n+e),a=Array.from(r).sort((e,t)=>e-t).reverse();r=i.concat(a);const s=new Set,o=[];for(let u of r)if(!s.has(u)){o.push(u);while(u>1){if(s.add(u),!s.has(1^u))break;u=u/2|0}}return o.filter(t=>!e.includes(t-n))}getProofIndicesForUnevenTree(e,t){const n=Math.ceil(Math.log2(t)),r=[];for(let s=0;s<n;s++){const e=t%2!==0;e&&r.push({index:s,leavesCount:t}),t=Math.ceil(t/2)}const i=[];let a=e;for(let s=0;s<n;s++){const e=a.map(e=>e%2===0?e+1:e-1);let t=e.filter(e=>!a.includes(e));const n=r.find(({index:e})=>e===s);n&&a.includes(n.leavesCount-1)&&(t=t.slice(0,-1)),i.push(t),a=[...new Set(a.map(e=>e%2===0?e/2:e%2===0?(e+1)/2:(e-1)/2))]}return i}getMultiProof(e,t){this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),t||(t=e,e=this.getLayersFlat());const n=this.isUnevenTree();if(n&&t.every(Number.isInteger))return this.getMultiProofForUnevenTree(t);if(!t.every(Number.isInteger)){let e=t;this.sortPairs&&(e=e.sort(i.Buffer.compare));let n=e.map(e=>this.bufferIndexOf(this.leaves,e,this.sortLeaves)).sort((e,t)=>e===t?0:e>t?1:-1);if(!n.every(e=>-1!==e))throw new Error("Element does not exist in Merkle tree");const r=[],a=[];let s=[];for(let t=0;t<this.layers.length;t++){const e=this.layers[t];for(let t=0;t<n.length;t++){const i=n[t],o=this.getPairNode(e,i);r.push(e[i]),o&&a.push(o),s.push(i/2|0)}n=s.filter((e,t,n)=>n.indexOf(e)===t),s=[]}return a.filter(e=>!r.includes(e))}return this.getProofIndices(t,Math.log2(e.length/2|0)).map(t=>e[t])}getMultiProofForUnevenTree(e,t){t||(t=e,e=this.getLayers());let n=[],r=t;for(const i of e){const e=[];for(const n of r){if(n%2===0){const t=n+1;if(!r.includes(t)&&i[t]){e.push(i[t]);continue}}const t=n-1;r.includes(t)||!i[t]||e.push(i[t])}n=n.concat(e);const t=new Set;for(const n of r)n%2!==0?n%2!==0?t.add((n-1)/2):t.add((n+1)/2):t.add(n/2);r=Array.from(t)}return n}getHexMultiProof(e,t){return this.getMultiProof(e,t).map(e=>this.bufferToHex(e))}getProofFlags(e,t){if(!Array.isArray(e)||e.length<=0)throw new Error("Invalid Inputs!");let n;if(n=e.every(Number.isInteger)?[...e].sort((e,t)=>e===t?0:e>t?1:-1):e.map(e=>this.bufferIndexOf(this.leaves,e,this.sortLeaves)).sort((e,t)=>e===t?0:e>t?1:-1),!n.every(e=>-1!==e))throw new Error("Element does not exist in Merkle tree");const r=t.map(e=>this.bufferify(e)),i=[],a=[];for(let s=0;s<this.layers.length;s++){const e=this.layers[s];n=n.reduce((t,n)=>{const s=i.includes(e[n]);if(!s){const t=this.getPairNode(e,n),s=r.includes(e[n])||r.includes(t);t&&a.push(!s),i.push(e[n]),i.push(t)}return t.push(n/2|0),t},[])}return a}verify(e,t,n){let r=this.bufferify(t);if(n=this.bufferify(n),!Array.isArray(e)||!t||!n)return!1;for(let s=0;s<e.length;s++){const t=e[s];let n=null,o=null;if("string"===typeof t)n=this.bufferify(t),o=!0;else if(Array.isArray(t))o=0===t[0],n=this.bufferify(t[1]);else if(i.Buffer.isBuffer(t))n=t,o=!0;else{if(!(t instanceof Object))throw new Error("Expected node to be of type string or object");n=this.bufferify(t.data),o="left"===t.position}const u=[];this.isBitcoinTree?(u.push(a.default(r)),u[o?"unshift":"push"](a.default(n)),r=this.hashFn(this.concatenator(u)),r=a.default(this.hashFn(r))):this.sortPairs?-1===i.Buffer.compare(r,n)?(u.push(r,n),r=this.hashFn(this.concatenator(u))):(u.push(n,r),r=this.hashFn(this.concatenator(u))):(u.push(r),u[o?"unshift":"push"](n),r=this.hashFn(this.concatenator(u)))}return 0===i.Buffer.compare(r,n)}verifyMultiProof(e,t,n,r,a){const s=this.isUnevenTree();if(s)return this.verifyMultiProofForUnevenTree(e,t,n,r,a);const o=Math.ceil(Math.log2(r));e=this.bufferify(e),n=n.map(e=>this.bufferify(e)),a=a.map(e=>this.bufferify(e));const u={};for(const[i,p]of this.zip(t,n))u[Math.pow(2,o)+i]=p;for(const[i,p]of this.zip(this.getProofIndices(t,o),a))u[i]=p;let l=Object.keys(u).map(e=>+e).sort((e,t)=>e-t);l=l.slice(0,l.length-1);let d=0;while(d<l.length){const e=l[d];if(e>=2&&{}.hasOwnProperty.call(u,1^e)){let t=[u[e-e%2],u[e-e%2+1]];this.sortPairs&&(t=t.sort(i.Buffer.compare));const n=t[1]?this.hashFn(this.concatenator(t)):t[0];u[e/2|0]=n,l.push(e/2|0)}d+=1}return!t.length||{}.hasOwnProperty.call(u,1)&&u[1].equals(e)}verifyMultiProofWithFlags(e,t,n,r){e=this.bufferify(e),t=t.map(this.bufferify),n=n.map(this.bufferify);const a=t.length,s=r.length,o=[];let u=0,l=0,d=0;for(let p=0;p<s;p++){const e=r[p]?u<a?t[u++]:o[l++]:n[d++],s=u<a?t[u++]:o[l++],c=[e,s].sort(i.Buffer.compare);o[p]=this.hashFn(this.concatenator(c))}return 0===i.Buffer.compare(o[s-1],e)}verifyMultiProofForUnevenTree(e,t,n,r,i){e=this.bufferify(e),n=n.map(e=>this.bufferify(e)),i=i.map(e=>this.bufferify(e));const a=this.calculateRootForUnevenTree(t,n,r,i);return e.equals(a)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const e=this.getLayers().map(e=>e.map(e=>this.bufferToHex(e,!1))),t=[];for(let n=0;n<e.length;n++){const r=[];for(let i=0;i<e[n].length;i++){const a={[e[n][i]]:null};if(t.length){a[e[n][i]]={};const r=t.shift(),s=Object.keys(r)[0];if(a[e[n][i]][s]=r[s],t.length){const r=t.shift(),s=Object.keys(r)[0];a[e[n][i]][s]=r[s]}}r.push(a)}t.push(...r)}return t[0]}static verify(e,t,n,r=s.default,i={}){const a=new l([],r,i);return a.verify(e,t,n)}static getMultiProof(e,t){const n=new l([]);return n.getMultiProof(e,t)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(e,t){const n=t%2===0?t+1:t-1;return n<e.length?e[n]:null}toTreeString(){const e=this.getLayersAsObject();return o.default.asTree(e,!0)}toString(){return this.toTreeString()}isUnevenTree(e){const t=(null===e||void 0===e?void 0:e.length)||this.getDepth();return!this.isPowOf2(t)}isPowOf2(e){return e&&!(e&e-1)}calculateRootForUnevenTree(e,t,n,r){const i=this.zip(e,t).sort(([e],[t])=>e-t),a=i.map(([e])=>e),s=this.getProofIndicesForUnevenTree(a,n);let o=0;const u=[];for(let d=0;d<s.length;d++){const e=s[d],t=o;o+=e.length,u[d]=this.zip(e,r.slice(t,o))}const l=[i];for(let d=0;d<u.length;d++){const e=u[d].concat(l[d]).sort(([e],[t])=>e-t).map(([,e])=>e),t=l[d].map(([e])=>e),n=[...new Set(t.map(e=>e%2===0?e/2:e%2===0?(e+1)/2:(e-1)/2))],r=[];for(let i=0;i<n.length;i++){const t=n[i],a=e[2*i],s=e[2*i+1],o=s?this.hashFn(this.concatenator([a,s])):a;r.push([t,o])}l.push(r)}return l[l.length-1][0][1]}}t.MerkleTree=l,"undefined"!==typeof window&&(window.MerkleTree=l),t.default=l},d3b1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGetter=void 0;const r=n("ffb2"),i=n("4d8a"),a=new r.Logger("defaults"),s={integer:0,address:(0,i.hexZeroPad)("0x",20),bool:!1,bytes:"0x",string:""},o=e=>void 0!==e&&(void 0!==e&&null!==e&&(["string","number"].includes(typeof e)&&BigInt(e)===BigInt(0)||Array.isArray(e)&&e.every(o)||"object"===typeof e&&Object.values(e).every(o)||"boolean"===typeof e&&!1===e));function u(e){var t;const[,n]=null!==(t=e.match(/^bytes(\d+)$/))&&void 0!==t?t:[];return n?(0,i.hexZeroPad)("0x",parseInt(n)):(e.match(/^(u?)int(\d*)$/)&&(e="integer"),s[e])}class l{constructor(e){this.types=e,this.defaultValues={};for(const t in e){const e=this.getDefaultValue(t);this.defaultValues[t]=e,o(e)||a.throwError(`Got non-empty value for type ${t} in default generator: ${e}`)}}static from(e,t){const{defaultValues:n}=new l(e);return t?n[t]:n}getDefaultValue(e){if(this.defaultValues[e])return this.defaultValues[e];const t=u(e);if(void 0!==t)return t;const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],t=parseInt(n[3]);if(t>0){const n=this.getDefaultValue(e);return Array(t).fill(n)}return[]}const r=this.types[e];return r?r.reduce((e,{name:t,type:n})=>Object.assign(Object.assign({},e),{[t]:this.getDefaultValue(n)}),{}):a.throwArgumentError("unknown type: "+e,"type",e)}}t.DefaultGetter=l},d5ab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomainRegistryABI=void 0;const r=[{inputs:[{internalType:"string",name:"domain",type:"string"}],name:"DomainAlreadyRegistered",type:"error"},{inputs:[{internalType:"bytes4",name:"tag",type:"bytes4"},{internalType:"uint256",name:"maxIndex",type:"uint256"},{internalType:"uint256",name:"suppliedIndex",type:"uint256"}],name:"DomainIndexOutOfRange",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"domain",type:"string"},{indexed:!1,internalType:"bytes4",name:"tag",type:"bytes4"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"DomainRegistered",type:"event"},{inputs:[{internalType:"bytes4",name:"tag",type:"bytes4"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getDomain",outputs:[{internalType:"string",name:"domain",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"tag",type:"bytes4"}],name:"getDomains",outputs:[{internalType:"string[]",name:"domains",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"tag",type:"bytes4"}],name:"getNumberOfDomains",outputs:[{internalType:"uint256",name:"totalDomains",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"domain",type:"string"}],name:"setDomain",outputs:[{internalType:"bytes4",name:"tag",type:"bytes4"}],stateMutability:"nonpayable",type:"function"}];t.DomainRegistryABI=r},d9eb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC1155ABI=void 0;const r=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"balances",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];t.ERC1155ABI=r},e107:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Chain=t.EventType=t.OpenSeaAPI=t.OpenSeaPort=t.OpenSeaSDK=void 0;const a=n("0c0a");Object.defineProperty(t,"OpenSeaAPI",{enumerable:!0,get:function(){return a.OpenSeaAPI}});const s=n("39cc");Object.defineProperty(t,"OpenSeaSDK",{enumerable:!0,get:function(){return s.OpenSeaSDK}}),Object.defineProperty(t,"OpenSeaPort",{enumerable:!0,get:function(){return s.OpenSeaSDK}});const o=n("f10d");Object.defineProperty(t,"Chain",{enumerable:!0,get:function(){return o.Chain}}),Object.defineProperty(t,"EventType",{enumerable:!0,get:function(){return o.EventType}}),i(n("8edb"),t)},e51f:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getTagFromDomain=t.getTransactionMethods=t.executeAllActions=void 0;const i=n("4d8a"),a=e=>r(void 0,void 0,void 0,(function*(){for(let n=0;n<e.length-1;n++){const t=e[n];if("approval"===t.type){const e=yield t.transactionMethods.transact();yield e.wait()}}const t=e[e.length-1];switch(t.type){case"create":return t.createOrder();case"createBulk":return t.createBulkOrders();default:return t.transactionMethods.transact()}}));t.executeAllActions=a;const s=e=>{const t=["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","type","accessList","customData","ccipReadEnabled","value","blockTag","CallOverrides"];return void 0===e||Object.keys(e).every(e=>t.includes(e))},o=(e,n,i,a)=>{const o=i[i.length-1];let u;s(o)&&(u=o,i.pop());const l=s=>r(void 0,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},u),s),o=yield e.populateTransaction[n](...i,r);if(a){const e=(0,t.getTagFromDomain)(a);o.data=o.data+e}return o}));return{callStatic:t=>{const r=Object.assign(Object.assign({},u),t);return e.callStatic[n](...i,r)},estimateGas:t=>{const r=Object.assign(Object.assign({},u),t);return e.estimateGas[n](...i,r)},transact:t=>r(void 0,void 0,void 0,(function*(){const n=Object.assign(Object.assign({},u),t),r=yield l(n);return e.signer.sendTransaction(r)})),buildTransaction:l}};t.getTransactionMethods=o;const u=e=>(0,i.keccak256)((0,i.toUtf8Bytes)(e)).slice(2,10);t.getTagFromDomain=u},e58e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBulkOrderTypeHashes=t.getBulkOrderTypeHash=t.getBulkOrderTree=t.getBulkOrderTreeHeight=void 0;const r=n("4d8a"),i=n("5cbf"),a=n("d3b1"),s=n("994c"),o=n("54e8");function u(e){const t=Object.assign({},o.EIP_712_BULK_ORDER_TYPE);return t.BulkOrder=[{name:"tree",type:"OrderComponents"+"[2]".repeat(e)}],t}function l(e){return Math.max(Math.ceil(Math.log2(e)),1)}function d(e,t=0,n=l(e.length+t)){const r=u(n),o=a.DefaultGetter.from(r,"OrderComponents");let d=[...e];t>0&&(d=[...(0,s.fillArray)([],t,o),...e]);const p=new i.Eip712MerkleTree(r,"BulkOrder","OrderComponents",d,n);return p}function p(e){const t=u(e),n=r._TypedDataEncoder.from(t),i=(0,r.toUtf8Bytes)(n._types.BulkOrder);return(0,r.keccak256)(i)}function c(e){const t=[];for(let n=0;n<e;n++)t.push(p(n+1));return t}t.getBulkOrderTreeHeight=l,t.getBulkOrderTree=d,t.getBulkOrderTypeHash=p,t.getBulkOrderTypeHashes=c},f10d:function(e,t,n){"use strict";var r,i,a,s,o,u,l,d,p;Object.defineProperty(t,"__esModule",{value:!0}),t.SafelistStatus=t.TokenStandard=t.AssetContractType=t.FeeMethod=t.OrderSide=t.Chain=t.EventType=void 0,function(e){e["TransactionCreated"]="TransactionCreated",e["TransactionConfirmed"]="TransactionConfirmed",e["TransactionDenied"]="TransactionDenied",e["TransactionFailed"]="TransactionFailed",e["WrapEth"]="WrapEth",e["UnwrapWeth"]="UnwrapWeth",e["MatchOrders"]="MatchOrders",e["CancelOrder"]="CancelOrder",e["ApproveOrder"]="ApproveOrder"}(r||(t.EventType=r={})),function(e){e["Mainnet"]="ethereum",e["Polygon"]="matic",e["Klaytn"]="klaytn",e["Base"]="base",e["BNB"]="bsc",e["Arbitrum"]="arbitrum",e["ArbitrumNova"]="arbitrum_nova",e["Avalanche"]="avalanche",e["Optimism"]="optimism",e["Solana"]="solana",e["Zora"]="zora",e["Goerli"]="goerli",e["Sepolia"]="sepolia",e["Mumbai"]="mumbai",e["Baobab"]="baobab",e["BaseGoerli"]="base_goerli",e["BNBTestnet"]="bsctestnet",e["ArbitrumSepolia"]="arbitrum_sepolia",e["Fuji"]="avalanche_fuji",e["OptimismGoerli"]="optimism_goerli",e["SolanaDevnet"]="soldev",e["ZoraTestnet"]="zora_testnet"}(i||(t.Chain=i={})),function(e){e[e["Buy"]=0]="Buy",e[e["Sell"]=1]="Sell"}(a||(t.OrderSide=a={})),function(e){e[e["ProtocolFee"]=0]="ProtocolFee",e[e["SplitFee"]=1]="SplitFee"}(s||(t.FeeMethod=s={})),function(e){e["Fungible"]="fungible",e["SemiFungible"]="semi-fungible",e["NonFungible"]="non-fungible",e["Unknown"]="unknown"}(o||(t.AssetContractType=o={})),function(e){e["ERC20"]="ERC20",e["ERC721"]="ERC721",e["ERC1155"]="ERC1155"}(u||(t.TokenStandard=u={})),function(e){e["NOT_REQUESTED"]="not_requested",e["REQUESTED"]="requested",e["APPROVED"]="approved",e["VERIFIED"]="verified",e["DISABLED_TOP_TRENDING"]="disabled_top_trending"}(l||(t.SafelistStatus=l={})),function(e){e["Dutch"]="dutch",e["English"]="english",e["MinPrice"]="min_price"}(d||(d={})),function(e){e["AuctionCreated"]="created",e["AuctionSuccessful"]="successful",e["AuctionCancelled"]="cancelled",e["OfferEntered"]="offer_entered",e["BidEntered"]="bid_entered",e["BidWithdraw"]="bid_withdraw",e["AssetTransfer"]="transfer",e["AssetApprove"]="approve",e["CompositionCreated"]="composition_created",e["Custom"]="custom",e["Payout"]="payout"}(p||(p={}))},f72c:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));n("6869"),n("c030");var r=n("6779");n("e36d");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var a;(function(e){e[e["DEBUG"]=1]="DEBUG",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["DISABLED"]=5]="DISABLED"})(a||(a={}));class s{constructor(e){this.config=e,this.logLevel=void 0,this.configure(e)}configure(e){switch(this.config=i({},this.config,e),this.config.logLevel){case"DEBUG":this.logLevel=a.DEBUG;break;case"INFO":this.logLevel=a.INFO;break;case"WARN":this.logLevel=a.WARN;break;case"ERROR":this.logLevel=a.ERROR;break;case"DISABLED":this.logLevel=a.DISABLED;break;default:this.logLevel=a.INFO;break}void 0===this.config.silence&&(this.config.silence=!1)}debug(e,...t){!0!==this.config.silence&&this.logLevel===a.DEBUG&&console.log(e,...t)}info(e,...t){!0!==this.config.silence&&this.logLevel<=a.INFO&&console.log(e,...t)}warn(e,...t){!0!==this.config.silence&&this.logLevel<=a.WARN&&(console.warn(e,...t),this.config.onwarn&&this.config.onwarn(e,t))}error(e,...t){!0!==this.config.silence&&this.logLevel<=a.ERROR&&(console.error(e,...t),this.config.onerror&&this.config.onerror(e,t))}}const o=new s({logLevel:"INFO",silence:!0});function u(e,t){return function(...n){const r=Array.prototype.slice.call(n);return new Promise(async(n,i)=>{try{r.push((e,t)=>e?i(e):n(t)),await e.apply(t,r)}catch(a){i(a)}})}}const l=(e=0,t=Number.MAX_SAFE_INTEGER)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);const{defineReadOnly:d,getStatic:p,resolveProperties:c,checkProperties:y,shallowCopy:m,deepCopy:f}=r["utils"]}).call(this,n("4362"))},fe98:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSeaAPI=void 0;const a=n("c030"),s=n("0aed"),o=n("c8c8"),u=n("f10d"),l=n("6520");class d{constructor(e,t){var n;this.pageSize=20,this.retryDelay=3e3,this.apiKey=e.apiKey,this.chain=null!==(n=e.chain)&&void 0!==n?n:u.Chain.Mainnet,this.apiBaseUrl=(0,l.isTestChain)(this.chain)?s.API_BASE_TESTNET:s.API_BASE_MAINNET,this.logger=null!==t&&void 0!==t?t:e=>e}getOrder(e){var{side:t,protocol:n="seaport",orderDirection:a="desc",orderBy:s="created_date"}=e,u=i(e,["side","protocol","orderDirection","orderBy"]);return r(this,void 0,void 0,(function*(){const{orders:e}=yield this.get((0,o.getOrdersAPIPath)(this.chain,n,t),(0,o.serializeOrdersQueryOptions)(Object.assign({limit:1,orderBy:s,orderDirection:a},u)));if(0===e.length)throw new Error("Not found: no matching order found");return(0,o.deserializeOrder)(e[0])}))}getOrders(e){var{side:t,protocol:n="seaport",orderDirection:a="desc",orderBy:s="created_date"}=e,u=i(e,["side","protocol","orderDirection","orderBy"]);return r(this,void 0,void 0,(function*(){const e=yield this.get((0,o.getOrdersAPIPath)(this.chain,n,t),(0,o.serializeOrdersQueryOptions)(Object.assign({limit:this.pageSize,orderBy:s,orderDirection:a},u)));return Object.assign(Object.assign({},e),{orders:e.orders.map(o.deserializeOrder)})}))}getAllOffers(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield this.get((0,o.getAllOffersAPIPath)(e),{limit:t,next:n});return r}))}getAllListings(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield this.get((0,o.getAllListingsAPIPath)(e),{limit:t,next:n});return r}))}getBestOffer(e,t){return r(this,void 0,void 0,(function*(){const n=yield this.get((0,o.getBestOfferAPIPath)(e,t));return n}))}getBestListing(e,t){return r(this,void 0,void 0,(function*(){const n=yield this.get((0,o.getBestListingAPIPath)(e,t));return n}))}generateFulfillmentData(e,t,n,i){return r(this,void 0,void 0,(function*(){let r=null;r="ask"===i?(0,o.getFulfillListingPayload)(e,t,n,this.chain):(0,o.getFulfillOfferPayload)(e,t,n,this.chain);const a=yield this.post((0,o.getFulfillmentDataPath)(i),r);return a}))}postOrder(e,t,{retries:n=2}={}){return r(this,void 0,void 0,(function*(){let r;const{protocol:i="seaport",side:a,protocolAddress:s}=t;try{r=yield this.post((0,o.getOrdersAPIPath)(this.chain,i,a),Object.assign(Object.assign({},e),{protocol_address:s}))}catch(u){return p(u,n),yield(0,l.delay)(this.retryDelay),this.postOrder(e,t,{retries:n-1})}return(0,o.deserializeOrder)(r.order)}))}buildOffer(e,t,n){return r(this,void 0,void 0,(function*(){const r=(0,o.getBuildCollectionOfferPayload)(e,t,n),i=yield this.post((0,o.getBuildOfferPath)(),r);return i}))}getCollectionOffers(e,t=0){return r(this,void 0,void 0,(function*(){try{return yield this.get((0,o.getCollectionOffersPath)(e))}catch(n){return p(n,t),yield(0,l.delay)(1e3),this.getCollectionOffers(e,t-1)}}))}postCollectionOffer(e,t,n=0){return r(this,void 0,void 0,(function*(){const r=(0,o.getPostCollectionOfferPayload)(t,e);try{return yield this.post((0,o.getPostCollectionOfferPath)(),r)}catch(i){return p(i,n),yield(0,l.delay)(1e3),this.postCollectionOffer(e,t,n-1)}}))}getAsset({tokenAddress:e,tokenId:t},n=1){return r(this,void 0,void 0,(function*(){if(![u.Chain.Mainnet,u.Chain.Sepolia].includes(this.chain))throw new Error("Please use `getNFT()` for multichain capabilities.");let r;try{r=yield this.get(`${s.API_V1_PATH}/asset/${e}/${null!==t&&void 0!==t?t:0}/`)}catch(i){return p(i,n),yield(0,l.delay)(1e3),this.getAsset({tokenAddress:e,tokenId:t},n-1)}return(0,l.assetFromJSON)(r)}))}getNFTsByCollection(e,t,n,i=1){return r(this,void 0,void 0,(function*(){let r;try{r=yield this.get((0,o.getListNFTsByCollectionPath)(e),{limit:t,next:n})}catch(a){return p(a,i),yield(0,l.delay)(1e3),this.getNFTsByCollection(e,t,n,i-1)}return r}))}getNFTsByContract(e,t,n,i,a=1){return r(this,void 0,void 0,(function*(){let r;try{r=yield this.get((0,o.getListNFTsByContractPath)(e,t),{limit:n,next:i})}catch(s){return p(s,a),yield(0,l.delay)(1e3),this.getNFTsByContract(e,t,n,i,a-1)}return r}))}getNFTsByAccount(e,t,n,i=1,a=this.chain){return r(this,void 0,void 0,(function*(){let r;try{r=yield this.get((0,o.getListNFTsByAccountPath)(a,e),{limit:t,next:n})}catch(s){return p(s,i),yield(0,l.delay)(1e3),this.getNFTsByAccount(e,t,n,i-1,a)}return r}))}getNFT(e,t,n,i=1){return r(this,void 0,void 0,(function*(){let r;try{r=yield this.get((0,o.getNFTPath)(e,t,n))}catch(a){return p(a,i),yield(0,l.delay)(1e3),this.getNFT(e,t,n,i-1)}return r}))}getAssets(e={}){return r(this,void 0,void 0,(function*(){if(![u.Chain.Mainnet,u.Chain.Sepolia].includes(this.chain))throw new Error("Please use `getNFTsByContract()` or `getNFTsByCollection()` for multichain capabilities.");const t=yield this.get(s.API_V1_PATH+"/assets/",Object.assign({limit:this.pageSize},e));return{assets:t.assets.map(e=>(0,l.assetFromJSON)(e)),next:t.next,previous:t.previous,estimatedCount:t.estimated_count}}))}getCollection(e){return r(this,void 0,void 0,(function*(){const t=(0,o.getCollectionPath)(e),n=yield this.get(t);return(0,l.collectionFromJSON)(n.collection)}))}getPaymentTokens(e={},t=1,n=1){return r(this,void 0,void 0,(function*(){if(![u.Chain.Mainnet,u.Chain.Sepolia].includes(this.chain))throw new Error("This method does not work outside of Mainnet and Sepolia chains as it uses the v1 API.");let r;try{r=yield this.get(s.API_V1_PATH+"/tokens/",Object.assign(Object.assign({},e),{limit:this.pageSize,offset:(t-1)*this.pageSize}))}catch(i){return p(i,n),yield(0,l.delay)(1e3),this.getPaymentTokens(e,t,n-1)}return{tokens:r.map(e=>(0,l.tokenFromJSON)(e))}}))}getBundle({slug:e}){return r(this,void 0,void 0,(function*(){const t=yield this.get(`${s.API_V1_PATH}/bundle/${e}/`);return t?(0,l.assetBundleFromJSON)(t):null}))}getBundles(e={},t=1){return r(this,void 0,void 0,(function*(){const n=yield this.get(s.API_V1_PATH+"/bundles/",Object.assign(Object.assign({},e),{limit:this.pageSize,offset:(t-1)*this.pageSize}));return{bundles:n.bundles.map(e=>(0,l.assetBundleFromJSON)(e)),estimatedCount:n.estimated_count}}))}refreshNFTMetadata(e,t,n,i=1){return r(this,void 0,void 0,(function*(){let r;try{r=yield this.post((0,o.getRefreshMetadataPath)(e,t,n),{})}catch(a){return p(a,i),yield(0,l.delay)(1e3),this.refreshNFTMetadata(e,t,n,i-1)}return r}))}get(e,t={}){return r(this,void 0,void 0,(function*(){const n=this.objectToSearchParams(t),r=`${this.apiBaseUrl}${e}?${n}`;return yield this._fetch({url:r})}))}post(e,t,n){return r(this,void 0,void 0,(function*(){const r=Object.assign({url:`${this.apiBaseUrl}${e}`},n);return yield this._fetch(r,t)}))}objectToSearchParams(e={}){const t=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{n&&Array.isArray(n)?n.forEach(n=>n&&t.append(e,n)):n&&t.append(e,n)}),t.toString()}_fetch(e,t){return r(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign({"x-app-id":"opensea-js"},this.apiKey?{"X-API-KEY":this.apiKey}:{}),e.headers),r=Object.assign(Object.assign({},e),{headers:n});return this.logger(`Sending request: ${e.url} ${JSON.stringify(r).slice(0,200)}...`),yield a.ethers.utils.fetchJson(r,t?JSON.stringify(t):void 0)}))}}function p(e,t){const n=e instanceof Error&&!!e.message&&(e.message.includes("503")||e.message.includes("429"));if(t<=0||!n)throw e}t.OpenSeaAPI=d},feaa:function(e,t,n){(function(t){e.exports=function(e){for(var n=new t(e.length),r=0,i=e.length-1;r<=i;++r,--i)n[r]=e[i],n[i]=e[r];return n}}).call(this,n("1c35").Buffer)}}]);