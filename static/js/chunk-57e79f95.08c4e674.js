(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57e79f95"],{2839:function(e,t,a){"use strict";a.r(t);var r,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("OpenGrabCoinVipDialog",{ref:"OpenGrabCoinVipDialog",attrs:{"lock-input":e.lockInput}}),e.isLock?a("LockBox",{on:{onLockSuccess:e.onLockSuccess}}):a("div",{staticClass:"box"},[a("h1",[e._v(e._s(e.$t("route.blockGrabCoin")))]),a("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":"top",rules:e.rules,model:e.form,"label-width":"160px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"formItem"},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v("RPC")]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.rpc_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.form.rpc,callback:function(t){e.$set(e.form,"rpc",t)},expression:"form.rpc"}}),a("div",{staticClass:"inputBtnBox"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.isTestRpc}},[e._v(e._s(e.$t("grabCoin.test")))])])],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"formItem"},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.private_key")))]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.private_key_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{attrs:{type:"password"},model:{value:e.form.pkv,callback:function(t){e.$set(e.form,"pkv",t)},expression:"form.pkv"}}),a("div",{staticClass:"inputBtnBox"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.init_account}},[e._v(e._s(e.$t("grabCoin.import")))])])],1)],1)],1),a("div",{staticClass:"baseInfo"},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.address.length>0,expression:"address.length > 0"}],staticStyle:{"margin-top":"20px"},attrs:{gutter:24}},[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"infoBox"},[a("p",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.address"))+":")]),a("p",{staticClass:"value"},[e._v(e._s(e.address))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"infoBox"},[a("p",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.balance"))+":")]),a("p",{staticClass:"value"},[e._v(e._s(parseFloat(e.balance).toFixed(5)))])])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,xs:{span:12}}},[a("el-form-item",{staticClass:"formItem",attrs:{prop:"gwei"}},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v("GWEI")]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.gwei_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{model:{value:e.form.gwei,callback:function(t){e.$set(e.form,"gwei",t)},expression:"form.gwei"}})],1)],1),a("el-col",{attrs:{span:5,xs:{span:12}}},[a("el-form-item",{staticClass:"formItem",attrs:{prop:"pool"}},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.gasLimit")))]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.no_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{attrs:{disabled:e.isRun},model:{value:e.form.gasLimit,callback:function(t){e.$set(e.form,"gasLimit",t)},expression:"form.gasLimit"}})],1)],1),a("el-col",{attrs:{span:5,xs:{span:12}}},[a("el-form-item",{staticClass:"formItem",attrs:{prop:"amount"}},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.buy_num")))]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.no_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{attrs:{disabled:e.isRun},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1)],1),a("el-col",{attrs:{span:5,xs:{span:12}}},[a("el-form-item",{staticClass:"formItem",attrs:{prop:"timep"}},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.watch_frequency")))]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.watch_frequency_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{model:{value:e.form.timep,callback:function(t){e.$set(e.form,"timep",t)},expression:"form.timep"}})],1)],1),a("el-col",{attrs:{span:4,xs:{span:24}}},[a("el-form-item",{staticClass:"formItem",attrs:{prop:"timep"}},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.blockNumber")))]),a("el-tooltip",{attrs:{effect:"dark",content:"如果为0，则每个区块都会发送，直到成功为止，反之达到目标区块停止，如果第二个也填上，则是目标区块区间都会发送",placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{model:{value:e.form.blockNumber,callback:function(t){e.$set(e.form,"blockNumber",t)},expression:"form.blockNumber"}}),a("el-input",{model:{value:e.form.toblockNumber,callback:function(t){e.$set(e.form,"toblockNumber",t)},expression:"form.toblockNumber"}})],1)],1),a("el-col",{attrs:{span:4,xs:{span:24}}},[a("el-form-item",{staticClass:"formItem"},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v("一直启动")]),a("el-tooltip",{attrs:{effect:"dark",content:"不管成功失败，一直发送!直到浏览器关闭",placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.noClose,callback:function(t){e.$set(e.form,"noClose",t)},expression:"form.noClose"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"formItem",attrs:{prop:"timep"}},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.hex")))]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.no_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"0x"},model:{value:e.form.hex,callback:function(t){e.$set(e.form,"hex",t)},expression:"form.hex"}})],1)],1)],1),a("el-row",[a("el-form-item",{staticClass:"formItem",attrs:{prop:"fromToken"}},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.send_token")))]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.no_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{model:{value:e.form.fromToken,callback:function(t){e.$set(e.form,"fromToken",t)},expression:"form.fromToken"}}),a("div",{staticClass:"inputBtnBox"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.isTestToken1}},[e._v(e._s(e.$t("grabCoin.check")))])])],1)],1),a("el-row",[a("el-form-item",{staticClass:"formItem",attrs:{prop:"toToken"}},[a("div",{staticClass:"textBox"},[a("span",{staticClass:"label"},[e._v("接收地址")]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.no_tips"),placement:"top"}},[a("i",{staticClass:"el-icon-question icon"})])],1),a("el-input",{model:{value:e.form.toToken,callback:function(t){e.$set(e.form,"toToken",t)},expression:"form.toToken"}})],1)],1)],1)],1),a("div",{staticClass:"remark",domProps:{innerHTML:e._s(e.$t("grabCoin.remark"))}}),a("div",{staticClass:"btnBox"},[a("div",{class:{buttonContainer:!0,grabTrue:e.isRun}},[a("div",{staticClass:"fullBg"}),a("div",{staticClass:"fullBg"}),a("div",{staticClass:"fullBg"}),a("button",{on:{click:e.onStart}},[a("svg-icon",{staticClass:"speedIconBox",attrs:{"icon-class":"speed-transaction"}})],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.terminalInfo.length>0,expression:"terminalInfo.length > 0"}],ref:"terminal",staticClass:"terminal"},e._l(e.terminalInfo,(function(t){return a("p",{key:t},[e._v(e._s(t))])})),0)],1)],1)},o=[],s=a("4833"),i=a("efe2"),c=(a("96e6"),a("7479"),a("4a32"),a("37de"),a("1e34"),a("22f9"),a("65f0"),a("9bdd"),a("6a61"),a("52c1")),l=a("4479"),m=a("b893"),u=a("ed08"),p=a("ba934"),f=a("44ed"),b=a("a835"),d=a("7742"),g=a.n(d),k=a("7921"),x=a.n(k),h=a("50fd"),v=a.n(h),C=a("8feb"),w=a.n(C),_="blockGrabCoin",I=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,type:"function"}],T={name:_,inject:["onCheckConnect"],components:{OpenGrabCoinVipDialog:p["a"],LockBox:f["a"]},data:function(){return{lockInput:"",isLock:!0,isVip:!1,terminalInfo:[],toblockNumber:0,v3:!0,pt:{},rules:{},address:"",balance:0,fromTokenApprove:!1,token1Info:!1,token2Info:!1,txlink:"",isRun:!1,noClose:!1,unicryptV3:!1,txid:"",tokenBalance:0,approve1_close:!1,approve2_close:!1,ojbk:!1,nonce:0,ptOptions:[{value:"1",label:"MDEX"},{value:"2",label:"UNISWAP"},{value:"3",label:"PancakeSwap"},{value:"4",label:"MDIS"},{value:"5",label:"MDEX(BSC)"}],form:{platform:"",fromToken:"",gasLimit:"400000",hex:"",blockNumber:"0",toblockNumber:"0",toToken:"",amount:"",gwei:"",timep:"2",pkv:"",rpc:""}}},computed:Object(i["a"])({},Object(c["b"])(["isConnect","account","isPc","language"])),watch:{account:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.onCheckVip();case 2:case"end":return e.stop()}}),e)})))()},"form.fromToken":function(e,t){e!==t&&(this.form.fromToken=e.trim())},"form.toToken":function(e,t){e!==t&&(this.form.toToken=e.trim())},"form.pkv":function(e,t){e!==t&&(this.form.pkv=e.trim())}},created:function(){this.$i18n.getLocaleMessage("en")[_]||(this.$i18n.mergeLocaleMessage("en",l["a"].en),this.$i18n.mergeLocaleMessage("zh",l["a"].zh)),this.rules={}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["A"])(1e3);case 2:return t.next=4,e.onCheckVip();case 4:case"end":return t.stop()}}),t)})))()},methods:{onLockSuccess:function(e){this.isLock=!1,this.lockInput=e,this.$refs.OpenGrabCoinVipDialog.onShow()},onCheckVip:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===b["a"].getAccount()){t.next=15;break}return a=b["a"].rpcNode(128),t.next=4,e.$ajax({url:a,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0xD6E867f8A79f0EDFc099A7e33252e3DaD712a5F8",data:"0x"+g.a.methodID("isVIP",["address"]).toString("hex")+g.a.rawEncode(["address"],[b["a"].getAccount()]).toString("hex")},"latest"]}});case 4:if(r=t.sent,!(parseInt(r.result)>0)){t.next=11;break}e.$message({message:"You are vip",type:"success"}),e.isVip=!0,e.isLock=!1,t.next=15;break;case 11:return t.next=13,e.$ajax({url:a,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0x590e6012e11707086bc48fee2f9b16048b2584df",data:"0x"+g.a.methodID("isVIP",["address"]).toString("hex")+g.a.rawEncode(["address"],[b["a"].getAccount()]).toString("hex")},"latest"]}});case 13:r=t.sent,parseInt(r.result)>0?(e.$message({message:"You are vip",type:"success"}),e.isVip=!0,e.isLock=!1):(e.isVip=!1,e.isLock=!0);case 15:case"end":return t.stop()}}),t)})))()},addTerminalInfo:function(e){var t=this.$refs.terminal;this.terminalInfo.push(e),setTimeout((function(){t.scrollTop=t.scrollHeight}),0)},onStart:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isVip){t.next=3;break}return e.$refs.OpenGrabCoinVipDialog.onShow(),t.abrupt("return");case 3:if(r){t.next=6;break}return e.$message.error(e.$t("grabCoin.error_private_key")),t.abrupt("return");case 6:if(""!==e.form.gwei){t.next=9;break}return e.$message.error(e.$t("grabCoin.error_gwei")),t.abrupt("return");case 9:if(""!==e.form.amount){t.next=12;break}return e.$message.error(e.$t("grabCoin.error_buy_num")),t.abrupt("return");case 12:if(""!==e.form.gasLimit){t.next=15;break}return e.$message.error(e.$t("grabCoin.error_pool")),t.abrupt("return");case 15:if(""!==e.form.blockNumber){t.next=18;break}return e.$message.error(e.$t("grabCoin.error_blockNumber")),t.abrupt("return");case 18:if(""!==e.form.fromToken&&"BASECOIN"!==e.form.fromToken){t.next=22;break}e.form.fromToken="BASECOIN",t.next=25;break;case 22:if(e.token1Info){t.next=25;break}return e.$message.error(e.$t("grabCoin.error_token")),t.abrupt("return");case 25:if("BASECOIN"===e.form.fromToken.trim()&&(e.token1Info={symbol:"BaseCoin",decimal:18}),e.terminalInfo.length>200&&e.terminalInfo.shift(),e.isRun=!e.isRun,!e.isRun){t.next=57;break}if(!e.form.unicryptV3){t.next=45;break}return t.prev=30,t.next=33,r.eth.call({to:e.form.toToken,data:"0xd67d4abe"});case 33:if(a=t.sent,n=w.a.keccak256(g.a.rawEncode(["address","uint"],[e.address,a])),"0x"!==a&&a&&!(a.length<=10)){t.next=38;break}return e.$message.error("是否V3预售合约?"),t.abrupt("return");case 38:e.form.hex="0x0d052dfd0000000000000000000000000000000000000000000000000000000000000000"+n.replace("0x",""),t.next=45;break;case 41:return t.prev=41,t.t0=t["catch"](30),e.$message.error("是否V3预售合约?"),t.abrupt("return");case 45:return e.addTerminalInfo(e.formatDate((new Date).getTime())+": 启动"),e.$message.success("已启动抢币"),t.t1=parseInt,t.next=50,r.eth.getTransactionCount(e.address);case 50:t.t2=t.sent,e.nonce=(0,t.t1)(t.t2),e.addTerminalInfo(e.formatDate((new Date).getTime())+": 获取到 nonce "+e.nonce+",请不要操作账户和授权，如操作则重新启动抢币"),o=e.$route.query.nonce,o&&parseInt(o)>0&&(e.nonce=e.nonce+1,e.addTerminalInfo(e.formatDate((new Date).getTime())+": 获取到 nonce 更新，触发条件会将nonce +1")),t.next=58;break;case 57:e.$message.success("已暂停");case 58:for(i in s=e.form.rpc.split("\n"),s)e.swap(s[i].trim());case 60:case"end":return t.stop()}}),t,null,[[30,41]])})))()},swap:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,o,s,i,c,l,m,p,f,b,d,g,k,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!1!==t.isRun){a.next=3;break}return t.addTerminalInfo(t.formatDate((new Date).getTime())+": 停止 - "+e),a.abrupt("return");case 3:if(n="BASECOIN"===t.form.fromToken?"BASECOIN":t.form.fromToken,o=t.form.toToken,0===parseInt(t.form.blockNumber)){a.next=57;break}return a.prev=6,s=0,a.next=10,t.$ajax({url:e,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getBlockByNumber",params:["latest",!0]}});case 10:if(i=a.sent,s=parseInt(i.result.number),!(s===parseInt(t.form.blockNumber)-2||s>=parseInt(t.form.blockNumber)-2&&t.form.noClose||s>=parseInt(t.form.blockNumber)-2&&s<=parseInt(t.form.toblockNumber)-1)){a.next=41;break}if((t.form.noClose||s>=parseInt(t.form.blockNumber)-2&&s<=parseInt(t.form.toblockNumber)-1)&&(c=t,setTimeout((function(){t.nonce=t.nonce+1,c.swap(e)}),1e3*Number(t.form.timep))),"BASECOIN"!==t.form.fromToken){a.next=27;break}return a.prev=15,a.next=18,r.eth.sendTransaction({from:t.address,gas:t.form.gasLimit,gasPrice:w.a.toWei(t.form.gwei,"gwei"),to:o,nonce:t.nonce,data:t.form.hex,value:w.a.toWei(t.form.amount,"ether")});case 18:l=a.sent,l.transactionHash&&t.addTerminalInfo(t.formatDate((new Date).getTime())+": transactionHash:"+l.transactionHash+" - "+e),a.next=25;break;case 22:a.prev=22,a.t0=a["catch"](15),t.addTerminalInfo(t.formatDate((new Date).getTime())+""+a.t0.toString()+" - "+e);case 25:a.next=39;break;case 27:return m=new r.eth.Contract(I,n),p=new x.a(10).pow(t.token1Info.decimal).times(t.form.amount).toString(10),a.prev=29,a.next=32,m.methods.transfer(o,p).send({from:t.address,gas:Number(t.form.gasLimit),nonce:t.nonce,gasPrice:w.a.toWei(t.form.gwei,"gwei")});case 32:f=a.sent,f.transactionHash&&t.addTerminalInfo(t.formatDate((new Date).getTime())+": transactionHash:"+f.transactionHash+"rpc"+e),a.next=39;break;case 36:a.prev=36,a.t1=a["catch"](29),t.addTerminalInfo(t.formatDate((new Date).getTime())+""+a.t1.toString()+" - "+e);case 39:a.next=46;break;case 41:return t.addTerminalInfo(t.formatDate((new Date).getTime())+": BlockNumber:"+parseInt(s)+" 没有达到高度 "+parseInt(t.form.blockNumber)+" - "+e),a.next=44,Object(u["A"])(1e3*Number(t.form.timep));case 44:return a.next=46,t.swap(e);case 46:a.next=55;break;case 48:return a.prev=48,a.t2=a["catch"](6),a.next=52,Object(u["A"])(1e3*Number(t.form.timep));case 52:return a.next=54,t.swap(e);case 54:t.addTerminalInfo(t.formatDate((new Date).getTime())+""+a.t2.toString()+" - "+e);case 55:a.next=84;break;case 57:if(b=t,(t.v3||t.form.noClose)&&setTimeout((function(){t.nonce=t.nonce+1,b.swap(e)}),1e3*Number(t.form.timep)),"BASECOIN"!==t.form.fromToken){a.next=72;break}return a.prev=60,a.next=63,r.eth.sendTransaction({from:t.address,gas:t.form.gasLimit,gasPrice:w.a.toWei(t.form.gwei,"gwei"),to:o,nonce:t.nonce,data:t.form.hex,value:w.a.toWei(t.form.amount,"ether")});case 63:d=a.sent,d.transactionHash&&(t.v3=!1,t.addTerminalInfo(t.formatDate((new Date).getTime())+": transactionHash:"+d.transactionHash+" - "+e)),a.next=70;break;case 67:a.prev=67,a.t3=a["catch"](60),t.addTerminalInfo(t.formatDate((new Date).getTime())+""+a.t3.toString()+" - "+e);case 70:a.next=84;break;case 72:return g=new r.eth.Contract(I,n),k=new x.a(10).pow(t.token1Info.decimal).times(t.form.amount).toString(10),a.prev=74,a.next=77,g.methods.transfer(o,k).send({from:t.address,gas:Number(t.form.gasLimit),nonce:t.nonce,gasPrice:w.a.toWei(t.form.gwei,"gwei")});case 77:h=a.sent,h.transactionHash&&(t.v3=!1,t.addTerminalInfo(t.formatDate((new Date).getTime())+": transactionHash:"+h.transactionHash+" - "+e)),a.next=84;break;case 81:a.prev=81,a.t4=a["catch"](74),t.addTerminalInfo(t.formatDate((new Date).getTime())+""+a.t4.toString()+" - "+e);case 84:case"end":return a.stop()}}),a,null,[[6,48],[15,22],[29,36],[60,67],[74,81]])})))()},getTokenBalance:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}],o=new r.eth.Contract(n,e),a.next=4,o.methods.balanceOf(t).call();case 4:return s=a.sent,a.abrupt("return",s);case 6:case"end":return a.stop()}}),a)})))()},init_account:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!==e.form.rpc){t.next=4;break}return e.$message.error(e.$t("grabCoin.error_platform")),t.abrupt("return");case 4:return r=new v.a(e.form.rpc.split("\n")[0]),a=r.eth.accounts.privateKeyToAccount(e.form.pkv),r.eth.accounts.wallet.add(a),r.eth.defaultAccount=a.address,e.address=r.eth.defaultAccount,t.t0=w.a,t.next=12,r.eth.getBalance(e.address);case 12:t.t1=t.sent,e.balance=t.t0.fromWei.call(t.t0,t.t1,"ether"),t.next=20;break;case 16:t.prev=16,t.t2=t["catch"](0),console.log(t.t2.message),e.$message.error(t.t2.message);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))()},isTestRpc:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.form.rpc.split("\n"),t.t0=regeneratorRuntime.keys(a);case 2:if((t.t1=t.t0()).done){t.next=16;break}return r=t.t1.value,t.prev=4,t.next=7,e.$ajax({url:a[r].trim(),method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]}});case 7:n=t.sent,e.$message({message:"获取到最新区块:"+parseInt(n.result)+" - "+a[r],type:"success"}),t.next=14;break;case 11:t.prev=11,t.t2=t["catch"](4),e.$message.error(e.$t("grabCoin.rpc_err_tips"));case 14:t.next=2;break;case 16:case"end":return t.stop()}}),t,null,[[4,11]])})))()},isTestToken1:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("BASECOIN"!==e.form.fromToken.trim()){t.next=3;break}return e.$message.error("基础代币不用检测!"),t.abrupt("return");case 3:return t.next=5,e.getTokenInfo(e.form.fromToken);case 5:a=t.sent,a.symbol&&a.decimal?(e.token1Info=a,e.$message({message:"Token获取成功:"+a.symbol,type:"success"})):e.$message.error(e.$t("grabCoin.token_err_tips"));case 7:case"end":return t.stop()}}),t)})))()},getTokenInfo:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$ajax({url:t.form.rpc.split("\n")[0],method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x95d89b41"},"latest"]}});case 2:return r=a.sent,a.next=5,t.$ajax({url:t.form.rpc.split("\n")[0],method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x313ce567"},"latest"]}});case 5:return n=a.sent,a.abrupt("return",{symbol:m["a"].cleanAsciiText(w.a.toAscii(r.result).toString()),decimal:parseInt(n.result)});case 7:case"end":return a.stop()}}),a)})))()},formatDate:function(e){var t=new Date(e),a=t.getFullYear()+"-",r=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",n=t.getDate()<10?"0"+t.getDate():t.getDate(),o=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",s=(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":",i=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return a+r+n+" "+o+s+i}}},$=T,D=(a("4d96"),a("5d22")),B=Object(D["a"])($,n,o,!1,null,"31d164a0",null);t["default"]=B.exports},"4d96":function(e,t,a){"use strict";a("e9e6")},e9e6:function(e,t,a){}}]);