(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d59248c"],{"0fad1":function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("ul",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"dealList"},t._l(t.list,(function(n,r){return e("li",{key:n.address},[e("div",{staticClass:"left"},[e("span",{staticClass:"index"},[t._v(t._s(r+1))]),e("a",{staticClass:"address",attrs:{target:"_blank",href:t.$ethUtils.getScanLink(t.chainName,"tx",n.address)}},[t._v(t._s(n.address))])]),e("div",{staticClass:"right"},[e("span",{staticClass:"status"},[0===n.status?e("i",{staticClass:"el-icon-loading"}):1===n.status?e("i",{staticClass:"el-icon-success"}):2===n.status?e("i",{staticClass:"el-icon-error",staticStyle:{color:"#F05252"}}):t._e()])])])})),0)},s=[],a={props:{list:{type:Array,required:!0},chainName:{type:String,required:!0}},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},i=a,o=(n("bb53"),n("2877")),c=Object(o["a"])(i,r,s,!1,null,"0e0c3ce2",null);e["a"]=c.exports},"1188a":function(t,e,n){},"1f710":function(t,e,n){"use strict";n.r(e),n.d(e,"CURVE",(function(){return u})),n.d(e,"Point",(function(){return E})),n.d(e,"Signature",(function(){return I})),n.d(e,"getPublicKey",(function(){return rt})),n.d(e,"recoverPublicKey",(function(){return st})),n.d(e,"getSharedSecret",(function(){return it})),n.d(e,"sign",(function(){return pt})),n.d(e,"signSync",(function(){return ft})),n.d(e,"verify",(function(){return mt})),n.d(e,"schnorr",(function(){return Lt})),n.d(e,"utils",(function(){return jt}));var r=n(42);
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
const s=BigInt(0),a=BigInt(1),i=BigInt(2),o=BigInt(3),c=BigInt(8),u=Object.freeze({a:s,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:a,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),l=(t,e)=>(t+e/i)/e,d={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=u,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-a*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),c=l(i*t,e),d=l(-r*t,e);let p=z(t-c*n-d*s,e),f=z(-c*r-d*i,e);const h=p>o,m=f>o;if(h&&(p=e-p),m&&(f=e-f),p>o||f>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:h,k1:p,k2neg:m,k2:f}}},p=32,f=32,h=32,m=p+1,w=2*p+1;function b(t){const{a:e,b:n}=u,r=z(t*t),s=z(r*t);return z(s+e*t+n)}const v=u.a===s;class y extends Error{constructor(t){super(t)}}function g(t){if(!(t instanceof x))throw new TypeError("JacobianPoint expected")}class x{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof E))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(E.ZERO)?x.ZERO:new x(t.x,t.y,a)}static toAffineBatch(t){const e=D(t.map(t=>t.z));return t.map((t,n)=>t.toAffine(e[n]))}static normalizeZ(t){return x.toAffineBatch(t).map(x.fromAffine)}equals(t){g(t);const{x:e,y:n,z:r}=this,{x:s,y:a,z:i}=t,o=z(r*r),c=z(i*i),u=z(e*c),l=z(s*o),d=z(z(n*i)*c),p=z(z(a*r)*o);return u===l&&d===p}negate(){return new x(this.x,z(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=z(t*t),s=z(e*e),a=z(s*s),u=t+s,l=z(i*(z(u*u)-r-a)),d=z(o*r),p=z(d*d),f=z(p-i*l),h=z(d*(l-f)-c*a),m=z(i*e*n);return new x(f,h,m)}add(t){g(t);const{x:e,y:n,z:r}=this,{x:a,y:o,z:c}=t;if(a===s||o===s)return this;if(e===s||n===s)return t;const u=z(r*r),l=z(c*c),d=z(e*l),p=z(a*u),f=z(z(n*c)*l),h=z(z(o*r)*u),m=z(p-d),w=z(h-f);if(m===s)return w===s?this.double():x.ZERO;const b=z(m*m),v=z(m*b),y=z(d*b),_=z(w*w-v-i*y),k=z(w*(y-_)-f*v),E=z(r*c*m);return new x(_,k,E)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=x.ZERO;if("bigint"===typeof t&&t===s)return e;let n=R(t);if(n===a)return this;if(!v){let t=e,r=this;while(n>s)n&a&&(t=t.add(r)),r=r.double(),n>>=a;return t}let{k1neg:r,k1:i,k2neg:o,k2:c}=d.splitScalar(n),u=e,l=e,p=this;while(i>s||c>s)i&a&&(u=u.add(p)),c&a&&(l=l.add(p)),p=p.double(),i>>=a,c>>=a;return r&&(u=u.negate()),o&&(l=l.negate()),l=new x(z(l.x*d.beta),l.y,l.z),u.add(l)}precomputeWindow(t){const e=v?128/t+1:256/t+1,n=[];let r=this,s=r;for(let a=0;a<e;a++){s=r,n.push(s);for(let e=1;e<2**(t-1);e++)s=s.add(r),n.push(s);r=s.double()}return n}wNAF(t,e){!e&&this.equals(x.BASE)&&(e=E.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&k.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=x.normalizeZ(r),k.set(e,r)));let s=x.ZERO,i=x.BASE;const o=1+(v?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let p=0;p<o;p++){const e=p*c;let n=Number(t&u);t>>=d,n>c&&(n-=l,t+=a);const o=e,f=e+Math.abs(n)-1,h=p%2!==0,m=n<0;0===n?i=i.add(_(h,r[o])):s=s.add(_(m,r[f]))}return{p:s,f:i}}multiply(t,e){let n,r,s=R(t);if(v){const{k1neg:t,k1:a,k2neg:i,k2:o}=d.splitScalar(s);let{p:c,f:u}=this.wNAF(a,e),{p:l,f:p}=this.wNAF(o,e);c=_(t,c),l=_(i,l),l=new x(z(l.x*d.beta),l.y,l.z),n=c.add(l),r=u.add(p)}else{const{p:t,f:a}=this.wNAF(s,e);n=t,r=a}return x.normalizeZ([n,r])[0]}toAffine(t){const{x:e,y:n,z:r}=this,s=this.equals(x.ZERO);null==t&&(t=s?c:M(r));const i=t,o=z(i*i),u=z(o*i),l=z(e*o),d=z(n*u),p=z(r*i);if(s)return E.ZERO;if(p!==a)throw new Error("invZ was invalid");return new E(l,d)}}function _(t,e){const n=e.negate();return t?n:e}x.BASE=new x(u.Gx,u.Gy,a),x.ZERO=new x(s,a,s);const k=new WeakMap;class E{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,k.delete(this)}hasEvenY(){return this.y%i===s}static fromCompressedHex(t){const e=32===t.length,n=U(e?t:t.subarray(1));if(!X(n))throw new Error("Point is not on curve");const r=b(n);let s=V(r);const i=(s&a)===a;if(e)i&&(s=z(-s));else{const e=1===(1&t[0]);e!==i&&(s=z(-s))}const o=new E(n,s);return o.assertValidity(),o}static fromUncompressedHex(t){const e=U(t.subarray(1,p+1)),n=U(t.subarray(p+1,2*p+1)),r=new E(e,n);return r.assertValidity(),r}static fromHex(t){const e=H(t),n=e.length,r=e[0];if(n===p)return this.fromCompressedHex(e);if(n===m&&(2===r||3===r))return this.fromCompressedHex(e);if(n===w&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${m} compressed bytes or ${w} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return E.BASE.multiply(tt(t))}static fromSignature(t,e,n){const{r:r,s:s}=nt(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const a=W(H(t)),{n:i}=u,o=2===n||3===n?r+i:r,c=M(o,i),l=z(-a*c,i),d=z(s*c,i),p=1&n?"03":"02",f=E.fromHex(p+T(o)),h=E.BASE.multiplyAndAddUnsafe(f,l,d);if(!h)throw new Error("Cannot recover signature: point at infinify");return h.assertValidity(),h}toRawBytes(t=!1){return q(this.toHex(t))}toHex(t=!1){const e=T(this.x);if(t){const t=this.hasEvenY()?"02":"03";return`${t}${e}`}return`04${e}${T(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!X(e)||!X(n))throw new Error(t);const r=z(n*n),a=b(e);if(z(r-a)!==s)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new E(this.x,z(-this.y))}double(){return x.fromAffine(this).double().toAffine()}add(t){return x.fromAffine(this).add(x.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return x.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=x.fromAffine(this),i=e===s||e===a||this!==E.BASE?r.multiplyUnsafe(e):r.multiply(e),o=x.fromAffine(t).multiplyUnsafe(n),c=i.add(o);return c.equals(x.ZERO)?void 0:c.toAffine()}}function S(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function L(t){if(t.length<2||2!==t[0])throw new Error("Invalid signature integer tag: "+O(t));const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:U(n),left:t.subarray(e+2)}}function C(t){if(t.length<2||48!=t[0])throw new Error("Invalid signature tag: "+O(t));if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=L(t.subarray(2)),{data:r,left:s}=L(n);if(s.length)throw new Error("Invalid signature: left bytes after parsing: "+O(s));return{r:e,s:r}}E.BASE=new E(u.Gx,u.Gy),E.ZERO=new E(s,s);class I{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!==typeof t&&!e)throw new TypeError(n+": Expected string or Uint8Array");const r=e?O(t):t;if(128!==r.length)throw new Error(n+": Expected 64-byte hex");return new I($(r.slice(0,64)),$(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!==typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=C(e?t:q(t));return new I(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!J(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!J(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=u.n>>a;return this.s>t}normalizeS(){return this.hasHighS()?new I(this.r,z(-this.s,u.n)):this}toDERRawBytes(){return q(this.toDERHex())}toDERHex(){const t=S(P(this.s)),e=S(P(this.r)),n=t.length/2,r=e.length/2,s=P(n),a=P(r),i=P(r+n+4);return`30${i}02${a}${e}02${s}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return q(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}function A(...t){if(!t.every(t=>t instanceof Uint8Array))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce((t,e)=>t+e.length,0),n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const e=t[r];n.set(e,s),s+=e.length}return n}const j=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function O(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=j[t[n]];return e}const B=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function T(t){if("bigint"!==typeof t)throw new Error("Expected bigint");if(!(s<=t&&t<B))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function N(t){const e=q(T(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function P(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function $(t){if("string"!==typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt("0x"+t)}function q(t){if("string"!==typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,s=t.slice(r,r+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[n]=a}return e}function U(t){return $(O(t))}function H(t){return t instanceof Uint8Array?Uint8Array.from(t):q(t)}function R(t){if("number"===typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"===typeof t&&J(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function z(t,e=u.P){const n=t%e;return n>=s?n:e+n}function F(t,e){const{P:n}=u;let r=t;while(e-- >s)r*=r,r%=n;return r}function V(t){const{P:e}=u,n=BigInt(6),r=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),d=t*t*t%e,p=d*d*t%e,f=F(p,o)*p%e,h=F(f,o)*p%e,m=F(h,i)*d%e,w=F(m,r)*m%e,b=F(w,s)*w%e,v=F(b,c)*b%e,y=F(v,l)*v%e,g=F(y,c)*b%e,x=F(g,o)*p%e,_=F(x,a)*w%e,k=F(_,n)*d%e,E=F(k,i),S=E*E%e;if(S!==t)throw new Error("Cannot find square root");return E}function M(t,e=u.P){if(t===s||e<=s)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=z(t,e),r=e,i=s,o=a,c=a,l=s;while(n!==s){const t=r/n,e=r%n,s=i-c*t,a=o-l*t;r=n,n=e,i=c,o=l,c=s,l=a}const d=r;if(d!==a)throw new Error("invert: does not exist");return z(i,e)}function D(t,e=u.P){const n=new Array(t.length),r=t.reduce((t,r,a)=>r===s?t:(n[a]=t,z(t*r,e)),a),i=M(r,e);return t.reduceRight((t,r,a)=>r===s?t:(n[a]=z(t*n[a],e),z(t*r,e)),i),n}function K(t){const e=8*t.length-8*f,n=U(t);return e>0?n>>BigInt(e):n}function W(t,e=!1){const n=K(t);if(e)return n;const{n:r}=u;return n>=r?n-r:n}let G,Z;class Q{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!==typeof t||t<2)throw new Error("hashLen must be a number");if("number"!==typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return jt.hmacSha256(this.k,...t)}hmacSync(...t){return Z(this.k,...t)}checkSync(){if("function"!==typeof Z)throw new y("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];while(t<this.qByteLen){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return A(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];while(t<this.qByteLen){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return A(...e)}}function J(t){return s<t&&t<u.n}function X(t){return s<t&&t<u.P}function Y(t,e,n,r=!0){const{n:i}=u,o=W(t,!0);if(!J(o))return;const c=M(o,i),l=E.BASE.multiply(o),d=z(l.x,i);if(d===s)return;const p=z(c*z(e+n*d,i),i);if(p===s)return;let f=new I(d,p),h=(l.x===f.r?0:2)|Number(l.y&a);return r&&f.hasHighS()&&(f=f.normalizeS(),h^=1),{sig:f,recovery:h}}function tt(t){let e;if("bigint"===typeof t)e=t;else if("number"===typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"===typeof t){if(t.length!==2*f)throw new Error("Expected 32 bytes of private key");e=$(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==f)throw new Error("Expected 32 bytes of private key");e=U(t)}if(!J(e))throw new Error("Expected private key: 0 < key < n");return e}function et(t){return t instanceof E?(t.assertValidity(),t):E.fromHex(t)}function nt(t){if(t instanceof I)return t.assertValidity(),t;try{return I.fromDER(t)}catch(e){return I.fromCompact(t)}}function rt(t,e=!1){return E.fromPrivateKey(t).toRawBytes(e)}function st(t,e,n,r=!1){return E.fromSignature(t,e,n).toRawBytes(r)}function at(t){const e=t instanceof Uint8Array,n="string"===typeof t,r=(e||n)&&t.length;return e?r===m||r===w:n?r===2*m||r===2*w:t instanceof E}function it(t,e,n=!1){if(at(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!at(e))throw new TypeError("getSharedSecret: second arg must be public key");const r=et(e);return r.assertValidity(),r.multiply(tt(t)).toRawBytes(n)}function ot(t){const e=t.length>p?t.slice(0,p):t;return U(e)}function ct(t){const e=ot(t),n=z(e,u.n);return ut(n<s?e:n)}function ut(t){return N(t)}function lt(t,e,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const r=H(t),s=tt(e),a=[ut(s),ct(r)];if(null!=n){!0===n&&(n=jt.randomBytes(p));const t=H(n);if(t.length!==p)throw new Error(`sign: Expected ${p} bytes of extra data`);a.push(t)}const i=A(...a),o=ot(r);return{seed:i,m:o,d:s}}function dt(t,e){const{sig:n,recovery:r}=t,{der:s,recovered:a}=Object.assign({canonical:!0,der:!0},e),i=s?n.toDERRawBytes():n.toCompactRawBytes();return a?[i,r]:i}async function pt(t,e,n={}){const{seed:r,m:s,d:a}=lt(t,e,n.extraEntropy),i=new Q(h,f);let o;await i.reseed(r);while(!(o=Y(await i.generate(),s,a,n.canonical)))await i.reseed();return dt(o,n)}function ft(t,e,n={}){const{seed:r,m:s,d:a}=lt(t,e,n.extraEntropy),i=new Q(h,f);let o;i.reseedSync(r);while(!(o=Y(i.generateSync(),s,a,n.canonical)))i.reseedSync();return dt(o,n)}const ht={strict:!0};function mt(t,e,n,r=ht){let s;try{s=nt(t),e=H(e)}catch(w){return!1}const{r:a,s:i}=s;if(r.strict&&s.hasHighS())return!1;const o=W(e);let c;try{c=et(n)}catch(w){return!1}const{n:l}=u,d=M(i,l),p=z(o*d,l),f=z(a*d,l),h=E.BASE.multiplyAndAddUnsafe(c,p,f);if(!h)return!1;const m=z(h.x,l);return m===a}function wt(t){return z(U(t),u.n)}class bt{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=H(t);if(64!==e.length)throw new TypeError("SchnorrSignature.fromHex: expected 64 bytes, not "+e.length);const n=U(e.subarray(0,32)),r=U(e.subarray(32,64));return new bt(n,r)}assertValidity(){const{r:t,s:e}=this;if(!X(t)||!J(e))throw new Error("Invalid signature")}toHex(){return T(this.r)+T(this.s)}toRawBytes(){return q(this.toHex())}}function vt(t){return E.fromPrivateKey(t).toRawX()}class yt{constructor(t,e,n=jt.randomBytes()){if(null==t)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=H(t);const{x:r,scalar:s}=this.getScalar(tt(e));if(this.px=r,this.d=s,this.rand=H(n),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){const e=E.fromPrivateKey(t),n=e.hasEvenY()?t:u.n-t;return{point:e,scalar:n,x:e.toRawX()}}initNonce(t,e){return N(t^U(e))}finalizeNonce(t){const e=z(U(t),u.n);if(e===s)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:r,scalar:a}=this.getScalar(e);return{R:n,rx:r,k:a}}finalizeSig(t,e,n,r){return new bt(t.x,z(e+n*r,u.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:t,d:e,px:n,rand:r}=this,s=jt.taggedHash,a=this.initNonce(e,await s(It.aux,r)),{R:i,rx:o,k:c}=this.finalizeNonce(await s(It.nonce,a,n,t)),u=wt(await s(It.challenge,o,n,t)),l=this.finalizeSig(i,c,u,e);return await Et(l,t,n)||this.error(),l}calcSync(){const{m:t,d:e,px:n,rand:r}=this,s=jt.taggedHashSync,a=this.initNonce(e,s(It.aux,r)),{R:i,rx:o,k:c}=this.finalizeNonce(s(It.nonce,a,n,t)),u=wt(s(It.challenge,o,n,t)),l=this.finalizeSig(i,c,u,e);return St(l,t,n)||this.error(),l}}async function gt(t,e,n){return new yt(t,e,n).calc()}function xt(t,e,n){return new yt(t,e,n).calcSync()}function _t(t,e,n){const r=t instanceof bt,s=r?t:bt.fromHex(t);return r&&s.assertValidity(),{...s,m:H(e),P:et(n)}}function kt(t,e,n,r){const s=E.BASE.multiplyAndAddUnsafe(e,tt(n),z(-r,u.n));return!(!s||!s.hasEvenY()||s.x!==t)}async function Et(t,e,n){try{const{r:r,s:s,m:a,P:i}=_t(t,e,n),o=wt(await jt.taggedHash(It.challenge,N(r),i.toRawX(),a));return kt(r,i,s,o)}catch(r){return!1}}function St(t,e,n){try{const{r:r,s:s,m:a,P:i}=_t(t,e,n),o=wt(jt.taggedHashSync(It.challenge,N(r),i.toRawX(),a));return kt(r,i,s,o)}catch(r){if(r instanceof y)throw r;return!1}}const Lt={Signature:bt,getPublicKey:vt,sign:gt,verify:Et,signSync:xt,verifySync:St};E.BASE._setWindowSize(8);const Ct={node:r,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},It={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},At={},jt={bytesToHex:O,hexToBytes:q,concatBytes:A,mod:z,invert:M,isValidPrivateKey(t){try{return tt(t),!0}catch(e){return!1}},_bigintTo32Bytes:N,_normalizePrivateKey:tt,hashToPrivateKey:t=>{t=H(t);const e=f+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const n=z(U(t),u.n-a)+a;return N(n)},randomBytes:(t=32)=>{if(Ct.web)return Ct.web.getRandomValues(new Uint8Array(t));if(Ct.node){const{randomBytes:e}=Ct.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>jt.hashToPrivateKey(jt.randomBytes(f+8)),precompute(t=8,e=E.BASE){const n=e===E.BASE?e:new E(e.x,e.y);return n._setWindowSize(t),n.multiply(o),n},sha256:async(...t)=>{if(Ct.web){const e=await Ct.web.subtle.digest("SHA-256",A(...t));return new Uint8Array(e)}if(Ct.node){const{createHash:e}=Ct.node,n=e("sha256");return t.forEach(t=>n.update(t)),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Ct.web){const n=await Ct.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=A(...e),s=await Ct.web.subtle.sign("HMAC",n,r);return new Uint8Array(s)}if(Ct.node){const{createHmac:n}=Ct.node,r=n("sha256",t);return e.forEach(t=>r.update(t)),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=At[t];if(void 0===n){const e=await jt.sha256(Uint8Array.from(t,t=>t.charCodeAt(0)));n=A(e,e),At[t]=n}return jt.sha256(n,...e)},taggedHashSync:(t,...e)=>{if("function"!==typeof G)throw new y("sha256Sync is undefined, you need to set it");let n=At[t];if(void 0===n){const e=G(Uint8Array.from(t,t=>t.charCodeAt(0)));n=A(e,e),At[t]=n}return G(n,...e)},_JacobianPoint:x};Object.defineProperties(jt,{sha256Sync:{configurable:!1,get(){return G},set(t){G||(G=t)}},hmacSha256Sync:{configurable:!1,get(){return Z},set(t){Z||(Z=t)}}})},24:function(t,e){},25:function(t,e){},26:function(t,e){},"262f":function(t,e,n){"use strict";(function(t){var r=n("1f710"),s=n("e632"),a=n("d129");function i(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var o=i(r);o.utils.hmacSha256Sync=(t,...e)=>s.hmac(a.sha256,t,o.utils.concatBytes(...e)),o.utils.sha256Sync=(...t)=>a.sha256(o.utils.concatBytes(...t));const c=o.utils._normalizePrivateKey,u=32,l=32,d=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),p=32;function f(t,e){for(let n=0;n<32;++n)if(t[n]!==e[n])return t[n]<e[n]?-1:1;return 0}function h(t){return t instanceof Uint8Array&&t.length===l&&!(f(t,d)>=0)}function m(t){return t instanceof Uint8Array&&64===t.length&&f(t.subarray(0,32),d)<0&&f(t.subarray(32,64),d)<0}function w(t){return t instanceof Uint8Array&&t.length===u}function b(t){return void 0===t||t instanceof Uint8Array&&t.length===p}function v(t){if("string"!==typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt("0x"+t)}function y(t){return v(o.utils.bytesToHex(t))}function g(t){let e;if("bigint"===typeof t)e=t;else if("number"===typeof t&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if("string"===typeof t){if(64!==t.length)throw new Error("Expected 32 bytes of private scalar");e=v(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==t.length)throw new Error("Expected 32 bytes of private scalar");e=y(t)}if(e<0)throw new Error("Expected private scalar >= 0");return e}const x=(t,e)=>{const n=c(t),r=g(e),s=o.utils._bigintTo32Bytes(o.utils.mod(n+r,o.CURVE.n));return o.utils.isValidPrivateKey(s)?s:null},_=(t,e)=>{const n=c(t),r=g(e),s=o.utils._bigintTo32Bytes(o.utils.mod(n-r,o.CURVE.n));return o.utils.isValidPrivateKey(s)?s:null},k=t=>{const e=c(t),n=o.utils._bigintTo32Bytes(o.CURVE.n-e);return o.utils.isValidPrivateKey(n)?n:null},E=(t,e,n)=>{const r=o.Point.fromHex(t),s=g(e),a=o.Point.BASE.multiplyAndAddUnsafe(r,s,1n);if(!a)throw new Error("Tweaked point at infinity");return a.toRawBytes(n)},S=(t,e,n)=>{const r=o.Point.fromHex(t),s="string"===typeof e?e:o.utils.bytesToHex(e),a=BigInt("0x"+s);return r.multiply(a).toRawBytes(n)};function L(t,e){return void 0===t?void 0===e||j(e):!!t}function C(t){try{return t()}catch(e){return null}}function I(t,e){if(32===t.length!==e)return!1;try{return!!o.Point.fromHex(t)}catch(n){return!1}}function A(t){return I(t,!1)}function j(t){const e=33;return I(t,!1)&&t.length===e}function O(t){return o.utils.isValidPrivateKey(t)}function B(t){return I(t,!0)}function T(t,e){if(!B(t))throw new Error("Expected Point");if(!h(e))throw new Error("Expected Tweak");return C(()=>{const n=E(t,e,!0),r=n[0]%2===1?1:0;return{parity:r,xOnlyPubkey:n.slice(1)}})}function N(t){if(!A(t))throw new Error("Expected Point");return t.slice(1,33)}function P(t,e){if(!O(t))throw new Error("Expected Private");return C(()=>o.getPublicKey(t,L(e)))}function $(t){if(!O(t))throw new Error("Expected Private");return N(P(t))}function q(t,e){if(!A(t))throw new Error("Expected Point");return o.Point.fromHex(t).toRawBytes(L(e,t))}function U(t,e,n){if(!A(t))throw new Error("Expected Point");if(!h(e))throw new Error("Expected Tweak");return C(()=>S(t,e,L(n,t)))}function H(t,e,n){if(!A(t)||!A(e))throw new Error("Expected Point");return C(()=>{const r=o.Point.fromHex(t),s=o.Point.fromHex(e);return r.equals(s.negate())?null:r.add(s).toRawBytes(L(n,t))})}function R(t,e,n){if(!A(t))throw new Error("Expected Point");if(!h(e))throw new Error("Expected Tweak");return C(()=>E(t,e,L(n,t)))}function z(t,e){if(!1===O(t))throw new Error("Expected Private");if(!1===h(e))throw new Error("Expected Tweak");return C(()=>x(t,e))}function F(t,e){if(!1===O(t))throw new Error("Expected Private");if(!1===h(e))throw new Error("Expected Tweak");return C(()=>_(t,e))}function V(t){if(!1===O(t))throw new Error("Expected Private");return k(t)}function M(t,e,n){if(!O(e))throw new Error("Expected Private");if(!w(t))throw new Error("Expected Scalar");if(!b(n))throw new Error("Expected Extra Data (32 bytes)");return o.signSync(t,e,{der:!1,extraEntropy:n})}function D(e,n,r=t.alloc(32,0)){if(!O(n))throw new Error("Expected Private");if(!w(e))throw new Error("Expected Scalar");if(!b(r))throw new Error("Expected Extra Data (32 bytes)");return o.schnorr.signSync(e,n,r)}function K(t,e,n,r){if(!A(e))throw new Error("Expected Point");if(!m(n))throw new Error("Expected Signature");if(!w(t))throw new Error("Expected Scalar");return o.verify(n,t,e,{strict:r})}function W(t,e,n){if(!B(e))throw new Error("Expected Point");if(!m(n))throw new Error("Expected Signature");if(!w(t))throw new Error("Expected Scalar");return o.schnorr.verifySync(n,t,e)}e.isPoint=A,e.isPointCompressed=j,e.isPrivate=O,e.isXOnlyPoint=B,e.pointAdd=H,e.pointAddScalar=R,e.pointCompress=q,e.pointFromScalar=P,e.pointMultiply=U,e.privateAdd=z,e.privateNegate=V,e.privateSub=F,e.sign=M,e.signSchnorr=D,e.verify=K,e.verifySchnorr=W,e.xOnlyPointAddTweak=T,e.xOnlyPointFromPoint=N,e.xOnlyPointFromScalar=$}).call(this,n("1c35").Buffer)},"3f86":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("OneToMoreHeader",{attrs:{"support-networks":t.supportNetworks,"chain-name":"starknet",title:t.$t("common.welcomeOneToMore",{appName:t.$shortName,chainName:"Bitcoin"})}}),e("div",{staticClass:"containerBg"},[e("div",{staticClass:"oneToMoreBox"},[e("div",{staticClass:"stepBox"},[e("el-steps",{attrs:{active:t.stepActive,"align-center":"","process-status":"finish","finish-status":"finish"}},[e("el-step",{attrs:{title:t.$t("editorInput.prepare")}}),e("el-step",{attrs:{title:t.$t("editorInput.confirm")}}),e("el-step",{attrs:{title:t.$t("editorInput.send")}})],1)],1),e("Step1",{directives:[{name:"show",rawName:"v-show",value:0===t.stepActive,expression:"stepActive === 0"}],on:{onStep1Confirm:t.onStep1Confirm}}),e("Step2",{directives:[{name:"show",rawName:"v-show",value:1===t.stepActive,expression:"stepActive === 1"}],attrs:{"queue-list":t.queueList,address:t.address,decimals:t.decimals,symbol:t.symbol,address_type:t.address_type,"step-active":t.stepActive},on:{onStep2Prev:t.onStep2Prev,onStep2Next:t.onStep2Next,onStep2Confirm:t.onStep2Confirm}}),2===t.stepActive?e("Step3",{attrs:{send_tx:t.send_tx,"current-fee":t.currentFee,gas:t.gas,"array-limit":t.arrayLimit,"step-active":t.stepActive,c_address:t.c_address,"queue-list":t.queueList,address:t.address,decimals:t.decimals,symbol:t.symbol,address_type:t.address_type},on:{onStep3Prev:t.onStep3Prev}}):t._e()],1)])],1)},s=[],a=n("c7eb"),i=n("1da1"),o=n("850d"),c=(n("99af"),n("38cf"),function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingJs,expression:"loadingJs"}],staticClass:"step1"},[e("div",{staticClass:"inputBox"},[e("div",{staticClass:"inputContext inputContextAddress"},[e("div",{staticClass:"label"},[e("span",[t._v(t._s("Token"))])]),e("el-select",{staticStyle:{width:"100%"},attrs:{loading:t.loading_address,clearable:"",size:"large",filterable:"","filter-method":t.handleFilterAddress},on:{change:t.onSelectChange},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}},t._l(t.tokenList,(function(n,r){return e("el-option",{key:r,attrs:{label:"".concat(n.label," - ").concat(n.value),value:n.value}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(n.label))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(n.value))])])})),1)],1),e("div",{staticClass:"inputContext inputContextDecimals"},[e("div",{staticClass:"label"},[e("span",[t._v(t._s(t.$t("editorInput.decimals")))])]),e("el-input",{attrs:{size:"large",oninput:"value=value.replace(/[^\\d]/g,'')","max-length":"18"},model:{value:t.decimals,callback:function(e){t.decimals=e},expression:"decimals"}})],1)]),e("div",{staticClass:"label"},[e("span",[t._v(t._s(t.$t("editorInput.address_amount")))]),e("span",{staticClass:"btnText",on:{click:t.onBulkAmount}},[t._v(t._s(t.$t("editorInput.auto_amount")))]),t.isInput?e("span",{staticClass:"btnText",on:{click:t.onToggleInputType}},[t._v(t._s(t.$t("editorInput.upload_file")))]):e("span",{staticClass:"btnText",on:{click:t.onToggleInputType}},[t._v(t._s(t.$t("editorInput.iinsert_manually")))])]),e("el-row",[e("el-col",{attrs:{xs:{span:24}}},[t.isInput?e("Editor",{ref:"editor",on:{changed:t.onChangeEditor},model:{value:t.editorValue,callback:function(e){t.editorValue=e},expression:"editorValue"}}):e("upload-excel-component",{attrs:{"on-success":t.onUploadFileSuccess,"before-upload":t.beforeUpload}})],1)],1),e("div",{staticClass:"label label-remark"},[t.isInput?e("span",[t._v(t._s(t.$t("editorInput.inputAlert_3")))]):e("span",[t._v(t._s(t.$t("editorInput.inputAlert_2")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isInput,expression:"!isInput"}],staticClass:"btnText"},[e("a",{attrs:{target:"_blank",href:"/example/starknet.xlsx"}},[t._v(t._s(t.$t("editorInput.download_examples")))])]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isInput,expression:"isInput"}],staticClass:"btnText",on:{click:t.onExample}},[t._v(t._s(t.$t("editorInput.show_examples")))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[e("div",{staticClass:"label label-remark"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.repeat,expression:"!repeat"}]},[t._v(t._s(t.$t("editorInput.inputAlert_4")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.repeat,expression:"repeat"}]},[t._v(t._s(t.$t("editorInput.inputAlert_12")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.repeat,expression:"!repeat"}],staticClass:"btnText",on:{click:t.onDeleteErr}},[t._v(t._s(t.$t("editorInput.delete_err")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(e){return t.onRepeat(1)}}},[t._v(t._s(t.$t("editorInput.repeat_1")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(e){return t.onRepeat(2)}}},[t._v(t._s(t.$t("editorInput.repeat_2")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(e){return t.onRepeat(3)}}},[t._v(t._s(t.$t("editorInput.repeat_3")))])]),e("ul",t._l(t.errInfoList,(function(n){return e("li",{key:n},[t._v(t._s(n))])})),0)]),e("div",{staticClass:"btnBox"},[e("el-button",{attrs:{size:"large",type:"primary",loading:t.nextLoading},on:{click:t.onNext}},[t._v(t._s(t.$t("editorInput.next")))]),e("div",{staticClass:"btnRight"},[t.isZh?t._e():e("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.onOpenNewTab({path:"/createWallet/btc"})}}},[e("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),t._v(" Bitcoin "+t._s(t.$t("route.createWallet"))+" ")],1)],1)],1),e("div",{staticClass:"alertBox"},[e("el-alert",{attrs:{title:t.$t("editorInput.btc_utxo_tips"),type:"warning"}})],1)],1)}),u=[],l=n("5530"),d=(n("7db0"),n("d3b7"),n("14d9"),n("159b"),n("a15b"),n("498a"),n("37969")),p=n("fa7e"),f=n("2f62"),h=n("986e"),m=n("1b74"),w=n.n(m),b={name:"Step1",inject:["btcWalletStateTest","onOpenNewTab"],components:{UploadExcelComponent:d["a"],Editor:p["a"]},data:function(){return{balance:{},repeat:!1,loadingJs:!1,nextLoading:!1,repeat_status:!1,loading_address:!1,stepActive:1,accountOptions:[],tokenList:[],address:"",existentialDeposit:-1,addressTypeOptions:[],decimals:8,isInput:!0,editorValue:"",queueList:[],errInfoList:[]}},computed:Object(l["a"])({},Object(f["b"])(["isPc","isZh","btcNetwork","btcClient","btcAccount","btcWallet"])),watch:{editorValue:function(t){this.onEditCheck(t)}},created:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:h["h"].$on(h["g"],(function(t){console.log(t,"step_state")})),t.tokenList=[{label:"BTC",value:"Bitcoin",decimals:8}];case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.address="Bitcoin";case 1:case"end":return e.stop()}}),e)})))()},methods:{onSelectChange:function(t){var e=this;return Object(i["a"])(Object(a["a"])().mark((function n(){var r;return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("onSelectChange"),r=e.tokenList.find((function(e){return e.value===t})),console.log(r.decimals,"tokenInfo.decimals"),e.decimals=r.decimals,e.address=t;case 5:case"end":return n.stop()}}),n)})))()},handleFilterAddress:function(){var t=arguments,e=this;return Object(i["a"])(Object(a["a"])().mark((function n(){return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.length>0&&void 0!==t[0]?t[0]:"",e.btcWallet){n.next=3;break}return n.abrupt("return");case 3:case"end":return n.stop()}}),n)})))()},onExample:function(){"testnet"===this.btcNetwork?this.editorValue="tb1qtg2nw5pmud0fkzsjsndyfrxf6nuk7vpsqhyv63,0.00000001\ntb1q66jturfwej9uyzsnwhsrsg58epne5nnuusfccd,0.00000001\ntb1qecj4nwecl54t82ywcxz8k4ugywnjjqsn7alttt,0.00000001":this.editorValue="bc1pma74d2llzrwh8swp805734h59wmjg9gdqpkhwl4hdwejvhwklyjsvk0ht0,0.00001\nbc1plhyfkau4vnjj3qq3k442qn2m7d49uuqknsjl4rxacszv0enk23fqx2dzjr,0.00001"},onBulkAmount:function(){var t=this;this.$prompt(this.$t("editorInput.auto_amount"),this.$t("editorInput.inputAlert_5"),{confirmButtonText:this.$t("editorInput.confirm"),cancelButtonText:this.$t("editorInput.close")}).then((function(e){var n=e.value,r=t.editorValue.split("\n"),s="";for(var a in r){var i=r[a].split(",");i[1]&&(r[a]=i[0]),parseInt(a)+1===r.length?s+=r[a]+","+n:s+=r[a]+","+n+"\n"}t.editorValue=s})).catch((function(){}))},onNext:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){var n,r;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.nextLoading=!0,e.prev=1,e.next=4,t.btcWalletStateTest();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(""!==t.editorValue){e.next=9;break}return t.$message.error(t.$t("editorInput.inputAlert_6")),e.abrupt("return");case 9:if(n=t.onEditCheck(t.editorValue),!n){e.next=12;break}return e.abrupt("return");case 12:r=t.tokenList.find((function(e){return e.value===t.address})),t.$emit("onStep1Confirm",{queueList:t.queueList,address:t.address,symbol:r.label,decimals:t.decimals}),e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](1);case 18:return e.prev=18,t.nextLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,16,18,21]])})))()},onDeleteErr:function(){var t=this,e="",n=[];for(var r in this.queueList)n.push(this.queueList[r]);this.queueList=n,this.queueList.forEach((function(n,r){var s=r===t.queueList.length-1?"":"\n";e+=t.queueList[r].join()+s})),this.editorValue=e},onRepeat:function(t){var e=this,n="",r=[],s=[];for(var a in this.queueList)r[this.queueList[a][0]]&&1===t?delete this.queueList[a]:r[this.queueList[a][0]]&&2===t?(s[this.queueList[a][0]]+=parseFloat(this.queueList[a][1]),delete this.queueList[a]):(r[this.queueList[a][0]]=!0,2===t&&(s[this.queueList[a][0]]=parseFloat(this.queueList[a][1]),delete this.queueList[a]));if(2===t)for(var i in s)this.queueList.push([i,s[i]]);3===t&&(this.repeat_status=!0,this.repeat=!1,this.errInfoList=[]);var o=[];for(var c in this.queueList)o.push(this.queueList[c]);this.queueList=o,this.queueList.forEach((function(t,r){var s=r===e.queueList.length-1?"":"\n";n+=e.queueList[r].join()+s})),this.editorValue=n},onEditCheck:function(t){if(""===t)return this.queueList=[],this.errInfoList=[],void(this.repeat_status=!1);var e=t.split("\n"),n=[],r=[],s=[],a=!1,i=!1;for(var o in e){var c=parseInt(o)+1,u=e[o].trim().split(",");if(2===u.length){var l=!0;if(l="testnet"===this.btcNetwork?w.a.validate(u[0],"btc","testnet"):w.a.validate(u[0],"btc"),l){var d=String(u[1]).split(".");2===d.length&&String(u[1]).split(".")[1].length>this.decimals?(a=!0,r.push(this.$t("editorInput.decimals_error",{line:c,number:u[1]}))):parseFloat(u[1])<0||!parseFloat(u[1])?(a=!0,r.push(this.$t("editorInput.inputAlert_8",{line:c,str:u[1]}))):(s[u[0]]&&!this.repeat_status?(i=!0,a=!0,r.push(this.$t("editorInput.inputAlert_11",{line:c,str:u[0]}))):s[u[0]]=!0,n.push(u))}else a=!0,r.push(this.$t("editorInput.inputAlert_7",{line:c,str:u[0]}))}else a=!0,r.push(this.$t("editorInput.inputAlert_9",{line:c,str:u[0]}))}return this.repeat=i,this.queueList=n,this.errInfoList=r,a},isValidAddressPolkadotAddress:function(t){try{return window.polkadotKeyring.encodeAddress(window.polkadotUtil.isHex(t)?window.polkadotUtil.hexToU8a(t):window.polkadotKeyring.decodeAddress(t)),!0}catch(e){return!1}},onToggleInputType:function(){this.isInput=!this.isInput},beforeUpload:function(t){var e=t.size/1024/1024<10;return!!e||(this.$message({message:"Please do not upload files larger than 10m in size.",type:"warning"}),!1)},onChangeEditor:function(t){this.editorValue=t},onUploadFileSuccess:function(t){var e=t.results,n=(t.header,"");e.forEach((function(t,r){var s=r===e.length-1?"":"\n";n+="".concat(t.Address,",").concat(t.Amount).concat(s)})),this.editorValue=n,this.onToggleInputType()}}},v=b,y=(n("628e"),n("2877")),g=Object(y["a"])(v,c,u,!1,null,"351893f4",null),x=g.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"step2"},[e("div",{staticClass:"label"},[e("span",[t._v(t._s(t.$t("editorInput.addressList")))])]),e("el-table",{staticStyle:{width:"100%","border-radius":"10px"},attrs:{data:t.tableData,height:t.tableData.length>7?250:null}},[e("el-table-column",{attrs:{prop:"address",label:"Address",width:t.isPc?"410px":"auto"},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.row;return[e("span",[e("a",{attrs:{href:t.$ethUtils.getScanLink("btc","address",r.address),target:"_blank"}},[t._v(" "+t._s(t._f("miniAddress")(r.address))+" ")])])]}}])}),e("el-table-column",{attrs:{prop:"amount",label:"Amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.amount)+" "+t._s(t.symbol)+" ")]}}])}),e("el-table-column",{attrs:{width:"80px"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleDelete(n.$index,n.row)}}},[t._v(" "+t._s(t.$t("editorInput.remove"))+" ")])]}}])})],1),e("div",{staticClass:"label"},[e("span",[t._v(t._s("FeeRate"))])]),e("ul",{staticClass:"gasBox"},[t.gasList.fast?e("li",{class:{gasList:!0,gasListTrue:"fast"===t.gasType},on:{click:function(e){return t.onChangeGasType("fast")}}},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("common.fast")))]),e("span",{staticClass:"value"},[e("span",{staticClass:"number"},[t._v(t._s(t.gasList.fast))]),e("span",{staticClass:"unit"},[t._v("sat/VB")])])]):t._e(),t.gasList.normal?e("li",{class:{gasList:!0,gasListTrue:"normal"===t.gasType},on:{click:function(e){return t.onChangeGasType("normal")}}},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("common.normal")))]),e("span",{staticClass:"value"},[e("span",{staticClass:"number"},[t._v(t._s(t.gasList.normal))]),e("span",{staticClass:"unit"},[t._v("sat/VB")])])]):t._e(),t.gasList.slow?e("li",{class:{gasList:!0,gasListTrue:"slow"===t.gasType},on:{click:function(e){return t.onChangeGasType("slow")}}},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("common.slow")))]),e("span",{staticClass:"value"},[e("span",{staticClass:"number"},[t._v(t._s(t.gasList.slow))]),e("span",{staticClass:"unit"},[t._v("sat/VB")])])]):t._e(),e("li",{class:{gasList:!0,gasListTrue:"custom"===t.gasType},on:{click:function(e){return t.onChangeGasType("custom")}}},[e("span",{staticClass:"name"},[t._v(t._s(t.$t("common.custom")))]),e("span",{staticClass:"inputBox"},[e("el-input",{staticClass:"inputText",attrs:{type:"text",oninput:"value=value.replace(/[^\\d\\.]/g,'')",size:"mini"},model:{value:t.gasList.custom,callback:function(e){t.$set(t.gasList,"custom",e)},expression:"gasList.custom"}}),e("span",{staticClass:"unit"},[t._v("sat/VB")])],1)])]),e("div",{staticClass:"label"},[e("span",[t._v(t._s(t.$t("editorInput.summary")))])]),e("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.step2_loading,expression:"step2_loading"}],staticClass:"abstract"},[e("li",[e("span",{staticClass:"number"},[t._v(t._s(t.address_count))]),e("span",{staticClass:"remark"},[t._v(t._s(t.$t("editorInput.total_address_num")))])]),e("li",[e("span",{staticClass:"number"},[t._v(t._s(t.send_amount)+" "+t._s(t.symbol))]),e("span",{staticClass:"remark"},[t._v(t._s(t.$t("editorInput.total_send_token_num")))])]),e("li",[e("span",{staticClass:"number"},[t._v(t._s(t.send_tx))]),e("span",{staticClass:"remark"},[t._v(t._s(t.$t("editorInput.total_send_tx_num")))])]),e("li",[e("span",{staticClass:"number"},[t._v(t._s(t.tokenBalance)+" "+t._s(t.symbol))]),e("span",{staticClass:"remark"},[t._v(t._s(t.$t("editorInput.token_balance")))])]),e("li",[e("span",{staticClass:"number"},[t._v(t._s(t.fee)+" "+t._s(t.nativeToken.symbol))]),e("span",{staticClass:"remark"},[t._v(t._s(t.$t("editorInput.y_fee")))])]),e("li",[e("span",{staticClass:"number"},[t._v(t._s(t.ethBalance)+" "+t._s(t.nativeToken.symbol))]),e("span",{staticClass:"remark"},[t._v(t._s(t.$t("editorInput.you_balance",{symbol:t.nativeToken.symbol})))])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[e("ul",t._l(t.errInfoList,(function(n){return e("li",{key:n},[t._v(t._s(n))])})),0)]),e("div",{staticClass:"btnBox"},[e("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:t.onPrev}}),e("el-button",{attrs:{loading:t.step2_loading,size:"large",type:"primary",disabled:t.send_btn},on:{click:t.onNext}},[t._v(t._s(t.$t("editorInput.next")))])],1)],1)},k=[],E=(n("a9e3"),n("b680"),n("4de4"),n("901e")),S=n.n(E),L=n("ed08"),C=n("bc5a"),I=n("d2c8"),A={name:"Step2",props:{queueList:{type:Array,required:!0},address:{type:String,required:!0},stepActive:{type:Number,required:!0},decimals:{type:Number,required:!0},symbol:{type:String,required:!0,default:""}},data:function(){return{c_address:"",web3:{},send_tx:0,nativeToken:{symbol:"BTC"},gasType:"normal",gasList:{custom:""},approve_status:!1,send_amount:0,address_count:0,step2_loading:!1,fee:0,d_fee:0,currentFee:"",tokenBalance:0,ethBalance:0,send_btn:!1,approveList:[],errInfoList:[],tableData:[],propQueueListl:[],arrayLimit:3e3,sliderMarks:{},balanceMini:0,isShowBalanceLow:!1}},computed:Object(l["a"])(Object(l["a"])({},Object(f["b"])(["isPc","btcNetwork","btcAccount","btcClient"])),{},{gas:function(){return this.gasList?this.gasList[this.gasType]:20}}),watch:{step2_loading:function(t){h["h"].$emit(h["g"],t)},stepActive:{immediate:!0,handler:function(t){var e=this;return Object(i["a"])(Object(a["a"])().mark((function n(){return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==t){n.next=4;break}return e.propQueueListl=e.queueList,n.next=4,e.init();case 4:case"end":return n.stop()}}),n)})))()}}},created:function(){},mounted:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){var n,r,s,i,o;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(I["b"])("btc");case 2:n=e.sent,n&&(r=n.data,s=r.fast,i=r.normal,o=r.slow,t.gasList={fast:s.price,normal:i.price,slow:o.price,custom:""}),console.log(n,"gasInfo");case 5:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){var n,r,s,i,o;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("init"),t.tableData=[],t.errInfoList=[],t.isShowBalanceLow=!1,t.step2_loading=!0,console.log(t.decimals,t.symbol),e.next=8,t.onUpdateBalance();case 8:for(r in t.address_count=t.propQueueListl.length,t.send_tx=Math.ceil(t.propQueueListl.length/t.arrayLimit),n=0,t.propQueueListl)t.tableData.push({address:t.propQueueListl[r][0],amount:t.propQueueListl[r][1]}),n=new S.a(n).plus(t.propQueueListl[r][1]).toFixed();if(t.send_amount=n,s=new S.a(C["a"]["multiSender_fees"][t.btcNetwork]).toFixed(),t.currentFee=new S.a(s).times(Math.pow(10,t.decimals)).toFixed(0),t.d_fee=s,i=t.d_fee,t.fee=i,o=parseFloat(parseFloat(t.send_amount)+parseFloat(i)),!(Number(t.ethBalance)<Number(o))){e.next=24;break}return t.step2_loading=!1,t.errInfoList.push(t.$t("editorInput.insufficient_balance",{symbol:t.symbol,amount:o})),t.send_btn=!0,e.abrupt("return");case 24:t.step2_loading=!1;case 25:case"end":return e.stop()}}),e)})))()},handleDelete:function(t,e){var n=this;return Object(i["a"])(Object(a["a"])().mark((function t(){var r;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=n.propQueueListl.filter((function(t){return t[0]!==e.address})),n.propQueueListl=r,n.init();case 3:case"end":return t.stop()}}),t)})))()},onChangeGasType:function(t){var e=this;return Object(i["a"])(Object(a["a"])().mark((function n(){return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.gasType=t;case 1:case"end":return n.stop()}}),n)})))()},onNext:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("custom"!==t.gasType||""!==t.gasList.custom){e.next=3;break}return t.$message.error(t.$t("common.custom_empty_tips")),e.abrupt("return");case 3:t.$emit("onStep2Confirm",{queueList:t.propQueueListl,address:t.address,send_tx:t.send_tx,decimals:t.decimals,arrayLimit:t.arrayLimit,currentFee:t.currentFee,c_address:t.c_address,gas:t.gas});case 4:case"end":return e.stop()}}),e)})))()},onPrev:function(){this.$emit("onStep2Prev")},onUpdateBalance:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){var n;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.btcClient.getBalance();case 3:n=e.sent,console.log(n),t.ethBalance=n.total/1e8,t.tokenBalance=n.total/1e8,e.next=16;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.next=14,Object(L["E"])(1e3);case 14:return e.next=16,t.onUpdateBalance();case 16:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},j=A,O=(n("fa9a"),Object(y["a"])(j,_,k,!1,null,"63c4866c",null)),B=O.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"step3"},[e("div",{staticClass:"label"},[e("span",[t._v(" "+t._s(t.$t("editorInput.step3_alert_1",{a:t.send_status.a,b:t.send_status.b})))]),e("span",{directives:[{name:"show",rawName:"v-show",value:0===t.send_status.b&&!t.all_send,expression:"send_status.b === 0 && !all_send"}]},[t._v(t._s(t.$t("editorInput.step3_alert_2")))])]),e("DealList",{attrs:{list:t.dealList,"chain-name":t.chainName}}),e("el-alert",{directives:[{name:"show",rawName:"v-show",value:0===t.send_status.b&&t.all_send,expression:"send_status.b ===0 && all_send"}],staticClass:"tips",attrs:{title:t.$t("editorInput.step3_alert_3"),type:"success",closable:!1,effect:"dark"}}),e("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.send_close,expression:"send_close"}],staticClass:"tips",attrs:{title:t.$t("editorInput.step3_alert_4"),type:"success",closable:!1,effect:"dark"}}),e("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.uxtosGetStatus,expression:"uxtosGetStatus"}],staticClass:"tips",attrs:{title:t.$t("editorInput.utxo_unconfirm_tips"),type:"error",closable:!1}}),e("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.waitMetamask,expression:"waitMetamask"}],staticClass:"tips",attrs:{type:"success",closable:!1,center:"",effect:"dark"}},[e("i",{staticClass:"el-icon-loading icon"}),t._v(t._s(t.$t("editorInput.wait_confirm")))]),e("div",{staticClass:"btnBox"},[e("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:t.onPrev}}),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.send_close,expression:"send_close"}],attrs:{size:"large",type:"primary"},on:{click:t.onSend}},[t._v(t._s(t.$t("editorInput.step3_alert_5",{d:t.d_slice})))])],1),e("div",{staticClass:"resultList"},[e("el-tabs",[e("el-tab-pane",{attrs:{label:"".concat(t.$t("editorInput.wait_result_list"),"(").concat(t.waitList.length,")")}},[e("div",{staticClass:"listBox"},[e("el-input",{attrs:{value:t.waitListText,type:"textarea",rows:7}}),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.waitList.length>0,expression:"waitList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:t.waitListText,expression:"waitListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[t._v(" "+t._s(t.$t("common.copy"))+" ")])],1)]),e("el-tab-pane",{attrs:{label:"".concat(t.$t("editorInput.success_result_list"),"(").concat(t.successList.length,")")}},[e("div",{staticClass:"listBox"},[e("el-input",{attrs:{value:t.successListText,type:"textarea",rows:7}}),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.successList.length>0,expression:"successList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:t.successListText,expression:"successListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[t._v(" "+t._s(t.$t("common.copy"))+" ")])],1)]),e("el-tab-pane",{attrs:{label:"".concat(t.$t("editorInput.error_result_list"),"(").concat(t.errorList.length,")")}},[e("div",{staticClass:"listBox"},[e("el-input",{attrs:{value:t.errorListText,type:"textarea",rows:7}}),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.errorList.length>0,expression:"errorList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:t.errorListText,expression:"errorListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[t._v(" "+t._s(t.$t("common.copy"))+" ")])],1)])],1)],1)],1)},N=[],P=n("57ed"),$=P["a"],q=(n("97ab"),Object(y["a"])($,T,N,!1,null,"315a5d39",null)),U=q.exports,H="multiSender",R={name:H,components:{OneToMoreHeader:o["a"],Step1:x,Step2:B,Step3:U},data:function(){return{supportNetworks:[{icon:"",name:"Mainnet",value:"mainnet"},{icon:"",name:"Testnet",value:"testnet"}],stepActive:0,c_abi:[],gas:0,send_tx:0,arrayLimit:0,c_address:"",currentFee:0,queueList:[],address:"",address_type:"1",symbol:"",decimals:0}},watch:{},created:function(){},mounted:function(){return Object(i["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{onStep1Confirm:function(t){var e=t.queueList,n=t.address,r=t.symbol,s=t.decimals,a=t.address_type;this.queueList=e,this.address=n,this.decimals=s,this.symbol=r,this.address_type=a,this.stepActive=1},onStep2Confirm:function(t){var e=t.queueList,n=t.address,r=t.address_type,s=t.decimals,a=t.send_tx,i=t.arrayLimit,o=t.currentFee,c=t.c_address,u=t.gas;this.queueList=e,this.address=n,this.address_type=r,this.send_tx=a,this.arrayLimit=i,this.decimals=s,this.currentFee=o,this.c_address=c,this.stepActive=2,this.gas=u},onStep2Prev:function(){this.stepActive=0},onStep2Next:function(){this.stepActive=2},onStep3Prev:function(){this.stepActive=1},onChangeEditor:function(t){this.editorValue=t}}},z=R,F=(n("76a1"),Object(y["a"])(z,r,s,!1,null,"5c186550",null));e["default"]=F.exports},42:function(t,e){},"57ed":function(t,e,n){"use strict";(function(t){var r,s=n("b85c"),a=n("c7eb"),i=n("1da1"),o=n("5530"),c=(n("a9e3"),n("d3b7"),n("159b"),n("99af"),n("4de4"),n("d81d"),n("caad"),n("2532"),n("b680"),n("14d9"),n("a434"),n("fb6a"),n("25f0"),n("0fad1")),u=n("901e"),l=n.n(u),d=n("2f62"),p=n("bc5a"),f=n("59da"),h=n("262f"),m=n.n(h),w=n("ed08");e["a"]={name:"Step3",inject:["onCopySuccess"],components:{DealList:c["a"]},props:{send_tx:{type:Number,required:!0},arrayLimit:{type:Number,required:!0},currentFee:{type:[String,Number],required:!0},c_address:{type:String,required:!0},queueList:{type:Array,required:!0},address:{type:String,required:!0},gas:{type:[String,Number],required:!0},decimals:{type:Number,required:!0},symbol:{type:String,required:!0,default:""}},data:function(){return{uxtosGetStatus:!0,waitMetamask:!1,dealList:[],send_close:!1,addresses_to_send:[],balances_to_send:[],send_status:{},chainName:"btc",all_send:!1,d_slice:0,d_slice_s:0,successList:[],errorList:[],allQueueList:[],web3:{},uxtosId:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(d["b"])(["isPc","btcNetwork","btcAccount","btcWallet","btcClient"])),{},{addNetworkUrlPath:function(){return"testnet"===this.btcNetwork?"testnet/":""},successListText:function(){var t="";return this.successList.forEach((function(e){t+="".concat(e.address,",").concat(e.balance,"\n")})),t},errorListText:function(){var t="";return this.errorList.forEach((function(e){t+="".concat(e.address,",").concat(e.balance,"\n")})),t},waitListText:function(){var t="";return this.waitList.forEach((function(e){t+="".concat(e.address,",").concat(e.balance,"\n")})),t},waitList:function(){var t=this;return this.allQueueList.filter((function(e){var n=t.successList.concat(t.errorList).map((function(t){return t.address}));return!n.includes(e.address)}))}}),created:function(){},mounted:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){var n,s;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n in Object(f["initEccLib"])(m.a),r=t,t.uxtosId=[],t.addresses_to_send=[],t.balances_to_send=[],t.allQueueList=[],t.uxtosGetStatus=!0,t.queueList)s=new l.a(10).pow(t.decimals).times(t.queueList[n][1]).toFixed(0),s>=1&&(t.allQueueList.push({address:t.queueList[n][0],balance:t.queueList[n][1]}),t.addresses_to_send.push(t.queueList[n][0]),t.balances_to_send.push(s));return e.next=10,t._multisend(t.send_tx,t.arrayLimit);case 10:case"end":return e.stop()}}),e)})))()},methods:{onPrev:function(){this.$emit("onStep3Prev")},onSend:function(){var t=this;return Object(i["a"])(Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.send_close=!1,e.next=3,t._multisend(t.d_slice_s,t.arrayLimit);case 3:case"end":return e.stop()}}),e)})))()},getUtxos:function(t){var e=arguments,n=this;return Object(i["a"])(Object(a["a"])().mark((function r(){var s,i,o,c,u;return Object(a["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=e.length>1&&void 0!==e[1]?e[1]:"",i=["https://mempool.space","https://btcscan.org","https://blockstream.info"],o=!0,c=[],u=0;case 5:if(!o){r.next=20;break}return u=Math.floor(Math.random()*i.length),r.prev=7,r.next=10,n.$ajax({url:"".concat(i[u],"/").concat(s,"api/address/").concat(t,"/utxo"),method:"get"});case 10:c=r.sent,o=!1,r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](7),i.splice(u,1),0===i.length&&(o=!1);case 18:r.next=5;break;case 20:return r.abrupt("return",c);case 21:case"end":return r.stop()}}),r,null,[[7,14]])})))()},getTxHex:function(t){var e=arguments,n=this;return Object(i["a"])(Object(a["a"])().mark((function r(){var s,i,o,c,u;return Object(a["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=e.length>1&&void 0!==e[1]?e[1]:"",i=["https://mempool.space","https://btcscan.org","https://blockstream.info"],o=!0,c=0;case 4:if(!o){r.next=19;break}return c=Math.floor(Math.random()*i.length),r.prev=6,r.next=9,n.$ajax({url:"".concat(i[c],"/").concat(s,"api/tx/").concat(t,"/hex"),method:"get"});case 9:u=r.sent,o=!1,r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](6),i.splice(c,1),0===i.length&&(o=!1);case 17:r.next=4;break;case 19:return r.abrupt("return",u);case 20:case"end":return r.stop()}}),r,null,[[6,13]])})))()},_multisend:function(e,n){var o=this;return Object(i["a"])(Object(a["a"])().mark((function i(){var c,u,d,h,m,b,v,y,g,x,_,k,E,S,L,C,I,A,j,O,B,T,N,P,$,q,U,H,R,z,F;return Object(a["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(v in a.prev=0,o.d_slice=o.send_tx-e===0?1:o.send_tx-e+1,o.d_slice_s=e,o.send_status={a:o.send_tx,b:e},c=(e-1)*n,u=e*n,d=o.addresses_to_send.slice(c,u),h=o.balances_to_send.slice(c,u),m=p["a"]["multiSender_fees_address"][o.btcNetwork],d.unshift(m),h.unshift(o.currentFee),b=[],d)b.push({address:d[v],value:h[v]});y=0,g=0,b.forEach((function(t){y=new l.a(y).plus(t.value).toNumber(),g++})),_=!0;case 17:if(!_){a.next=36;break}return a.prev=18,a.next=21,o.getUtxos(o.btcAccount,o.addNetworkUrlPath);case 21:if(x=a.sent,x=x.filter((function(t){return!o.uxtosId.includes(t.txid)})),!(x.length>0)){a.next=27;break}return o.uxtosGetStatus=!1,_=!1,a.abrupt("break",36);case 27:a.next=31;break;case 29:a.prev=29,a.t0=a["catch"](18);case 31:return console.log("暂时无可用的utxo 或者正在确认交易, 我们正在检测，请等待..."),a.next=34,Object(w["E"])(1e4);case 34:a.next=17;break;case 36:o.waitMetamask=!0,console.log(f["networks"],"networksnetworksnetworks"),k="testnet"===o.btcNetwork?f["networks"].testnet:f["networks"].bitcoin,E=new f["Psbt"]({network:k}),S=f["address"].fromBech32(o.btcAccount),L=!1,L=1===S.version,console.log(S,L),E.setVersion(1),E.setLocktime(0),C=0,I=0,A=[],j=Object(s["a"])(x),a.prev=50,j.s();case 52:if((O=j.n()).done){a.next=67;break}return B=O.value,C=new l.a(C).plus(B.value).toNumber(),a.next=57,o.getTxHex(B.txid,o.addNetworkUrlPath);case 57:T=a.sent,N=f["Transaction"].fromHex(T);try{for(P in N.outs)N.setWitness(parseInt(P),[])}catch(i){}if(L?E.addInput({hash:B.txid,index:B.vout,witnessUtxo:N.outs[B.vout]}):E.addInput({hash:B.txid,index:B.vout,nonWitnessUtxo:t.from(T,"hex")}),A.push(B.txid),I++,!(C>y)){a.next=65;break}return a.abrupt("continue",65);case 65:a.next=52;break;case 67:a.next=72;break;case 69:a.prev=69,a.t1=a["catch"](50),j.e(a.t1);case 72:return a.prev=72,j.f(),a.finish(72);case 75:if(b.forEach((function(t){E.addOutput({address:t.address,value:Number(t.value)})})),!(C<y)){a.next=80;break}return o.$message({message:o.$t("editorInput.insufficient_balance_tips2"),duration:0,showClose:!0,type:"error"}),o.waitMetamask=!1,a.abrupt("return");case 80:if(console.log(o.gas,"this.gas"),$=Number(o.gas),E.setMaximumFeeRate($),q=146*I+33*g+10,console.log(q),U=new l.a(q).times($).toFixed(0),console.log(U),console.log(1),H=new l.a(C).minus(y).minus(U).toNumber(),!(H>=1)){a.next=93;break}E.addOutput({address:o.btcAccount,value:H}),a.next=97;break;case 93:if(!(H<0)){a.next=97;break}return o.$message({message:o.$t("editorInput.insufficient_balance_tips"),duration:0,showClose:!0,type:"error"}),o.waitMetamask=!1,a.abrupt("return");case 97:return console.log(2),a.next=100,o.btcClient.signPsbt(E.toHex());case 100:return R=a.sent,console.log(R),a.next=104,o.btcClient.pushPsbt(R);case 104:return z=a.sent,console.log(3),a.next=108,Object(w["E"])(1e3);case 108:for(F in d)m!==d[F]&&o.successList.push({address:d[F],balance:new l.a(h[F]).div(Math.pow(10,o.decimals)).toString(10)});r.dealList.push({address:z,status:1}),o.send_status={a:o.send_tx,b:e-1},e--,e>0?(o.uxtosId=A,r._multisend(e,n)):(r.all_send=!0,o.waitMetamask=!1),a.next=121;break;case 115:a.prev=115,a.t2=a["catch"](0),console.log(a.t2),o.$message.error(a.t2.message),-1!==a.t2.message.indexOf("rejected")&&(o.send_close=!0),o.waitMetamask=!1;case 121:case"end":return a.stop()}}),i,null,[[0,115],[18,29],[50,69,72,75]])})))()}}}}).call(this,n("1c35").Buffer)},"628e":function(t,e,n){"use strict";n("b62a")},"76a1":function(t,e,n){"use strict";n("c148b")},"97ab":function(t,e,n){"use strict";n("e1b2")},b62a:function(t,e,n){},bb53:function(t,e,n){"use strict";n("1188a")},bc5a:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={multiSender_fees_address:{livenet:"bc1pfvu02tmcy730xtajl7fjnht4afxdl3rlgsf00r5vlf7ljthfvucqr5n3uv",testnet:"tb1pkkwu0k9hzcawvzpew6k2w249u9a7yvtlgpvh3yp7pewf3u6eep2q4494lr"},multiSender_fees:{livenet:5e-4,testnet:1e-8}}},c148b:function(t,e,n){},d2c8:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return v}));var r=n("2909"),s=n("c7eb"),a=n("1da1"),i=(n("d9e2"),n("4e82"),n("d3b7"),n("159b"),n("caad"),n("2532"),n("99af"),n("14d9"),n("b680"),n("25f0"),n("ab3e")),o=n("e6ce"),c=n("ed08"),u=n("5a50"),l=n("901e"),d=n.n(l),p=n("a835");function f(t){return h.apply(this,arguments)}function h(){return h=Object(a["a"])(Object(s["a"])().mark((function t(e){var n,r,a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["a"])({url:o["a"][e].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_gasPrice",params:[]}});case 3:return n=t.sent,r=n.result,a={fast:{price:Math.ceil(1.03*r),estimated_seconds:0},normal:{price:Math.ceil(1.01*r),estimated_seconds:0},slow:{price:Math.ceil(r),estimated_seconds:0}},t.abrupt("return",{data:a});case 9:return t.prev=9,t.t0=t["catch"](0),console.log(t.t0,"error"),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),h.apply(this,arguments)}function m(t){return w.apply(this,arguments)}function w(){return w=Object(a["a"])(Object(s["a"])().mark((function t(e){var n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("aptos"!==e){t.next=6;break}return t.next=3,g();case 3:n=t.sent,t.next=27;break;case 6:if("btc"!==e){t.next=12;break}return t.next=9,L();case 9:n=t.sent,t.next=27;break;case 12:if("sol"!==e){t.next=18;break}return t.next=15,_();case 15:n=t.sent,t.next=27;break;case 18:if("ckb"!==e){t.next=24;break}return t.next=21,E();case 21:n=t.sent,t.next=27;break;case 24:return t.next=26,f(e);case 26:n=t.sent;case 27:return t.abrupt("return",n);case 28:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function b(t){if(t.length<4)throw new Error("inputs len < 4");t=t.sort((function(t,e){return new d.a(t).gt(new d.a(e))?1:-1}));var e=Math.floor(t.length/2);return new d.a(t[e-1]).plus(new d.a(t[e])).plus(new d.a(t[e+1])).dividedToIntegerBy(3)}function v(t){return y.apply(this,arguments)}function y(){return y=Object(a["a"])(Object(s["a"])().mark((function t(e){var n,a,c,l,f,h,m,w,v,y,g,x,_,k,E,S,L;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("number"===typeof e&&(e=p["a"].chainIdToChainName(e)),t.prev=1,![].concat(Object(r["a"])(u["h"]),["opbnb","bsc"]).includes(e)){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Object(i["a"])({url:o["a"][e].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_feeHistory",params:["0xa","latest",[25,75]]}});case 6:n=t.sent,a=n.result,c=[],l=0;case 10:if(!(l<a.reward.length)){t.next=23;break}f=0;case 12:if(!(f<a.reward[l].length)){t.next=20;break}if(h=new d.a(a.reward[l][f]),!h.lte(0)){t.next=16;break}return t.abrupt("continue",17);case 16:c.push(h);case 17:f++,t.next=12;break;case 20:l++,t.next=10;break;case 23:m=b(c),w=new d.a(0),v=0,y=new d.a(1e19),g=new d.a(0),x=0;case 29:if(!(x<a.baseFeePerGas.length)){t.next=37;break}if(_=new d.a(a.baseFeePerGas[x]),!_.lte(0)){t.next=33;break}return t.abrupt("continue",34);case 33:_.gt(y)?y=_:_.lt(g)?g=_:(w=w.plus(_),v+=1);case 34:x++,t.next=29;break;case 37:if(k=w.dividedToIntegerBy(v),E=k.multipliedBy(1.63).plus(m),S=E.div(1e9).toFixed(),L=m.div(1e9).toFixed(),k=k.div(1e9).toFixed(0),E.toNumber()&&k&&L&&E){t.next=44;break}return t.abrupt("return",!1);case 44:return t.abrupt("return",{maxFee:new d.a(S).toFixed(3),priorityFee:new d.a(L).toFixed(2),baseFee:new d.a(k).toString()});case 47:return t.prev=47,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",!1);case 51:case"end":return t.stop()}}),t,null,[[1,47]])}))),y.apply(this,arguments)}function g(){return x.apply(this,arguments)}function x(){return x=Object(a["a"])(Object(s["a"])().mark((function t(){var e,n,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=1e3,t.prev=1,t.next=4,Object(i["a"])({url:"https://fullnode.mainnet.aptoslabs.com/v1/estimate_gas_price",method:"get",isProxy:!0,data:{}});case 4:return n=t.sent,r={fast:{price:n.prioritized_gas_estimate*e/Math.pow(10,8),estimated_seconds:0},normal:{price:n.gas_estimate*e/Math.pow(10,8),estimated_seconds:0},slow:{price:n.deprioritized_gas_estimate*e/Math.pow(10,8),estimated_seconds:0}},t.abrupt("return",{data:r});case 9:return t.prev=9,t.t0=t["catch"](1),console.log("error"),t.next=14,g();case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t,null,[[1,9]])}))),x.apply(this,arguments)}function _(){return k.apply(this,arguments)}function k(){return k=Object(a["a"])(Object(s["a"])().mark((function t(){var e,n,r,a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["a"])({url:o["a"]["sol"].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"getRecentBlockhash"}});case 3:if(e=t.sent,!e.result||!e.result.value){t.next=12;break}return n=e.result.value.feeCalculator,r=n.lamportsPerSignature,r/Math.pow(10,9),a={fast:{price:.01,estimated_seconds:0},normal:{price:.001,estimated_seconds:0},slow:{price:1e-4,estimated_seconds:0}},t.abrupt("return",{data:a});case 12:t.next=22;break;case 14:return t.prev=14,t.t0=t["catch"](0),console.log("error"),t.next=19,Object(c["E"])(5e3);case 19:return t.next=21,_();case 21:return t.abrupt("return",t.sent);case 22:case"end":return t.stop()}}),t,null,[[0,14]])}))),k.apply(this,arguments)}function E(){return S.apply(this,arguments)}function S(){return S=Object(a["a"])(Object(s["a"])().mark((function t(){var e,n,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["a"])({url:o["a"]["ckb"].rpcNode,method:"post",data:{id:1,jsonrpc:"2.0",method:"get_fee_rate_statistics",params:[]}});case 3:return e=t.sent,n=parseInt(e.result.mean),r={fast:{price:parseInt(1.5*n),estimated_seconds:0},normal:{price:n,estimated_seconds:0},slow:{price:parseInt(.8*n),estimated_seconds:0}},t.abrupt("return",{data:r});case 9:return t.prev=9,t.t0=t["catch"](0),console.log("error",t.t0),t.next=14,Object(c["E"])(5e3);case 14:return t.next=16,E();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t,null,[[0,9]])}))),S.apply(this,arguments)}function L(){return C.apply(this,arguments)}function C(){return C=Object(a["a"])(Object(s["a"])().mark((function t(){var e,n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["a"])({url:"https://mempool.space/api/v1/fees/recommended",method:"get",data:{}});case 3:return e=t.sent,n={fast:{price:e.fastestFee,estimated_seconds:0},normal:{price:e.halfHourFee,estimated_seconds:0},slow:{price:e.hourFee,estimated_seconds:0}},t.abrupt("return",{data:n});case 8:return t.prev=8,t.t0=t["catch"](0),console.log("error"),t.next=13,Object(c["E"])(5e3);case 13:return t.next=15,L();case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}}),t,null,[[0,8]])}))),C.apply(this,arguments)}},e1b2:function(t,e,n){},ee96:function(t,e,n){},fa9a:function(t,e,n){"use strict";n("ee96")}}]);