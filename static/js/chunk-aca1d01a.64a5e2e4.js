(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aca1d01a"],{"06aca":function(t,e){const a=window.XMLHttpRequest;t.exports=a},"0d1e":function(t,e,a){var n=a("06aca");function r(t){if(!(this instanceof r))throw new Error('[ipfs-mini] IPFS instance must be instantiated with "new" flag (e.g. var ipfs = new IPFS("http://localhost:8545");).');var e=this;e.setProvider(t||{})}function s(){}function i(t){return new Promise(t)}function o(t){t(s,s)}function p(t){while(1){var e=`----IPFSMini${1e5*Math.random()}.${1e5*Math.random()}`;if(-1===t.indexOf(e))return e}}t.exports=r,r.prototype.setProvider=function(t){if("object"!==typeof t)throw new Error(`[ifpsjs] provider must be type Object, got '${typeof t}'.`);var e=this,a=e.provider=Object.assign({host:"127.0.0.1",pinning:!0,port:"5001",protocol:"http",base:"/api/v0"},t||{});e.requestBase=String(`${a.protocol}://${a.host}:${a.port}${a.base}`)},r.prototype.sendAsync=function(t,e){var a=this,r=new n,p=t||{};return(e?o:i)((function(n,i){function o(t,a){return(e||s)(t,p.takeHash&&a?a.Hash:a),t?i(t):!t&&a?n(p.takeHash?a.Hash:a):void 0}r.onreadystatechange=function(){if(4===r.readyState&&1!==r.timeout)if(200!==r.status)o(new Error(`[ipfs-mini] status ${r.status}: ${r.responseText}`),null);else try{o(null,p.jsonParse?JSON.parse(r.responseText):r.responseText)}catch(t){o(new Error(`[ipfs-mini] while parsing data: '${String(r.responseText)}', error: ${String(t)} with provider: '${a.requestBase}'`,null))}};try{var c=a.provider.pinning&&"/add"===t.uri?"?pin=true":"";p.payload?r.open("POST",`${a.requestBase}${t.uri}${c}`):r.open("GET",`${a.requestBase}${t.uri}${c}`),p.accept&&r.setRequestHeader("accept",p.accept),p.payload&&p.boundary?(r.setRequestHeader("Content-Type","multipart/form-data; boundary="+p.boundary),r.send(p.payload)):r.send()}catch(u){o(u,null)}}))},r.prototype.add=function(t,e){var a="object"===typeof t&&t.isBuffer?t.toString("binary"):t,n=p(a),r=`--${n}\r\nContent-Disposition: form-data; name="path"\r\nContent-Type: application/octet-stream\r\n\r\n${a}\r\n--${n}--`;return this.sendAsync({jsonParse:!0,accept:"application/json",uri:"/add",takeHash:!0,payload:r,boundary:n},e)},r.prototype.addJSON=function(t,e){var a=this;return a.add(JSON.stringify(t),e)},r.prototype.stat=function(t,e){var a=this;return a.sendAsync({jsonParse:!0,uri:"/object/stat/"+t},e)},r.prototype.cat=function(t,e){var a=this;return a.sendAsync({uri:"/cat/"+t},e)},r.prototype.catJSON=function(t,e){var a=this;return a.sendAsync({uri:"/cat/"+t,jsonParse:!0},e)}},a768:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{margin:"50px auto","text-align":"center",width:"80%","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(" "+t._s(t.$t("ipfs.alert_3"))+" "),a("br"),a("br"),a("el-upload",{staticClass:"upload-demo",attrs:{drag:"","on-success":t.onSuccess,"http-request":t.onCustomUpload,action:"https://127.0.0.1",multiple:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v(t._s(t.$t("ipfs.alert_1"))),a("em",[t._v(t._s(t.$t("ipfs.click_upload")))])])]),a("br"),a("el-alert",{attrs:{title:"your hash: "+t.hash,type:"success",effect:"dark"}})],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"Enter IPFS hash:"},model:{value:t.hash_input,callback:function(e){t.hash_input=e},expression:"hash_input"}}),a("br"),a("br"),a("el-button",{attrs:{type:"primary",round:""},on:{click:t.onGet}},[t._v("Get")]),a("br"),a("br"),a("el-input",{attrs:{type:"textarea",rows:10},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)])],1),a("el-divider",[t._v("Node")]),a("br"),a("el-alert",{attrs:{title:t.$t("ipfs.alert_2"),type:"info","show-icon":""}}),a("br"),a("ul",{staticStyle:{"list-style-type":"none"}},[a("li",[t._v("https://ipfs.io/ipfs/"+t._s(t.hash))]),a("li",[t._v("https://cloudflare-ipfs.com/ipfs/"+t._s(t.hash))]),a("li",[t._v("https://ipfs.infura.io:5001/api/v0/cat?arg="+t._s(t.hash))]),a("li",[t._v("https://gateway.ipfs.io/ipfs/"+t._s(t.hash))])])],1)},r=[],s=a("4833"),i=(a("6a61"),{zh:{ipfs:{alert_1:"将文件拖到此处，或",alert_2:"如果您的文件是图片，可以使用下面网址外链:",alert_3:"上传文件到IPFS文件系统",click_upload:"点击上传"}},en:{ipfs:{alert_1:"Drag the file here,Or",alert_2:"If you want to add this image as your image source, use this url:",alert_3:" Upload File to Interplanetary File System (IPFS)",click_upload:"Click upload"}}}),o=a("0d1e"),p=a.n(o),c=a("ed08"),u="ipfs",l={name:"Ipfs",data:function(){return{hash:"",hash_input:"",textarea:""}},created:function(){this.$i18n.getLocaleMessage("en")[u]||(this.$i18n.mergeLocaleMessage("en",i.en),this.$i18n.mergeLocaleMessage("zh",i.zh))},mounted:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(c["m"])();case 1:case"end":return t.stop()}}),t)})))()},methods:{onCustomUpload:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.cointoolIpfs.add(t.file,{cidVersion:1,pin:!0});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},onGet:function(){var t=this,e=new p.a({host:"ipfs.infura.io",port:5001,protocol:"https"});e.cat(this.hash_input,(function(e,a){t.textarea=a,t.hash=t.hash_input}))},onSuccess:function(t,e,a){this.hash=t.path,this.$message({message:"Success! Your hash:"+t.Hash,type:"success"})}}},h=l,d=a("5d22"),f=Object(d["a"])(h,n,r,!1,null,null,null);e["default"]=f.exports}}]);