(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e3bf55d"],{2564:function(e,t,a){"use strict";a("d823")},9427:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"container"},[e.isPc?t("img",{staticClass:"bg-img-left",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/inset/eth-gas-speed.png"}}):e._e(),e.isPc?t("img",{staticClass:"bg-img-right",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/inset/eth-gas-speed.png"}}):e._e(),t("div",{staticClass:"header"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"speed"}}),t("span",[e._v(e._s(e.$t("route.transactionSpeed")))])],1),t("TxSuccessDialog",{ref:"TxSuccessDialog",attrs:{type:e.actionTabs,tx:e.successTx,"chain-name":e.chainName}}),t("div",{staticClass:"otherLink"},[t("el-link",{staticClass:"linka",attrs:{type:"success",href:"https://tools.mempool.com/speed",target:"_blank"}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"bitcoin"}}),e._v(" "+e._s("BTC "+e.$t("route.transactionSpeed"))+" ")],1)],1),t("div",{staticClass:"card"},[e.isPc?t("Gas"):e._e(),t("div",{staticClass:"tabs"},[t("ul",[t("li",{class:{on:"speed"===e.actionTabs},on:{click:function(t){e.actionTabs="speed"}}},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".tx_speed"))))])]),t("li",{class:{on:"cancel"===e.actionTabs},on:{click:function(t){e.actionTabs="cancel"}}},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".tx_cancel"))))])])])]),t("div",{staticClass:"formContent"},[t("div",{staticClass:"formBox"},[t("span",{staticClass:"label"},[e._v("Nonce "),t("i",{staticClass:"el-icon-refresh-left lable-icon",on:{click:e.onRefreshNonce}})]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".some_wallet_plugins_ignore"))))]),t("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.nonce,callback:function(t){e.nonce=t},expression:"nonce"}})],1),t("div",{staticClass:"formBox"},[t("span",{staticClass:"label"},[e._v("Gas Price "),t("i",{staticClass:"el-icon-refresh-left lable-icon",on:{click:e.onRefreshGasPrice}})]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".override_original_gas")))+" ")]),t("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.gasPrice,callback:function(t){e.gasPrice=t},expression:"gasPrice"}})],1)]),"speed"===e.actionTabs?t("div",{staticClass:"formBox"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".enter_transaction_hash")))+" "),""!==e.form.hash?t("i",{staticClass:"el-icon-refresh-left lable-icon",on:{click:e.onRefreshTxInfo}}):e._e()]),t("el-input",{attrs:{placeholder:"0x....",clearable:""},on:{input:e.onChangeHash},model:{value:e.form.hash,callback:function(t){e.$set(e.form,"hash",t)},expression:"form.hash"}}),0===e.tx_find&&e.isLoadingTxData?t("div",{staticClass:"tips"},[t("i",{staticClass:"el-icon-loading icon green"}),t("span",{staticClass:"text green"},[e._v(e._s("Loading Tx hash data..."))])]):e._e(),1===e.tx_find?t("div",{staticClass:"tips"},[t("i",{staticClass:"el-icon-success icon green"}),t("span",{staticClass:"text green"},[e._v(e._s(e.$t("".concat(e.viewName,".transaction_found"))))])]):e._e(),2===e.tx_find?t("div",{staticClass:"tips"},[t("i",{staticClass:"el-icon-error icon red"}),t("span",{staticClass:"text red"},[e._v(e._s(e.$t("".concat(e.viewName,".transaction_not_found"))))])]):e._e(),e.transactionStatus?t("div",{staticClass:"tips"},[t("i",{staticClass:"el-icon-error icon red"}),t("span",{staticClass:"text red"},[e._v(e._s(e.$t("".concat(e.viewName,".transaction_online"))))])]):e._e(),""!==e.form.hash?t("a",{staticClass:"tips link",attrs:{target:"_blank",href:e.$ethUtils.getScanLink(parseInt(e.chainId),"tx",e.form.hash)}},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"etherscan"}}),t("span",{staticClass:"text green"},[e._v("Link")])],1):e._e()],1):e._e(),"speed"===e.actionTabs&&""!==e.form.to&&1===e.tx_find?t("div",{staticClass:"eleFormBox"},[t("el-form",{staticClass:"demo-eleFormBox",attrs:{model:e.form}},[t("el-form-item",{attrs:{prop:"to",label:"To"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.to,callback:function(t){e.$set(e.form,"to",t)},expression:"form.to"}})],1),t("el-form-item",{attrs:{prop:"gasLimit",label:"Gas Limit"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.gasLimit,callback:function(t){e.$set(e.form,"gasLimit",t)},expression:"form.gasLimit"}})],1),t("el-form-item",{attrs:{prop:"data",label:"Data"}},[t("el-input",{attrs:{type:"textarea",row:4,disabled:""},model:{value:e.form.data,callback:function(t){e.$set(e.form,"data",t)},expression:"form.data"}})],1),t("el-form-item",{attrs:{prop:"value",label:"Value"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1)],1):e._e(),t("div",{staticClass:"btnBox"},["cancel"===e.actionTabs?t("el-button",{attrs:{type:"success",size:"large",loading:e.cancelLoading},on:{click:e.cancelTransaction}},[t("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"cancel-transaction"}}),t("span",[e._v(e._s(e.$t("".concat(e.viewName,".tx_cancel"))))])],1):t("el-button",{attrs:{type:"success",size:"large",loading:e.speedLoading},on:{click:e.speedTransaction}},[t("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"speed"}}),t("span",[e._v(e._s(e.$t("".concat(e.viewName,".tx_speed"))))])],1)],1)],1)],1)},s=[],c=a("c7eb"),i=a("1da1"),r=a("5530"),o=a("f30b"),l=a("d2c8"),u=a("2f62"),p=a("4b79"),d=a("c039"),f=a.n(d),h=a("5ba3"),m=a("c0d8"),b=a.n(m),g=a("9ac7"),x="transactionSpeed",v={name:x,inject:[],components:{Gas:g["a"],TxSuccessDialog:o["a"]},data:function(){return{viewName:x,actionTabs:"speed",nonce:"",gasPrice:"",cancelLoading:!1,speedLoading:!1,web3:null,tx_find:0,chainName:"eth",form:{hash:"",to:"",gasLimit:"",data:"",value:""},transactionStatus:!1,txInfo:{},successTx:"",isLoadingTxData:!1}},computed:Object(r["a"])({},Object(u["b"])(["isConnect","account","chainId","isPc","language"])),watch:{chainId:{immediate:!0,handler:function(e){var t=this;return Object(i["a"])(Object(c["a"])().mark((function a(){var n;return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=parseInt(e),!(n>=1)){a.next=8;break}return t.web3=new b.a(t.$ethUtils.rpcNode(n)),a.next=5,t.web3.eth.getTransactionCount(t.account);case 5:return t.nonce=a.sent,a.next=8,t.onRefreshGasPrice();case 8:case"end":return a.stop()}}),a)})))()}},account:function(e){var t=this;return Object(i["a"])(Object(c["a"])().mark((function a(){return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.web3.eth.getTransactionCount(e);case 2:t.nonce=a.sent;case 3:case"end":return a.stop()}}),a)})))()}},created:function(){this.$i18n.getLocaleMessage("en")[x]||(this.$i18n.mergeLocaleMessage("en",p["a"].en),this.$i18n.mergeLocaleMessage("zh",p["a"].zh))},mounted:function(){return Object(i["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onRefreshTxInfo:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onChangeHash(e.form.hash);case 2:case"end":return t.stop()}}),t)})))()},onRefreshGasPrice:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){var a,n,s;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$ethUtils.chainIdToChainName(parseInt(e.chainId)),e.chainName=a,t.next=4,Object(l["c"])(a);case 4:n=t.sent,s=parseInt(n.data["fast"].price/1e9),e.gasPrice=s;case 7:case"end":return t.stop()}}),t)})))()},onRefreshNonce:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.web3.eth.getTransactionCount(e.account);case 2:e.nonce=t.sent;case 3:case"end":return t.stop()}}),t)})))()},onChangeHash:function(e){var t=this;return Object(i["a"])(Object(c["a"])().mark((function a(){var n,s;return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.tx_find=0,n=null,t.txInfo={},t.transactionStatus=!1,""!==e){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,t.web3.eth.getTransactionReceipt(e);case 8:return s=a.sent,console.log(s,"receipt"),t.transactionStatus=null!==s&&s.status,a.prev=11,t.isLoadingTxData=!0,a.next=15,t.web3.eth.getTransaction(e);case 15:n=a.sent,a.next=21;break;case 18:a.prev=18,a.t0=a["catch"](11),console.log(a.t0);case 21:return a.prev=21,t.isLoadingTxData=!1,a.finish(21);case 24:if(n){a.next=29;break}return t.tx_find=2,a.abrupt("return");case 29:t.tx_find=1;case 30:t.form=Object(r["a"])(Object(r["a"])({},t.form),{},{to:n.to,value:n.value,gasLimit:n.gas,data:n.input}),t.txInfo=n;case 32:case"end":return a.stop()}}),a,null,[[11,18,21,24]])})))()},speedTransaction:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){var a,n;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.nonce){t.next=3;break}return e.$message.error(e.$t("".concat(x,".nonce_cannot_be_empty"))),t.abrupt("return");case 3:if(""!==e.gasPrice){t.next=6;break}return e.$message.error(e.$t("".concat(x,".gas_price_cannot_be_empty"))),t.abrupt("return");case 6:if(1===e.tx_find&&""!==e.form.hash){t.next=9;break}return e.$message.error(e.$t("".concat(x,".missing_tx_info_get_again"))),t.abrupt("return");case 9:if(!e.transactionStatus){t.next=12;break}return e.$message.error(e.$t("".concat(x,".transaction_online"))),t.abrupt("return");case 12:return console.log(e.txInfo),a={from:e.txInfo.from,nonce:String(e.txInfo.nonce),to:e.txInfo.to,value:e.txInfo.value,gas:Object(h["toHex"])(e.txInfo.gas),gasPrice:Object(h["toHex"])(f.a.toWei(e.gasPrice,"gwei")),data:e.txInfo.input,chainId:e.txInfo.chainId},t.prev=14,e.speedLoading=!0,t.next=18,e.$ethUtils.sendTransaction(a);case 18:n=t.sent,n&&(e.successTx=n,e.$refs.TxSuccessDialog.show()),t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](14),e.$message.error(t.t0.message);case 25:return t.prev=25,e.speedLoading=!1,t.finish(25);case 28:case"end":return t.stop()}}),t,null,[[14,22,25,28]])})))()},cancelTransaction:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){var a,n;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cancelLoading=!0,a={from:e.account,nonce:e.web3.utils.toHex(e.nonce),to:e.account,value:"0",gasPrice:Object(h["toHex"])(f.a.toWei(e.gasPrice,"gwei"))},t.prev=2,t.next=5,e.$ethUtils.sendTransaction(a);case 5:n=t.sent,n&&(e.successTx=n,e.$refs.TxSuccessDialog.show()),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),e.$message.error(t.t0.message);case 12:return t.prev=12,e.cancelLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})))()}}},_=v,w=(a("2564"),a("2877")),C=Object(w["a"])(_,n,s,!1,null,"c0b0046e",null);t["default"]=C.exports},d823:function(e,t,a){}}]);