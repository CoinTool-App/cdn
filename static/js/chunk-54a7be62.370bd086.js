(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54a7be62"],{"20c2":function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"e",(function(){return A})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return T})),n.d(t,"k",(function(){return N})),n.d(t,"c",(function(){return U})),n.d(t,"a",(function(){return E})),n.d(t,"g",(function(){return S}));var a=n("5530"),r=n("c7eb"),c=n("1da1"),i=n("3835"),s=(n("d81d"),n("ac1f"),n("5319"),n("d9e2"),n("99af"),n("e9c4"),n("d3b7"),n("25f0"),n("159b"),n("4fad"),n("fb6a"),n("14d9"),n("00b4"),n("b64b"),n("a706")),o=n("4360"),f=n("901e"),u=n.n(f),d=n("399f"),l=n.n(d),b=n("2408"),p=n("ab3e"),m={address:"TON",symbol:"TON",name:"TON",decimals:9},h={address:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs",logo:"https://asset.ston.fi/img/EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs/340f3db98c63ed6329dee340ca55bb9e86f5e407a34538afe4327eb784f96a0f",symbol:"USDT",name:"Tether USD",decimals:6},A={address:"EQBynBO23ywHy_CgarY9NK9FTz0yDsG82PtcbSTQgGoXwiuA",logo:"https://asset.ston.fi/img/EQBynBO23ywHy_CgarY9NK9FTz0yDsG82PtcbSTQgGoXwiuA/9ab5955f640f6831920ab698faf2ff45e6f4a6540532bf52b59e404035659d8b",symbol:"jUSDT",name:"jUSDT",decimals:6},g={address:"EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM9c",logo:"https://asset.ston.fi/img/EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM9c/4ecd4687e0b5b8ff21a7fbe03f9d281c26a2dc13eac7b7d16048cc693fe0ec39",symbol:"TON",name:"TON",decimals:9},w=function(e){var t={BATCH_SWAP:"UQC2C1bnEozqaGnpuTYwM_bPmd00suFz2S2B9HZqdqpamnpF",CREATE:"UQC2C1bnEozqaGnpuTYwM_bPmd00suFz2S2B9HZqdqpamnpF",MINT:"UQC2C1bnEozqaGnpuTYwM_bPmd00suFz2S2B9HZqdqpamnpF",BURN:"UQC2C1bnEozqaGnpuTYwM_bPmd00suFz2S2B9HZqdqpamnpF",UPDATE_METADATA:"UQC2C1bnEozqaGnpuTYwM_bPmd00suFz2S2B9HZqdqpamnpF",BURN_ADMIN:"UQC2C1bnEozqaGnpuTYwM_bPmd00suFz2S2B9HZqdqpamnpF"};return t[e]||t["CREATE"]},y=function(e){var t={BATCH_SWAP:.05,CREATE:9.9,MINT:1,BURN:1,UPDATE_METADATA:1,BURN_ADMIN:1},n=o["a"].state.ton.tonNetwork;return"mainnet"===n?t[e]||.5:8e-4};function v(t){var n=new b["a"];return n.update(t),e.from(n.digestSync())}var C=new s["TonClient"]({endpoint:"https://s.1b.tc/888/ton"});function x(t){return t.map((function(t){var n=Object(i["a"])(t,2),a=n[0],r=n[1];switch(a){case"num":return new l.a(r.replace("0x",""),"hex");case"cell":return s["Cell"].fromBoc(e.from(r.bytes,"base64"))[0];case"list":if(0===r.elements.length)return null;throw new Error("list parsing not supported");default:throw new Error("unknown type: ".concat(a,", val: ").concat(JSON.stringify(r)))}}))}function O(e){return e.map((function(e){if(e instanceof s["Cell"])return["tvm.Slice",e.toBoc({idx:!1}).toString("base64")];if(e instanceof u.a)return["num",e.toString(10)];throw new Error("unknown type!")}))}function k(e){return j.apply(this,arguments)}function j(){return j=Object(c["a"])(Object(r["a"])().mark((function t(n){var i,s,o,f,u,d;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=n.beginParse(),s=function(){var e=Object(c["a"])(Object(r["a"])().mark((function e(t){var n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.readRemainingBytes().toString("ascii").replace("ipfs://","https://ipfs.io/ipfs/"),e.next=3,Object(p["a"])({url:n,method:"get",timeout:1e4});case 3:return e.t0=e.sent.data,e.t1=/(^|\/)ipfs[.:]/.test(n),e.abrupt("return",{metadata:e.t0,isIpfs:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var t=Object(c["a"])(Object(r["a"])().mark((function t(n){var a,c,i,s,o,f;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=function(e){return new l.a(e,"hex").toString(10)},c=256,i=!1,s=n.readDict(c,(function(t){var n=e.from(""),a=function t(n,a,r){if(n.toCell().beginParse(),r&&0!==n.readUint(8).toNumber())throw new Error("Only snake format is supported");return a=e.concat([a,n.readRemainingBytes()]),1===n.remainingRefs&&(a=t(n.readRef(),a,!1)),a};return 0===t.remainingRefs?(i=!0,a(t,n,!0)):a(t.readRef(),n,!0)})),o={},f={name:"utf8",description:"utf8",image:"ascii",decimals:"utf8",symbol:"utf8",image_data:void 0},Object.keys(f).forEach((function(e){var t,n=null===(t=s.get(a(v(e).toString("hex"))))||void 0===t?void 0:t.toString(f[e]);n&&(o[e]=n)})),t.abrupt("return",{metadata:o,isJettonDeployerFaultyOnChainData:i});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.t0=i.readUint(8).toNumber(),t.next=0===t.t0?6:1===t.t0?12:18;break;case 6:return t.t1=a["a"],t.t2={persistenceType:"onchain"},t.next=10,o(i);case 10:return t.t3=t.sent,t.abrupt("return",(0,t.t1)(t.t2,t.t3));case 12:return t.next=14,s(i);case 14:return f=t.sent,u=f.metadata,d=f.isIpfs,t.abrupt("return",{persistenceType:d?"offchain_ipfs":"offchain_private_domain",metadata:u});case 18:throw new Error("Unexpected jetton metadata content prefix");case 19:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function T(e,t,n,a){return _.apply(this,arguments)}function _(){return _=Object(c["a"])(Object(r["a"])().mark((function e(t,n,a,c){var i,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.callGetMethod(t,n,O(a));case 2:return i=e.sent,s=i.stack,e.abrupt("return",c(x(s)));case 5:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function N(){return Object(s["beginCell"])().storeUint(2,2).storeUint(0,1).storeUint(0,8).storeUint(0,256).endCell().beginParse().readAddress()}function U(e,t){return B.apply(this,arguments)}function B(){return B=Object(c["a"])(Object(r["a"])().mark((function e(t,n){var o,f,u,d,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(e){return e.beginParse().readAddress()},e.next=3,T(t,"get_jetton_data",[],function(){var e=Object(c["a"])(Object(r["a"])().mark((function e(t){var n,c,s,f;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(i["a"])(t,4),c=n[0],n[1],s=n[2],f=n[3],e.t0=a["a"],e.t1=a["a"],e.t2={},e.next=6,k(f);case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={admin:o(s),totalSupply:c},e.abrupt("return",(0,e.t0)(e.t4,e.t5,e.t6));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return f=e.sent,e.next=6,T(t,"get_wallet_address",[Object(s["beginCell"])().storeAddress(n).endCell()],(function(e){var t=Object(i["a"])(e,1),n=t[0];return o(n)}));case 6:return u=e.sent,e.next=9,C.isContractDeployed(u);case 9:if(d=e.sent,!d){e.next=16;break}return e.next=13,T(u,"get_wallet_data",[],(function(e){var t=Object(i["a"])(e,3),n=t[0],a=(t[1],t[2]);return{balance:n,jWalletAddress:u,jettonMasterAddress:o(a)}}));case 13:l=e.sent,e.next=17;break;case 16:l=null;case 17:return e.abrupt("return",{minter:f,jettonWallet:l});case 18:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function E(t){console.log(t,"data");var n=0,a=0,r={name:"utf8",description:"utf8",image:"ascii",decimals:"utf8",symbol:"utf8",image_data:void 0},c=256,o=Object(s["beginDict"])(c);return Object.entries(t).forEach((function(t){var n=Object(i["a"])(t,2),c=n[0],f=n[1];if(!r[c])throw new Error("Unsupported onchain key: ".concat(c));if(void 0!==f&&""!==f){var u=e.from(f,r[c]),d=Math.floor(1015/8),l=new s["Cell"];l.bits.writeUint8(a);var b=l;while(u.length>0)if(b.bits.writeBuffer(u.slice(0,d)),u=u.slice(d),u.length>0){var p=new s["Cell"];b.refs.push(p),b=p}o.storeRef(v(c),l)}})),console.log(3),Object(s["beginCell"])().storeInt(n,8).storeDict(o.endDict()).endCell()}function S(e,t,n,a){return Object(s["beginCell"])().storeUint(21,32).storeUint(a,64).storeAddress(e).storeCoins(n).storeRef(Object(s["beginCell"])().storeUint(395134233,32).storeUint(0,64).storeCoins(t).storeAddress(null).storeAddress(e).storeCoins(Object(s["toNano"])(.001)).storeBit(!1).endCell()).endCell()}}).call(this,n("1c35").Buffer)},2408:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("9ab4"),r=64,c=32,i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],o=Math.pow(2,53)-1,f=function(){function e(){this.state=Int32Array.from(s),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>o)throw new Error("Cannot hash more than 2^53 - 1 bits");while(n>0)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r>=r-8){for(var a=this.bufferLength;a<r;a++)t.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(a=this.bufferLength;a<r-8;a++)t.setUint8(a,0);t.setUint32(r-8,Math.floor(e/4294967296),!0),t.setUint32(r-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(c);for(a=0;a<8;a++)i[4*a]=this.state[a]>>>24&255,i[4*a+1]=this.state[a]>>>16&255,i[4*a+2]=this.state[a]>>>8&255,i[4*a+3]=this.state[a]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this,t=e.buffer,n=e.state,a=n[0],c=n[1],s=n[2],o=n[3],f=n[4],u=n[5],d=n[6],l=n[7],b=0;b<r;b++){if(b<16)this.temp[b]=(255&t[4*b])<<24|(255&t[4*b+1])<<16|(255&t[4*b+2])<<8|255&t[4*b+3];else{var p=this.temp[b-2],m=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[b-15];var h=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[b]=(m+this.temp[b-7]|0)+(h+this.temp[b-16]|0)}var A=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&u^~f&d)|0)+(l+(i[b]+this.temp[b]|0)|0)|0,g=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&s^c&s)|0;l=d,d=u,u=f,f=o+A|0,o=s,s=c,c=a,a=A+g|0}n[0]+=a,n[1]+=c,n[2]+=s,n[3]+=o,n[4]+=f,n[5]+=u,n[6]+=d,n[7]+=l},e}(),u=n("fec8");function d(e){return"string"===typeof e?0===e.length:0===e.byteLength}var l=function(){function e(e){this.secret=e,this.hash=new f,this.reset()}return e.prototype.update=function(e){if(!d(e)&&!this.error)try{this.hash.update(Object(u["a"])(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Object(a["__awaiter"])(this,void 0,void 0,(function(){return Object(a["__generator"])(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new f,this.secret){this.outer=new f;var e=b(this.secret),t=new Uint8Array(r);t.set(e);for(var n=0;n<r;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();function b(e){var t=Object(u["a"])(e);if(t.byteLength>r){var n=new f;n.update(t),t=n.digest()}var a=new Uint8Array(r);return a.set(t),a}},26:function(e,t){},"5b3b":function(e){e.exports=JSON.parse('{"hex":"b5ee9c72c1021101000323000000000d001200220027002c00700075007a00e8016801a801e2025e02af02b402bf0114ff00f4a413f4bcf2c80b010201620302001ba0f605da89a1f401f481f481a8610202cc0e0402012006050083d40106b90f6a2687d007d207d206a1802698fc1080bc6a28ca9105d41083deecbef09dd0958f97162e99f98fd001809d02811e428027d012c678b00e78b6664f6aa40201200c07020120090800d73b51343e803e903e90350c01f4cffe803e900c145468549271c17cb8b049f0bffcb8b08160824c4b402805af3cb8b0e0841ef765f7b232c7c572cfd400fe8088b3c58073c5b25c60063232c14933c59c3e80b2dab33260103ec01004f214013e809633c58073c5b3327b552002f73b51343e803e903e90350c0234cffe80145468017e903e9014d6f1c1551cdb5c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0327e401c1d3232c0b281f2fff274140371c1472c7cb8b0c2be80146a2860822625a019ad822860822625a028062849e5c412440e0dd7c138c34975c2c0600b0a007cc30023c200b08e218210d53276db708010c8cb055008cf165004fa0216cb6a12cb1f12cb3fc972fb0093356c21e203c85004fa0258cf1601cf16ccc9ed5400705279a018a182107362d09cc8cb1f5230cb3f58fa025007cf165007cf16c9718010c8cb0524cf165006fa0215cb6a14ccc971fb001024102301f1503d33ffa00fa4021f001ed44d0fa00fa40fa40d4305136a1522ac705f2e2c128c2fff2e2c254344270542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c920f9007074c8cb02ca07cbffc9d004fa40f40431fa0020d749c200f2e2c4778018c8cb055008cf1670fa0217cb6b13cc80d009e8210178d4519c8cb1f19cb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25008a813a08209c9c380a014bcf2e2c504c98040fb001023c85004fa0258cf1601cf16ccc9ed540201d4100f00113e910c1c2ebcb8536000c30831c02497c138007434c0c05c6c2544d7c0fc03383e903e900c7e800c5c75c87e800c7e800c1cea6d0000b4c7e08403e29fa954882ea54c4d167c0278208405e3514654882ea58c511100fc02b80d60841657c1ef2ea4d67c02f817c12103fcbc200475cc36"}')},"67ac":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("DaBox",{staticStyle:{"margin-bottom":"20px"},attrs:{list:["multiSender"]}}),e.isZh?t("div",{staticClass:"tips_err"},[t("p",[e._v("CoinTool不提供任何技术支持！")]),t("p",[e._v("已关闭创建代币功能，请勿用于违法活动!")])]):t("Card",{attrs:{icon:"coin-trx","is-show-code-view":!1,title:e.$t("route.tonCreateToken"),desc:e.$t("".concat(e.viewName,".pageDesc"))}},[e.txHash?t("div",{staticClass:"result"},[t("div",{staticClass:"returnBox"},[t("div",{staticClass:"iconBox",on:{click:function(t){e.txHash=""}}},[t("i",{staticClass:"el-icon-back icon"})])]),t("CreateFinish",{attrs:{"chain-id":"ton","view-name":"createToken","create-token-address":e.contractAddress,tx:e.txHash}})],1):t("div",{staticClass:"flexCenter"},[t("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":e.isPc?"left":"top",rules:e.rules,model:e.form,"label-width":"160px","label-suffix":":"}},[t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".tokenName")),prop:"tokenName"}},[t("el-input",{model:{value:e.form.tokenName,callback:function(t){e.$set(e.form,"tokenName",t)},expression:"form.tokenName"}})],1),t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".symbol")),prop:"symbol"}},[t("el-input",{model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".decimals")),prop:"decimals"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:1,max:9},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1),t("el-form-item",{attrs:{label:"Description",prop:"description"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),t("el-form-item",{attrs:{label:"Logo",prop:"image"}},[t("UploadImg",{attrs:{"img-url":e.form.image,height:"100px"},on:{"update:imgUrl":function(t){return e.$set(e.form,"image",t)},"update:img-url":function(t){return e.$set(e.form,"image",t)}}})],1),t("el-form-item",{attrs:{label:"Supply",prop:"supply"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:1},model:{value:e.form.supply,callback:function(t){e.$set(e.form,"supply",t)},expression:"form.supply"}})],1),t("el-form-item",{staticClass:"btnBox"},[t("el-alert",{staticStyle:{"line-height":"18px","margin-bottom":"10px"},attrs:{title:e.$t("".concat(e.viewName,".ton_admin_tips")),type:"info",closable:!1}}),t("el-button",{staticClass:"item-btn",attrs:{loading:e.loading,size:"medium",type:"primary"},on:{click:e.onCreatToken}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".createBtn")))+" ")]),e.createFee>0?t("p",{staticClass:"feeTips"},[e._v("Fees: "+e._s(e.createFee)+" TON")]):e._e()],1)],1)],1)])],1)},r=[],c=n("af35"),i=c["a"],s=(n("d2c5d"),n("2877")),o=Object(s["a"])(i,a,r,!1,null,"a7e359dc",null);t["default"]=o.exports},9911:function(e,t,n){"use strict";var a=n("23e7"),r=n("857a"),c=n("af03");a({target:"String",proto:!0,forced:c("link")},{link:function(e){return r(this,"a","href",e)}})},"9e7f":function(e){e.exports=JSON.parse('{"hex":"b5ee9c72c1020d0100029c000000000d00120018002a006b007000bc0139018f02110218027b0114ff00f4a413f4bcf2c80b01020162050202037a600403001faf16f6a2687d007d206a6a183faa9040007dadbcf6a2687d007d206a6a183618fc1400b82a1009aa0a01e428027d012c678b00e78b666491646580897a007a00658064fc80383a6465816503e5ffe4e8400202cc07060093b5f0508806e0a84026a8280790a009f404b19e2c039e2d99924591960225e801e80196019241f200e0e9919605940f97ff93a0ef003191960ab19e2ca009f4042796d625999992e3f60102f1d906380492f81f000e8698180b8d8492f81f07d207d2018fd0018b8eb90fd0018fd001801698fe99ff6a2687d007d206a6a18400aa9385d47199a9a9b1b289a6382f97024817d207d006a18106840306b90fd001812881a282178050a502819e428027d012c678b666664f6aa7041083deecbef29385d718140b0801a682102c76b9735270bae30235373723c0038e1a335035c705f2e04903fa403059c85004fa0258cf16ccccc9ed54e03502c0048e185124c705f2e049d4304300c85004fa0258cf16ccccc9ed54e05f05840ff2f00901fe365f03820898968015a015bcf2e04b02fa40d3003095c821cf16c9916de28210d1735400708018c8cb055005cf1624fa0214cb6a13cb1f14cb3f23fa443070ba8e33f828440370542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c9f9007074c8cb02ca07cbffc9d0cf16966c227001cb01e2f4000a000ac98040fb0001c036373701fa00fa40f82854120670542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c9f9007074c8cb02ca07cbffc9d05006c705f2e04aa1034545c85004fa0258cf16ccccc9ed5401fa403020d70b01c300915be30d0c003e8210d53276db708010c8cb055003cf1622fa0212cb6acb1fcb3fc98042fb002eedfd83"}')},af35:function(e,t,n){"use strict";(function(e){var a=n("3835"),r=n("c7eb"),c=n("1da1"),i=n("5530"),s=(n("a9e3"),n("b680"),n("a4d3"),n("e01a"),n("d9e2"),n("d3b7"),n("25f0"),n("6bec")),o=n("2f62"),f=n("dada"),u=n("12f9"),d=n("75c1"),l=n("ed08"),b=n("3d657"),p=n("901e"),m=n.n(p),h=n("399f"),A=n.n(h),g=n("9e7f"),w=n("5b3b"),y=n("1ee7"),v=n.n(y),C=n("20c2"),x=n("a706"),O="tonCreateToken",k="createToken";t["a"]={name:k,inject:["tonWalletStateTest"],components:{CreateFinish:d["a"],UploadImg:s["a"],DaBox:b["a"],Card:u["a"]},data:function(){return{viewName:O,tx_status:!1,loading:!1,rules:{},createFee:0,tonweb:null,tonweb1:null,nativeToken:{},contractAddress:"",txHash:"",form:{canMint:"0",tokenName:"Luck Coin",symbol:"",description:"",image:"",supply:"21000000",adminAddress:"",recipient:"",owner:"",decimals:9}}},computed:Object(i["a"])({},Object(o["b"])(["isConnect","tonAccount","tonNetwork","tonClient","navigatorLanguage","isZh","isPc"])),watch:{tonAccount:function(e){this.init()}},created:function(){this.$i18n.getLocaleMessage("en")[O]||(this.$i18n.mergeLocaleMessage("en",f["a"].en),this.$i18n.mergeLocaleMessage("zh",f["a"].zh)),this.rules={tokenName:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],symbol:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],decimals:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],supply:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],image:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},mounted:function(){return Object(c["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.createFee=Object(C["d"])("CREATE"),e.nativeToken=C["h"],e.tonweb=new v.a(new v.a.HttpProvider("https://ton.access.orbs.network/44A2c0ff5Bd3F8B62C092Ab4D238bEE463E644A2/1/mainnet/toncenter-api-v2/jsonRPC")),e.tonweb1=new x["TonClient"]({endpoint:"https://ton.access.orbs.network/44A2c0ff5Bd3F8B62C092Ab4D238bEE463E644A2/1/mainnet/toncenter-api-v2/jsonRPC"});case 4:case"end":return t.stop()}}),t)})))()},onCreatToken:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var c,i,s,o,f,u,d,l,b,p,h,y,O,k,j,T;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs["form"].validate();case 2:return n.next=4,t.tonWalletStateTest();case 4:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:return t.loading=!0,n.prev=7,n.next=10,t.tonweb.getBalance(t.tonAccount);case 10:if(o=n.sent,f=v.a.utils.fromNano(o),!(Number(f)<Number(t.createFee))){n.next=16;break}return t.$msgbox({title:t.$t("common.balance_lack_title"),type:"warning",dangerouslyUseHTMLString:!0,message:t.$t("common.balance_lack_content",{address:t.tonAccount,amount:t.createFee,symbol:t.nativeToken.symbol}),confirmButtonText:t.$t("common.confirm")}),t.loading=!1,n.abrupt("return");case 16:return u=9,d=function(e,t){return new A.a(new m.a(e).times(Math.pow(10,t)).toFixed(0))},l={owner:x["Address"].parse(t.tonAccount),onchainMetaData:{name:t.form.tokenName,symbol:t.form.symbol,image:t.form.image,description:t.form.description,decimals:String(parseInt(t.form.decimals))},offchainUri:null===(c=t.form)||void 0===c?void 0:c.offchainUri,amountToMint:d(t.form.supply,null!==(i=parseInt(t.form.decimals))&&void 0!==i?i:u)},b=Object(x["toNano"])(.25),p=1,h=function(t){return Object(x["beginCell"])().storeInt(p,8).storeBuffer(e.from(t,"ascii")).endCell()},y=function(e,t,n){var a=x["Cell"].fromBoc(w.hex)[0];if(!t&&!n)throw new Error("Must either specify onchain data or offchain uri");return Object(x["beginCell"])().storeCoins(0).storeAddress(e).storeRef(n?h(n):Object(C["a"])(t)).storeRef(a).endCell()},O=function(e,t){var n=parseInt("0"),a=x["Cell"].fromBoc(g.hex)[0];return{code:a,data:y(e.owner,e.onchainMetaData,t),deployer:e.owner,value:b,message:Object(C["g"])(e.owner,e.amountToMint,Object(x["toNano"])(.2),n)}},k=O(l,null===(s=t.form)||void 0===s?void 0:s.offchainUri),j=Object(x["contractAddress"])({workchain:0,initialData:k.data,initialCode:k.code}),t.contractAddress=x["Address"].normalize(j),console.log(t.contractAddress,"this.contractAddress"),n.next=30,t.tonweb1.isContractDeployed(j);case 30:if(!n.sent){n.next=33;break}n.next=37;break;case 33:return n.next=35,t.deployContract(j,k);case 35:return n.next=37,t.waitForContractDeploy(j);case 37:return n.next=39,Object(C["f"])(j,"get_wallet_address",[Object(x["beginCell"])().storeAddress(l.owner).endCell()],(function(e){var t=Object(a["a"])(e,1),n=t[0];return n.beginParse().readAddress()}));case 39:return T=n.sent,n.next=42,t.waitForContractDeploy(T);case 42:t.txHash=t.contractAddress,n.next=49;break;case 45:n.prev=45,n.t0=n["catch"](7),console.log("error",n.t0),t.$message.error(n.t0);case 49:return n.prev=49,t.loading=!1,n.finish(49);case 52:case"end":return n.stop()}}),n,null,[[7,45,49,52]])})))()},waitForContractDeploy:function(e){var t=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var a,c;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=!1,c=25;case 2:if(a||!(c>0)){n.next=18;break}return c--,n.prev=4,n.next=7,t.tonweb1.isContractDeployed(e);case 7:a=n.sent,n.next=12;break;case 10:n.prev=10,n.t0=n["catch"](4);case 12:if(!a){n.next=14;break}return n.abrupt("return");case 14:return n.next=16,Object(l["G"])(5e3);case 16:n.next=2;break;case 18:throw new Error("Timeout");case 19:case"end":return n.stop()}}),n,null,[[4,10]])})))()},deployContract:function(e,t){var n=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var c,i,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(c=new x["Cell"],new x["StateInit"]({data:t.data,code:t.code}).writeTo(c),t.dryRun){a.next=6;break}return s={validUntil:Date.now()+3e5,messages:[{address:e.toString(),amount:t.value.toString(),stateInit:c.toBoc().toString("base64"),payload:null===(i=t.message)||void 0===i?void 0:i.toBoc().toString("base64")},{address:Object(C["b"])("CREATE"),amount:new m.a(v.a.utils.toNano(String(Object(C["d"])("CREATE")))).toFixed(0)}]},a.next=6,n.tonClient.sendTransaction(s);case 6:return a.abrupt("return",e);case 7:case"end":return a.stop()}}),a)})))()},transfer:function(e,t,n){var a=this;return Object(c["a"])(Object(r["a"])().mark((function c(){var i,s;return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=function(e,t,n){return Object(x["beginCell"])().storeUint(260734629,32).storeUint(1,64).storeCoins(n).storeAddress(e).storeAddress(t).storeBit(!1).storeCoins(Object(x["toNano"])(.001)).storeBit(!1).endCell()},s={validUntil:Date.now()+3e5,messages:[{address:n,amount:Object(x["toNano"])(.05).toString(),stateInit:void 0,payload:i(x["Address"].parse(t),x["Address"].parse(a.tonAccount),e).toBoc().toString("base64")}]},r.next=4,a.tonClient.sendTransaction(s);case 4:case"end":return r.stop()}}),c)})))()}}}}).call(this,n("1c35").Buffer)},bfc5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>(new TextEncoder).encode(e)},d2c5d:function(e,t,n){"use strict";n("dd16")},dada:function(e,t,n){"use strict";t["a"]={zh:{tonCreateToken:{tokenName:"代币名称",tokenNameValidate:"请输入代币名称",symbol:"缩写符号",symbolValidate:"请输入缩写符号",initialSupply:"发行数量",initialSupplyValidate:"请输入发行数量",decimals:"小数位数(1-9)",give_up_ownership:"放弃所有权",decimalsValidate:"请输入小数位数",config:"其他配置",createBtn:"立即创建",success:"代币创建成功，请前往区块浏览器或钱包查看！",pageDesc:"简单、快速、便捷",adminAddress:"管理员地址",mintAuthority:"增发权限地址",freezeAuthority:"冻结权限地址",ton_admin_tips:"你可以在 Admin panel 进行管理 Mint，Burn，以及管理Token所有权。"}},en:{tonCreateToken:{tokenName:"Token Name",tokenNameValidate:"Please enter token name",symbol:"Symbol",symbolValidate:"Please enter symbol",initialSupply:"Initial Supply",initialSupplyValidate:"Please enter initial supply",decimals:"Decimals(1-9)",give_up_ownership:"Give up ownership",decimalsValidate:"Please enter decimals",adminAddress:"Admin Address",mintAuthority:"Mint authority",freezeAuthority:"Freeze authority",config:"Other Config",createBtn:"Create Token",success:"Token created successfully, please go to the block browser or wallet to check!",pageDesc:"Simple, fast and easy to create Starknet Token. supports Admin panel. helps you to start your project quickly.",ton_admin_tips:"You can manage Mint, Burn, and Token ownership in the Admin panel."}}}},dd16:function(e,t,n){},fec8:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n("bfc5"),r="undefined"!==typeof e&&e.from?function(t){return e.from(t,"utf8")}:a["a"];function c(e){return e instanceof Uint8Array?e:"string"===typeof e?r(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}).call(this,n("1c35").Buffer)}}]);