(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bbbc33d"],{"0c35":function(e,t,a){},"0c356":function(e,t,a){"use strict";a("0c35")},"20c2":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o}));var n={address:"TON",symbol:"TON",name:"TON",decimals:9},r={address:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs",symbol:"USDT",name:"Tether USD",decimals:6},c={address:"EQBynBO23ywHy_CgarY9NK9FTz0yDsG82PtcbSTQgGoXwiuA",symbol:"jUSDT",name:"jUSDT",decimals:6},o={createToken_fees_address:{mainnet:"UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB"},createToken_fees:{mainnet:9.9}}},55:function(e,t){},"5b3b":function(e){e.exports=JSON.parse('{"hex":"b5ee9c72c1021101000323000000000d001200220027002c00700075007a00e8016801a801e2025e02af02b402bf0114ff00f4a413f4bcf2c80b010201620302001ba0f605da89a1f401f481f481a8610202cc0e0402012006050083d40106b90f6a2687d007d207d206a1802698fc1080bc6a28ca9105d41083deecbef09dd0958f97162e99f98fd001809d02811e428027d012c678b00e78b6664f6aa40201200c07020120090800d73b51343e803e903e90350c01f4cffe803e900c145468549271c17cb8b049f0bffcb8b08160824c4b402805af3cb8b0e0841ef765f7b232c7c572cfd400fe8088b3c58073c5b25c60063232c14933c59c3e80b2dab33260103ec01004f214013e809633c58073c5b3327b552002f73b51343e803e903e90350c0234cffe80145468017e903e9014d6f1c1551cdb5c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0327e401c1d3232c0b281f2fff274140371c1472c7cb8b0c2be80146a2860822625a019ad822860822625a028062849e5c412440e0dd7c138c34975c2c0600b0a007cc30023c200b08e218210d53276db708010c8cb055008cf165004fa0216cb6a12cb1f12cb3fc972fb0093356c21e203c85004fa0258cf1601cf16ccc9ed5400705279a018a182107362d09cc8cb1f5230cb3f58fa025007cf165007cf16c9718010c8cb0524cf165006fa0215cb6a14ccc971fb001024102301f1503d33ffa00fa4021f001ed44d0fa00fa40fa40d4305136a1522ac705f2e2c128c2fff2e2c254344270542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c920f9007074c8cb02ca07cbffc9d004fa40f40431fa0020d749c200f2e2c4778018c8cb055008cf1670fa0217cb6b13cc80d009e8210178d4519c8cb1f19cb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25008a813a08209c9c380a014bcf2e2c504c98040fb001023c85004fa0258cf1601cf16ccc9ed540201d4100f00113e910c1c2ebcb8536000c30831c02497c138007434c0c05c6c2544d7c0fc03383e903e900c7e800c5c75c87e800c7e800c1cea6d0000b4c7e08403e29fa954882ea54c4d167c0278208405e3514654882ea58c511100fc02b80d60841657c1ef2ea4d67c02f817c12103fcbc200475cc36"}')},"67ac":function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("DaBox",{staticStyle:{"margin-bottom":"20px"},attrs:{list:["multiSender"]}}),e.isZh?t("div",{staticClass:"tips_err"},[t("p",[e._v("CoinTool不提供任何技术支持！")]),t("p",[e._v("已关闭创建代币功能，请勿用于违法活动!")])]):t("Card",{attrs:{icon:"coin-trx","is-show-code-view":!1,title:e.$t("route.tonCreateToken"),desc:e.$t("".concat(e.viewName,".pageDesc"))}},[e.txHash?t("div",{staticClass:"result"},[t("div",{staticClass:"returnBox"},[t("div",{staticClass:"iconBox",on:{click:function(t){e.txHash=""}}},[t("i",{staticClass:"el-icon-back icon"})])]),t("CreateFinish",{attrs:{"chain-id":"ton","view-name":"createToken","create-token-address":e.contractAddress,tx:e.txHash}})],1):t("div",{staticClass:"flexCenter"},[t("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":e.isPc?"left":"top",rules:e.rules,model:e.form,"label-width":"160px","label-suffix":":"}},[t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".tokenName")),prop:"tokenName"}},[t("el-input",{model:{value:e.form.tokenName,callback:function(t){e.$set(e.form,"tokenName",t)},expression:"form.tokenName"}})],1),t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".symbol")),prop:"symbol"}},[t("el-input",{model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".decimals")),prop:"decimals"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:0,max:18},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1),t("el-form-item",{attrs:{label:"Description",prop:"description"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),t("el-form-item",{attrs:{label:"Logo",prop:"image"}},[t("UploadImg",{attrs:{"img-url":e.form.image,height:"100px"},on:{"update:imgUrl":function(t){return e.$set(e.form,"image",t)},"update:img-url":function(t){return e.$set(e.form,"image",t)}}})],1),t("el-form-item",{attrs:{label:"Supply",prop:"supply"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:1},model:{value:e.form.supply,callback:function(t){e.$set(e.form,"supply",t)},expression:"form.supply"}})],1),t("el-form-item",{attrs:{label:"Can Mint?",prop:"canMint"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:e.form.canMint,callback:function(t){e.$set(e.form,"canMint",t)},expression:"form.canMint"}},[t("el-radio",{attrs:{value:"0",label:"0",border:""}},[e._v("YES")]),t("el-radio",{attrs:{value:"1",label:"1",border:""}},[e._v("NO")])],1),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:"0"===e.form.canMint,expression:"form.canMint === '0'"}],staticStyle:{"line-height":"18px","margin-top":"10px"},attrs:{title:e.$t("".concat(e.viewName,".mint_tips1")),type:"info",closable:!1}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:"1"===e.form.canMint,expression:"form.canMint === '1'"}],staticStyle:{"line-height":"18px","margin-top":"10px"},attrs:{title:e.$t("".concat(e.viewName,".mint_tips2")),type:"info",closable:!1}})],1),t("el-form-item",{staticClass:"btnBox"},[t("el-button",{staticClass:"item-btn",attrs:{loading:e.loading,size:"medium",type:"primary"},on:{click:e.onCreatToken}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".createBtn")))+" ")]),e.createFee>0?t("p",{staticClass:"feeTips"},[e._v("Fees: "+e._s(e.createFee)+" ETH")]):e._e()],1)],1)],1)])],1)},r=[],c=a("af35"),o=c["a"],s=(a("0c356"),a("2877")),i=Object(s["a"])(o,n,r,!1,null,"e9208ba8",null);t["default"]=i.exports},"9e7f":function(e){e.exports=JSON.parse('{"hex":"b5ee9c72c1020d0100029c000000000d00120018002a006b007000bc0139018f02110218027b0114ff00f4a413f4bcf2c80b01020162050202037a600403001faf16f6a2687d007d206a6a183faa9040007dadbcf6a2687d007d206a6a183618fc1400b82a1009aa0a01e428027d012c678b00e78b666491646580897a007a00658064fc80383a6465816503e5ffe4e8400202cc07060093b5f0508806e0a84026a8280790a009f404b19e2c039e2d99924591960225e801e80196019241f200e0e9919605940f97ff93a0ef003191960ab19e2ca009f4042796d625999992e3f60102f1d906380492f81f000e8698180b8d8492f81f07d207d2018fd0018b8eb90fd0018fd001801698fe99ff6a2687d007d206a6a18400aa9385d47199a9a9b1b289a6382f97024817d207d006a18106840306b90fd001812881a282178050a502819e428027d012c678b666664f6aa7041083deecbef29385d718140b0801a682102c76b9735270bae30235373723c0038e1a335035c705f2e04903fa403059c85004fa0258cf16ccccc9ed54e03502c0048e185124c705f2e049d4304300c85004fa0258cf16ccccc9ed54e05f05840ff2f00901fe365f03820898968015a015bcf2e04b02fa40d3003095c821cf16c9916de28210d1735400708018c8cb055005cf1624fa0214cb6a13cb1f14cb3f23fa443070ba8e33f828440370542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c9f9007074c8cb02ca07cbffc9d0cf16966c227001cb01e2f4000a000ac98040fb0001c036373701fa00fa40f82854120670542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c9f9007074c8cb02ca07cbffc9d05006c705f2e04aa1034545c85004fa0258cf16ccccc9ed5401fa403020d70b01c300915be30d0c003e8210d53276db708010c8cb055003cf1622fa0212cb6acb1fcb3fc98042fb002eedfd83"}')},af35:function(e,t,a){"use strict";(function(e){var n=a("3835"),r=a("c7eb"),c=a("1da1"),o=a("5530"),s=(a("b680"),a("d3b7"),a("25f0"),a("ac1f"),a("00b4"),a("99af"),a("a4d3"),a("e01a"),a("b0c0"),a("a9e3"),a("d9e2"),a("159b"),a("4fad"),a("fb6a"),a("14d9"),a("d81d"),a("5319"),a("e9c4"),a("b64b"),a("6bec")),i=a("2f62"),d=a("dada"),l=a("12f9"),f=a("75c1"),u=a("ed08"),b=a("3d657"),m=a("901e"),p=a.n(m),g=a("399f"),h=a.n(g),w=a("9e7f"),v=a("5b3b"),x=a("1ee7"),y=a.n(x),C=a("20c2"),O=a("a706"),k=a("2408"),j="tonCreateToken",T="createToken";t["a"]={name:T,inject:["tonWalletStateTest"],components:{CreateFinish:f["a"],UploadImg:s["a"],DaBox:b["a"],Card:l["a"]},data:function(){return{viewName:j,tx_status:!1,loading:!1,rules:{},createFee:0,tonweb:null,tonweb1:null,nativeToken:{},contractAddress:"",txHash:"",form:{canMint:"0",tokenName:"Luck Coin",symbol:"",description:"",image:"",supply:"21000000",adminAddress:"",recipient:"",owner:"",decimals:9}}},computed:Object(o["a"])({},Object(i["b"])(["isConnect","tonAccount","tonNetwork","tonClient","navigatorLanguage","isZh","isPc"])),watch:{tonAccount:function(e){this.init()}},created:function(){this.$i18n.getLocaleMessage("en")[j]||(this.$i18n.mergeLocaleMessage("en",d["a"].en),this.$i18n.mergeLocaleMessage("zh",d["a"].zh)),this.rules={tokenName:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],symbol:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],decimals:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],supply:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],image:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},mounted:function(){return Object(c["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var n,c,o,s,i,d,l,f,u,b;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.createFee=new p.a(C["c"]["createToken_fees"][t.tonNetwork]).toFixed(),t.nativeToken=C["b"],t.tonweb=new y.a(new y.a.HttpProvider("https://ton.access.orbs.network/44A2c0ff5Bd3F8B62C092Ab4D238bEE463E644A2/1/mainnet/toncenter-api-v2/jsonRPC")),t.tonweb1=new O["TonClient"]({endpoint:"https://ton.access.orbs.network/44A2c0ff5Bd3F8B62C092Ab4D238bEE463E644A2/1/mainnet/toncenter-api-v2/jsonRPC"}),a.next=6,t.getJettonDetails("EQBrk7LoUEX7d6CAV_vKNnaVmCn1KuVGTU7iQcDZ_MBujous",t.tonAccount?O["Address"].parse(t.tonAccount):t.zeroAddress());case 6:l=a.sent,f=l.minter.admin.toFriendly(),console.log("管理员地址",f),null!==(n=l.minter.metadata)&&void 0!==n&&n.image&&console.log("logo url",l.minter.metadata.image),null!==(c=l.minter.metadata)&&void 0!==c&&c.image_data&&(console.log("logo base64",l.minter.metadata.image_data),u=e.from(l.minter.metadata.image_data,"base64").toString(),/<svg xmlns/.test(u)?b="svg+xml":/png/i.test(u)?b="png":(console.warn("Defaulting to jpeg"),b="jpeg"),"data:image/".concat(b,";base64,").concat(l.minter.metadata.image_data)),console.log("描述",null===(o=l.minter.metadata)||void 0===o?void 0:o.description),console.log("name",null===(s=l.minter.metadata)||void 0===s?void 0:s.name),console.log("symbol",null===(i=l.minter.metadata)||void 0===i?void 0:i.symbol),console.log("decimals",(null===(d=l.minter.metadata)||void 0===d?void 0:d.decimals)||"9");case 15:case"end":return a.stop()}}),a)})))()},onCreatToken:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var c,o,s,i,d,l,f,u,b,m,g,x,C,k,j,T;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$refs["form"].validate();case 2:return a.next=4,t.tonWalletStateTest();case 4:if(a.sent){a.next=6;break}return a.abrupt("return");case 6:return t.loading=!0,a.prev=7,a.next=10,t.tonweb.getBalance(t.tonAccount);case 10:if(i=a.sent,d=y.a.utils.fromNano(i),!(Number(d)<Number(t.createFee))){a.next=16;break}return t.$msgbox({title:t.$t("common.balance_lack_title"),type:"warning",dangerouslyUseHTMLString:!0,message:t.$t("common.balance_lack_content",{address:t.tonAccount,amount:t.createFee,symbol:t.nativeToken.symbol}),confirmButtonText:t.$t("common.confirm")}),t.loading=!1,a.abrupt("return");case 16:return console.log(t.tonClient,"tonClient"),l=9,f=function(e,t){return new h.a(new p.a(e).times(Math.pow(10,t)).toFixed(0))},u={owner:O["Address"].parse(t.tonAccount),onchainMetaData:{name:t.form.tokenName,symbol:t.form.symbol,image:t.form.image,description:t.form.description,decimals:String(parseInt(t.form.decimals))},offchainUri:null===(c=t.form)||void 0===c?void 0:c.offchainUri,amountToMint:f(t.form.supply,null!==(o=parseInt(t.form.decimals))&&void 0!==o?o:l)},b=Object(O["toNano"])(.25),m=1,g=function(t){return Object(O["beginCell"])().storeInt(m,8).storeBuffer(e.from(t,"ascii")).endCell()},x=function(e,t,a){var n=O["Cell"].fromBoc(v.hex)[0];if(!t&&!a)throw new Error("Must either specify onchain data or offchain uri");return Object(O["beginCell"])().storeCoins(0).storeAddress(e).storeRef(a?g(a):this.buildJettonOnchainMetadata(t)).storeRef(n).endCell()},C=t,k=function(e,t){var a=parseInt("0"),n=O["Cell"].fromBoc(w.hex)[0];return{code:n,data:x(e.owner,e.onchainMetaData,t),deployer:e.owner,value:b,message:C.mintBody(e.owner,e.amountToMint,Object(O["toNano"])(.2),a)}},j=k(u,null===(s=t.form)||void 0===s?void 0:s.offchainUri),t.contractAddress=Object(O["contractAddress"])({workchain:0,initialData:j.data,initialCode:j.code}),a.next=30,t.tonweb1.isContractDeployed(t.contractAddress);case 30:if(!a.sent){a.next=33;break}a.next=37;break;case 33:return a.next=35,t.deployContract(t.contractAddress,j);case 35:return a.next=37,t.waitForContractDeploy(t.contractAddress);case 37:return a.next=39,t.makeGetCall(t.contractAddress,"get_wallet_address",[Object(O["beginCell"])().storeAddress(u.owner).endCell()],(function(e){var t=Object(n["a"])(e,1),a=t[0];return a.beginParse().readAddress()}));case 39:return T=a.sent,a.next=42,t.waitForContractDeploy(T);case 42:t.txHash="0xhash",a.next=49;break;case 45:a.prev=45,a.t0=a["catch"](7),console.log("error",a.t0),t.$message.error(a.t0);case 49:return a.prev=49,t.loading=!1,a.finish(49);case 52:case"end":return a.stop()}}),a,null,[[7,45,49,52]])})))()},sha256:function(t){var a=new k["a"];return a.update(t),e.from(a.digestSync())},buildJettonOnchainMetadata:function(t){var a=this,r=0,c=0,o={name:"utf8",description:"utf8",image:"ascii",decimals:"utf8",symbol:"utf8",image_data:void 0},s=256,i=Object(O["beginDict"])(s);return Object.entries(t).forEach((function(t){var r=Object(n["a"])(t,2),s=r[0],d=r[1];if(!o[s])throw new Error("Unsupported onchain key: ".concat(s));if(void 0!==d&&""!==d){var l=e.from(d,o[s]),f=Math.floor(1015/8),u=new O["Cell"];u.bits.writeUint8(c);var b=u;while(l.length>0)if(b.bits.writeBuffer(l.slice(0,f)),l=l.slice(f),l.length>0){var m=new O["Cell"];b.refs.push(m),b=m}i.storeRef(a.sha256(s),u)}})),Object(O["beginCell"])().storeInt(r,8).storeDict(i.endDict()).endCell()},_prepareParams:function(e){return e.map((function(e){if(e instanceof O["Cell"])return["tvm.Slice",e.toBoc({idx:!1}).toString("base64")];if(e instanceof p.a)return["num",e.toString(10)];throw new Error("unknown type!")}))},_parseGetMethodCall:function(t){return t.map((function(t){var a=Object(n["a"])(t,2),r=a[0],c=a[1];switch(r){case"num":return new h.a(c.replace("0x",""),"hex");case"cell":return O["Cell"].fromBoc(e.from(c.bytes,"base64"))[0];case"list":if(0===c.elements.length)return null;throw new Error("list parsing not supported");default:throw new Error("unknown type: ".concat(r,", val: ").concat(JSON.stringify(c)))}}))},makeGetCall:function(e,t,a,n){var o=this;return Object(c["a"])(Object(r["a"])().mark((function c(){var s,i;return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,o.tonweb1.callGetMethod(e,t,o._prepareParams(a));case 2:return s=r.sent,i=s.stack,r.abrupt("return",n(o._parseGetMethodCall(i)));case 5:case"end":return r.stop()}}),c)})))()},waitForContractDeploy:function(e){var t=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var n,c;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=!1,c=25;case 2:if(n||!(c>0)){a.next=18;break}return c--,a.prev=4,a.next=7,t.tonweb1.isContractDeployed(e);case 7:n=a.sent,a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](4);case 12:if(!n){a.next=14;break}return a.abrupt("return");case 14:return a.next=16,Object(u["F"])(5e3);case 16:a.next=2;break;case 18:throw new Error("Timeout");case 19:case"end":return a.stop()}}),a,null,[[4,10]])})))()},deployContract:function(e,t){var a=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var c,o,s;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(c=new O["Cell"],new O["StateInit"]({data:t.data,code:t.code}).writeTo(c),t.dryRun){n.next=6;break}return s={validUntil:Date.now()+3e5,messages:[{address:e.toString(),amount:t.value.toString(),stateInit:c.toBoc().toString("base64"),payload:null===(o=t.message)||void 0===o?void 0:o.toBoc().toString("base64")},{address:"UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB",amount:new p.a(y.a.utils.toNano(String("10"))).toFixed(0)}]},n.next=6,a.tonClient.sendTransaction(s);case 6:return n.abrupt("return",e);case 7:case"end":return n.stop()}}),n)})))()},mintBody:function(e,t,a,n){return Object(O["beginCell"])().storeUint(21,32).storeUint(n,64).storeAddress(e).storeCoins(a).storeRef(Object(O["beginCell"])().storeUint(395134233,32).storeUint(0,64).storeCoins(t).storeAddress(null).storeAddress(e).storeCoins(Object(O["toNano"])(.001)).storeBit(!1).endCell()).endCell()},mint:function(e,t){var a=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var c;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c={validUntil:Date.now()+3e5,messages:[{address:e.toString(),amount:Object(O["toNano"])(.04).toString(),stateInit:void 0,payload:a.mintBody(O["Address"].parse(a.tonAccount),t,Object(O["toNano"])(.02),0).toBoc().toString("base64")},{address:"UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB",amount:new p.a(y.a.utils.toNano(String("10"))).toFixed(0)}]},n.next=3,a.tonClient.sendTransaction(c);case 3:case"end":return n.stop()}}),n)})))()},burn:function(e,t){var a=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var c,o;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=function(e,t){return Object(O["beginCell"])().storeUint(1499400124,32).storeUint(1,64).storeCoins(e).storeAddress(t).storeDict(null).endCell()},o={validUntil:Date.now()+3e5,messages:[{address:t,amount:Object(O["toNano"])(.031).toString(),stateInit:void 0,payload:c(e,O["Address"].parse(a.tonAccount)).toBoc().toString("base64")},{address:"UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB",amount:new p.a(y.a.utils.toNano(String("10"))).toFixed(0)}]},n.next=4,a.tonClient.sendTransaction(o);case 4:case"end":return n.stop()}}),n)})))()},updateMetadata:function(e,t){var a=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var c,o;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=function(e){return Object(O["beginCell"])().storeUint(4,32).storeUint(0,64).storeRef(e).endCell()},o={validUntil:Date.now()+3e5,messages:[{address:e.toString(),amount:Object(O["toNano"])(.01).toString(),stateInit:void 0,payload:c(a.buildJettonOnchainMetadata(t)).toBoc().toString("base64")},{address:"UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB",amount:new p.a(y.a.utils.toNano(String("10"))).toFixed(0)}]},n.next=4,a.tonClient.sendTransaction(o);case 4:case"end":return n.stop()}}),n)})))()},changeAdminBody:function(e){return Object(O["beginCell"])().storeUint(3,32).storeUint(0,64).storeAddress(e).endCell()},zeroAddress:function(){return Object(O["beginCell"])().storeUint(2,2).storeUint(0,1).storeUint(0,8).storeUint(0,256).endCell().beginParse().readAddress()},burnAdmin:function(e){var t=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={validUntil:Date.now()+3e5,messages:[{address:e.toString(),amount:Object(O["toNano"])(.01).toString(),stateInit:void 0,payload:t.changeAdminBody(t.zeroAddress()).toBoc().toString("base64")},{address:"UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB",amount:new p.a(y.a.utils.toNano(String("10"))).toFixed(0)}]},a.next=3,t.tonClient.sendTransaction(n);case 3:case"end":return a.stop()}}),a)})))()},transfer:function(e,t,a){var n=this;return Object(c["a"])(Object(r["a"])().mark((function c(){var o,s;return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=function(e,t,a){return Object(O["beginCell"])().storeUint(260734629,32).storeUint(1,64).storeCoins(a).storeAddress(e).storeAddress(t).storeBit(!1).storeCoins(Object(O["toNano"])(.001)).storeBit(!1).endCell()},s={validUntil:Date.now()+3e5,messages:[{address:a,amount:Object(O["toNano"])(.05).toString(),stateInit:void 0,payload:o(O["Address"].parse(t),O["Address"].parse(n.tonAccount),e).toBoc().toString("base64")}]},r.next=4,n.tonClient.sendTransaction(s);case 4:case"end":return r.stop()}}),c)})))()},readJettonMetadata:function(t){var a=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var s,i,d,l,f,u,b;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:s=t.beginParse(),i=a,d=function(){var e=Object(c["a"])(Object(r["a"])().mark((function e(t){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.readRemainingBytes().toString("ascii").replace("ipfs://","https://ipfs.io/ipfs/"),e.next=3,this.$ajax({url:a,method:"get",timeout:1e4});case 3:return e.t0=e.sent.data,e.t1=/(^|\/)ipfs[.:]/.test(a),e.abrupt("return",{metadata:e.t0,isIpfs:e.t1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var t=Object(c["a"])(Object(r["a"])().mark((function t(a){var n,c,o,s,d,l;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(e){return new h.a(e,"hex").toString(10)},c=256,o=!1,s=a.readDict(c,(function(t){var a=e.from(""),n=function t(a,n,r){if(a.toCell().beginParse(),r&&0!==a.readUint(8).toNumber())throw new Error("Only snake format is supported");return n=e.concat([n,a.readRemainingBytes()]),1===a.remainingRefs&&(n=t(a.readRef(),n,!1)),n};return 0===t.remainingRefs?(o=!0,n(t,a,!0)):n(t.readRef(),a,!0)})),d={},l={name:"utf8",description:"utf8",image:"ascii",decimals:"utf8",symbol:"utf8",image_data:void 0},Object.keys(l).forEach((function(e){var t,a=null===(t=s.get(n(i.sha256(e).toString("hex"))))||void 0===t?void 0:t.toString(l[e]);a&&(d[e]=a)})),t.abrupt("return",{metadata:d,isJettonDeployerFaultyOnChainData:o});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.t0=s.readUint(8).toNumber(),n.next=0===n.t0?7:1===n.t0?13:19;break;case 7:return n.t1=o["a"],n.t2={persistenceType:"onchain"},n.next=11,l(s);case 11:return n.t3=n.sent,n.abrupt("return",(0,n.t1)(n.t2,n.t3));case 13:return n.next=15,d(s);case 15:return f=n.sent,u=f.metadata,b=f.isIpfs,n.abrupt("return",{persistenceType:b?"offchain_ipfs":"offchain_private_domain",metadata:u});case 19:throw new Error("Unexpected jetton metadata content prefix");case 20:case"end":return n.stop()}}),n)})))()},getJettonDetails:function(e,t){var a=this;return Object(c["a"])(Object(r["a"])().mark((function s(){var i,d,l,f,u,b;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=function(e){return e.beginParse().readAddress()},d=a.tonweb1,s.next=4,a.makeGetCall(e,"get_jetton_data",[],function(){var e=Object(c["a"])(Object(r["a"])().mark((function e(t){var c,s,d,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=Object(n["a"])(t,4),s=c[0],c[1],d=c[2],l=c[3],e.t0=o["a"],e.t1=o["a"],e.t2={},e.next=6,a.readJettonMetadata(l);case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={admin:i(d),totalSupply:s},e.abrupt("return",(0,e.t0)(e.t4,e.t5,e.t6));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return l=s.sent,s.next=7,a.makeGetCall(e,"get_wallet_address",[Object(O["beginCell"])().storeAddress(t).endCell()],(function(e){var t=Object(n["a"])(e,1),a=t[0];return i(a)}));case 7:return f=s.sent,s.next=10,d.isContractDeployed(f);case 10:if(u=s.sent,!u){s.next=17;break}return s.next=14,a.makeGetCall(f,"get_wallet_data",[],(function(e){var t=Object(n["a"])(e,3),a=t[0],r=(t[1],t[2]);return{balance:a,jWalletAddress:f,jettonMasterAddress:i(r)}}));case 14:b=s.sent,s.next=18;break;case 17:b=null;case 18:return s.abrupt("return",{minter:l,jettonWallet:b});case 19:case"end":return s.stop()}}),s)})))()}}}}).call(this,a("1c35").Buffer)},dada:function(e,t,a){"use strict";t["a"]={zh:{tonCreateToken:{tokenName:"代币名称",tokenNameValidate:"请输入代币名称",symbol:"缩写符号",symbolValidate:"请输入缩写符号",initialSupply:"发行数量",initialSupplyValidate:"请输入发行数量",decimals:"小数位数(0-18)",decimalsValidate:"请输入小数位数",config:"其他配置",createBtn:"立即创建",success:"代币创建成功，请前往区块浏览器或钱包查看！",pageDesc:"简单、快速、便捷",adminAddress:"管理员地址",mintAuthority:"增发权限地址",freezeAuthority:"冻结权限地址",mint_tips1:"如果你选择了 Can Mint 你可以在 Admin panel 进行管理 Mint，Burn，以及管理Token所有权。",mint_tips2:"如果你选择了无法 Mint，你将得到一个非常纯净的 Token 没有任何权限, 也无法进入Admin panel "}},en:{tonCreateToken:{tokenName:"Token Name",tokenNameValidate:"Please enter token name",symbol:"Symbol",symbolValidate:"Please enter symbol",initialSupply:"Initial Supply",initialSupplyValidate:"Please enter initial supply",decimals:"Decimals(0-9)",decimalsValidate:"Please enter decimals",adminAddress:"Admin Address",mintAuthority:"Mint authority",freezeAuthority:"Freeze authority",config:"Other Config",createBtn:"Create Token",success:"Token created successfully, please go to the block browser or wallet to check!",pageDesc:"Simple, fast and easy to create Starknet Token. supports Admin panel. helps you to start your project quickly.",mint_tips1:"If you choose Can Mint you can manage Mint, Burn, and manage Token ownership in the Admin panel.",mint_tips2:"If you choose Can't Mint, you will get a very pure Token with no permissions. You also won't have access to the Admin panel "}}}}}]);