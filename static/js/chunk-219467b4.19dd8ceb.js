(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-219467b4"],{1541:function(t,e,s){},"549d6":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.baseInfo?s("div",{staticClass:"nftInfo"},[s("div",{staticClass:"leftBox"},[s("el-image",{staticClass:"imgBox",attrs:{src:t.baseInfo.imageUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"coin-eth2"}})],1)]),s("div",{staticClass:"baseBox"},[s("div",{staticClass:"name"},[t._v(t._s(t.baseInfo.name))]),s("div",{staticClass:"address"},[t._v(t._s(t.baseInfo.address))]),s("div",{staticClass:"iconList"},[s("a",{attrs:{target:"_blank",href:"https://opensea.io/collection/"+t.baseInfo.slug+"?ref="+t.baseInfo.address}},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"opensea"}})],1),s("a",{attrs:{target:"_blank",href:"https://x2y2.io/collection/"+t.baseInfo.address+"/items"}},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"x2y2"}})],1),s("a",{attrs:{target:"_blank",href:"https://looksrare.org/collections/"+t.baseInfo.address}},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"looksrare"}})],1),s("a",{attrs:{target:"_blank",href:"https://etherscan.io/token/"+t.baseInfo.address}},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"etherscan-2"}})],1),t.baseInfo.discordUrl?s("a",{attrs:{target:"_blank",href:t.baseInfo.discordUrl}},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"discord"}})],1):t._e()])])],1),s("div",{staticClass:"rightBox"},[t._v(" test ")])]):t._e(),s("div",{staticClass:"bigContent"},[s("div",{staticClass:"content"},[s("div",{staticClass:"contentBox div1 nftList"},[s("h2",[s("div",{staticClass:"titleBox"},[s("span",{staticClass:"label"},[t._v("LISTINGS ("+t._s(t.listingsListSort.length)+")")]),t.isPauseListings?s("span",{staticClass:"remark remark_pause"},[t._v(" Feed is pauseed "),s("i",{staticClass:"el-icon-video-pause pause_icon"})]):s("span",{staticClass:"remark"},[t._v("Feed is live "),s("div",{staticClass:"liveIcon"}),s("i",{directives:[{name:"show",rawName:"v-show",value:t.getListingsDataLoading,expression:"getListingsDataLoading"}],staticClass:"el-icon-loading loadingIcon"})])]),s("div",{staticClass:"filterBox"},[s("el-select",{staticClass:"selectBox",attrs:{size:t.isPc?"small":"mini"},on:{change:t.onChangeListingsSort},model:{value:t.listingsSort,callback:function(e){t.listingsSort=e},expression:"listingsSort"}},t._l(t.sortList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("ul",{staticClass:"ulList",on:{mouseenter:function(e){return t.onMouseEnter("listings")},mouseleave:function(e){return t.onMouseLeave("listings")}}},t._l(t.listingsListSort,(function(e,a){return s("ItemNFT",{key:a,attrs:{item:e,type:"listings","is-show-icon":!1,contract:t.form.contract},on:{onBuy:t.onBuy}})})),1)]),s("div",{staticClass:"contentBox div2 config"},[s("el-form",{attrs:{"label-position":"top",model:t.form}},[s("el-form-item",{attrs:{label:"合约地址"}},[s("el-input",{attrs:{size:"small",autocomplete:"off"},model:{value:t.form.contract,callback:function(e){t.$set(t.form,"contract",e)},expression:"form.contract"}})],1),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"矿工小费"}},[s("el-input",{attrs:{size:"small",autocomplete:"off"},model:{value:t.form.fees,callback:function(e){t.$set(t.form,"fees",e)},expression:"form.fees"}})],1)],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"消费上限"}},[s("el-input",{attrs:{size:"small",autocomplete:"off"},model:{value:t.form.maxFees,callback:function(e){t.$set(t.form,"maxFees",e)},expression:"form.maxFees"}})],1)],1)],1),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"自动购买"}},[s("el-switch",{attrs:{"active-color":"#2AB079","inactive-color":"#666666"},model:{value:t.form.autoBuy,callback:function(e){t.$set(t.form,"autoBuy",e)},expression:"form.autoBuy"}})],1)],1),s("el-col",{directives:[{name:"show",rawName:"v-show",value:t.form.autoBuy,expression:"form.autoBuy"}],attrs:{span:12}},[s("el-form-item",{attrs:{label:"小于所填价格自动购买"}},[s("el-input",{attrs:{size:"small",autocomplete:"off"},model:{value:t.form.minBuyPrice,callback:function(e){t.$set(t.form,"minBuyPrice",e)},expression:"form.minBuyPrice"}})],1)],1)],1),s("el-button",{staticClass:"btn",attrs:{type:"success"}},[t._v("Start")])],1)],1),t._m(0),s("div",{staticClass:"contentBox div4 make"},[s("h2",[s("div",{staticClass:"titleBox"},[s("span",{staticClass:"label"},[t._v("TRADES ("+t._s(t.tradesList.length)+")")]),t.isPauseTrades?s("span",{staticClass:"remark remark_pause"},[t._v(" Feed is pauseed "),s("i",{staticClass:"el-icon-video-pause pause_icon"})]):s("span",{staticClass:"remark"},[t._v("Feed is live "),s("div",{staticClass:"liveIcon"}),s("i",{directives:[{name:"show",rawName:"v-show",value:t.getListingsDataLoading,expression:"getListingsDataLoading"}],staticClass:"el-icon-loading loadingIcon"})])]),s("div",{staticClass:"filterBox"},[s("el-select",{staticClass:"selectBox",attrs:{size:t.isPc?"small":"mini"},on:{change:t.onChangeTradesSort},model:{value:t.tradesSort,callback:function(e){t.tradesSort=e},expression:"tradesSort"}},t._l(t.sortList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("ul",{staticClass:"ulList",on:{mouseenter:function(e){return t.onMouseEnter("trades")},mouseleave:function(e){return t.onMouseLeave("trades")}}},t._l(t.tradesListSort,(function(e,a){return s("ItemNFT",{key:a,attrs:{item:e,type:"trades","is-show-icon":!0,contract:t.form.contract}})})),1)])])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contentBox div3 buyInfo"},[s("h2",[s("div",{staticClass:"titleBox"},[s("span",{staticClass:"label"},[t._v("我的买入记录")])])])])}],i=s("4833"),r=s("e7e7"),o=s("efe2"),c=(s("a9b5"),s("6a61"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("div",{staticClass:"leftBox"},[s("div",{staticClass:"imgBox"},[s("el-image",{staticClass:"img",attrs:{src:t.item.image,lazy:""}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"coin-eth2"}})],1)])],1),s("div",{staticClass:"nameBox"},[s("div",{staticClass:"rankBox"},[s("span",{staticClass:"label"},[t._v("Rank:")]),s("span",{staticClass:"value"},[t._v(t._s(t.item.rank||""))])]),s("div",{staticClass:"tokenId"},[t._v("#"+t._s(t.item.tokenId))])])]),s("div",{staticClass:"rightBox"},[s("div",{staticClass:"topBox"},[s("span",{staticClass:"price"},[t._v("Ξ "+t._s(Number(t.item.price.toFixed(5))))]),"listings"===t.item.type?s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.onBuy(t.item)}}},[s("span",[t._v("BUY")]),s("svg-icon",{staticClass:"icon",attrs:{"icon-class":t.item.market}})],1):t._e(),t.isShowIcon?s("a",{staticClass:"iconBox",attrs:{href:t.item.marketUrl,target:"_blank"}},[s("svg-icon",{class:""+t.item.market,attrs:{"icon-class":t.item.market}})],1):t._e(),t.isShowIcon?s("a",{staticClass:"iconBox",attrs:{href:"https://etherscan.io/token/"+t.contract,target:"_blank"}},[s("svg-icon",{attrs:{"icon-class":"etherscan-2"}})],1):t._e()]),s("div",{staticClass:"time"},[t._v(t._s(t._f("formatTime")(new Date(t.item.time).getTime())))])])])}),l=[],u=s("52c1"),m=s("ed08"),d={inject:["onCheckConnect"],components:{},props:{item:{require:!0,type:Object},contract:{require:!0,type:String},isShowIcon:{require:!1,type:Boolean,default:!1},type:{require:!0,type:String,default:"listings"}},data:function(){return{}},computed:Object(o["a"])({},Object(u["b"])(["isConnect","account","isPc","language"])),created:function(){},mounted:function(){},methods:{onBuy:function(t){this.$emit("onBuy",t)}}},f=d,g=(s("b3ac"),s("5d22")),p=Object(g["a"])(f,c,l,!1,null,"067239c4",null),v=p.exports,h={zh:{nftTrader:{}},en:{nftTrader:{}}},b="nftTrader",C={name:b,inject:["onCheckConnect"],components:{ItemNFT:v},data:function(){return{listingsSort:1,tradesSort:0,sortList:[{label:"Time",value:0},{label:"Price",value:1},{label:"Rank",value:2}],form:{contract:"0x34d85c9CDeB23FA97cb08333b511ac86E1C4E258",address:"",minBuyPrice:"",fees:"",maxFees:"",autoBuy:!1},getListingsDataLoading:!0,listingsList:[],tradesList:[],getTradesLoading:!0,isPauseListings:!1,isPauseTrades:!1,baseInfo:null,opensea_next:""}},watch:{},computed:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["isConnect","account","isPc","language"])),{},{listingsSortText:function(){var t={0:"time",1:"price",2:"rank"};return t[this.listingsSort]},tradesSortText:function(){var t={0:"time",1:"price",2:"rank"};return t[this.tradesSort]},listingsListSort:function(){var t=Object(r["a"])(this.listingsList),e=t.sort(Object(m["p"])(this.listingsSortText,"time"===this.listingsSort?1:0));return e},tradesListSort:function(){var t=Object(r["a"])(this.tradesList),e=t.sort(Object(m["p"])(this.tradesSortText,"time"===this.tradesSortText?1:0));return e}}),created:function(){this.$i18n.getLocaleMessage("en")[b]||(this.$i18n.mergeLocaleMessage("en",h.en),this.$i18n.mergeLocaleMessage("zh",h.zh))},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getBaseInfo();case 2:t.onGetListingsData(),t.onGetTrades(),setInterval((function(){t.onGetListingsData(),t.onGetTrades()}),8e3);case 5:case"end":return e.stop()}}),e)})))()},methods:{onBuy:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t,"item");case 1:case"end":return e.stop()}}),e)})))()},getBaseInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getBaseInfo"),e.next=3,t.$ajax({url:"https://cointool.glitch.me/nft/collections",method:"post",data:{filters:{address:t.form.contract},fields:{name:1,marketStats:1,address:1,description:1,imageUrl:1,indexingStatus:1,sevenDayVolume:1,traits:1,standard:1,discordUrl:1,mediumUsername:1,telegramUrl:1,twitterUsername:1,stats:{floor_price:1},instagramUsername:1,totalSupply:1,wikiUrl:1,slug:1,isVerified:1,externalUrl:1,updatedAt:1}}});case 3:s=e.sent,200===s.code&&s.data&&s.data.length>0&&(t.baseInfo=s.data[0]);case 5:case"end":return e.stop()}}),e)})))()},onMouseEnter:function(t){"listings"===t?this.isPauseListings=!0:"trades"===t&&(this.isPauseTrades=!0)},onMouseLeave:function(t){"listings"===t?this.isPauseListings=!1:"trades"===t&&(this.isPauseTrades=!1)},onChangeListingsSort:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.onGetListingsData();case 1:case"end":return e.stop()}}),e)})))()},onChangeTradesSort:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.onGetTrades();case 1:case"end":return e.stop()}}),e)})))()},onGetTrades:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.length>0&&void 0!==t[0]?t[0]:"",!e.isPauseTrades){s.next=3;break}return s.abrupt("return");case 3:return e.getTradesLoading=!0,s.next=6,e.$ajax({url:"https://cointool.glitch.me/nft/feed",method:"post",data:{name:e.baseInfo.slug,address:e.form.contract.toLowerCase(),event_types:["sales"],offset:0,limit:100}});case 6:if(a=s.sent,!e.isPauseTrades||0===e.tradesList.length){s.next=9;break}return s.abrupt("return");case 9:e.tradesList=a.data.map((function(t){return{market:t.market,marketUrl:t.marketUrl,image:t.smallImageUrl,rank:t.rarityScore,price:t.basePrice/Math.pow(10,18),tokenId:t.tokenId,type:t.type,time:t.timestamp}})),e.getTradesLoading=!1;case 11:case"end":return s.stop()}}),s)})))()},onGetListingsData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isPauseListings){e.next=2;break}return e.abrupt("return");case 2:return t.getListingsDataLoading=!0,e.next=5,t.$ajax({url:"https://cointool.glitch.me/nft/feed",method:"post",data:{name:t.baseInfo.slug,address:t.form.contract.toLowerCase(),event_types:["listings"],offset:0,limit:50}});case 5:if(s=e.sent,!t.isPauseListings||0===t.listingsList.length){e.next=8;break}return e.abrupt("return");case 8:t.listingsList=s.data.map((function(t){return{market:t.market,marketUrl:t.marketUrl,image:t.smallImageUrl,rank:t.rarityScore,price:t.currentEthPrice/Math.pow(10,18),tokenId:t.tokenId,type:t.type,time:t.updatedAt}})),t.getListingsDataLoading=!1;case 10:case"end":return e.stop()}}),e)})))()}}},k=C,x=(s("8ede"),Object(g["a"])(k,a,n,!1,null,"ca6e216a",null));e["default"]=x.exports},"61d5":function(t,e,s){},"8ede":function(t,e,s){"use strict";s("1541")},b3ac:function(t,e,s){"use strict";s("61d5")}}]);