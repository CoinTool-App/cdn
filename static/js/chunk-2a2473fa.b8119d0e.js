(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a2473fa"],{"25ba":function(e,t,n){"use strict";n.r(t);n("b680");var a,r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("OpenGrabCoinVipDialog",{ref:"OpenGrabCoinVipDialog",attrs:{"lock-input":e.lockInput}}),e.isLock?t("LockBox",{on:{onLockSuccess:e.onLockSuccess}}):t("div",{staticClass:"box"},[t("h1",[e._v(e._s(e.$t("route.grabCoin")))]),t("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":"top",rules:e.rules,model:e.form,"label-width":"160px"}},[t("el-row",[t("el-form-item",{staticClass:"formItem"},[t("el-select",{staticStyle:{width:"100%"},attrs:{"default-first-option":""},model:{value:e.form.platform,callback:function(t){e.$set(e.form,"platform",t)},expression:"form.platform"}},e._l(e.ptOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{staticClass:"formItem"},[t("div",{staticClass:"textBox"},[t("span",{staticClass:"label"},[e._v("RPC")]),t("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.rpc_tips"),placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("el-input",{model:{value:e.form.rpc,callback:function(t){e.$set(e.form,"rpc",t)},expression:"form.rpc"}}),t("div",{staticClass:"inputBtnBox"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.isTestRpc}},[e._v(e._s(e.$t("grabCoin.test")))])])],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{staticClass:"formItem"},[t("div",{staticClass:"textBox"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.private_key")))]),t("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.private_key_tips"),placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("el-input",{attrs:{type:"password"},model:{value:e.form.pkv,callback:function(t){e.$set(e.form,"pkv",t)},expression:"form.pkv"}}),t("div",{staticClass:"inputBtnBox"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.init_account}},[e._v(e._s(e.$t("grabCoin.import")))])])],1)],1)],1),t("div",{staticClass:"baseInfo"},[t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.address.length>0,expression:"address.length > 0"}],staticStyle:{"margin-top":"20px"},attrs:{gutter:24}},[t("el-col",{attrs:{span:18}},[t("div",{staticClass:"infoBox"},[t("p",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.address"))+":")]),t("p",{staticClass:"value"},[e._v(e._s(e.address))])])]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"infoBox"},[t("p",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.balance"))+":")]),t("p",{staticClass:"value"},[e._v(e._s(parseFloat(e.balance).toFixed(5)))])])])],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6,xs:{span:12}}},[t("el-form-item",{staticClass:"formItem",attrs:{prop:"amount"}},[t("div",{staticClass:"textBox"},[t("span",{staticClass:"label"},[e._v("Type")]),t("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("el-select",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.type_options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:6,xs:{span:12}}},[t("el-form-item",{staticClass:"formItem",attrs:{prop:"amount"}},[t("div",{staticClass:"textBox"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.buy_num")))]),t("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.buy_num_tips"),placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("el-input",{attrs:{disabled:e.isRun},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1)],1),t("el-col",{attrs:{span:6,xs:{span:12}}},[t("el-form-item",{staticClass:"formItem",attrs:{prop:"pool"}},[t("div",{staticClass:"textBox"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.pool_size")))]),t("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.pool_size_tips"),placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("el-input",{attrs:{disabled:e.isRun},model:{value:e.form.pool,callback:function(t){e.$set(e.form,"pool",t)},expression:"form.pool"}})],1)],1),t("el-col",{attrs:{span:6,xs:{span:12}}},[t("el-form-item",{staticClass:"formItem",attrs:{prop:"timep"}},[t("div",{staticClass:"textBox"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.watch_frequency")))]),t("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.watch_frequency_tips"),placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("el-input",{model:{value:e.form.timep,callback:function(t){e.$set(e.form,"timep",t)},expression:"form.timep"}})],1)],1),t("el-col",{attrs:{span:6,xs:{span:12}}},[t("el-form-item",{staticClass:"formItem",attrs:{prop:"timep"}},[t("div",{staticClass:"textBox"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.minAmount")))]),t("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.minAmount_tips"),placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("el-input",{model:{value:e.form.minAmount,callback:function(t){e.$set(e.form,"minAmount",t)},expression:"form.minAmount"}})],1)],1)],1),t("el-row",[t("el-form-item",{staticClass:"formItem",attrs:{prop:"toToken"}},[t("div",{staticClass:"textBox"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("grabCoin.get_token")))]),t("el-tooltip",{attrs:{effect:"dark",content:e.$t("grabCoin.get_token_tips"),placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("el-input",{model:{value:e.form.toToken,callback:function(t){e.$set(e.form,"toToken",t)},expression:"form.toToken"}}),t("div",{staticClass:"inputBtnBox"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.isTestToken2}},[e._v(e._s(e.$t("grabCoin.check")))]),t("button",{staticClass:"btn",attrs:{type:"button",disabled:e.approve2_close},on:{click:e.approve2}},[e._v(e._s(e.$t("grabCoin.approve_before")))])])],1)],1)],1)],1),t("div",{staticClass:"remark",domProps:{innerHTML:e._s(e.$t("grabCoin.remark"))}}),t("div",{staticClass:"btnBox"},[t("div",{class:{buttonContainer:!0,grabTrue:e.isRun}},[t("div",{staticClass:"fullBg"}),t("div",{staticClass:"fullBg"}),t("div",{staticClass:"fullBg"}),t("button",{on:{click:e.onStart}},[t("svg-icon",{staticClass:"speedIconBox",attrs:{"icon-class":"speed-transaction"}})],1)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.ojbk,expression:"ojbk"}],staticClass:"result"},[t("div",{staticClass:"iconBox"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"coin-btc1"}})],1),t("div",{staticClass:"info"},[t("p",{staticClass:"p1"},[e._v(e._s(e.$t("grabCoin.grabSuccess")))]),t("p",{staticClass:"p2"},[t("a",{attrs:{href:e.txlink,target:"_blank"}},[e._v(e._s(e.txid))])])])]),t("el-button",{attrs:{type:"primary"},on:{click:e.OneKeySell}},[e._v("一键卖出")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.terminalInfo.length>0,expression:"terminalInfo.length > 0"}],ref:"terminal",staticClass:"terminal"},e._l(e.terminalInfo,(function(n){return t("p",{key:n},[e._v(e._s(n))])})),0)],1)],1)},s=[],o=n("c7eb"),i=n("1da1"),u=n("5530"),p=(n("498a"),n("d3b7"),n("25f0"),n("14d9"),n("33d1"),n("ea98"),n("a9e3"),n("a3d2")),c=n("2f62"),l={zh:{grabCoin:{platform:"平台",rpc_tips:"RPC节点可以自定义，建议选择延迟小的节点，越小越快!",test:"测试",private_key:"私钥",private_key_tips:"本APP完全本地运行，不会上传私钥到服务器，欢迎监督检测",import:"导入",address:"地址",balance:"余额",gwei_tips:"手续费gwei设置，越大越快!",buy_num:"购买数量",buy_num_tips:"发送Token的数量，比如USDT兑换BTC，USDT的数量",pool_size:"池子大小",pool_size_tips:"池子只要大于此值，触发购买事件。比如USDT兑换BTC，如发现USDT池子大于此值，触发购买",watch_frequency:"监控频率",watch_frequency_tips:"秒为单位，越小越快。根据RPC节点合理设置。",send_token:"发送Token地址",send_token_tips:"如用USDT兑换BTC，输入框填USDT的合约地址，如用基础代币兑换(ETH、HT、BNB)就为空。此Token余额要等于或大于购买数量，否则出错!",approve_before:"提前授权",approve_success:"授权成功",get_token:"获得Token地址",get_token_tips:"如用USDT兑换BTC，输入框填BTC的合约地址，如用基础代币兑换(ETH、HT、BNB)就为空。注意:只支持单路由,如检测的是USDT/XXX池，然而项目注入的是ETH/XXX池，不会触发购买，请周知!",grabSuccess:"大哥发财，抢到了！",error_private_key:"请导入私钥!",error_platform:"请先选择平台",error_gwei:"请填写GWEI!",error_token:"请先检测Token!",error_buy_num:"请填写购买数量!",auto_sell:"自动卖",auto_sell_tips:"买入后就自动检测买入数量，自动卖出!",auto_sell_time_tips:"第一个输入框:买入后隔几秒卖出，0为检测到买入就卖出无延迟。第二个输入框:当卖出获得大于购买数量多少则自动卖出，0无限制",auto_try:"重试",auto_try_tips:"当遇到白名单、时间锁的代币合约，请开启此选项!会自动预测成功购买在进行买入，不会上链和消耗手续费!",minAmount:"最小获得数量",minAmount_tips:"比如发送1 USDT获得1 BTC,当获得数量小于您设定的值的时候不触发购买，会自动重试到您获得的数量为止，0无限制，使用需启动重试开关!",fromTokenApprove:"发送Token地址请提前授权!",error_pool:"请填写池子数量!",token_approve_repeat:"此token你已授权过",token_err_tips:"错了噢，Token错误",rpc_err_tips:"错了噢，节点错误!",check:"检测",remark:"免责声明：由自身操作失误、填写失误、网络失误造成的损失 CoinTool 概不负责。<br>VIP账号私钥请勿泄露，账号内资产请勿大额，不使用的时候即刻转走，请勿使用套壳破解软件",gasLimit:"Gas Limit",no_tips:"没有提示，自己研究",hex:"十六进制数据",blockNumber:"区块号",error_blockNumber:"请填写区块号!"}},en:{grabCoin:{platform:"Platform",rpc_tips:"RPC nodes can be customized, and it is recommended to select nodes with low latency, the smaller the faster!",test:"Test",private_key:"Private Key",private_key_tips:"This APP runs completely locally and will not upload the private key to the server. You are welcome to supervise and check",import:"Import",address:"Address",balance:"Balance",gwei_tips:"Charge GWEI setting, the bigger the faster!",buy_num:"Purchase amount",buy_num_tips:"The number of tokens sent, such as USDT to BTC, the number of USDT",pool_size:"Pool amount",pool_size_tips:"Whenever the pool is greater than this value, a purchase event is triggered. For example, if USDT is converted into BTC, if USDT pool is found to be greater than this value, the purchase will be triggered",watch_frequency:"Watch frequency",watch_frequency_tips:"In seconds, the smaller the faster. Set it appropriately according to the RPC node.",send_token:"Send Token Address",send_token_tips:"If you exchange BTC with USDT, enter the BTC contract address in the input box. If you exchange BTC with basic tokens (ETH, HT, BNB), it will be blank.",approve_before:"Approve before",approve_success:"Approve Success",fromTokenApprove:"Please approve the token address in advance!",get_token:"Recipient Token Address",get_token_tips:"If you exchange the BTC contract address with USDT, if you exchange it with basic tokens (ETH, HT, BNB), it will be empty.",grabSuccess:"Success",error_private_key:"Please import private key",error_platform:"Please select the platform",error_gwei:"Please enter GWEI!",error_token:"Please check the Token first",error_buy_num:"Please enter the purchase quantity",error_pool:"Please enter Pool total!",token_approve_repeat:"You have approve this token",token_err_tips:"Token Error",rpc_err_tips:"RPC Error",auto_sell:"Auto sale",auto_sell_tips:"After buying, it will automatically detect the quantity of buying and sell!",auto_sell_time_tips:"Sell every few seconds after buying. 0 is to sell when buying is detected without delay",check:"Check",auto_try:"retry",auto_try_tips:"When you encounter a token contract with white list and time lock, please turn on this option! It will automatically predict the successful purchase and purchase, and will not be on the chain or consume handling charges!",minAmount:"Minimum quantity obtained",minAmount_tips:"For example, if you send 1 usdt to get 1 BTC, when the quantity is less than the value you set, the purchase will not be triggered, and the purchase will be automatically retried until the quantity you get. There is no limit to 0, and you need to start the retrying switch!",remark:"Disclaimer: CoinTool is not responsible for any loss caused by its own operation error, filling error or network error",gasLimit:"Pool amount",no_tips:"Not tips",hex:"Hex Data",blockNumber:"Block Number",error_blockNumber:"Please enter Block Number"}}},m=n("ed08"),d=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{width:e.isPc?"600px":"auto",title:e.$t("openGrabCoinVipDialog.title"),visible:e.isShowDialog,center:""},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialogBox"},[t("div",{staticClass:"vipIconBox"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"vip"}})],1),t("div",{staticClass:"text"},[t("p",[e._v(e._s(e.$t("openGrabCoinVipDialog.text0")))]),t("p",[e._v(e._s(e.$t("openGrabCoinVipDialog.text1",{amount:20,sybmol:"HT"})))]),t("p",{domProps:{innerHTML:e._s(e.$t("openGrabCoinVipDialog.text2",{sybmol:"HT"}))}}),t("p",[e._v(e._s(e.$t("openGrabCoinVipDialog.text3")))])]),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.txhash.length>0,expression:"txhash.length>0"}],attrs:{type:"warning"}},[e._v(e._s(e.txhash))])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:e.isvip,type:"primary"},on:{click:e.onJoinVip}},[t("svg-icon",{staticClass:"icon vipIcon",attrs:{"icon-class":"vip"}}),e._v(e._s(e.$t("openGrabCoinVipDialog.joinBtn")))],1)],1)])},f=[],b={zh:{openGrabCoinVipDialog:{title:"欢迎成为科学家",text0:"灰度测试中，预购从速，不定时涨价",text1:"只需要支付 {amount} {sybmol}，您将获得永久VIP使用权.",text2:"您的科学家抢币神器将永久免费",text3:"如果您想了解更多相关信息，请联系您的推荐人!",joinBtn:"加入科学家"}},en:{openGrabCoinVipDialog:{title:"Welcome to join VIP",text0:"",text1:"Just only pay {amount}  {sybmol} to be a vip member.",text2:"{sybmol} Token MultiSender your transactions sent through CoinTool will be free forever!<br/> Keep in mind, you would still need to pay for the mining fees.",text3:"If you need additional information, feel free to ask in our Telegram channel",joinBtn:"Buy"}}},y=n("a835"),x=n("5ba3"),k=n("81ad"),v=n.n(k),g="openGrabCoinVipDialog",h={inject:["onCheckConnect"],components:{},props:{routerName:{type:String,default:""},lockInput:{type:String,default:""}},data:function(){return{window:window,isvip:!1,loading:!0,defaultId:1,vipfee:0,vipfee_wei:"",txhash:"",isShowDialog:!1}},computed:Object(u["a"])({},Object(c["b"])(["isPc"])),created:function(){this.$i18n.getLocaleMessage("en")[g]||(this.$i18n.mergeLocaleMessage("en",b.en),this.$i18n.mergeLocaleMessage("zh",b.zh))},mounted:function(){return Object(i["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onShow:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,a,r,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.lockInput,"this.lockInput"),e.isShowDialog=!e.isShowDialog,n=128,a=y["a"].rpcNode(n),t.next=6,e.$ajax({url:a,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0x590e6012e11707086bc48fee2f9b16048b2584df",data:"0x"+v.a.methodID("vipfee",[]).toString("hex")},"latest"]}});case 6:return r=t.sent,e.vipfee_wei=parseInt(r.result),e.vipfee=parseInt(e.vipfee_wei)/1e18,t.next=11,e.$ajax({url:a,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0x590e6012e11707086bc48fee2f9b16048b2584df",data:"0x"+v.a.methodID("isVIP",["address"]).toString("hex")+v.a.rawEncode(["address"],[y["a"].getAccount()]).toString("hex")},"latest"]}});case 11:if(s=t.sent,!(parseInt(s.result)>0)){t.next=17;break}e.$message({message:"You are vip",type:"success"}),e.isvip=!0,t.next=21;break;case 17:return t.next=19,e.$ajax({url:a,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0xD6E867f8A79f0EDFc099A7e33252e3DaD712a5F8",data:"0x"+v.a.methodID("isVIP",["address"]).toString("hex")+v.a.rawEncode(["address"],[y["a"].getAccount()]).toString("hex")},"latest"]}});case 19:s=t.sent,parseInt(s.result)>0&&(e.$message({message:"You are vip",type:"success"}),e.isvip=!0);case 21:e.loading=!1;case 22:case"end":return t.stop()}}),t)})))()},onJoinVip:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,a,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.onCheckConnect()){t.next=2;break}return t.abrupt("return");case 2:if(128===y["a"].getChainId()){t.next=6;break}return e.$notify.info({title:"Alert",message:e.$t("common.no_connect_heconetwork"),duration:0}),y["a"].addToMetamask(128),t.abrupt("return");case 6:return n="0x"+v.a.methodID("registerVIP",["address"]).toString("hex")+v.a.rawEncode(["address"],[e.lockInput]).toString("hex"),a={from:y["a"].getAccount(),to:"0x590e6012e11707086bc48fee2f9b16048b2584df",gas:Object(x["toHex"])(9e4),value:Object(x["toHex"])(e.vipfee_wei),data:n},t.next=10,y["a"].sendTransaction(a);case 10:r=t.sent,e.txhash=r,e.isvip=!0;case 13:case"end":return t.stop()}}),t)})))()}}},_=h,w=(n("524f"),n("2877")),T=Object(w["a"])(_,d,f,!1,null,"eef353ae",null),C=T.exports,I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"lockBox"},[t("div",{staticClass:"center"},[t("div",{staticClass:"tips"}),t("el-input",{attrs:{placeholder:"key"},model:{value:e.lockInput,callback:function(t){e.lockInput=t},expression:"lockInput"}}),t("el-button",{staticClass:"lock",attrs:{type:"primary",icon:"el-icon-lock"},on:{click:e.onLock}})],1)])},D=[],j={components:{},data:function(){return{lockInput:""}},computed:{},created:function(){},mounted:function(){},methods:{onLock:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=y["a"].rpcNode(128),t.next=3,e.$ajax({url:n,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0xD6E867f8A79f0EDFc099A7e33252e3DaD712a5F8",data:"0x"+v.a.methodID("isVIP",["address"]).toString("hex")+v.a.rawEncode(["address"],[e.lockInput]).toString("hex")},"latest"]}});case 3:if(a=t.sent,!(parseInt(a.result)>0)){t.next=8;break}e.$emit("onLockSuccess",e.lockInput),t.next=12;break;case 8:return t.next=10,e.$ajax({url:n,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0x590e6012e11707086bc48fee2f9b16048b2584df",data:"0x"+v.a.methodID("isVIP",["address"]).toString("hex")+v.a.rawEncode(["address"],[e.lockInput]).toString("hex")},"latest"]}});case 10:a=t.sent,parseInt(a.result)>0?e.$emit("onLockSuccess",e.lockInput):e.$message("推荐人错误");case 12:case"end":return t.stop()}}),t)})))()}}},O=j,S=(n("db79"),Object(w["a"])(O,I,D,!1,null,"79f94d6a",null)),$=S.exports,M=n("54da"),B=n("d01b"),A=n.n(B),P=[{constant:!1,inputs:[{name:"tokens_sold",type:"uint256"},{name:"min_trx",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"}],name:"tokenToTrxTransferInput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"trx_bought",type:"uint256"},{name:"max_tokens",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"}],name:"tokenToTrxTransferOutput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"min_liquidity",type:"uint256"},{name:"max_tokens",type:"uint256"},{name:"deadline",type:"uint256"}],name:"addLiquidity",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"min_tokens",type:"uint256"},{name:"deadline",type:"uint256"}],name:"trxToTokenSwapInput",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"token_addr",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tokens_bought",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"}],name:"trxToTokenTransferOutput",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"input_amount",type:"uint256"},{name:"input_reserve",type:"uint256"},{name:"output_reserve",type:"uint256"}],name:"getInputPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokens_sold",type:"uint256"}],name:"getTokenToTrxInputPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"factoryAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"trx_sold",type:"uint256"}],name:"getTrxToTokenInputPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tokens_bought",type:"uint256"},{name:"max_tokens_sold",type:"uint256"},{name:"max_trx_sold",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"},{name:"exchange_addr",type:"address"}],name:"tokenToExchangeTransferOutput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"tokens_sold",type:"uint256"},{name:"min_trx",type:"uint256"},{name:"deadline",type:"uint256"}],name:"tokenToTrxSwapInput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"trx_bought",type:"uint256"},{name:"max_tokens",type:"uint256"},{name:"deadline",type:"uint256"}],name:"tokenToTrxSwapOutput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"tokenAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"tokens_bought",type:"uint256"}],name:"getTrxToTokenOutputPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tokens_bought",type:"uint256"},{name:"deadline",type:"uint256"}],name:"trxToTokenSwapOutput",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"tokens_bought",type:"uint256"},{name:"max_tokens_sold",type:"uint256"},{name:"max_trx_sold",type:"uint256"},{name:"deadline",type:"uint256"},{name:"token_addr",type:"address"}],name:"tokenToTokenSwapOutput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"tokens_sold",type:"uint256"},{name:"min_tokens_bought",type:"uint256"},{name:"min_trx_bought",type:"uint256"},{name:"deadline",type:"uint256"},{name:"exchange_addr",type:"address"}],name:"tokenToExchangeSwapInput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"min_tokens",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"}],name:"trxToTokenTransferInput",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tokens_sold",type:"uint256"},{name:"min_tokens_bought",type:"uint256"},{name:"min_trx_bought",type:"uint256"},{name:"deadline",type:"uint256"},{name:"token_addr",type:"address"}],name:"tokenToTokenSwapInput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"tokens_bought",type:"uint256"},{name:"max_tokens_sold",type:"uint256"},{name:"max_trx_sold",type:"uint256"},{name:"deadline",type:"uint256"},{name:"exchange_addr",type:"address"}],name:"tokenToExchangeSwapOutput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"tokens_sold",type:"uint256"},{name:"min_tokens_bought",type:"uint256"},{name:"min_trx_bought",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"},{name:"exchange_addr",type:"address"}],name:"tokenToExchangeTransferInput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"trx_bought",type:"uint256"}],name:"getTokenToTrxOutputPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tokens_bought",type:"uint256"},{name:"max_tokens_sold",type:"uint256"},{name:"max_trx_sold",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"},{name:"token_addr",type:"address"}],name:"tokenToTokenTransferOutput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"tokens_sold",type:"uint256"},{name:"min_tokens_bought",type:"uint256"},{name:"min_trx_bought",type:"uint256"},{name:"deadline",type:"uint256"},{name:"recipient",type:"address"},{name:"token_addr",type:"address"}],name:"tokenToTokenTransferInput",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"},{name:"min_trx",type:"uint256"},{name:"min_tokens",type:"uint256"},{name:"deadline",type:"uint256"}],name:"removeLiquidity",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"output_amount",type:"uint256"},{name:"input_reserve",type:"uint256"},{name:"output_reserve",type:"uint256"}],name:"getOutputPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"trx_sold",type:"uint256"},{indexed:!0,name:"tokens_bought",type:"uint256"}],name:"TokenPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"tokens_sold",type:"uint256"},{indexed:!0,name:"trx_bought",type:"uint256"}],name:"TrxPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"provider",type:"address"},{indexed:!0,name:"trx_amount",type:"uint256"},{indexed:!0,name:"token_amount",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"provider",type:"address"},{indexed:!0,name:"trx_amount",type:"uint256"},{indexed:!0,name:"token_amount",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"trx_balance",type:"uint256"},{indexed:!0,name:"token_balance",type:"uint256"}],name:"Snapshot",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],N="trongrabCoin",E={name:N,inject:["onCheckConnect"],components:{OpenGrabCoinVipDialog:C,LockBox:$},data:function(){return{type_options:[{value:"v1",label:"SUN V1"},{value:"v2",label:"SUN V2"}],type:"v2",lockInput:"",isLock:!1,isVip:!0,terminalInfo:[],exchangePair:"",pt:{},rules:{},address:"",balance:0,token2Info:!1,txlink:"",isRun:!1,sellRun:!0,tokenBalance:0,txid:"",approve2_close:!1,ojbk:!1,ptOptions:[{value:"1",label:"justswap"}],form:{platform:"",pool:"0",minAmount:"0",toToken:"",amount:"",timep:"2",pkv:"",rpc:""}}},computed:Object(u["a"])({},Object(c["b"])(["isConnect","account","isPc","language"])),watch:{account:function(e){return Object(i["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},"form.platform":function(e,t){this.form.rpc=this.pt[parseInt(e)].rpc},"form.toToken":function(e,t){e!==t&&(this.form.toToken=e.trim())},"form.pkv":function(e,t){e!==t&&(this.form.pkv=e.trim())}},created:function(){this.$i18n.getLocaleMessage("en")[N]||(this.$i18n.mergeLocaleMessage("en",l.en),this.$i18n.mergeLocaleMessage("zh",l.zh)),this.rules={}},mounted:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["G"])(1e3);case 2:e.pt={1:{rpc:"https://api.trongrid.io",scan:"https://tronscan.io",factory_address:"TXk8rQSAvPvBBNtqSoY6nCfsXWCSSpTVQF"}};case 3:case"end":return t.stop()}}),t)})))()},methods:{onLockSuccess:function(e){this.isLock=!1,this.lockInput=e,this.$refs.OpenGrabCoinVipDialog.onShow()},p8aw5:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===y["a"].getAccount()){t.next=15;break}return n=y["a"].rpcNode(128),t.next=4,e.$ajax({url:n,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0xD6E867f8A79f0EDFc099A7e33252e3DaD712a5F8",data:"0x"+v.a.methodID("isVIP",["address"]).toString("hex")+v.a.rawEncode(["address"],[y["a"].getAccount()]).toString("hex")},"latest"]}});case 4:if(a=t.sent,!(parseInt(a.result)>0)){t.next=11;break}e.$message({message:"You are vip",type:"success"}),e.isVip=!0,e.isLock=!1,t.next=15;break;case 11:return t.next=13,e.$ajax({url:n,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:"0x590e6012e11707086bc48fee2f9b16048b2584df",data:"0x"+v.a.methodID("isVIP",["address"]).toString("hex")+v.a.rawEncode(["address"],[y["a"].getAccount()]).toString("hex")},"latest"]}});case 13:a=t.sent,parseInt(a.result)>0?(e.$message({message:"You are vip",type:"success"}),e.isVip=!0,e.isLock=!1):(e.isVip=!1,e.isLock=!0);case 15:case"end":return t.stop()}}),t)})))()},addTerminalInfo:function(e){var t=this.$refs.terminal;this.terminalInfo.push(e),setTimeout((function(){t.scrollTop=t.scrollHeight}),0)},approve2:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r,s,i,u;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=3;break}return e.$message.error(e.$t("grabCoin.error_private_key")),t.abrupt("return");case 3:if("BASECOIN"!==e.form.toToken.trim()){t.next=6;break}return e.$message.error("基础代币不用授权!"),t.abrupt("return");case 6:if(e.token2Info){t.next=9;break}return e.$message.error(e.$t("grabCoin.error_token")),t.abrupt("return");case 9:if("v1"!==e.type){t.next=21;break}return t.next=12,a.contract().at(e.pt[parseInt(e.form.platform)].factory_address);case 12:return n=t.sent,n.loadAbi([{constant:!0,inputs:[{name:"token",type:"address"}],name:"getExchange",outputs:[{type:"address"}],payable:!1,stateMutability:"view",type:"function"}]),t.next=16,n.getExchange(e.form.toToken).call({_isConstant:!0});case 16:if(s=t.sent,"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb"!==a.address.fromHex(s)){t.next=20;break}return e.$message.error("还没有创建交易对，无法授权!"),t.abrupt("return");case 20:r=a.address.fromHex(s);case 21:return"v2"===e.type&&(r="TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax"),t.prev=22,t.next=25,a.transactionBuilder.triggerSmartContract(e.form.toToken,"approve(address,uint256)",{feeLimit:4e7},[{type:"address",value:r},{type:"uint256",value:"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"}],e.address);case 25:return i=t.sent,t.next=28,a.trx.sign(i.transaction,e.form.pkv);case 28:return u=t.sent,t.next=31,a.trx.sendRawTransaction(u);case 31:e.approve2_close=!0,e.$message.success(e.$t("grabCoin.approve_success")),t.next=39;break;case 35:t.prev=35,t.t0=t["catch"](22),console.log(t.t0),e.$message.success(e.$t("grabCoin.token_approve_repeat"));case 39:case"end":return t.stop()}}),t,null,[[22,35]])})))()},onStart:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isVip){t.next=3;break}return e.$refs.OpenGrabCoinVipDialog.onShow(),t.abrupt("return");case 3:if(a){t.next=6;break}return e.$message.error(e.$t("grabCoin.error_private_key")),t.abrupt("return");case 6:if(""!==e.form.amount){t.next=9;break}return e.$message.error(e.$t("grabCoin.error_buy_num")),t.abrupt("return");case 9:if(""!==e.form.pool){t.next=12;break}return e.$message.error(e.$t("grabCoin.error_pool")),t.abrupt("return");case 12:if(""!==e.form.toToken){t.next=17;break}return e.$message.error("请填写Token地址"),t.abrupt("return");case 17:if(e.token2Info){t.next=20;break}return e.$message.error(e.$t("grabCoin.error_token")),t.abrupt("return");case 20:return e.terminalInfo.length>200&&e.terminalInfo.shift(),e.isRun=!e.isRun,e.exchangePair="",e.isRun?(e.addTerminalInfo(e.formatDate((new Date).getTime())+": 启动"),e.$message.success("已启动抢币")):e.$message.success("已暂停抢币"),t.next=26,e.swap();case 26:case"end":return t.stop()}}),t)})))()},swap:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r,s,i,u,p,c,l,d,f,b,y,x,k,v,g,h,_,w,T,C,I,D;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.isRun){t.next=3;break}return e.addTerminalInfo(e.formatDate((new Date).getTime())+": 停止"),t.abrupt("return");case 3:if(n=e.form.toToken,""!==e.exchangePair||"v1"!==e.type){t.next=31;break}return t.prev=5,t.next=8,a.contract().at(e.pt[parseInt(e.form.platform)].factory_address);case 8:return r=t.sent,r.loadAbi([{constant:!0,inputs:[{name:"token",type:"address"}],name:"getExchange",outputs:[{type:"address"}],payable:!1,stateMutability:"view",type:"function"}]),t.next=12,r.getExchange(n).call({_isConstant:!0});case 12:if(s=t.sent,"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb"!==a.address.fromHex(s)){t.next=20;break}return e.addTerminalInfo(e.formatDate((new Date).getTime())+": 没有检测到添加池"),t.next=17,Object(m["G"])(1e3*Number(e.form.timep));case 17:return t.next=19,e.swap();case 19:return t.abrupt("return");case 20:e.exchangePair=a.address.fromHex(s),e.addTerminalInfo(e.formatDate((new Date).getTime())+": 检测到添加池 Pair: "+e.exchangePair),t.next=31;break;case 24:return t.prev=24,t.t0=t["catch"](5),t.next=28,Object(m["G"])(1e3*Number(e.form.timep));case 28:return t.next=30,e.swap();case 30:return t.abrupt("return");case 31:if(""!==e.exchangePair||"v2"!==e.type){t.next=50;break}return t.prev=32,t.next=35,a.contract().at("TKWJdrQkqHisa1X8HUdHEfREvTzw4pMAaY");case 35:return i=t.sent,i.loadAbi([{constant:!0,inputs:[{name:"token",type:"address"},{name:"token",type:"address"}],name:"getPair",outputs:[{type:"address"}],payable:!1,stateMutability:"view",type:"function"}]),t.next=39,i.getPair(n,"TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR").call({_isConstant:!0});case 39:u=t.sent,e.exchangePair=a.address.fromHex(u),t.next=50;break;case 43:return t.prev=43,t.t1=t["catch"](32),t.next=47,Object(m["G"])(1e3*Number(e.form.timep));case 47:return t.next=49,e.swap();case 49:return t.abrupt("return");case 50:if(!(Number(e.form.pool)>0)){t.next=99;break}if("v1"!==e.type){t.next=73;break}return t.prev=52,t.next=55,a.trx.getAccount(e.exchangePair);case 55:if(p=t.sent,c=p.balance/Math.pow(10,6),!(c<Number(e.form.pool))){t.next=64;break}return e.addTerminalInfo(e.formatDate((new Date).getTime())+": 池子大小小于设定值: "+c),t.next=61,Object(m["G"])(1e3*Number(e.form.timep));case 61:return t.next=63,e.swap();case 63:return t.abrupt("return");case 64:t.next=73;break;case 66:return t.prev=66,t.t2=t["catch"](52),t.next=70,Object(m["G"])(1e3*Number(e.form.timep));case 70:return t.next=72,e.swap();case 72:return t.abrupt("return");case 73:if("v2"!==e.type){t.next=99;break}return t.prev=74,t.next=77,a.contract().at("TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR");case 77:return l=t.sent,l.loadAbi([{constant:!0,inputs:[{name:"token",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]),t.next=81,l.balanceOf(e.exchangePair).call({_isConstant:!0});case 81:if(d=t.sent,f=parseInt(d._hex)/Math.pow(10,6),!(f<Number(e.form.pool))){t.next=90;break}return e.addTerminalInfo(e.formatDate((new Date).getTime())+": 池子大小小于设定值: "+f),t.next=87,Object(m["G"])(1e3*Number(e.form.timep));case 87:return t.next=89,e.swap();case 89:return t.abrupt("return");case 90:t.next=99;break;case 92:return t.prev=92,t.t3=t["catch"](74),t.next=96,Object(m["G"])(1e3*Number(e.form.timep));case 96:return t.next=98,e.swap();case 98:return t.abrupt("return");case 99:if(!(Number(e.form.minAmount)>0)){t.next=154;break}if("v1"!==e.type){t.next=127;break}return t.prev=101,t.next=104,a.contract().at(e.exchangePair);case 104:return b=t.sent,b.loadAbi(P),t.next=108,b.getTrxToTokenInputPrice(a.toHex(e.form.amount*Math.pow(10,6))).call({_isConstant:!0});case 108:if(y=t.sent,x=y/Math.pow(10,e.token2Info.decimal),e.addTerminalInfo(e.formatDate((new Date).getTime())+": 预计可以获得: "+x),!(x<Number(e.form.minAmount))){t.next=118;break}return e.addTerminalInfo(e.formatDate((new Date).getTime())+": 小于设定获得的最小值: "+Number(e.form.minAmount)),t.next=115,Object(m["G"])(1e3*Number(e.form.timep));case 115:return t.next=117,e.swap();case 117:return t.abrupt("return");case 118:t.next=127;break;case 120:return t.prev=120,t.t4=t["catch"](101),t.next=124,Object(m["G"])(1e3*Number(e.form.timep));case 124:return t.next=126,e.swap();case 126:return t.abrupt("return");case 127:if("v2"!==e.type){t.next=154;break}return t.prev=128,t.next=131,a.contract().at("TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax");case 131:return k=t.sent,k.loadAbi([{constant:!0,inputs:[{name:"token",type:"uint256"},{name:"token",type:"address[]"}],name:"getAmountsOut",outputs:[{type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"}]),t.next=135,k.getAmountsOut(e.form.amount*Math.pow(10,6),["TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR",n]).call({_isConstant:!0});case 135:if(v=t.sent,g=parseInt(v[1]._hex)/Math.pow(10,e.token2Info.decimal),e.addTerminalInfo(e.formatDate((new Date).getTime())+": 预计可以获得: "+g),!(g<Number(e.form.minAmount))){t.next=145;break}return e.addTerminalInfo(e.formatDate((new Date).getTime())+": 小于设定获得的最小值: "+Number(e.form.minAmount)),t.next=142,Object(m["G"])(1e3*Number(e.form.timep));case 142:return t.next=144,e.swap();case 144:return t.abrupt("return");case 145:t.next=154;break;case 147:return t.prev=147,t.t5=t["catch"](128),t.next=151,Object(m["G"])(1e3*Number(e.form.timep));case 151:return t.next=153,e.swap();case 153:return t.abrupt("return");case 154:return t.prev=154,"v1"===e.type&&(h="trxToTokenSwapInput(uint256,uint256)"),"v2"===e.type&&(h="swapExactETHForTokensSupportingFeeOnTransferTokens(uint256,address[],address,uint256)"),w={feeLimit:1e8,callValue:"0x"+(1e6*e.form.amount).toString(16)},"v1"===e.type&&(_=[{type:"uint256",value:"0x"+100..toString(16)},{type:"uint256",value:Date.parse(new Date)/1e3+120}]),"v2"===e.type&&(_=[{type:"uint256",value:"0x0"},{type:"address[]",value:["TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR",n]},{type:"address",value:e.address},{type:"uint256",value:Date.parse(new Date)/1e3+120}]),"v1"===e.type&&(T=e.exchangePair),"v2"===e.type&&(T="TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax"),t.next=164,a.transactionBuilder.triggerSmartContract(T,h,w,_,a.address.toHex(e.address));case 164:return C=t.sent,t.next=167,a.trx.multiSign(C.transaction,e.form.pkv,0);case 167:return I=t.sent,t.next=170,a.trx.sendRawTransaction(I);case 170:return D=t.sent,D&&D.txid&&(e.ojbk=!0,e.txlink=e.pt[parseInt(e.form.platform)].scan+"/#/transaction/"+D.txid,e.txid=D.txid,e.swap_sell()),t.next=174,Object(m["G"])(35e4);case 174:return t.next=176,e.swap();case 176:t.next=185;break;case 178:return t.prev=178,t.t6=t["catch"](154),e.addTerminalInfo(e.formatDate((new Date).getTime())+": 购买失败，会自动重试: "+t.t6.toString()),t.next=183,Object(m["G"])(35e4);case 183:return t.next=185,e.swap();case 185:case"end":return t.stop()}}),t,null,[[5,24],[32,43],[52,66],[74,92],[101,120],[128,147],[154,178]])})))()},swap_sell:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r,s,i,u,p,c,l,d,f,b;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.sellRun){t.next=3;break}return e.addTerminalInfo(e.formatDate((new Date).getTime())+": 信息检测停止"),t.abrupt("return");case 3:if(e.approve2_close){t.next=22;break}return"v1"===e.type&&(n=e.exchangePair),"v2"===e.type&&(n="TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax"),t.prev=6,t.next=9,a.transactionBuilder.triggerSmartContract(e.form.toToken,"approve(address,uint256)",{feeLimit:4e7},[{type:"address",value:n},{type:"uint256",value:"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"}],e.address);case 9:return r=t.sent,t.next=12,a.trx.sign(r.transaction,e.form.pkv);case 12:return s=t.sent,t.next=15,a.trx.sendRawTransaction(s);case 15:e.approve2_close=!0,e.addTerminalInfo(e.formatDate((new Date).getTime())+": 授权成功 "),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](6),e.addTerminalInfo(e.formatDate((new Date).getTime())+": 授权失败: "+t.t0.toString());case 22:return i=e.form.toToken,u=0,t.prev=24,t.next=27,a.contract([{outputs:[{type:"uint256"}],inputs:[{name:"account",type:"address"}],name:"balanceOf",stateMutability:"View",type:"Function"}],i);case 27:return p=t.sent,t.next=30,p.balanceOf(e.address).call({_isConstant:!0});case 30:c=t.sent,u=parseFloat(a.toDecimal(c._hex)/Math.pow(10,e.token2Info.decimal)),e.tokenBalance=a.toDecimal(c._hex),t.next=42;break;case 35:return t.prev=35,t.t1=t["catch"](24),t.next=39,Object(m["G"])(2e3);case 39:return t.next=41,e.swap_sell();case 41:return t.abrupt("return");case 42:if(!(Number(u)>0)){t.next=75;break}if(e.isRun=!1,e.addTerminalInfo(e.formatDate((new Date).getTime())+": 买入数量="+u),"v1"!==e.type){t.next=59;break}return t.prev=46,t.next=49,a.contract().at(e.exchangePair);case 49:return l=t.sent,l.loadAbi(P),t.next=53,l.getTokenToTrxInputPrice(a.toHex(e.tokenBalance)).call({_isConstant:!0});case 53:d=t.sent,e.addTerminalInfo(e.formatDate((new Date).getTime())+": 卖出可获得 ="+d/Math.pow(10,6)),t.next=59;break;case 57:t.prev=57,t.t2=t["catch"](46);case 59:if("v2"!==e.type){t.next=73;break}return t.prev=60,t.next=63,a.contract().at("TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax");case 63:return f=t.sent,f.loadAbi([{constant:!0,inputs:[{name:"token",type:"uint256"},{name:"token",type:"address[]"}],name:"getAmountsOut",outputs:[{type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"}]),t.next=67,f.getAmountsOut(e.tokenBalance,[i,"TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR"]).call({_isConstant:!0});case 67:b=t.sent,e.addTerminalInfo(e.formatDate((new Date).getTime())+": 卖出可获得 ="+parseInt(b[1]._hex)/Math.pow(10,6)),t.next=73;break;case 71:t.prev=71,t.t3=t["catch"](60);case 73:t.next=76;break;case 75:e.addTerminalInfo(e.formatDate((new Date).getTime())+": 买入数量="+u);case 76:return t.next=78,Object(m["G"])(2e3);case 78:return t.next=80,e.swap_sell();case 80:case"end":return t.stop()}}),t,null,[[6,19],[24,35],[46,57],[60,71]])})))()},OneKeySell:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r,s,i,u,p,c,l,m,d;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.approve2_close){t.next=19;break}return"v1"===e.type&&(n=e.exchangePair),"v2"===e.type&&(n="TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax"),t.prev=3,t.next=6,a.transactionBuilder.triggerSmartContract(e.form.toToken,"approve(address,uint256)",{feeLimit:4e7},[{type:"address",value:n},{type:"uint256",value:"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"}],e.address);case 6:return r=t.sent,t.next=9,a.trx.sign(r.transaction,e.form.pkv);case 9:return s=t.sent,t.next=12,a.trx.sendRawTransaction(s);case 12:e.approve2_close=!0,e.addTerminalInfo(e.formatDate((new Date).getTime())+": 授权成功 "),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),e.addTerminalInfo(e.formatDate((new Date).getTime())+": 授权失败: "+t.t0.toString());case 19:if(!(Number(e.tokenBalance)>0)){t.next=45;break}return t.prev=20,"v1"===e.type&&(i="tokenToTrxSwapInput(uint256,uint256,uint256)"),"v2"===e.type&&(i="swapExactTokensForETHSupportingFeeOnTransferTokens(uint256,uint256,address[],address,uint256)"),u={feeLimit:1e8,callValue:0},"v1"===e.type&&(p=[{type:"uint256",value:"0x"+e.tokenBalance.toString(16)},{type:"uint256",value:"0x"+100..toString(16)},{type:"uint256",value:Date.parse(new Date)/1e3+120}]),"v2"===e.type&&(p=[{type:"uint256",value:"0x"+e.tokenBalance.toString(16)},{type:"uint256",value:"0x0"},{type:"address[]",value:[e.form.toToken,"TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR"]},{type:"address",value:e.address},{type:"uint256",value:Date.parse(new Date)/1e3+120}]),"v1"===e.type&&(c=e.exchangePair),"v2"===e.type&&(c="TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax"),t.next=30,a.transactionBuilder.triggerSmartContract(a.address.fromHex(c),i,u,p,a.address.toHex(e.address));case 30:return l=t.sent,t.next=33,a.trx.multiSign(l.transaction,e.form.pkv,0);case 33:return m=t.sent,t.next=36,a.trx.sendRawTransaction(m);case 36:d=t.sent,d&&d.txid&&(e.sellRun=!1,e.addTerminalInfo(e.formatDate((new Date).getTime())+": 卖出成功:"+d.txid)),t.next=43;break;case 40:t.prev=40,t.t1=t["catch"](20),e.addTerminalInfo(e.formatDate((new Date).getTime())+": 卖出失败: "+t.t1.toString());case 43:t.next=46;break;case 45:e.addTerminalInfo(e.formatDate((new Date).getTime())+": 余额0 无法卖出");case 46:case"end":return t.stop()}}),t,null,[[3,16],[20,40]])})))()},init_account:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!==e.form.rpc){t.next=4;break}return e.$message.error(e.$t("grabCoin.error_platform")),t.abrupt("return");case 4:return a=new A.a({headers:{"TRON-PRO-API-KEY":Object(p["b"])()},fullHost:e.form.rpc}),n=a.address.fromPrivateKey(e.form.pkv.trim()),e.address=n,a.setPrivateKey(e.form.pkv.trim()),a.setAddress(e.address),t.next=11,a.trx.getAccount(n);case 11:r=t.sent,e.balance=r.balance/Math.pow(10,6),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0.message),e.$message.error(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},isTestRpc:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n,a,r,s,i;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=(new Date).getTime(),a=new A.a({headers:{"TRON-PRO-API-KEY":Object(p["b"])()},fullHost:e.form.rpc}),t.next=5,a.trx.getNodeInfo();case 5:r=t.sent,s=(new Date).getTime(),i=((s-n)/1e3).toFixed(2),e.$message({message:"获取到最新区块ID:"+r.block+" 耗时 "+i+"秒",type:"success"}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.$message.error(e.$t("grabCoin.rpc_err_tips"));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},isTestToken2:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("BASECOIN"!==e.form.toToken.trim()){t.next=3;break}return e.$message.error("基础代币不用检测!"),t.abrupt("return");case 3:return t.next=5,e.getTokenInfo(e.form.toToken);case 5:n=t.sent,n.symbol&&n.decimal?(e.token2Info=n,e.$message({message:"Token获取成功:"+n.symbol,type:"success"})):e.$message.error(e.$t("grabCoin.token_err_tips"));case 7:case"end":return t.stop()}}),t)})))()},getTokenInfo:function(e){return Object(i["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.setAddress("TVJ6njG5EpUwJt4N9xjTrqU5za78cgadS2"),t.abrupt("return",new Promise(function(){var t=Object(i["a"])(Object(o["a"])().mark((function t(n,r){var s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.contract([{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"}],e);case 3:s=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),r(t.t0);case 9:return t.prev=9,t.next=12,Object(M["a"])([s.symbol().call({_isConstant:!0}).catch((function(e){return null})),s.decimals().call({_isConstant:!0}).catch((function(e){return null}))]).subscribe((function(e){var t={symbol:e[0],decimal:e[1]};n(t)}),(function(e){console.log(e),r("get infor fail")}));case 12:t.next=17;break;case 14:t.prev=14,t.t1=t["catch"](9),r(t.t1);case 17:case"end":return t.stop()}}),t,null,[[0,6],[9,14]])})));return function(e,n){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})))()},formatDate:function(e){var t=new Date(e),n=t.getFullYear()+"-",a=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",r=t.getDate()<10?"0"+t.getDate():t.getDate(),s=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",o=(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":",i=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return n+a+r+" "+s+o+i}}},V=E,R=(n("5503"),Object(w["a"])(V,r,s,!1,null,"4ef5aa34",null));t["default"]=R.exports},4407:function(e,t,n){},"524f":function(e,t,n){"use strict";n("4407")},5503:function(e,t,n){"use strict";n("88dd")},7833:function(e,t,n){},"88dd":function(e,t,n){},db79:function(e,t,n){"use strict";n("7833")}}]);