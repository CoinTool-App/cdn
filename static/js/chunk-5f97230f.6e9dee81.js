(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f97230f","chunk-3a398e4c"],{"0217":function(t,e,r){"use strict";var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof o)return o;throw new Error("unable to locate global object")},o=n();t.exports=e=o.fetch,o.fetch&&(e.default=o.fetch.bind(o)),e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response},"06d0":function(t,e,r){"use strict";r.d(e,"a",(function(){return m})),r.d(e,"b",(function(){return w})),r.d(e,"c",(function(){return h})),r.d(e,"d",(function(){return v})),r.d(e,"e",(function(){return R})),r.d(e,"f",(function(){return d})),r.d(e,"g",(function(){return O})),r.d(e,"h",(function(){return j})),r.d(e,"i",(function(){return _})),r.d(e,"j",(function(){return S})),r.d(e,"k",(function(){return E})),r.d(e,"l",(function(){return x})),r.d(e,"m",(function(){return A})),r.d(e,"n",(function(){return I})),r.d(e,"o",(function(){return B})),r.d(e,"p",(function(){return P})),r.d(e,"q",(function(){return T}));class n extends TypeError{constructor(t,e){let r;const{message:n,...o}=t,{path:i}=t,s=0===i.length?n:"At path: "+i.join(".")+" -- "+n;super(s),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function o(t){return i(t)&&"function"===typeof t[Symbol.iterator]}function i(t){return"object"===typeof t&&null!=t}function s(t){return"string"===typeof t?JSON.stringify(t):""+t}function a(t){const{done:e,value:r}=t.next();return e?void 0:r}function c(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"===typeof t&&(t={message:t});const{path:o,branch:i}=e,{type:a}=r,{refinement:c,message:u="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+s(n)+"`"}=t;return{value:n,type:a,refinement:c,key:o[o.length-1],path:o,branch:i,...t,message:u}}function*u(t,e,r,n){o(t)||(t=[t]);for(const o of t){const t=c(o,e,r,n);t&&(yield t)}}function*l(t,e,r={}){const{path:n=[],branch:o=[t],coerce:s=!1,mask:a=!1}=r,c={path:n,branch:o};if(s&&(t=e.coercer(t,c),a&&"type"!==e.type&&i(e.schema)&&i(t)&&!Array.isArray(t)))for(const i in t)void 0===e.schema[i]&&delete t[i];let u=!0;for(const i of e.validator(t,c))u=!1,yield[i,void 0];for(let[f,h,d]of e.entries(t,c)){const e=l(h,d,{path:void 0===f?n:[...n,f],branch:void 0===f?o:[...o,h],coerce:s,mask:a});for(const r of e)r[0]?(u=!1,yield[r[0],void 0]):s&&(h=r[1],void 0===f?t=h:t instanceof Map?t.set(f,h):t instanceof Set?t.add(h):i(t)&&(t[f]=h))}if(u)for(const i of e.refiner(t,c))u=!1,yield[i,void 0];u&&(yield[void 0,t])}class f{constructor(t){const{type:e,schema:r,validator:n,refiner:o,coercer:i=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=r,this.entries=s,this.coercer=i,this.validator=n?(t,e)=>{const r=n(t,e);return u(r,e,this,t)}:()=>[],this.refiner=o?(t,e)=>{const r=o(t,e);return u(r,e,this,t)}:()=>[]}assert(t){return h(t,this)}create(t){return d(t,this)}is(t){return b(t,this)}mask(t){return p(t,this)}validate(t,e={}){return y(t,this,e)}}function h(t,e){const r=y(t,e);if(r[0])throw r[0]}function d(t,e){const r=y(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function p(t,e){const r=y(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function b(t,e){const r=y(t,e);return!r[0]}function y(t,e,r={}){const o=l(t,e,r),i=a(o);if(i[0]){const t=new n(i[0],(function*(){for(const t of o)t[0]&&(yield t[0])}));return[t,void 0]}{const t=i[1];return[void 0,t]}}function g(t,e){return new f({type:t,schema:null,validator:e})}function m(){return g("any",()=>!0)}function w(t){return new f({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+s(t)}})}function v(){return g("boolean",t=>"boolean"===typeof t)}function O(t){return g("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+s(e))}function j(t){const e=s(t),r=typeof t;return new f({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+s(r)}})}function k(){return g("never",()=>!1)}function _(t){return new f({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function S(){return g("number",t=>"number"===typeof t&&!isNaN(t)||"Expected a number, but received: "+s(t))}function E(t){return new f({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function x(t,e){return new f({type:"record",schema:null,*entries(r){if(i(r))for(const n in r){const o=r[n];yield[n,n,t],yield[n,o,e]}},validator(t){return i(t)||"Expected an object, but received: "+s(t)}})}function A(){return g("string",t=>"string"===typeof t||"Expected a string, but received: "+s(t))}function I(t){const e=k();return new f({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],t[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+s(t)}})}function B(t){const e=Object.keys(t);return new f({type:"type",schema:t,*entries(r){if(i(r))for(const n of e)yield[n,r[n],t[n]]},validator(t){return i(t)||"Expected an object, but received: "+s(t)}})}function P(t){const e=t.map(t=>t.type).join(" | ");return new f({type:"union",schema:null,validator(r,n){const o=[];for(const e of t){const[...t]=l(r,e,n),[i]=t;if(!i[0])return[];for(const[e]of t)e&&o.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+s(r),...o]}})}function T(){return g("unknown",()=>!0)}function R(t,e,r){return new f({...t,coercer:(n,o)=>b(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}},"06ef":function(t,e){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},"0cb9":function(t,e){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},10:function(t,e){},11:function(t,e){},12:function(t,e){},1807:function(t,e){const r={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function n(t,e){if(!t)throw new Error(e)}function o(t,e,r){if(n(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const o=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${o}]`;n(r.includes(e.length),i)}else{const o=`Expected ${t} to be an Uint8Array with length ${r}`;n(e.length===r,o)}}function i(t){n("Boolean"===a(t),"Expected compressed to be a Boolean")}function s(t=(t=>new Uint8Array(t)),e){return"function"===typeof t&&(t=t(e)),o("output",t,e),t}function a(t){return Object.prototype.toString.call(t).slice(8,-1)}t.exports=t=>({contextRandomize(e){switch(n(null===e||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==e&&o("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(r.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return o("private key",e,32),0===t.privateKeyVerify(e)},privateKeyNegate(e){switch(o("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(r.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,n){switch(o("private key",e,32),o("tweak",n,32),t.privateKeyTweakAdd(e,n)){case 0:return e;case 1:throw new Error(r.TWEAK_ADD)}},privateKeyTweakMul(e,n){switch(o("private key",e,32),o("tweak",n,32),t.privateKeyTweakMul(e,n)){case 0:return e;case 1:throw new Error(r.TWEAK_MUL)}},publicKeyVerify(e){return o("public key",e,[33,65]),0===t.publicKeyVerify(e)},publicKeyCreate(e,n=!0,a){switch(o("private key",e,32),i(n),a=s(a,n?33:65),t.publicKeyCreate(a,e)){case 0:return a;case 1:throw new Error(r.SECKEY_INVALID);case 2:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyConvert(e,n=!0,a){switch(o("public key",e,[33,65]),i(n),a=s(a,n?33:65),t.publicKeyConvert(a,e)){case 0:return a;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyNegate(e,n=!0,a){switch(o("public key",e,[33,65]),i(n),a=s(a,n?33:65),t.publicKeyNegate(a,e)){case 0:return a;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE);case 3:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyCombine(e,a=!0,c){n(Array.isArray(e),"Expected public keys to be an Array"),n(e.length>0,"Expected public keys array will have more than zero items");for(const t of e)o("public key",t,[33,65]);switch(i(a),c=s(c,a?33:65),t.publicKeyCombine(c,e)){case 0:return c;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.PUBKEY_COMBINE);case 3:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,n,a=!0,c){switch(o("public key",e,[33,65]),o("tweak",n,32),i(a),c=s(c,a?33:65),t.publicKeyTweakAdd(c,e,n)){case 0:return c;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.TWEAK_ADD)}},publicKeyTweakMul(e,n,a=!0,c){switch(o("public key",e,[33,65]),o("tweak",n,32),i(a),c=s(c,a?33:65),t.publicKeyTweakMul(c,e,n)){case 0:return c;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.TWEAK_MUL)}},signatureNormalize(e){switch(o("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(r.SIG_PARSE)}},signatureExport(e,n){o("signature",e,64),n=s(n,72);const i={output:n,outputlen:72};switch(t.signatureExport(i,e)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},signatureImport(e,n){switch(o("signature",e),n=s(n,64),t.signatureImport(n,e)){case 0:return n;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},ecdsaSign(e,i,c={},u){o("message",e,32),o("private key",i,32),n("Object"===a(c),"Expected options to be an Object"),void 0!==c.data&&o("options.data",c.data),void 0!==c.noncefn&&n("Function"===a(c.noncefn),"Expected options.noncefn to be a Function"),u=s(u,64);const l={signature:u,recid:null};switch(t.ecdsaSign(l,e,i,c.data,c.noncefn)){case 0:return l;case 1:throw new Error(r.SIGN);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},ecdsaVerify(e,n,i){switch(o("signature",e,64),o("message",n,32),o("public key",i,[33,65]),t.ecdsaVerify(e,n,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.PUBKEY_PARSE)}},ecdsaRecover(e,c,u,l=!0,f){switch(o("signature",e,64),n("Number"===a(c)&&c>=0&&c<=3,"Expected recovery id to be a Number within interval [0, 3]"),o("message",u,32),i(l),f=s(f,l?33:65),t.ecdsaRecover(f,e,c,u)){case 0:return f;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.RECOVER);case 3:throw new Error(r.IMPOSSIBLE_CASE)}},ecdh(e,i,c={},u){switch(o("public key",e,[33,65]),o("private key",i,32),n("Object"===a(c),"Expected options to be an Object"),void 0!==c.data&&o("options.data",c.data),void 0!==c.hashfn?(n("Function"===a(c.hashfn),"Expected options.hashfn to be a Function"),void 0!==c.xbuf&&o("options.xbuf",c.xbuf,32),void 0!==c.ybuf&&o("options.ybuf",c.ybuf,32),o("output",u)):u=s(u,32),t.ecdh(u,e,i,c.data,c.hashfn,c.xbuf,c.ybuf)){case 0:return u;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.ECDH)}}})},"18ba":function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return Dn})),r.d(e,"b",(function(){return vr})),r.d(e,"c",(function(){return Fr})),r.d(e,"d",(function(){return Qr})),r.d(e,"e",(function(){return qr})),r.d(e,"f",(function(){return Wr})),r.d(e,"g",(function(){return Vr}));var n=r("2c95"),o=r.n(n),i=r("fd40"),s=r("53a7"),a=r.n(s),c=r("5dec"),u=r.n(c),l=r("b577"),f=r("a7f4"),h=r("06d0"),d=(r("b85b"),r("6817"),r("3270")),p=r.n(d),b=r("7b31"),y=r.n(b);const g=t=>i["Buffer"].isBuffer(t)?t:t instanceof Uint8Array?i["Buffer"].from(t.buffer,t.byteOffset,t.byteLength):i["Buffer"].from(t);var m="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function w(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}var v={},O={},j=k;function k(t,e){if(!t)throw new Error(e||"Assertion failed")}k.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var _={exports:{}};"function"===typeof Object.create?_.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:_.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t};var S=j,E=_.exports;function x(t,e){return 55296===(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1)))}function A(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"===typeof t)if(e){if("hex"===e)for(t=t.replace(/[^a-z0-9]+/gi,""),t.length%2!==0&&(t="0"+t),o=0;o<t.length;o+=2)r.push(parseInt(t[o]+t[o+1],16))}else for(var n=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=63&i|128):x(t,o)?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++o)),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=63&i|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=63&i|128)}else for(o=0;o<t.length;o++)r[o]=0|t[o];return r}function I(t){for(var e="",r=0;r<t.length;r++)e+=T(t[r].toString(16));return e}function B(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24;return e>>>0}function P(t,e){for(var r="",n=0;n<t.length;n++){var o=t[n];"little"===e&&(o=B(o)),r+=R(o.toString(16))}return r}function T(t){return 1===t.length?"0"+t:t}function R(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}function L(t,e,r,n){var o=r-e;S(o%4===0);for(var i=new Array(o/4),s=0,a=e;s<i.length;s++,a+=4){var c;c="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],i[s]=c>>>0}return i}function U(t,e){for(var r=new Array(4*t.length),n=0,o=0;n<t.length;n++,o+=4){var i=t[n];"big"===e?(r[o]=i>>>24,r[o+1]=i>>>16&255,r[o+2]=i>>>8&255,r[o+3]=255&i):(r[o+3]=i>>>24,r[o+2]=i>>>16&255,r[o+1]=i>>>8&255,r[o]=255&i)}return r}function C(t,e){return t>>>e|t<<32-e}function M(t,e){return t<<e|t>>>32-e}function N(t,e){return t+e>>>0}function z(t,e,r){return t+e+r>>>0}function W(t,e,r,n){return t+e+r+n>>>0}function q(t,e,r,n,o){return t+e+r+n+o>>>0}function D(t,e,r,n){var o=t[e],i=t[e+1],s=n+i>>>0,a=(s<n?1:0)+r+o;t[e]=a>>>0,t[e+1]=s}function K(t,e,r,n){var o=e+n>>>0,i=(o<e?1:0)+t+r;return i>>>0}function F(t,e,r,n){var o=e+n;return o>>>0}function $(t,e,r,n,o,i,s,a){var c=0,u=e;u=u+n>>>0,c+=u<e?1:0,u=u+i>>>0,c+=u<i?1:0,u=u+a>>>0,c+=u<a?1:0;var l=t+r+o+s+c;return l>>>0}function V(t,e,r,n,o,i,s,a){var c=e+n+i+a;return c>>>0}function G(t,e,r,n,o,i,s,a,c,u){var l=0,f=e;f=f+n>>>0,l+=f<e?1:0,f=f+i>>>0,l+=f<i?1:0,f=f+a>>>0,l+=f<a?1:0,f=f+u>>>0,l+=f<u?1:0;var h=t+r+o+s+c+l;return h>>>0}function H(t,e,r,n,o,i,s,a,c,u){var l=e+n+i+a+u;return l>>>0}function Y(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}function Z(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}function X(t,e,r){return t>>>r}function J(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}O.inherits=E,O.toArray=A,O.toHex=I,O.htonl=B,O.toHex32=P,O.zero2=T,O.zero8=R,O.join32=L,O.split32=U,O.rotr32=C,O.rotl32=M,O.sum32=N,O.sum32_3=z,O.sum32_4=W,O.sum32_5=q,O.sum64=D,O.sum64_hi=K,O.sum64_lo=F,O.sum64_4_hi=$,O.sum64_4_lo=V,O.sum64_5_hi=G,O.sum64_5_lo=H,O.rotr64_hi=Y,O.rotr64_lo=Z,O.shr64_hi=X,O.shr64_lo=J;var Q={},tt=O,et=j;function rt(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Q.BlockHash=rt,rt.prototype.update=function(t,e){if(t=tt.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var r=t.length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=tt.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},rt.prototype.digest=function(t){return this.update(this._pad()),et(null===this.pending),this._digest(t)},rt.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var o=1;o<r;o++)n[o]=0;if(t<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=t>>>24&255,n[o++]=t>>>16&255,n[o++]=t>>>8&255,n[o++]=255&t}else for(n[o++]=255&t,n[o++]=t>>>8&255,n[o++]=t>>>16&255,n[o++]=t>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,i=8;i<this.padLength;i++)n[o++]=0;return n};var nt={},ot={},it=O,st=it.rotr32;function at(t,e,r,n){return 0===t?ct(e,r,n):1===t||3===t?lt(e,r,n):2===t?ut(e,r,n):void 0}function ct(t,e,r){return t&e^~t&r}function ut(t,e,r){return t&e^t&r^e&r}function lt(t,e,r){return t^e^r}function ft(t){return st(t,2)^st(t,13)^st(t,22)}function ht(t){return st(t,6)^st(t,11)^st(t,25)}function dt(t){return st(t,7)^st(t,18)^t>>>3}function pt(t){return st(t,17)^st(t,19)^t>>>10}ot.ft_1=at,ot.ch32=ct,ot.maj32=ut,ot.p32=lt,ot.s0_256=ft,ot.s1_256=ht,ot.g0_256=dt,ot.g1_256=pt;var bt=O,yt=Q,gt=ot,mt=bt.rotl32,wt=bt.sum32,vt=bt.sum32_5,Ot=gt.ft_1,jt=yt.BlockHash,kt=[1518500249,1859775393,2400959708,3395469782];function _t(){if(!(this instanceof _t))return new _t;jt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}bt.inherits(_t,jt);var St=_t;_t.blockSize=512,_t.outSize=160,_t.hmacStrength=80,_t.padLength=64,_t.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=mt(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=vt(mt(o,5),Ot(u,i,s,a),c,r[n],kt[u]);c=a,a=s,s=mt(i,30),i=o,o=l}this.h[0]=wt(this.h[0],o),this.h[1]=wt(this.h[1],i),this.h[2]=wt(this.h[2],s),this.h[3]=wt(this.h[3],a),this.h[4]=wt(this.h[4],c)},_t.prototype._digest=function(t){return"hex"===t?bt.toHex32(this.h,"big"):bt.split32(this.h,"big")};var Et=O,xt=Q,At=ot,It=j,Bt=Et.sum32,Pt=Et.sum32_4,Tt=Et.sum32_5,Rt=At.ch32,Lt=At.maj32,Ut=At.s0_256,Ct=At.s1_256,Mt=At.g0_256,Nt=At.g1_256,zt=xt.BlockHash,Wt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function qt(){if(!(this instanceof qt))return new qt;zt.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Wt,this.W=new Array(64)}Et.inherits(qt,zt);var Dt=qt;qt.blockSize=512,qt.outSize=256,qt.hmacStrength=192,qt.padLength=64,qt.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Pt(Nt(r[n-2]),r[n-7],Mt(r[n-15]),r[n-16]);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],f=this.h[7];for(It(this.k.length===r.length),n=0;n<r.length;n++){var h=Tt(f,Ct(c),Rt(c,u,l),this.k[n],r[n]),d=Bt(Ut(o),Lt(o,i,s));f=l,l=u,u=c,c=Bt(a,h),a=s,s=i,i=o,o=Bt(h,d)}this.h[0]=Bt(this.h[0],o),this.h[1]=Bt(this.h[1],i),this.h[2]=Bt(this.h[2],s),this.h[3]=Bt(this.h[3],a),this.h[4]=Bt(this.h[4],c),this.h[5]=Bt(this.h[5],u),this.h[6]=Bt(this.h[6],l),this.h[7]=Bt(this.h[7],f)},qt.prototype._digest=function(t){return"hex"===t?Et.toHex32(this.h,"big"):Et.split32(this.h,"big")};var Kt=O,Ft=Dt;function $t(){if(!(this instanceof $t))return new $t;Ft.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Kt.inherits($t,Ft);var Vt=$t;$t.blockSize=512,$t.outSize=224,$t.hmacStrength=192,$t.padLength=64,$t.prototype._digest=function(t){return"hex"===t?Kt.toHex32(this.h.slice(0,7),"big"):Kt.split32(this.h.slice(0,7),"big")};var Gt=O,Ht=Q,Yt=j,Zt=Gt.rotr64_hi,Xt=Gt.rotr64_lo,Jt=Gt.shr64_hi,Qt=Gt.shr64_lo,te=Gt.sum64,ee=Gt.sum64_hi,re=Gt.sum64_lo,ne=Gt.sum64_4_hi,oe=Gt.sum64_4_lo,ie=Gt.sum64_5_hi,se=Gt.sum64_5_lo,ae=Ht.BlockHash,ce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ue(){if(!(this instanceof ue))return new ue;ae.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ce,this.W=new Array(160)}Gt.inherits(ue,ae);var le=ue;function fe(t,e,r,n,o){var i=t&r^~t&o;return i<0&&(i+=4294967296),i}function he(t,e,r,n,o,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function de(t,e,r,n,o){var i=t&r^t&o^r&o;return i<0&&(i+=4294967296),i}function pe(t,e,r,n,o,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function be(t,e){var r=Zt(t,e,28),n=Zt(e,t,2),o=Zt(e,t,7),i=r^n^o;return i<0&&(i+=4294967296),i}function ye(t,e){var r=Xt(t,e,28),n=Xt(e,t,2),o=Xt(e,t,7),i=r^n^o;return i<0&&(i+=4294967296),i}function ge(t,e){var r=Zt(t,e,14),n=Zt(t,e,18),o=Zt(e,t,9),i=r^n^o;return i<0&&(i+=4294967296),i}function me(t,e){var r=Xt(t,e,14),n=Xt(t,e,18),o=Xt(e,t,9),i=r^n^o;return i<0&&(i+=4294967296),i}function we(t,e){var r=Zt(t,e,1),n=Zt(t,e,8),o=Jt(t,e,7),i=r^n^o;return i<0&&(i+=4294967296),i}function ve(t,e){var r=Xt(t,e,1),n=Xt(t,e,8),o=Qt(t,e,7),i=r^n^o;return i<0&&(i+=4294967296),i}function Oe(t,e){var r=Zt(t,e,19),n=Zt(e,t,29),o=Jt(t,e,6),i=r^n^o;return i<0&&(i+=4294967296),i}function je(t,e){var r=Xt(t,e,19),n=Xt(e,t,29),o=Qt(t,e,6),i=r^n^o;return i<0&&(i+=4294967296),i}ue.blockSize=1024,ue.outSize=512,ue.hmacStrength=192,ue.padLength=128,ue.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var o=Oe(r[n-4],r[n-3]),i=je(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=we(r[n-30],r[n-29]),u=ve(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=ne(o,i,s,a,c,u,l,f),r[n+1]=oe(o,i,s,a,c,u,l,f)}},ue.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],f=this.h[8],h=this.h[9],d=this.h[10],p=this.h[11],b=this.h[12],y=this.h[13],g=this.h[14],m=this.h[15];Yt(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var v=g,O=m,j=ge(f,h),k=me(f,h),_=fe(f,h,d,p,b),S=he(f,h,d,p,b,y),E=this.k[w],x=this.k[w+1],A=r[w],I=r[w+1],B=ie(v,O,j,k,_,S,E,x,A,I),P=se(v,O,j,k,_,S,E,x,A,I);v=be(n,o),O=ye(n,o),j=de(n,o,i,s,a),k=pe(n,o,i,s,a,c);var T=ee(v,O,j,k),R=re(v,O,j,k);g=b,m=y,b=d,y=p,d=f,p=h,f=ee(u,l,B,P),h=re(l,l,B,P),u=a,l=c,a=i,c=s,i=n,s=o,n=ee(B,P,T,R),o=re(B,P,T,R)}te(this.h,0,n,o),te(this.h,2,i,s),te(this.h,4,a,c),te(this.h,6,u,l),te(this.h,8,f,h),te(this.h,10,d,p),te(this.h,12,b,y),te(this.h,14,g,m)},ue.prototype._digest=function(t){return"hex"===t?Gt.toHex32(this.h,"big"):Gt.split32(this.h,"big")};var ke=O,_e=le;function Se(){if(!(this instanceof Se))return new Se;_e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ke.inherits(Se,_e);var Ee=Se;Se.blockSize=1024,Se.outSize=384,Se.hmacStrength=192,Se.padLength=128,Se.prototype._digest=function(t){return"hex"===t?ke.toHex32(this.h.slice(0,12),"big"):ke.split32(this.h.slice(0,12),"big")},nt.sha1=St,nt.sha224=Vt,nt.sha256=Dt,nt.sha384=Ee,nt.sha512=le;var xe={},Ae=O,Ie=Q,Be=Ae.rotl32,Pe=Ae.sum32,Te=Ae.sum32_3,Re=Ae.sum32_4,Le=Ie.BlockHash;function Ue(){if(!(this instanceof Ue))return new Ue;Le.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Ce(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Me(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Ne(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Ae.inherits(Ue,Le),xe.ripemd160=Ue,Ue.blockSize=512,Ue.outSize=160,Ue.hmacStrength=192,Ue.padLength=64,Ue.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],o=this.h[2],i=this.h[3],s=this.h[4],a=r,c=n,u=o,l=i,f=s,h=0;h<80;h++){var d=Pe(Be(Re(r,Ce(h,n,o,i),t[ze[h]+e],Me(h)),qe[h]),s);r=s,s=i,i=Be(o,10),o=n,n=d,d=Pe(Be(Re(a,Ce(79-h,c,u,l),t[We[h]+e],Ne(h)),De[h]),f),a=f,f=l,l=Be(u,10),u=c,c=d}d=Te(this.h[1],o,l),this.h[1]=Te(this.h[2],i,f),this.h[2]=Te(this.h[3],s,a),this.h[3]=Te(this.h[4],r,c),this.h[4]=Te(this.h[0],n,u),this.h[0]=d},Ue.prototype._digest=function(t){return"hex"===t?Ae.toHex32(this.h,"little"):Ae.split32(this.h,"little")};var ze=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],We=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],qe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],De=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ke=O,Fe=j;function $e(t,e,r){if(!(this instanceof $e))return new $e(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ke.toArray(e,r))}var Ve=$e;$e.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Fe(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},$e.prototype.update=function(t,e){return this.inner.update(t,e),this},$e.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=O,e.common=Q,e.sha=nt,e.ripemd=xe,e.hmac=Ve,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(v);var Ge=v;const He="logger/5.5.0";let Ye=!1,Ze=!1;const Xe={debug:1,default:2,info:2,warning:3,error:4,off:5};let Je=Xe["default"],Qe=null;function tr(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const er=tr();var rr,nr;(function(t){t["DEBUG"]="DEBUG",t["INFO"]="INFO",t["WARNING"]="WARNING",t["ERROR"]="ERROR",t["OFF"]="OFF"})(rr||(rr={})),function(t){t["UNKNOWN_ERROR"]="UNKNOWN_ERROR",t["NOT_IMPLEMENTED"]="NOT_IMPLEMENTED",t["UNSUPPORTED_OPERATION"]="UNSUPPORTED_OPERATION",t["NETWORK_ERROR"]="NETWORK_ERROR",t["SERVER_ERROR"]="SERVER_ERROR",t["TIMEOUT"]="TIMEOUT",t["BUFFER_OVERRUN"]="BUFFER_OVERRUN",t["NUMERIC_FAULT"]="NUMERIC_FAULT",t["MISSING_NEW"]="MISSING_NEW",t["INVALID_ARGUMENT"]="INVALID_ARGUMENT",t["MISSING_ARGUMENT"]="MISSING_ARGUMENT",t["UNEXPECTED_ARGUMENT"]="UNEXPECTED_ARGUMENT",t["CALL_EXCEPTION"]="CALL_EXCEPTION",t["INSUFFICIENT_FUNDS"]="INSUFFICIENT_FUNDS",t["NONCE_EXPIRED"]="NONCE_EXPIRED",t["REPLACEMENT_UNDERPRICED"]="REPLACEMENT_UNDERPRICED",t["UNPREDICTABLE_GAS_LIMIT"]="UNPREDICTABLE_GAS_LIMIT",t["TRANSACTION_REPLACED"]="TRANSACTION_REPLACED"}(nr||(nr={}));const or="0123456789abcdef";class ir{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Xe[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Je>Xe[r]||console.log.apply(console,e)}debug(...t){this._log(ir.levels.DEBUG,t)}info(...t){this._log(ir.levels.INFO,t)}warn(...t){this._log(ir.levels.WARNING,t)}makeError(t,e,r){if(Ze)return this.makeError("censored error",e,{});e||(e=ir.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach(t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=or[e[t]>>4],r+=or[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(i){n.push(t+"="+JSON.stringify(r[t].toString()))}}),n.push("code="+e),n.push("version="+this.version);const o=t;n.length&&(t+=" ("+n.join(", ")+")");const i=new Error(t);return i.reason=o,i.code=e,Object.keys(r).forEach((function(t){i[t]=r[t]})),i}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,ir.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){er&&this.throwError("platform missing String.prototype.normalize",ir.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:er})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,ir.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,ir.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,ir.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,ir.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",ir.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",ir.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",ir.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Qe||(Qe=new ir(He)),Qe}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",ir.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ye){if(!t)return;this.globalLogger().throwError("error censorship permanent",ir.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ze=!!t,Ye=!!e}static setLogLevel(t){const e=Xe[t.toLowerCase()];null!=e?Je=e:ir.globalLogger().warn("invalid log level - "+t)}static from(t){return new ir(t)}}ir.errors=nr,ir.levels=rr;const sr="bytes/5.5.0",ar=new ir(sr);function cr(t){return!!t.toHexString}function ur(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ur(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function lr(t){return"number"===typeof t&&t==t&&t%1===0}function fr(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!lr(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!lr(r)||r<0||r>=256)return!1}return!0}function hr(t,e){if(e||(e={}),"number"===typeof t){ar.checkSafeUint53(t,"invalid arrayify value");const e=[];while(t)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),ur(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),cr(t)&&(t=t.toHexString()),dr(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":ar.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return ur(new Uint8Array(n))}return fr(t)?ur(new Uint8Array(t)):ar.throwArgumentError("invalid arrayify value","value",t)}function dr(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const pr="sha2/5.5.0";function br(t){return"0x"+Ge.sha256().update(hr(t)).digest("hex")}new ir(pr);class yr{constructor(t){Object.assign(this,t)}encode(){return i["Buffer"].from(Object(l["serialize"])(gr,this))}static decode(t){return Object(l["deserialize"])(gr,this,t)}static decodeUnchecked(t){return Object(l["deserializeUnchecked"])(gr,this,t)}}const gr=new Map,mr=32;function wr(t){return void 0!==t._bn}class vr extends yr{constructor(t){if(super({}),this._bn=void 0,wr(t))this._bn=t._bn;else{if("string"===typeof t){const e=u.a.decode(t);if(32!=e.length)throw new Error("Invalid public key input");this._bn=new a.a(e)}else this._bn=new a.a(t);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(t){return this._bn.eq(t._bn)}toBase58(){return u.a.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const t=this._bn.toArrayLike(i["Buffer"]);if(32===t.length)return t;const e=i["Buffer"].alloc(32);return t.copy(e,32-t.length),e}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=i["Buffer"].concat([t.toBuffer(),i["Buffer"].from(e),r.toBuffer()]),o=br(new Uint8Array(n)).slice(2);return new vr(i["Buffer"].from(o,"hex"))}static async createProgramAddress(t,e){let r=i["Buffer"].alloc(0);t.forEach((function(t){if(t.length>mr)throw new TypeError("Max seed length exceeded");r=i["Buffer"].concat([r,g(t)])})),r=i["Buffer"].concat([r,e.toBuffer(),i["Buffer"].from("ProgramDerivedAddress")]);let n=br(new Uint8Array(r)).slice(2),o=new a.a(n,16).toArray(void 0,32);if(jr(o))throw new Error("Invalid seeds, address must fall off the curve");return new vr(o)}static async findProgramAddress(t,e){let r,n=255;while(0!=n){try{const o=t.concat(i["Buffer"].from([n]));r=await this.createProgramAddress(o,e)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(t){return 1==jr(t)}}vr.default=new vr("11111111111111111111111111111111"),gr.set(vr,{kind:"struct",fields:[["_bn","u256"]]});let Or=o.a.lowlevel;function jr(t){var e=[Or.gf(),Or.gf(),Or.gf(),Or.gf()],r=Or.gf(),n=Or.gf(),o=Or.gf(),i=Or.gf(),s=Or.gf(),a=Or.gf(),c=Or.gf();return Or.set25519(e[2],kr),Or.unpack25519(e[1],t),Or.S(o,e[1]),Or.M(i,o,Or.D),Or.Z(o,o,e[2]),Or.A(i,e[2],i),Or.S(s,i),Or.S(a,s),Or.M(c,a,s),Or.M(r,c,o),Or.M(r,r,i),Or.pow2523(r,r),Or.M(r,r,o),Or.M(r,r,i),Or.M(r,r,i),Or.M(e[0],r,i),Or.S(n,e[0]),Or.M(n,n,i),Sr(n,o)&&Or.M(e[0],e[0],_r),Or.S(n,e[0]),Or.M(n,n,i),Sr(n,o)?0:1}let kr=Or.gf([1]),_r=Or.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Sr(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return Or.pack25519(r,t),Or.pack25519(n,e),Or.crypto_verify_32(r,0,n,0)}new vr("BPFLoader1111111111111111111111111111111111");const Er=(t="publicKey")=>f["blob"](32,t),xr=(t="string")=>{const e=f["struct"]([f["u32"]("length"),f["u32"]("lengthPadding"),f["blob"](f["offset"](f["u32"](),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e);return e.decode=(t,e)=>{const n=r(t,e);return n["chars"].toString("utf8")},e.encode=(t,e,r)=>{const o={chars:i["Buffer"].from(t,"utf8")};return n(o,e,r)},e.alloc=t=>f["u32"]().span+f["u32"]().span+i["Buffer"].from(t,"utf8").length,e},Ar=(t="authorized")=>f["struct"]([Er("staker"),Er("withdrawer")],t),Ir=(t="lockup")=>f["struct"]([f["ns64"]("unixTimestamp"),f["ns64"]("epoch"),Er("custodian")],t),Br=(t="voteInit")=>f["struct"]([Er("nodePubkey"),Er("authorizedVoter"),Er("authorizedWithdrawer"),f["u8"]("commission")],t);function Pr(t,e){let r=0;return t.layout.fields.forEach(t=>{t.span>=0?r+=t.span:"function"===typeof t.alloc&&(r+=t.alloc(e[t.property]))}),r}function Tr(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,0===(128&n))break}return e}function Rr(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}const Lr=32;class Ur{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(t=>new vr(t)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){return t<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||t>=this.header.numRequiredSignatures&&t<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Rr(e,t);const r=this.instructions.map(t=>{const{accounts:e,programIdIndex:r}=t,n=u.a.decode(t.data);let o=[];Rr(o,e.length);let s=[];return Rr(s,n.length),{programIdIndex:r,keyIndicesCount:i["Buffer"].from(o),keyIndices:i["Buffer"].from(e),dataLength:i["Buffer"].from(s),data:n}});let n=[];Rr(n,r.length);let o=i["Buffer"].alloc(Nr);i["Buffer"].from(n).copy(o);let s=n.length;r.forEach(t=>{const e=f["struct"]([f["u8"]("programIdIndex"),f["blob"](t.keyIndicesCount.length,"keyIndicesCount"),f["seq"](f["u8"]("keyIndex"),t.keyIndices.length,"keyIndices"),f["blob"](t.dataLength.length,"dataLength"),f["seq"](f["u8"]("userdatum"),t.data.length,"data")]),r=e.encode(t,o,s);s+=r}),o=o.slice(0,s);const a=f["struct"]([f["blob"](1,"numRequiredSignatures"),f["blob"](1,"numReadonlySignedAccounts"),f["blob"](1,"numReadonlyUnsignedAccounts"),f["blob"](e.length,"keyCount"),f["seq"](Er("key"),t,"keys"),Er("recentBlockhash")]),c={numRequiredSignatures:i["Buffer"].from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i["Buffer"].from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i["Buffer"].from([this.header.numReadonlyUnsignedAccounts]),keyCount:i["Buffer"].from(e),keys:this.accountKeys.map(t=>g(t.toBytes())),recentBlockhash:u.a.decode(this.recentBlockhash)};let l=i["Buffer"].alloc(2048);const h=a.encode(c,l);return o.copy(l,h),l.slice(0,h+o.length)}static from(t){let e=[...t];const r=e.shift(),n=e.shift(),o=e.shift(),s=Tr(e);let a=[];for(let d=0;d<s;d++){const t=e.slice(0,Lr);e=e.slice(Lr),a.push(u.a.encode(i["Buffer"].from(t)))}const c=e.slice(0,Lr);e=e.slice(Lr);const l=Tr(e);let f=[];for(let d=0;d<l;d++){const t=e.shift(),r=Tr(e),n=e.slice(0,r);e=e.slice(r);const o=Tr(e),s=e.slice(0,o),a=u.a.encode(i["Buffer"].from(s));e=e.slice(o),f.push({programIdIndex:t,accounts:n,data:a})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:o},recentBlockhash:u.a.encode(i["Buffer"].from(c)),accountKeys:a,instructions:f};return new Ur(h)}}function Cr(t,e){if(!t)throw new Error(e||"Assertion failed")}const Mr=i["Buffer"].alloc(64).fill(0),Nr=1232,zr=64;class Wr{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i["Buffer"].alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}}class qr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,t&&Object.assign(this,t)}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Wr(t))}),this}compileMessage(){const{nonceInfo:t}=this;t&&this.instructions[0]!=t.nonceInstruction&&(this.recentBlockhash=t.nonce,this.instructions.unshift(t.nonceInstruction));const{recentBlockhash:e}=this;if(!e)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let u=0;u<this.instructions.length;u++)if(void 0===this.instructions[u].programId)throw new Error(`Transaction instruction index ${u} has undefined program id`);const n=[],o=[];this.instructions.forEach(t=>{t.keys.forEach(t=>{o.push({...t})});const e=t.programId.toString();n.includes(e)||n.push(e)}),n.forEach(t=>{o.push({pubkey:new vr(t),isSigner:!1,isWritable:!1})}),o.sort((function(t,e){const r=t.pubkey.toBase58().localeCompare(e.pubkey.toBase58()),n=t.isSigner===e.isSigner?0:t.isSigner?-1:1,o=t.isWritable===e.isWritable?r:t.isWritable?-1:1;return n||o}));const i=[];o.forEach(t=>{const e=t.pubkey.toString(),r=i.findIndex(t=>t.pubkey.toString()===e);r>-1?i[r].isWritable=i[r].isWritable||t.isWritable:i.push(t)});const s=i.findIndex(t=>t.pubkey.equals(r));if(s>-1){const[t]=i.splice(s,1);t.isSigner=!0,t.isWritable=!0,i.unshift(t)}else i.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const u of this.signatures){const t=i.findIndex(t=>t.pubkey.equals(u.publicKey));if(!(t>-1))throw new Error("unknown signer: "+u.publicKey.toString());i[t].isSigner||(i[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,l=0;const f=[],h=[];i.forEach(({pubkey:t,isSigner:e,isWritable:r})=>{e?(f.push(t.toString()),a+=1,r||(c+=1)):(h.push(t.toString()),r||(l+=1))});const d=f.concat(h),p=this.instructions.map(t=>{const{data:e,programId:r}=t;return{programIdIndex:d.indexOf(r.toString()),accounts:t.keys.map(t=>d.indexOf(t.pubkey.toString())),data:u.a.encode(e)}});return p.forEach(t=>{Cr(t.programIdIndex>=0),t.accounts.forEach(t=>Cr(t>=0))}),new Ur({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:d,recentBlockhash:e,instructions:p})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){const r=this.signatures.every((t,r)=>e[r].equals(t.publicKey));if(r)return t}return this.signatures=e.map(t=>({signature:null,publicKey:t})),t}serializeMessage(){return this._compile().serialize()}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter(t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)}).map(t=>({signature:null,publicKey:t}))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const o of t){const t=o.publicKey.toString();e.has(t)||(e.add(t),r.push(o))}this.signatures=r.map(t=>({signature:null,publicKey:t.publicKey}));const n=this._compile();this._partialSign(n,...r),this._verifySignatures(n.serialize(),!0)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const o of t){const t=o.publicKey.toString();e.has(t)||(e.add(t),r.push(o))}const n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(t=>{const e=o.a.sign.detached(r,t.secretKey);this._addSignature(t.publicKey,g(e))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Cr(64===e.length);const r=this.signatures.findIndex(e=>t.equals(e.publicKey));if(r<0)throw new Error("unknown signer: "+t.toString());this.signatures[r].signature=i["Buffer"].from(e)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(t,e){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(e)return!1}else if(!o.a.sign.detached.verify(t,r,n.toBuffer()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r&&!this._verifySignatures(n,e))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];Rr(r,e.length);const n=r.length+64*e.length+t.length,o=i["Buffer"].alloc(n);return Cr(e.length<256),i["Buffer"].from(r).copy(o,0),e.forEach(({signature:t},e)=>{null!==t&&(Cr(64===t.length,"signature has invalid length"),i["Buffer"].from(t).copy(o,r.length+64*e))}),t.copy(o,r.length+64*e.length),Cr(o.length<=Nr,`Transaction too large: ${o.length} > ${Nr}`),o}get keys(){return Cr(1===this.instructions.length),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Cr(1===this.instructions.length),this.instructions[0].programId}get data(){return Cr(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=Tr(e);let n=[];for(let o=0;o<r;o++){const t=e.slice(0,zr);e=e.slice(zr),n.push(u.a.encode(i["Buffer"].from(t)))}return qr.populate(Ur.from(e),n)}static populate(t,e=[]){const r=new qr;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((e,n)=>{const o={signature:e==u.a.encode(Mr)?null:u.a.decode(e),publicKey:t.accountKeys[n]};r.signatures.push(o)}),t.instructions.forEach(e=>{const n=e.accounts.map(e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some(t=>t.publicKey.toString()===n.toString())||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}});r.instructions.push(new Wr({keys:n,programId:t.accountKeys[e.programIdIndex],data:u.a.decode(e.data)}))}),r}}const Dr=new vr("SysvarC1ock11111111111111111111111111111111"),Kr=(new vr("SysvarEpochSchedu1e111111111111111111111111"),new vr("Sysvar1nstructions1111111111111111111111111"),new vr("SysvarRecentB1ockHashes11111111111111111111")),Fr=new vr("SysvarRent111111111111111111111111111111111"),$r=(new vr("SysvarRewards111111111111111111111111111111"),new vr("SysvarS1otHashes111111111111111111111111111"),new vr("SysvarS1otHistory11111111111111111111111111"),new vr("SysvarStakeHistory1111111111111111111111111"));async function Vr(t,e,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries},i=await t.sendTransaction(e,r,o),s=(await t.confirmTransaction(i,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(s)})`);return i}function Gr(t){return new Promise(e=>setTimeout(e,t))}function Hr(t,e){const r=t.layout.span>=0?t.layout.span:Pr(t,e),n=i["Buffer"].alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}const Yr=f["nu64"]("lamportsPerSignature"),Zr=f["struct"]([f["u32"]("version"),f["u32"]("state"),Er("authorizedPubkey"),Er("nonce"),f["struct"]([Yr],"feeCalculator")]),Xr=Zr.span;const Jr=Object.freeze({Create:{index:0,layout:f["struct"]([f["u32"]("instruction"),f["ns64"]("lamports"),f["ns64"]("space"),Er("programId")])},Assign:{index:1,layout:f["struct"]([f["u32"]("instruction"),Er("programId")])},Transfer:{index:2,layout:f["struct"]([f["u32"]("instruction"),f["ns64"]("lamports")])},CreateWithSeed:{index:3,layout:f["struct"]([f["u32"]("instruction"),Er("base"),xr("seed"),f["ns64"]("lamports"),f["ns64"]("space"),Er("programId")])},AdvanceNonceAccount:{index:4,layout:f["struct"]([f["u32"]("instruction")])},WithdrawNonceAccount:{index:5,layout:f["struct"]([f["u32"]("instruction"),f["ns64"]("lamports")])},InitializeNonceAccount:{index:6,layout:f["struct"]([f["u32"]("instruction"),Er("authorized")])},AuthorizeNonceAccount:{index:7,layout:f["struct"]([f["u32"]("instruction"),Er("authorized")])},Allocate:{index:8,layout:f["struct"]([f["u32"]("instruction"),f["ns64"]("space")])},AllocateWithSeed:{index:9,layout:f["struct"]([f["u32"]("instruction"),Er("base"),xr("seed"),f["ns64"]("space"),Er("programId")])},AssignWithSeed:{index:10,layout:f["struct"]([f["u32"]("instruction"),Er("base"),xr("seed"),Er("programId")])},TransferWithSeed:{index:11,layout:f["struct"]([f["u32"]("instruction"),f["ns64"]("lamports"),xr("seed"),Er("programId")])}});class Qr{constructor(){}static createAccount(t){const e=Jr.Create,r=Hr(e,{lamports:t.lamports,space:t.space,programId:g(t.programId.toBuffer())});return new Wr({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let e,r;if("basePubkey"in t){const n=Jr.TransferWithSeed;e=Hr(n,{lamports:t.lamports,seed:t.seed,programId:g(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const n=Jr.Transfer;e=Hr(n,{lamports:t.lamports}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Wr({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if("basePubkey"in t){const n=Jr.AssignWithSeed;e=Hr(n,{base:g(t.basePubkey.toBuffer()),seed:t.seed,programId:g(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const n=Jr.Assign;e=Hr(n,{programId:g(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Wr({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Jr.CreateWithSeed,r=Hr(e,{base:g(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:g(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Wr({keys:n,programId:this.programId,data:r})}static createNonceAccount(t){const e=new qr;"basePubkey"in t&&"seed"in t?e.add(Qr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Xr,programId:this.programId})):e.add(Qr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Xr,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=Jr.InitializeNonceAccount,r=Hr(e,{authorized:g(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Fr,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Wr(n)}static nonceAdvance(t){const e=Jr.AdvanceNonceAccount,r=Hr(e),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Wr(n)}static nonceWithdraw(t){const e=Jr.WithdrawNonceAccount,r=Hr(e,{lamports:t.lamports});return new Wr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Fr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const e=Jr.AuthorizeNonceAccount,r=Hr(e,{authorized:g(t.newAuthorizedPubkey.toBuffer())});return new Wr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let e,r;if("basePubkey"in t){const n=Jr.AllocateWithSeed;e=Hr(n,{base:g(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:g(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const n=Jr.Allocate;e=Hr(n,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Wr({keys:r,programId:this.programId,data:e})}}Qr.programId=new vr("11111111111111111111111111111111");const tn=Nr-300;class en{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/en.chunkSize)+1+1)}static async load(t,e,r,n,o){{const i=await t.getMinimumBalanceForRentExemption(o.length),s=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new qr,a.add(Qr.allocate({accountPubkey:r.publicKey,space:o.length}))),s.owner.equals(n)||(a=a||new qr,a.add(Qr.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<i&&(a=a||new qr,a.add(Qr.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:i-s.lamports})))}else a=(new qr).add(Qr.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:o.length,programId:n}));null!==a&&await Vr(t,a,[e,r],{commitment:"confirmed"})}const s=f["struct"]([f["u32"]("instruction"),f["u32"]("offset"),f["u32"]("bytesLength"),f["u32"]("bytesLengthPadding"),f["seq"](f["u8"]("byte"),f["offset"](f["u32"](),-8),"bytes")]),a=en.chunkSize;let c=0,u=o,l=[];while(u.length>0){const o=u.slice(0,a),f=i["Buffer"].alloc(a+16);s.encode({instruction:0,offset:c,bytes:o},f);const h=(new qr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:f});if(l.push(Vr(t,h,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await Gr(1e3/t)}c+=a,u=u.slice(a)}await Promise.all(l);{const o=f["struct"]([f["u32"]("instruction")]),s=i["Buffer"].alloc(o.span);o.encode({instruction:1},s);const a=(new qr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Fr,isSigner:!1,isWritable:!1}],programId:n,data:s});await Vr(t,a,[e,r],{commitment:"confirmed"})}return!0}}en.chunkSize=tn;new vr("BPFLoader2111111111111111111111111111111111");var rn={exports:{}};(function(t,e){var r="undefined"!==typeof self?self:m,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(t){return t&&DataView.prototype.isPrototypeOf(t)}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&o.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!==typeof t&&(t=String(t)),t}function c(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function h(t){var e=new FileReader,r=f(e);return e.readAsArrayBuffer(t),r}function d(t){var e=new FileReader,r=f(e);return e.readAsText(t),r}function p(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&n(t)?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=s(t),e=a(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},u.prototype["delete"]=function(t){delete this.map[s(t)]},u.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},u.prototype.set=function(t,e){this.map[s(t)]=a(e)},u.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},u.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),c(t)},u.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),c(t)},u.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),c(t)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}function w(t,e){e=e||{};var r=e.body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=m(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}})),e}function O(t){var e=new u,r=t.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}})),e}function j(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},j.error=function(){var t=new j(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];j.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new j(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(S){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function _(t,n){return new Promise((function(o,i){var s=new w(t,n);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:O(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;o(new j(e,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&r.blob&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}_.polyfill=!0,t.fetch||(t.fetch=_,t.Headers=u,t.Request=w,t.Response=j),e.Headers=u,e.Request=w,e.Response=j,e.fetch=_,Object.defineProperty(e,"__esModule",{value:!0})})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(rn,rn.exports);rn.exports;Error;const nn=Object(h["e"])(Object(h["g"])(vr),Object(h["m"])(),t=>new vr(t)),on=Object(h["n"])([Object(h["m"])(),Object(h["h"])("base64")]),sn=Object(h["e"])(Object(h["g"])(i["Buffer"]),on,t=>i["Buffer"].from(t[0],"base64"));function an(t){return Object(h["p"])([Object(h["o"])({jsonrpc:Object(h["h"])("2.0"),id:Object(h["m"])(),result:t}),Object(h["o"])({jsonrpc:Object(h["h"])("2.0"),id:Object(h["m"])(),error:Object(h["o"])({code:Object(h["q"])(),message:Object(h["m"])(),data:Object(h["k"])(Object(h["a"])())})})])}const cn=an(Object(h["q"])());function un(t){return Object(h["e"])(an(t),cn,e=>"error"in e?e:{...e,result:Object(h["f"])(e.result,t)})}function ln(t){return un(Object(h["o"])({context:Object(h["o"])({slot:Object(h["j"])()}),value:t}))}function fn(t){return Object(h["o"])({context:Object(h["o"])({slot:Object(h["j"])()}),value:t})}const hn=Object(h["o"])({foundation:Object(h["j"])(),foundationTerm:Object(h["j"])(),initial:Object(h["j"])(),taper:Object(h["j"])(),terminal:Object(h["j"])()}),dn=(un(Object(h["b"])(Object(h["i"])(Object(h["o"])({epoch:Object(h["j"])(),effectiveSlot:Object(h["j"])(),amount:Object(h["j"])(),postBalance:Object(h["j"])()})))),Object(h["o"])({epoch:Object(h["j"])(),slotIndex:Object(h["j"])(),slotsInEpoch:Object(h["j"])(),absoluteSlot:Object(h["j"])(),blockHeight:Object(h["k"])(Object(h["j"])()),transactionCount:Object(h["k"])(Object(h["j"])())})),pn=Object(h["o"])({slotsPerEpoch:Object(h["j"])(),leaderScheduleSlotOffset:Object(h["j"])(),warmup:Object(h["d"])(),firstNormalEpoch:Object(h["j"])(),firstNormalSlot:Object(h["j"])()}),bn=Object(h["l"])(Object(h["m"])(),Object(h["b"])(Object(h["j"])())),yn=Object(h["i"])(Object(h["p"])([Object(h["o"])({}),Object(h["m"])()])),gn=Object(h["o"])({err:yn}),mn=Object(h["h"])("receivedSignature");Object(h["o"])({"solana-core":Object(h["m"])(),"feature-set":Object(h["k"])(Object(h["j"])())}),ln(Object(h["o"])({err:Object(h["i"])(Object(h["p"])([Object(h["o"])({}),Object(h["m"])()])),logs:Object(h["i"])(Object(h["b"])(Object(h["m"])())),accounts:Object(h["k"])(Object(h["i"])(Object(h["b"])(Object(h["o"])({executable:Object(h["d"])(),owner:Object(h["m"])(),lamports:Object(h["j"])(),data:Object(h["b"])(Object(h["m"])()),rentEpoch:Object(h["k"])(Object(h["j"])())})))),unitsConsumed:Object(h["k"])(Object(h["j"])())}));un(hn),un(dn),un(pn),un(bn),un(Object(h["j"])()),ln(Object(h["o"])({total:Object(h["j"])(),circulating:Object(h["j"])(),nonCirculating:Object(h["j"])(),nonCirculatingAccounts:Object(h["b"])(nn)}));const wn=Object(h["o"])({amount:Object(h["m"])(),uiAmount:Object(h["i"])(Object(h["j"])()),decimals:Object(h["j"])(),uiAmountString:Object(h["k"])(Object(h["m"])())}),vn=(ln(Object(h["b"])(Object(h["o"])({address:nn,amount:Object(h["m"])(),uiAmount:Object(h["i"])(Object(h["j"])()),decimals:Object(h["j"])(),uiAmountString:Object(h["k"])(Object(h["m"])())}))),ln(Object(h["b"])(Object(h["o"])({pubkey:nn,account:Object(h["o"])({executable:Object(h["d"])(),owner:nn,lamports:Object(h["j"])(),data:sn,rentEpoch:Object(h["j"])()})}))),Object(h["o"])({program:Object(h["m"])(),parsed:Object(h["q"])(),space:Object(h["j"])()})),On=(ln(Object(h["b"])(Object(h["o"])({pubkey:nn,account:Object(h["o"])({executable:Object(h["d"])(),owner:nn,lamports:Object(h["j"])(),data:vn,rentEpoch:Object(h["j"])()})}))),ln(Object(h["b"])(Object(h["o"])({lamports:Object(h["j"])(),address:nn}))),Object(h["o"])({executable:Object(h["d"])(),owner:nn,lamports:Object(h["j"])(),data:sn,rentEpoch:Object(h["j"])()})),jn=(Object(h["o"])({pubkey:nn,account:On}),Object(h["e"])(Object(h["p"])([Object(h["g"])(i["Buffer"]),vn]),Object(h["p"])([on,vn]),t=>Array.isArray(t)?Object(h["f"])(t,sn):t)),kn=Object(h["o"])({executable:Object(h["d"])(),owner:nn,lamports:Object(h["j"])(),data:jn,rentEpoch:Object(h["j"])()}),_n=(Object(h["o"])({pubkey:nn,account:kn}),Object(h["o"])({state:Object(h["p"])([Object(h["h"])("active"),Object(h["h"])("inactive"),Object(h["h"])("activating"),Object(h["h"])("deactivating")]),active:Object(h["j"])(),inactive:Object(h["j"])()}),un(Object(h["b"])(Object(h["o"])({signature:Object(h["m"])(),slot:Object(h["j"])(),err:yn,memo:Object(h["i"])(Object(h["m"])()),blockTime:Object(h["k"])(Object(h["i"])(Object(h["j"])()))}))),un(Object(h["b"])(Object(h["o"])({signature:Object(h["m"])(),slot:Object(h["j"])(),err:yn,memo:Object(h["i"])(Object(h["m"])()),blockTime:Object(h["k"])(Object(h["i"])(Object(h["j"])()))}))),Object(h["o"])({subscription:Object(h["j"])(),result:fn(On)}),Object(h["o"])({pubkey:nn,account:On})),Sn=(Object(h["o"])({subscription:Object(h["j"])(),result:fn(_n)}),Object(h["o"])({parent:Object(h["j"])(),slot:Object(h["j"])(),root:Object(h["j"])()})),En=(Object(h["o"])({subscription:Object(h["j"])(),result:Sn}),Object(h["p"])([Object(h["o"])({type:Object(h["p"])([Object(h["h"])("firstShredReceived"),Object(h["h"])("completed"),Object(h["h"])("optimisticConfirmation"),Object(h["h"])("root")]),slot:Object(h["j"])(),timestamp:Object(h["j"])()}),Object(h["o"])({type:Object(h["h"])("createdBank"),parent:Object(h["j"])(),slot:Object(h["j"])(),timestamp:Object(h["j"])()}),Object(h["o"])({type:Object(h["h"])("frozen"),slot:Object(h["j"])(),timestamp:Object(h["j"])(),stats:Object(h["o"])({numTransactionEntries:Object(h["j"])(),numSuccessfulTransactions:Object(h["j"])(),numFailedTransactions:Object(h["j"])(),maxTransactionsPerEntry:Object(h["j"])()})}),Object(h["o"])({type:Object(h["h"])("dead"),slot:Object(h["j"])(),timestamp:Object(h["j"])(),err:Object(h["m"])()})])),xn=(Object(h["o"])({subscription:Object(h["j"])(),result:En}),Object(h["o"])({subscription:Object(h["j"])(),result:fn(Object(h["p"])([gn,mn]))}),Object(h["o"])({subscription:Object(h["j"])(),result:Object(h["j"])()}),Object(h["o"])({pubkey:Object(h["m"])(),gossip:Object(h["i"])(Object(h["m"])()),tpu:Object(h["i"])(Object(h["m"])()),rpc:Object(h["i"])(Object(h["m"])()),version:Object(h["i"])(Object(h["m"])())}),Object(h["o"])({votePubkey:Object(h["m"])(),nodePubkey:Object(h["m"])(),activatedStake:Object(h["j"])(),epochVoteAccount:Object(h["d"])(),epochCredits:Object(h["b"])(Object(h["n"])([Object(h["j"])(),Object(h["j"])(),Object(h["j"])()])),commission:Object(h["j"])(),lastVote:Object(h["j"])(),rootSlot:Object(h["i"])(Object(h["j"])())})),An=(un(Object(h["o"])({current:Object(h["b"])(xn),delinquent:Object(h["b"])(xn)})),Object(h["p"])([Object(h["h"])("processed"),Object(h["h"])("confirmed"),Object(h["h"])("finalized")])),In=Object(h["o"])({slot:Object(h["j"])(),confirmations:Object(h["i"])(Object(h["j"])()),err:yn,confirmationStatus:Object(h["k"])(An)}),Bn=(ln(Object(h["b"])(Object(h["i"])(In))),un(Object(h["j"])()),Object(h["o"])({signatures:Object(h["b"])(Object(h["m"])()),message:Object(h["o"])({accountKeys:Object(h["b"])(Object(h["m"])()),header:Object(h["o"])({numRequiredSignatures:Object(h["j"])(),numReadonlySignedAccounts:Object(h["j"])(),numReadonlyUnsignedAccounts:Object(h["j"])()}),instructions:Object(h["b"])(Object(h["o"])({accounts:Object(h["b"])(Object(h["j"])()),data:Object(h["m"])(),programIdIndex:Object(h["j"])()})),recentBlockhash:Object(h["m"])()})})),Pn=Object(h["o"])({parsed:Object(h["q"])(),program:Object(h["m"])(),programId:nn}),Tn=Object(h["o"])({accounts:Object(h["b"])(nn),data:Object(h["m"])(),programId:nn}),Rn=Object(h["p"])([Tn,Pn]),Ln=Object(h["p"])([Object(h["o"])({parsed:Object(h["q"])(),program:Object(h["m"])(),programId:Object(h["m"])()}),Object(h["o"])({accounts:Object(h["b"])(Object(h["m"])()),data:Object(h["m"])(),programId:Object(h["m"])()})]),Un=Object(h["e"])(Rn,Ln,t=>"accounts"in t?Object(h["f"])(t,Tn):Object(h["f"])(t,Pn)),Cn=Object(h["o"])({signatures:Object(h["b"])(Object(h["m"])()),message:Object(h["o"])({accountKeys:Object(h["b"])(Object(h["o"])({pubkey:nn,signer:Object(h["d"])(),writable:Object(h["d"])()})),instructions:Object(h["b"])(Un),recentBlockhash:Object(h["m"])()})}),Mn=Object(h["o"])({accountIndex:Object(h["j"])(),mint:Object(h["m"])(),owner:Object(h["k"])(Object(h["m"])()),uiTokenAmount:wn}),Nn=Object(h["o"])({err:yn,fee:Object(h["j"])(),innerInstructions:Object(h["k"])(Object(h["i"])(Object(h["b"])(Object(h["o"])({index:Object(h["j"])(),instructions:Object(h["b"])(Object(h["o"])({accounts:Object(h["b"])(Object(h["j"])()),data:Object(h["m"])(),programIdIndex:Object(h["j"])()}))})))),preBalances:Object(h["b"])(Object(h["j"])()),postBalances:Object(h["b"])(Object(h["j"])()),logMessages:Object(h["k"])(Object(h["i"])(Object(h["b"])(Object(h["m"])()))),preTokenBalances:Object(h["k"])(Object(h["i"])(Object(h["b"])(Mn))),postTokenBalances:Object(h["k"])(Object(h["i"])(Object(h["b"])(Mn)))}),zn=Object(h["o"])({err:yn,fee:Object(h["j"])(),innerInstructions:Object(h["k"])(Object(h["i"])(Object(h["b"])(Object(h["o"])({index:Object(h["j"])(),instructions:Object(h["b"])(Un)})))),preBalances:Object(h["b"])(Object(h["j"])()),postBalances:Object(h["b"])(Object(h["j"])()),logMessages:Object(h["k"])(Object(h["i"])(Object(h["b"])(Object(h["m"])()))),preTokenBalances:Object(h["k"])(Object(h["i"])(Object(h["b"])(Mn))),postTokenBalances:Object(h["k"])(Object(h["i"])(Object(h["b"])(Mn)))}),Wn=(un(Object(h["i"])(Object(h["o"])({blockhash:Object(h["m"])(),previousBlockhash:Object(h["m"])(),parentSlot:Object(h["j"])(),transactions:Object(h["b"])(Object(h["o"])({transaction:Bn,meta:Object(h["i"])(Nn)})),rewards:Object(h["k"])(Object(h["b"])(Object(h["o"])({pubkey:Object(h["m"])(),lamports:Object(h["j"])(),postBalance:Object(h["i"])(Object(h["j"])()),rewardType:Object(h["i"])(Object(h["m"])())}))),blockTime:Object(h["i"])(Object(h["j"])()),blockHeight:Object(h["i"])(Object(h["j"])())}))),un(Object(h["i"])(Object(h["o"])({blockhash:Object(h["m"])(),previousBlockhash:Object(h["m"])(),parentSlot:Object(h["j"])(),transactions:Object(h["b"])(Object(h["o"])({transaction:Bn,meta:Object(h["i"])(Nn)})),rewards:Object(h["k"])(Object(h["b"])(Object(h["o"])({pubkey:Object(h["m"])(),lamports:Object(h["j"])(),postBalance:Object(h["i"])(Object(h["j"])()),rewardType:Object(h["i"])(Object(h["m"])())}))),blockTime:Object(h["i"])(Object(h["j"])())}))),un(Object(h["i"])(Object(h["o"])({blockhash:Object(h["m"])(),previousBlockhash:Object(h["m"])(),parentSlot:Object(h["j"])(),signatures:Object(h["b"])(Object(h["m"])()),blockTime:Object(h["i"])(Object(h["j"])())}))),un(Object(h["i"])(Object(h["o"])({slot:Object(h["j"])(),meta:Nn,blockTime:Object(h["k"])(Object(h["i"])(Object(h["j"])())),transaction:Bn}))),un(Object(h["i"])(Object(h["o"])({slot:Object(h["j"])(),transaction:Cn,meta:Object(h["i"])(zn),blockTime:Object(h["k"])(Object(h["i"])(Object(h["j"])()))}))),ln(Object(h["o"])({blockhash:Object(h["m"])(),feeCalculator:Object(h["o"])({lamportsPerSignature:Object(h["j"])()})})),ln(Object(h["o"])({blockhash:Object(h["m"])(),lastValidBlockHeight:Object(h["j"])()})),Object(h["o"])({slot:Object(h["j"])(),numTransactions:Object(h["j"])(),numSlots:Object(h["j"])(),samplePeriodSecs:Object(h["j"])()})),qn=(un(Object(h["b"])(Wn)),ln(Object(h["i"])(Object(h["o"])({feeCalculator:Object(h["o"])({lamportsPerSignature:Object(h["j"])()})}))),un(Object(h["m"])()),un(Object(h["m"])()),Object(h["o"])({err:yn,logs:Object(h["b"])(Object(h["m"])()),signature:Object(h["m"])()}));Object(h["o"])({result:fn(qn),subscription:Object(h["j"])()});class Dn{constructor(t){this._keypair=void 0,this._keypair=t||o.a.sign.keyPair()}static generate(){return new Dn(o.a.sign.keyPair())}static fromSecretKey(t,e){const r=o.a.sign.keyPair.fromSecretKey(t);if(!e||!e.skipValidation){const t=new TextEncoder,e=t.encode("@solana/web3.js-validation-v1"),n=o.a.sign.detached(e,r.secretKey);if(!o.a.sign.detached.verify(e,n,r.publicKey))throw new Error("provided secretKey is invalid")}return new Dn(r)}static fromSeed(t){return new Dn(o.a.sign.keyPair.fromSeed(t))}get publicKey(){return new vr(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Kn=64,Fn=32,$n=64,Vn=f["struct"]([f["u8"]("numSignatures"),f["u8"]("padding"),f["u16"]("signatureOffset"),f["u16"]("signatureInstructionIndex"),f["u16"]("publicKeyOffset"),f["u16"]("publicKeyInstructionIndex"),f["u16"]("messageDataOffset"),f["u16"]("messageDataSize"),f["u16"]("messageInstructionIndex")]);class Gn{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,instructionIndex:o}=t;Cr(e.length===Fn,`Public Key must be ${Fn} bytes but received ${e.length} bytes`),Cr(n.length===$n,`Signature must be ${$n} bytes but received ${n.length} bytes`);const s=Vn.span,a=s+e.length,c=a+n.length,u=1,l=i["Buffer"].alloc(c+r.length);return Vn.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:o,publicKeyOffset:s,publicKeyInstructionIndex:o,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:o},l),l.fill(e,s),l.fill(n,a),l.fill(r,c),new Wr({keys:[],programId:Gn.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;Cr(e.length===Kn,`Private key must be ${Kn} bytes but received ${e.length} bytes`);try{const t=Dn.fromSecretKey(e),i=t.publicKey.toBytes(),s=o.a.sign.detached(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(i){throw new Error("Error creating instruction; "+i)}}}Gn.programId=new vr("Ed25519SigVerify111111111111111111111111111");const Hn=new vr("StakeConfig11111111111111111111111111111111");class Yn{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}Yn.default=new Yn(0,0,vr.default);const Zn=Object.freeze({Initialize:{index:0,layout:f["struct"]([f["u32"]("instruction"),Ar(),Ir()])},Authorize:{index:1,layout:f["struct"]([f["u32"]("instruction"),Er("newAuthorized"),f["u32"]("stakeAuthorizationType")])},Delegate:{index:2,layout:f["struct"]([f["u32"]("instruction")])},Split:{index:3,layout:f["struct"]([f["u32"]("instruction"),f["ns64"]("lamports")])},Withdraw:{index:4,layout:f["struct"]([f["u32"]("instruction"),f["ns64"]("lamports")])},Deactivate:{index:5,layout:f["struct"]([f["u32"]("instruction")])},Merge:{index:7,layout:f["struct"]([f["u32"]("instruction")])},AuthorizeWithSeed:{index:8,layout:f["struct"]([f["u32"]("instruction"),Er("newAuthorized"),f["u32"]("stakeAuthorizationType"),xr("authoritySeed"),Er("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Xn{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,o=n||Yn.default,i=Zn.Initialize,s=Hr(i,{authorized:{staker:g(r.staker.toBuffer()),withdrawer:g(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:g(o.custodian.toBuffer())}}),a={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Fr,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Wr(a)}static createAccountWithSeed(t){const e=new qr;e.add(Qr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:o}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:o}))}static createAccount(t){const e=new qr;e.add(Qr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:o}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:o}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,o=Zn.Delegate,i=Hr(o);return(new qr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Dr,isSigner:!1,isWritable:!1},{pubkey:$r,isSigner:!1,isWritable:!1},{pubkey:Hn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:o,custodianPubkey:i}=t,s=Zn.Authorize,a=Hr(s,{newAuthorized:g(n.toBuffer()),stakeAuthorizationType:o.index}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Dr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&c.push({pubkey:i,isSigner:!1,isWritable:!1}),(new qr).add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:o,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=t,c=Zn.AuthorizeWithSeed,u=Hr(c,{newAuthorized:g(i.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:g(o.toBuffer())}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Dr,isSigner:!1,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!1,isWritable:!1}),(new qr).add({keys:l,programId:this.programId,data:u})}static split(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:o}=t,i=new qr;i.add(Qr.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:0,space:this.space,programId:this.programId}));const s=Zn.Split,a=Hr(s,{lamports:o});return i.add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,o=Zn.Merge,i=Hr(o);return(new qr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Dr,isSigner:!1,isWritable:!1},{pubkey:$r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:o,custodianPubkey:i}=t,s=Zn.Withdraw,a=Hr(s,{lamports:o}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Dr,isSigner:!1,isWritable:!1},{pubkey:$r,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&c.push({pubkey:i,isSigner:!1,isWritable:!1}),(new qr).add({keys:c,programId:this.programId,data:a})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,n=Zn.Deactivate,o=Hr(n);return(new qr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Dr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}Xn.programId=new vr("Stake11111111111111111111111111111111111111"),Xn.space=200;const{publicKeyCreate:Jn,ecdsaSign:Qn}=p.a,to=32,eo=20,ro=64,no=11,oo=f["struct"]([f["u8"]("numSignatures"),f["u16"]("signatureOffset"),f["u8"]("signatureInstructionIndex"),f["u16"]("ethAddressOffset"),f["u8"]("ethAddressInstructionIndex"),f["u16"]("messageDataOffset"),f["u16"]("messageDataSize"),f["u8"]("messageInstructionIndex"),f["blob"](20,"ethAddress"),f["blob"](64,"signature"),f["u8"]("recoveryId")]);class io{constructor(){}static publicKeyToEthAddress(t){Cr(t.length===ro,`Public key must be ${ro} bytes but received ${t.length} bytes`);try{return i["Buffer"].from(y.a.keccak_256.update(g(t)).digest()).slice(-eo)}catch(e){throw new Error("Error constructing Ethereum address: "+e)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:o,instructionIndex:i}=t;return io.createInstructionWithEthAddress({ethAddress:io.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:o,instructionIndex:i})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:o,instructionIndex:s=0}=t;let a;a="string"===typeof e?e.startsWith("0x")?i["Buffer"].from(e.substr(2),"hex"):i["Buffer"].from(e,"hex"):e,Cr(a.length===eo,`Address must be ${eo} bytes but received ${a.length} bytes`);const c=1+no,u=c,l=c+a.length,f=l+n.length+1,h=1,d=i["Buffer"].alloc(oo.span+r.length);return oo.encode({numSignatures:h,signatureOffset:l,signatureInstructionIndex:s,ethAddressOffset:u,ethAddressInstructionIndex:s,messageDataOffset:f,messageDataSize:r.length,messageInstructionIndex:s,signature:g(n),ethAddress:g(a),recoveryId:o},d),d.fill(g(r),oo.span),new Wr({keys:[],programId:io.programId,data:d})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;Cr(e.length===to,`Private key must be ${to} bytes but received ${e.length} bytes`);try{const t=g(e),o=Jn(t,!1).slice(1),s=i["Buffer"].from(y.a.keccak_256.update(g(r)).digest()),{signature:a,recid:c}=Qn(s,t);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,recoveryId:c,instructionIndex:n})}catch(o){throw new Error("Error creating instruction; "+o)}}}io.programId=new vr("KeccakSecp256k11111111111111111111111111111");new vr("Va1idator1nfo111111111111111111111111111111"),Object(h["o"])({name:Object(h["m"])(),website:Object(h["k"])(Object(h["m"])()),details:Object(h["k"])(Object(h["m"])()),keybaseUsername:Object(h["k"])(Object(h["m"])())});new vr("Vote111111111111111111111111111111111111111"),f["struct"]([Er("nodePubkey"),Er("authorizedWithdrawer"),f["u8"]("commission"),f["nu64"](),f["seq"](f["struct"]([f["nu64"]("slot"),f["u32"]("confirmationCount")]),f["offset"](f["u32"](),-8),"votes"),f["u8"]("rootSlotValid"),f["nu64"]("rootSlot"),f["nu64"](),f["seq"](f["struct"]([f["nu64"]("epoch"),Er("authorizedVoter")]),f["offset"](f["u32"](),-8),"authorizedVoters"),f["struct"]([f["seq"](f["struct"]([Er("authorizedPubkey"),f["nu64"]("epochOfLastAuthorizedSwitch"),f["nu64"]("targetEpoch")]),32,"buf"),f["nu64"]("idx"),f["u8"]("isEmpty")],"priorVoters"),f["nu64"](),f["seq"](f["struct"]([f["nu64"]("epoch"),f["nu64"]("credits"),f["nu64"]("prevCredits")]),f["offset"](f["u32"](),-8),"epochCredits"),f["struct"]([f["nu64"]("slot"),f["nu64"]("timestamp")],"lastTimestamp")]);const so=Object.freeze({InitializeAccount:{index:0,layout:f["struct"]([f["u32"]("instruction"),Br()])},Authorize:{index:1,layout:f["struct"]([f["u32"]("instruction"),Er("newAuthorized"),f["u32"]("voteAuthorizationType")])},Withdraw:{index:3,layout:f["struct"]([f["u32"]("instruction"),f["ns64"]("lamports")])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ao{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:n}=t,o=so.InitializeAccount,i=Hr(o,{voteInit:{nodePubkey:g(n.nodePubkey.toBuffer()),authorizedVoter:g(n.authorizedVoter.toBuffer()),authorizedWithdrawer:g(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Fr,isSigner:!1,isWritable:!1},{pubkey:Dr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Wr(s)}static createAccount(t){const e=new qr;return e.add(Qr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:o}=t,i=so.Authorize,s=Hr(i,{newAuthorized:g(n.toBuffer()),voteAuthorizationType:o.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Dr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new qr).add({keys:a,programId:this.programId,data:s})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:o}=t,i=so.Withdraw,s=Hr(i,{lamports:n}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new qr).add({keys:a,programId:this.programId,data:s})}}ao.programId=new vr("Vote111111111111111111111111111111111111111"),ao.space=3731}).call(this,r("2409"))},"1d62":function(t,e,r){var n=r("c194"),o=r("f8f6");n({target:"Object",stat:!0},{setPrototypeOf:o})},"25bb":function(t,e,r){t.exports=r("e186")},"2b8b":function(t,e,r){var n=r("b834");function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},"2c95":function(t,e,r){(function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function b(t,e,r,n,o){var i,s=0;for(i=0;i<o;i++)s|=t[e+i]^r[n+i];return(1&s-1>>>8)-1}function y(t,e,r,n){return b(t,e,r,n,16)}function g(t,e,r,n){return b(t,e,r,n,32)}function m(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,b=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,O=i,j=s,k=a,_=c,S=u,E=l,x=f,A=h,I=d,B=p,P=b,T=y,R=g,L=m,U=w,C=v,M=0;M<20;M+=2)o=O+R|0,S^=o<<7|o>>>25,o=S+O|0,I^=o<<9|o>>>23,o=I+S|0,R^=o<<13|o>>>19,o=R+I|0,O^=o<<18|o>>>14,o=E+j|0,B^=o<<7|o>>>25,o=B+E|0,L^=o<<9|o>>>23,o=L+B|0,j^=o<<13|o>>>19,o=j+L|0,E^=o<<18|o>>>14,o=P+x|0,U^=o<<7|o>>>25,o=U+P|0,k^=o<<9|o>>>23,o=k+U|0,x^=o<<13|o>>>19,o=x+k|0,P^=o<<18|o>>>14,o=C+T|0,_^=o<<7|o>>>25,o=_+C|0,A^=o<<9|o>>>23,o=A+_|0,T^=o<<13|o>>>19,o=T+A|0,C^=o<<18|o>>>14,o=O+_|0,j^=o<<7|o>>>25,o=j+O|0,k^=o<<9|o>>>23,o=k+j|0,_^=o<<13|o>>>19,o=_+k|0,O^=o<<18|o>>>14,o=E+S|0,x^=o<<7|o>>>25,o=x+E|0,A^=o<<9|o>>>23,o=A+x|0,S^=o<<13|o>>>19,o=S+A|0,E^=o<<18|o>>>14,o=P+B|0,T^=o<<7|o>>>25,o=T+P|0,I^=o<<9|o>>>23,o=I+T|0,B^=o<<13|o>>>19,o=B+I|0,P^=o<<18|o>>>14,o=C+U|0,R^=o<<7|o>>>25,o=R+C|0,L^=o<<9|o>>>23,o=L+R|0,U^=o<<13|o>>>19,o=U+L|0,C^=o<<18|o>>>14;O=O+i|0,j=j+s|0,k=k+a|0,_=_+c|0,S=S+u|0,E=E+l|0,x=x+f|0,A=A+h|0,I=I+d|0,B=B+p|0,P=P+b|0,T=T+y|0,R=R+g|0,L=L+m|0,U=U+w|0,C=C+v|0,t[0]=O>>>0&255,t[1]=O>>>8&255,t[2]=O>>>16&255,t[3]=O>>>24&255,t[4]=j>>>0&255,t[5]=j>>>8&255,t[6]=j>>>16&255,t[7]=j>>>24&255,t[8]=k>>>0&255,t[9]=k>>>8&255,t[10]=k>>>16&255,t[11]=k>>>24&255,t[12]=_>>>0&255,t[13]=_>>>8&255,t[14]=_>>>16&255,t[15]=_>>>24&255,t[16]=S>>>0&255,t[17]=S>>>8&255,t[18]=S>>>16&255,t[19]=S>>>24&255,t[20]=E>>>0&255,t[21]=E>>>8&255,t[22]=E>>>16&255,t[23]=E>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=A>>>0&255,t[29]=A>>>8&255,t[30]=A>>>16&255,t[31]=A>>>24&255,t[32]=I>>>0&255,t[33]=I>>>8&255,t[34]=I>>>16&255,t[35]=I>>>24&255,t[36]=B>>>0&255,t[37]=B>>>8&255,t[38]=B>>>16&255,t[39]=B>>>24&255,t[40]=P>>>0&255,t[41]=P>>>8&255,t[42]=P>>>16&255,t[43]=P>>>24&255,t[44]=T>>>0&255,t[45]=T>>>8&255,t[46]=T>>>16&255,t[47]=T>>>24&255,t[48]=R>>>0&255,t[49]=R>>>8&255,t[50]=R>>>16&255,t[51]=R>>>24&255,t[52]=L>>>0&255,t[53]=L>>>8&255,t[54]=L>>>16&255,t[55]=L>>>24&255,t[56]=U>>>0&255,t[57]=U>>>8&255,t[58]=U>>>16&255,t[59]=U>>>24&255,t[60]=C>>>0&255,t[61]=C>>>8&255,t[62]=C>>>16&255,t[63]=C>>>24&255}function w(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,b=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,O=i,j=s,k=a,_=c,S=u,E=l,x=f,A=h,I=d,B=p,P=b,T=y,R=g,L=m,U=w,C=v,M=0;M<20;M+=2)o=O+R|0,S^=o<<7|o>>>25,o=S+O|0,I^=o<<9|o>>>23,o=I+S|0,R^=o<<13|o>>>19,o=R+I|0,O^=o<<18|o>>>14,o=E+j|0,B^=o<<7|o>>>25,o=B+E|0,L^=o<<9|o>>>23,o=L+B|0,j^=o<<13|o>>>19,o=j+L|0,E^=o<<18|o>>>14,o=P+x|0,U^=o<<7|o>>>25,o=U+P|0,k^=o<<9|o>>>23,o=k+U|0,x^=o<<13|o>>>19,o=x+k|0,P^=o<<18|o>>>14,o=C+T|0,_^=o<<7|o>>>25,o=_+C|0,A^=o<<9|o>>>23,o=A+_|0,T^=o<<13|o>>>19,o=T+A|0,C^=o<<18|o>>>14,o=O+_|0,j^=o<<7|o>>>25,o=j+O|0,k^=o<<9|o>>>23,o=k+j|0,_^=o<<13|o>>>19,o=_+k|0,O^=o<<18|o>>>14,o=E+S|0,x^=o<<7|o>>>25,o=x+E|0,A^=o<<9|o>>>23,o=A+x|0,S^=o<<13|o>>>19,o=S+A|0,E^=o<<18|o>>>14,o=P+B|0,T^=o<<7|o>>>25,o=T+P|0,I^=o<<9|o>>>23,o=I+T|0,B^=o<<13|o>>>19,o=B+I|0,P^=o<<18|o>>>14,o=C+U|0,R^=o<<7|o>>>25,o=R+C|0,L^=o<<9|o>>>23,o=L+R|0,U^=o<<13|o>>>19,o=U+L|0,C^=o<<18|o>>>14;t[0]=O>>>0&255,t[1]=O>>>8&255,t[2]=O>>>16&255,t[3]=O>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=P>>>0&255,t[9]=P>>>8&255,t[10]=P>>>16&255,t[11]=P>>>24&255,t[12]=C>>>0&255,t[13]=C>>>8&255,t[14]=C>>>16&255,t[15]=C>>>24&255,t[16]=x>>>0&255,t[17]=x>>>8&255,t[18]=x>>>16&255,t[19]=x>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=I>>>0&255,t[25]=I>>>8&255,t[26]=I>>>16&255,t[27]=I>>>24&255,t[28]=B>>>0&255,t[29]=B>>>8&255,t[30]=B>>>16&255,t[31]=B>>>24&255}function v(t,e,r,n){m(t,e,r,n)}function O(t,e,r,n){w(t,e,r,n)}var j=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function k(t,e,r,n,o,i,s){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];while(o>=64){for(v(l,u,s,j),c=0;c<64;c++)t[e+c]=r[n+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;o-=64,e+=64,n+=64}if(o>0)for(v(l,u,s,j),c=0;c<o;c++)t[e+c]=r[n+c]^l[c];return 0}function _(t,e,r,n,o){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];while(r>=64){for(v(c,a,o,j),s=0;s<64;s++)t[e+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;r-=64,e+=64}if(r>0)for(v(c,a,o,j),s=0;s<r;s++)t[e+s]=c[s];return 0}function S(t,e,r,n,o){var i=new Uint8Array(32);O(i,n,o,j);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return _(t,e,r,s,i)}function E(t,e,r,n,o,i,s){var a=new Uint8Array(32);O(a,i,s,j);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=i[u+16];return k(t,e,r,n,o,c,a)}var x=function(t){var e,r,n,o,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function A(t,e,r,n,o,i){var s=new x(i);return s.update(r,n,o),s.finish(t,e),0}function I(t,e,r,n,o,i){var s=new Uint8Array(16);return A(s,0,r,n,o,i),y(t,e,s,0)}function B(t,e,r,n,o){var i;if(r<32)return-1;for(E(t,0,e,0,r,n,o),A(t,16,t,32,r-32,t),i=0;i<16;i++)t[i]=0;return 0}function P(t,e,r,n,o){var i,s=new Uint8Array(32);if(r<32)return-1;if(S(s,0,32,n,o),0!==I(e,16,e,32,r-32,s))return-1;for(E(t,0,e,0,r,n,o),i=0;i<32;i++)t[i]=0;return 0}function T(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function R(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function L(t,e,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(t[i]^e[i]),t[i]^=n,e[i]^=n}function U(t,r){var n,o,i,s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(R(a),R(a),R(a),o=0;o<2;o++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,L(a,s,1-i)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function C(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return U(r,t),U(n,e),g(r,0,n,0)}function M(t){var e=new Uint8Array(32);return U(e,t),1&e[0]}function N(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function z(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function W(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function q(t,e,r){var n,o,i=0,s=0,a=0,c=0,u=0,l=0,f=0,h=0,d=0,p=0,b=0,y=0,g=0,m=0,w=0,v=0,O=0,j=0,k=0,_=0,S=0,E=0,x=0,A=0,I=0,B=0,P=0,T=0,R=0,L=0,U=0,C=r[0],M=r[1],N=r[2],z=r[3],W=r[4],q=r[5],D=r[6],K=r[7],F=r[8],$=r[9],V=r[10],G=r[11],H=r[12],Y=r[13],Z=r[14],X=r[15];n=e[0],i+=n*C,s+=n*M,a+=n*N,c+=n*z,u+=n*W,l+=n*q,f+=n*D,h+=n*K,d+=n*F,p+=n*$,b+=n*V,y+=n*G,g+=n*H,m+=n*Y,w+=n*Z,v+=n*X,n=e[1],s+=n*C,a+=n*M,c+=n*N,u+=n*z,l+=n*W,f+=n*q,h+=n*D,d+=n*K,p+=n*F,b+=n*$,y+=n*V,g+=n*G,m+=n*H,w+=n*Y,v+=n*Z,O+=n*X,n=e[2],a+=n*C,c+=n*M,u+=n*N,l+=n*z,f+=n*W,h+=n*q,d+=n*D,p+=n*K,b+=n*F,y+=n*$,g+=n*V,m+=n*G,w+=n*H,v+=n*Y,O+=n*Z,j+=n*X,n=e[3],c+=n*C,u+=n*M,l+=n*N,f+=n*z,h+=n*W,d+=n*q,p+=n*D,b+=n*K,y+=n*F,g+=n*$,m+=n*V,w+=n*G,v+=n*H,O+=n*Y,j+=n*Z,k+=n*X,n=e[4],u+=n*C,l+=n*M,f+=n*N,h+=n*z,d+=n*W,p+=n*q,b+=n*D,y+=n*K,g+=n*F,m+=n*$,w+=n*V,v+=n*G,O+=n*H,j+=n*Y,k+=n*Z,_+=n*X,n=e[5],l+=n*C,f+=n*M,h+=n*N,d+=n*z,p+=n*W,b+=n*q,y+=n*D,g+=n*K,m+=n*F,w+=n*$,v+=n*V,O+=n*G,j+=n*H,k+=n*Y,_+=n*Z,S+=n*X,n=e[6],f+=n*C,h+=n*M,d+=n*N,p+=n*z,b+=n*W,y+=n*q,g+=n*D,m+=n*K,w+=n*F,v+=n*$,O+=n*V,j+=n*G,k+=n*H,_+=n*Y,S+=n*Z,E+=n*X,n=e[7],h+=n*C,d+=n*M,p+=n*N,b+=n*z,y+=n*W,g+=n*q,m+=n*D,w+=n*K,v+=n*F,O+=n*$,j+=n*V,k+=n*G,_+=n*H,S+=n*Y,E+=n*Z,x+=n*X,n=e[8],d+=n*C,p+=n*M,b+=n*N,y+=n*z,g+=n*W,m+=n*q,w+=n*D,v+=n*K,O+=n*F,j+=n*$,k+=n*V,_+=n*G,S+=n*H,E+=n*Y,x+=n*Z,A+=n*X,n=e[9],p+=n*C,b+=n*M,y+=n*N,g+=n*z,m+=n*W,w+=n*q,v+=n*D,O+=n*K,j+=n*F,k+=n*$,_+=n*V,S+=n*G,E+=n*H,x+=n*Y,A+=n*Z,I+=n*X,n=e[10],b+=n*C,y+=n*M,g+=n*N,m+=n*z,w+=n*W,v+=n*q,O+=n*D,j+=n*K,k+=n*F,_+=n*$,S+=n*V,E+=n*G,x+=n*H,A+=n*Y,I+=n*Z,B+=n*X,n=e[11],y+=n*C,g+=n*M,m+=n*N,w+=n*z,v+=n*W,O+=n*q,j+=n*D,k+=n*K,_+=n*F,S+=n*$,E+=n*V,x+=n*G,A+=n*H,I+=n*Y,B+=n*Z,P+=n*X,n=e[12],g+=n*C,m+=n*M,w+=n*N,v+=n*z,O+=n*W,j+=n*q,k+=n*D,_+=n*K,S+=n*F,E+=n*$,x+=n*V,A+=n*G,I+=n*H,B+=n*Y,P+=n*Z,T+=n*X,n=e[13],m+=n*C,w+=n*M,v+=n*N,O+=n*z,j+=n*W,k+=n*q,_+=n*D,S+=n*K,E+=n*F,x+=n*$,A+=n*V,I+=n*G,B+=n*H,P+=n*Y,T+=n*Z,R+=n*X,n=e[14],w+=n*C,v+=n*M,O+=n*N,j+=n*z,k+=n*W,_+=n*q,S+=n*D,E+=n*K,x+=n*F,A+=n*$,I+=n*V,B+=n*G,P+=n*H,T+=n*Y,R+=n*Z,L+=n*X,n=e[15],v+=n*C,O+=n*M,j+=n*N,k+=n*z,_+=n*W,S+=n*q,E+=n*D,x+=n*K,A+=n*F,I+=n*$,B+=n*V,P+=n*G,T+=n*H,R+=n*Y,L+=n*Z,U+=n*X,i+=38*O,s+=38*j,a+=38*k,c+=38*_,u+=38*S,l+=38*E,f+=38*x,h+=38*A,d+=38*I,p+=38*B,b+=38*P,y+=38*T,g+=38*R,m+=38*L,w+=38*U,o=1,n=i+o+65535,o=Math.floor(n/65536),i=n-65536*o,n=s+o+65535,o=Math.floor(n/65536),s=n-65536*o,n=a+o+65535,o=Math.floor(n/65536),a=n-65536*o,n=c+o+65535,o=Math.floor(n/65536),c=n-65536*o,n=u+o+65535,o=Math.floor(n/65536),u=n-65536*o,n=l+o+65535,o=Math.floor(n/65536),l=n-65536*o,n=f+o+65535,o=Math.floor(n/65536),f=n-65536*o,n=h+o+65535,o=Math.floor(n/65536),h=n-65536*o,n=d+o+65535,o=Math.floor(n/65536),d=n-65536*o,n=p+o+65535,o=Math.floor(n/65536),p=n-65536*o,n=b+o+65535,o=Math.floor(n/65536),b=n-65536*o,n=y+o+65535,o=Math.floor(n/65536),y=n-65536*o,n=g+o+65535,o=Math.floor(n/65536),g=n-65536*o,n=m+o+65535,o=Math.floor(n/65536),m=n-65536*o,n=w+o+65535,o=Math.floor(n/65536),w=n-65536*o,n=v+o+65535,o=Math.floor(n/65536),v=n-65536*o,i+=o-1+37*(o-1),o=1,n=i+o+65535,o=Math.floor(n/65536),i=n-65536*o,n=s+o+65535,o=Math.floor(n/65536),s=n-65536*o,n=a+o+65535,o=Math.floor(n/65536),a=n-65536*o,n=c+o+65535,o=Math.floor(n/65536),c=n-65536*o,n=u+o+65535,o=Math.floor(n/65536),u=n-65536*o,n=l+o+65535,o=Math.floor(n/65536),l=n-65536*o,n=f+o+65535,o=Math.floor(n/65536),f=n-65536*o,n=h+o+65535,o=Math.floor(n/65536),h=n-65536*o,n=d+o+65535,o=Math.floor(n/65536),d=n-65536*o,n=p+o+65535,o=Math.floor(n/65536),p=n-65536*o,n=b+o+65535,o=Math.floor(n/65536),b=n-65536*o,n=y+o+65535,o=Math.floor(n/65536),y=n-65536*o,n=g+o+65535,o=Math.floor(n/65536),g=n-65536*o,n=m+o+65535,o=Math.floor(n/65536),m=n-65536*o,n=w+o+65535,o=Math.floor(n/65536),w=n-65536*o,n=v+o+65535,o=Math.floor(n/65536),v=n-65536*o,i+=o-1+37*(o-1),t[0]=i,t[1]=s,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=f,t[7]=h,t[8]=d,t[9]=p,t[10]=b,t[11]=y,t[12]=g,t[13]=m,t[14]=w,t[15]=v}function D(t,e){q(t,e,e)}function K(t,r){var n,o=e();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)D(o,o),2!==n&&4!==n&&q(o,o,r);for(n=0;n<16;n++)t[n]=o[n]}function F(t,r){var n,o=e();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)D(o,o),1!==n&&q(o,o,r);for(n=0;n<16;n++)t[n]=o[n]}function $(t,r,n){var o,i,s=new Uint8Array(32),a=new Float64Array(80),u=e(),l=e(),f=e(),h=e(),d=e(),p=e();for(i=0;i<31;i++)s[i]=r[i];for(s[31]=127&r[31]|64,s[0]&=248,N(a,n),i=0;i<16;i++)l[i]=a[i],h[i]=u[i]=f[i]=0;for(u[0]=h[0]=1,i=254;i>=0;--i)o=s[i>>>3]>>>(7&i)&1,L(u,l,o),L(f,h,o),z(d,u,f),W(u,u,f),z(f,l,h),W(l,l,h),D(h,d),D(p,u),q(u,f,u),q(f,l,d),z(d,u,f),W(u,u,f),D(l,u),W(f,h,p),q(u,f,c),z(u,u,h),q(f,f,u),q(u,h,p),q(h,l,a),D(l,d),L(u,l,o),L(f,h,o);for(i=0;i<16;i++)a[i+16]=u[i],a[i+32]=f[i],a[i+48]=l[i],a[i+64]=h[i];var b=a.subarray(32),y=a.subarray(16);return K(b,b),q(y,y,b),U(t,y),0}function V(t,e){return $(t,e,i)}function G(t,e){return n(e,32),V(t,e)}function H(t,e,r){var n=new Uint8Array(32);return $(n,r,e),O(t,o,n,j)}x.prototype.blocks=function(t,e,r){var n,o,i,s,a,c,u,l,f,h,d,p,b,y,g,m,w,v,O,j=this.fin?0:2048,k=this.h[0],_=this.h[1],S=this.h[2],E=this.h[3],x=this.h[4],A=this.h[5],I=this.h[6],B=this.h[7],P=this.h[8],T=this.h[9],R=this.r[0],L=this.r[1],U=this.r[2],C=this.r[3],M=this.r[4],N=this.r[5],z=this.r[6],W=this.r[7],q=this.r[8],D=this.r[9];while(r>=16)n=255&t[e+0]|(255&t[e+1])<<8,k+=8191&n,o=255&t[e+2]|(255&t[e+3])<<8,_+=8191&(n>>>13|o<<3),i=255&t[e+4]|(255&t[e+5])<<8,S+=8191&(o>>>10|i<<6),s=255&t[e+6]|(255&t[e+7])<<8,E+=8191&(i>>>7|s<<9),a=255&t[e+8]|(255&t[e+9])<<8,x+=8191&(s>>>4|a<<12),A+=a>>>1&8191,c=255&t[e+10]|(255&t[e+11])<<8,I+=8191&(a>>>14|c<<2),u=255&t[e+12]|(255&t[e+13])<<8,B+=8191&(c>>>11|u<<5),l=255&t[e+14]|(255&t[e+15])<<8,P+=8191&(u>>>8|l<<8),T+=l>>>5|j,f=0,h=f,h+=k*R,h+=_*(5*D),h+=S*(5*q),h+=E*(5*W),h+=x*(5*z),f=h>>>13,h&=8191,h+=A*(5*N),h+=I*(5*M),h+=B*(5*C),h+=P*(5*U),h+=T*(5*L),f+=h>>>13,h&=8191,d=f,d+=k*L,d+=_*R,d+=S*(5*D),d+=E*(5*q),d+=x*(5*W),f=d>>>13,d&=8191,d+=A*(5*z),d+=I*(5*N),d+=B*(5*M),d+=P*(5*C),d+=T*(5*U),f+=d>>>13,d&=8191,p=f,p+=k*U,p+=_*L,p+=S*R,p+=E*(5*D),p+=x*(5*q),f=p>>>13,p&=8191,p+=A*(5*W),p+=I*(5*z),p+=B*(5*N),p+=P*(5*M),p+=T*(5*C),f+=p>>>13,p&=8191,b=f,b+=k*C,b+=_*U,b+=S*L,b+=E*R,b+=x*(5*D),f=b>>>13,b&=8191,b+=A*(5*q),b+=I*(5*W),b+=B*(5*z),b+=P*(5*N),b+=T*(5*M),f+=b>>>13,b&=8191,y=f,y+=k*M,y+=_*C,y+=S*U,y+=E*L,y+=x*R,f=y>>>13,y&=8191,y+=A*(5*D),y+=I*(5*q),y+=B*(5*W),y+=P*(5*z),y+=T*(5*N),f+=y>>>13,y&=8191,g=f,g+=k*N,g+=_*M,g+=S*C,g+=E*U,g+=x*L,f=g>>>13,g&=8191,g+=A*R,g+=I*(5*D),g+=B*(5*q),g+=P*(5*W),g+=T*(5*z),f+=g>>>13,g&=8191,m=f,m+=k*z,m+=_*N,m+=S*M,m+=E*C,m+=x*U,f=m>>>13,m&=8191,m+=A*L,m+=I*R,m+=B*(5*D),m+=P*(5*q),m+=T*(5*W),f+=m>>>13,m&=8191,w=f,w+=k*W,w+=_*z,w+=S*N,w+=E*M,w+=x*C,f=w>>>13,w&=8191,w+=A*U,w+=I*L,w+=B*R,w+=P*(5*D),w+=T*(5*q),f+=w>>>13,w&=8191,v=f,v+=k*q,v+=_*W,v+=S*z,v+=E*N,v+=x*M,f=v>>>13,v&=8191,v+=A*C,v+=I*U,v+=B*L,v+=P*R,v+=T*(5*D),f+=v>>>13,v&=8191,O=f,O+=k*D,O+=_*q,O+=S*W,O+=E*z,O+=x*N,f=O>>>13,O&=8191,O+=A*M,O+=I*C,O+=B*U,O+=P*L,O+=T*R,f+=O>>>13,O&=8191,f=(f<<2)+f|0,f=f+h|0,h=8191&f,f>>>=13,d+=f,k=h,_=d,S=p,E=b,x=y,A=g,I=m,B=w,P=v,T=O,e+=16,r-=16;this.h[0]=k,this.h[1]=_,this.h[2]=S,this.h[3]=E,this.h[4]=x,this.h[5]=A,this.h[6]=I,this.h[7]=B,this.h[8]=P,this.h[9]=T},x.prototype.finish=function(t,e){var r,n,o,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+r,r=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,n=(1^r)-1,i=0;i<10;i++)s[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},x.prototype.update=function(t,e,r){var n,o;if(this.leftover){for(o=16-this.leftover,o>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(t,e,o),e+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var Y=B,Z=P;function X(t,e,r,n,o,i){var s=new Uint8Array(32);return H(s,o,i),Y(t,e,r,n,s)}function J(t,e,r,n,o,i){var s=new Uint8Array(32);return H(s,o,i),Z(t,e,r,n,s)}var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function tt(t,e,r,n){var o,i,s,a,c,u,l,f,h,d,p,b,y,g,m,w,v,O,j,k,_,S,E,x,A,I,B=new Int32Array(16),P=new Int32Array(16),T=t[0],R=t[1],L=t[2],U=t[3],C=t[4],M=t[5],N=t[6],z=t[7],W=e[0],q=e[1],D=e[2],K=e[3],F=e[4],$=e[5],V=e[6],G=e[7],H=0;while(n>=128){for(j=0;j<16;j++)k=8*j+H,B[j]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],P[j]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(j=0;j<80;j++)if(o=T,i=R,s=L,a=U,c=C,u=M,l=N,f=z,h=W,d=q,p=D,b=K,y=F,g=$,m=V,w=G,_=z,S=G,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=(C>>>14|F<<18)^(C>>>18|F<<14)^(F>>>9|C<<23),S=(F>>>14|C<<18)^(F>>>18|C<<14)^(C>>>9|F<<23),E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,_=C&M^~C&N,S=F&$^~F&V,E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,_=Q[2*j],S=Q[2*j+1],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,_=B[j%16],S=P[j%16],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,v=65535&A|I<<16,O=65535&E|x<<16,_=v,S=O,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=(T>>>28|W<<4)^(W>>>2|T<<30)^(W>>>7|T<<25),S=(W>>>28|T<<4)^(T>>>2|W<<30)^(T>>>7|W<<25),E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,_=T&R^T&L^R&L,S=W&q^W&D^q&D,E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,f=65535&A|I<<16,w=65535&E|x<<16,_=a,S=b,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=v,S=O,E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,a=65535&A|I<<16,b=65535&E|x<<16,R=o,L=i,U=s,C=a,M=c,N=u,z=l,T=f,q=h,D=d,K=p,F=b,$=y,V=g,G=m,W=w,j%16===15)for(k=0;k<16;k++)_=B[k],S=P[k],E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=B[(k+9)%16],S=P[(k+9)%16],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,v=B[(k+1)%16],O=P[(k+1)%16],_=(v>>>1|O<<31)^(v>>>8|O<<24)^v>>>7,S=(O>>>1|v<<31)^(O>>>8|v<<24)^(O>>>7|v<<25),E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,v=B[(k+14)%16],O=P[(k+14)%16],_=(v>>>19|O<<13)^(O>>>29|v<<3)^v>>>6,S=(O>>>19|v<<13)^(v>>>29|O<<3)^(O>>>6|v<<26),E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,B[k]=65535&A|I<<16,P[k]=65535&E|x<<16;_=T,S=W,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=t[0],S=e[0],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,t[0]=T=65535&A|I<<16,e[0]=W=65535&E|x<<16,_=R,S=q,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=t[1],S=e[1],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,t[1]=R=65535&A|I<<16,e[1]=q=65535&E|x<<16,_=L,S=D,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=t[2],S=e[2],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,t[2]=L=65535&A|I<<16,e[2]=D=65535&E|x<<16,_=U,S=K,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=t[3],S=e[3],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,t[3]=U=65535&A|I<<16,e[3]=K=65535&E|x<<16,_=C,S=F,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=t[4],S=e[4],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,t[4]=C=65535&A|I<<16,e[4]=F=65535&E|x<<16,_=M,S=$,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=t[5],S=e[5],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,t[5]=M=65535&A|I<<16,e[5]=$=65535&E|x<<16,_=N,S=V,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=t[6],S=e[6],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,t[6]=N=65535&A|I<<16,e[6]=V=65535&E|x<<16,_=z,S=G,E=65535&S,x=S>>>16,A=65535&_,I=_>>>16,_=t[7],S=e[7],E+=65535&S,x+=S>>>16,A+=65535&_,I+=_>>>16,x+=E>>>16,A+=x>>>16,I+=A>>>16,t[7]=z=65535&A|I<<16,e[7]=G=65535&E|x<<16,H+=128,n-=128}return n}function et(t,e,r){var n,o=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,tt(o,i,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,r=256-128*(r<112?1:0),s[r-9]=0,p(s,r-8,a/536870912|0,a<<3),tt(o,i,s,r),n=0;n<8;n++)p(t,8*n,o[n],i[n]);return 0}function rt(t,r){var n=e(),o=e(),i=e(),s=e(),a=e(),c=e(),u=e(),f=e(),h=e();W(n,t[1],t[0]),W(h,r[1],r[0]),q(n,n,h),z(o,t[0],t[1]),z(h,r[0],r[1]),q(o,o,h),q(i,t[3],r[3]),q(i,i,l),q(s,t[2],r[2]),z(s,s,s),W(a,o,n),W(c,s,i),z(u,s,i),z(f,o,n),q(t[0],a,c),q(t[1],f,u),q(t[2],u,c),q(t[3],a,f)}function nt(t,e,r){var n;for(n=0;n<4;n++)L(t[n],e[n],r)}function ot(t,r){var n=e(),o=e(),i=e();K(i,r[2]),q(n,r[0],i),q(o,r[1],i),U(t,o),t[31]^=M(n)<<7}function it(t,e,r){var n,o;for(T(t[0],s),T(t[1],a),T(t[2],a),T(t[3],s),o=255;o>=0;--o)n=r[o/8|0]>>(7&o)&1,nt(t,e,n),rt(e,t),rt(t,t),nt(t,e,n)}function st(t,r){var n=[e(),e(),e(),e()];T(n[0],f),T(n[1],h),T(n[2],a),q(n[3],f,h),it(t,n,r)}function at(t,r,o){var i,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(o||n(r,32),et(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,st(a,s),ot(t,a),i=0;i<32;i++)r[i+32]=t[i];return 0}var ct=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ut(t,e){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)e[o]+=r-16*e[n]*ct[o-(n-32)],r=Math.floor((e[o]+128)/256),e[o]-=256*r;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;o++)e[o]+=r-(e[31]>>4)*ct[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=r*ct[o];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function lt(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ut(t,r)}function ft(t,r,n,o){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),f=[e(),e(),e(),e()];et(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(i=0;i<n;i++)t[64+i]=r[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(et(u,t.subarray(32),n+32),lt(u),st(f,u),ot(t,f),i=32;i<64;i++)t[i]=o[i];for(et(c,t,n+64),lt(c),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=u[i];for(i=0;i<32;i++)for(s=0;s<32;s++)l[i+s]+=c[i]*a[s];return ut(t.subarray(32),l),h}function ht(t,r){var n=e(),o=e(),i=e(),c=e(),l=e(),f=e(),h=e();return T(t[2],a),N(t[1],r),D(i,t[1]),q(c,i,u),W(i,i,t[2]),z(c,t[2],c),D(l,c),D(f,l),q(h,f,l),q(n,h,i),q(n,n,c),F(n,n),q(n,n,i),q(n,n,c),q(n,n,c),q(t[0],n,c),D(o,t[0]),q(o,o,c),C(o,i)&&q(t[0],t[0],d),D(o,t[0]),q(o,o,c),C(o,i)?-1:(M(t[0])===r[31]>>7&&W(t[0],s,t[0]),q(t[3],t[0],t[1]),0)}function dt(t,r,n,o){var i,s=new Uint8Array(32),a=new Uint8Array(64),c=[e(),e(),e(),e()],u=[e(),e(),e(),e()];if(n<64)return-1;if(ht(u,o))return-1;for(i=0;i<n;i++)t[i]=r[i];for(i=0;i<32;i++)t[i+32]=o[i];if(et(a,t,n),lt(a),it(c,u,a),st(u,r.subarray(32)),rt(c,u),ot(s,c),n-=64,g(r,0,s,0)){for(i=0;i<n;i++)t[i]=0;return-1}for(i=0;i<n;i++)t[i]=r[i+64];return n}var pt=32,bt=24,yt=32,gt=16,mt=32,wt=32,vt=32,Ot=32,jt=32,kt=bt,_t=yt,St=gt,Et=64,xt=32,At=64,It=32,Bt=64;function Pt(t,e){if(t.length!==pt)throw new Error("bad key size");if(e.length!==bt)throw new Error("bad nonce size")}function Tt(t,e){if(t.length!==vt)throw new Error("bad public key size");if(e.length!==Ot)throw new Error("bad secret key size")}function Rt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Lt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:O,crypto_stream_xor:E,crypto_stream:S,crypto_stream_salsa20_xor:k,crypto_stream_salsa20:_,crypto_onetimeauth:A,crypto_onetimeauth_verify:I,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:B,crypto_secretbox_open:P,crypto_scalarmult:$,crypto_scalarmult_base:V,crypto_box_beforenm:H,crypto_box_afternm:Y,crypto_box:X,crypto_box_open:J,crypto_box_keypair:G,crypto_hash:et,crypto_sign:ft,crypto_sign_keypair:at,crypto_sign_open:dt,crypto_secretbox_KEYBYTES:pt,crypto_secretbox_NONCEBYTES:bt,crypto_secretbox_ZEROBYTES:yt,crypto_secretbox_BOXZEROBYTES:gt,crypto_scalarmult_BYTES:mt,crypto_scalarmult_SCALARBYTES:wt,crypto_box_PUBLICKEYBYTES:vt,crypto_box_SECRETKEYBYTES:Ot,crypto_box_BEFORENMBYTES:jt,crypto_box_NONCEBYTES:kt,crypto_box_ZEROBYTES:_t,crypto_box_BOXZEROBYTES:St,crypto_sign_BYTES:Et,crypto_sign_PUBLICKEYBYTES:xt,crypto_sign_SECRETKEYBYTES:At,crypto_sign_SEEDBYTES:It,crypto_hash_BYTES:Bt,gf:e,D:u,L:ct,pack25519:U,unpack25519:N,M:q,A:z,S:D,Z:W,pow2523:F,add:rt,set25519:T,modL:ut,scalarmult:it,scalarbase:st},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){Rt(t,e,r),Pt(r,e);for(var n=new Uint8Array(yt+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+yt]=t[i];return B(o,n,n.length,e,r),o.subarray(gt)},t.secretbox.open=function(t,e,r){Rt(t,e,r),Pt(r,e);for(var n=new Uint8Array(gt+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+gt]=t[i];return n.length<32||0!==P(o,n,n.length,e,r)?null:o.subarray(yt)},t.secretbox.keyLength=pt,t.secretbox.nonceLength=bt,t.secretbox.overheadLength=gt,t.scalarMult=function(t,e){if(Rt(t,e),t.length!==wt)throw new Error("bad n size");if(e.length!==mt)throw new Error("bad p size");var r=new Uint8Array(mt);return $(r,t,e),r},t.scalarMult.base=function(t){if(Rt(t),t.length!==wt)throw new Error("bad n size");var e=new Uint8Array(mt);return V(e,t),e},t.scalarMult.scalarLength=wt,t.scalarMult.groupElementLength=mt,t.box=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox(e,r,i)},t.box.before=function(t,e){Rt(t,e),Tt(t,e);var r=new Uint8Array(jt);return H(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox.open(e,r,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(vt),e=new Uint8Array(Ot);return G(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(Rt(t),t.length!==Ot)throw new Error("bad secret key size");var e=new Uint8Array(vt);return V(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=vt,t.box.secretKeyLength=Ot,t.box.sharedKeyLength=jt,t.box.nonceLength=kt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(Rt(t,e),e.length!==At)throw new Error("bad secret key size");var r=new Uint8Array(Et+t.length);return ft(r,t,t.length,e),r},t.sign.open=function(t,e){if(Rt(t,e),e.length!==xt)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=dt(r,t,t.length,e);if(n<0)return null;for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached=function(e,r){for(var n=t.sign(e,r),o=new Uint8Array(Et),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached.verify=function(t,e,r){if(Rt(t,e,r),e.length!==Et)throw new Error("bad signature size");if(r.length!==xt)throw new Error("bad public key size");var n,o=new Uint8Array(Et+t.length),i=new Uint8Array(Et+t.length);for(n=0;n<Et;n++)o[n]=e[n];for(n=0;n<t.length;n++)o[n+Et]=t[n];return dt(i,o,o.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(xt),e=new Uint8Array(At);return at(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(Rt(t),t.length!==At)throw new Error("bad secret key size");for(var e=new Uint8Array(xt),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(Rt(t),t.length!==It)throw new Error("bad seed size");for(var e=new Uint8Array(xt),r=new Uint8Array(At),n=0;n<32;n++)r[n]=t[n];return at(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=xt,t.sign.secretKeyLength=At,t.sign.seedLength=It,t.sign.signatureLength=Et,t.hash=function(t){Rt(t);var e=new Uint8Array(Bt);return et(e,t,t.length),e},t.hash.hashLength=Bt,t.verify=function(t,e){return Rt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===b(t,0,e,0,t.length))},t.setPRNG=function(t){n=t},function(){var e="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){var n=65536;t.setPRNG((function(t,r){var o,i=new Uint8Array(r);for(o=0;o<r;o+=n)e.getRandomValues(i.subarray(o,o+Math.min(r-o,n)));for(o=0;o<r;o++)t[o]=i[o];Lt(i)}))}else e=r(12),e&&e.randomBytes&&t.setPRNG((function(t,r){var n,o=e.randomBytes(r);for(n=0;n<r;n++)t[n]=o[n];Lt(o)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})},"2dcc":function(t,e,r){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0),n(e)}r("29ed"),r("5d80"),r("7479"),r("6359"),r("7fe9"),r("9bdd"),t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"2e9e":function(t,e,r){"use strict";(function(t){
/**
 * Support for translating between Buffer instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */
const n=r("e1e8");class o{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function i(t,e){return e.property?t+"["+e.property+"]":t}function s(t,e){if("function"!==typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof o))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})}e.Layout=o,e.nameWithProperty=i,e.bindConstructorLayout=s;class a extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends a{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}class u extends a{constructor(t,e,r){if(!(t instanceof o))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof l||this.layout instanceof f}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class l extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class f extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}class h extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntLE(t,r,this.span),this.span}}class d extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntBE(t,r,this.span),this.span}}const p=Math.pow(2,32);function b(t){const e=Math.floor(t/p),r=t-e*p;return{hi32:e,lo32:r}}function y(t,e){return t*p+e}class g extends o{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return y(n,r)}encode(t,e,r){void 0===r&&(r=0);const n=b(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}class m extends o{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32BE(e),n=t.readUInt32BE(e+4);return y(r,n)}encode(t,e,r){void 0===r&&(r=0);const n=b(t);return e.writeUInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class w extends o{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e),n=t.readInt32LE(e+4);return y(n,r)}encode(t,e,r){void 0===r&&(r=0);const n=b(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class v extends o{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readInt32BE(e),n=t.readUInt32BE(e+4);return y(r,n)}encode(t,e,r){void 0===r&&(r=0);const n=b(t);return e.writeInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class O extends o{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatLE(t,r),4}}class j extends o{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatBE(t,r),4}}class k extends o{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleLE(t,r),8}}class _ extends o{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleBE(t,r),8}}class S extends o{constructor(t,e,r){if(!(t instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof a&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof a)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0,n=this.count;if(n instanceof a&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let o=0;while(o<n)r+=this.elementLayout.getSpan(t,e+r),++o}return r}decode(t,e){void 0===e&&(e=0);const r=[];let n=0,o=this.count;o instanceof a&&(o=o.decode(t,e));while(n<o)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r){void 0===r&&(r=0);const n=this.elementLayout,o=t.reduce((t,o)=>t+n.encode(o,e,r+t),0);return this.count instanceof a&&this.count.encode(t.length,e,r),o}}class E extends o{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce((t,e)=>t&&e instanceof o,!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof e&&void 0===r&&(r=e,e=void 0);for(const o of t)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce((t,e)=>t+e.getSpan(),0)}catch(i){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce((r,n)=>{const o=n.getSpan(t,e);return e+=o,r+o},0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const o=r;let i=0,s=0;for(const a of this.fields){let o=a.span;if(s=0<o?o:0,void 0===a.property)n(0<o);else{const n=t[a.property];void 0!==n&&(s=a.encode(n,e,r),0>o&&(o=a.getSpan(e,r)))}i=r,r+=o}return i+s-o}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!==typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class x{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class A extends x{constructor(t,e){if(!(t instanceof a&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class I extends o{constructor(t,e,r){const n=t instanceof l||t instanceof f;if(n)t=new A(new u(t));else if(t instanceof a&&t.isCount())t=new A(t);else if(!(t instanceof x))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof o))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&n&&(i+=t.layout.span)),super(i,r),this.discriminator=t,this.usesPrefixDiscriminator=n,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,o=n.decode(t,e);let i=this.registry[o];if(void 0===i){let s=0;i=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[i.property]=this.defaultLayout.decode(t,e+s)}else r=i.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=n.layout.span),n.encode(t[n.property],e,r),i+o.encode(t[o.property],e,r+i)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new B(this,t,e,r);return this.registry[t]=n,n}getVariant(e,r){let n=e;return t.isBuffer(e)&&(void 0===r&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class B extends o{constructor(t,e,r,n){if(!(t instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof o))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let o=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),o+=this.layout.getSpan(e,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function P(t){return 0>t&&(t+=4294967296),t}class T extends o{constructor(t,e,r){if(!(t instanceof l||t instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof e&&void 0===r&&(r=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=P(t),this},this._packedGetValue=function(){return n}}decode(t,e){const r=this.makeDestinationObject();void 0===e&&(e=0);const n=this.word.decode(t,e);this._packedSetValue(n);for(const o of this.fields)void 0!==o.property&&(r[o.property]=o.decode(n));return r}encode(t,e,r){void 0===r&&(r=0);const n=this.word.decode(e,r);this._packedSetValue(n);for(const o of this.fields)if(void 0!==o.property){const e=t[o.property];void 0!==e&&o.encode(e)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new R(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new L(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class R{constructor(t,e,r){if(!(t instanceof T))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,o=t.fields.reduce((t,e)=>t+e.bits,0);if(e+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-e),this.wordMask=P(this.valueMask<<this.start),this.property=r}decode(){const t=this.container._packedGetValue(),e=P(t&this.wordMask),r=e>>>this.start;return r}encode(t){if(!Number.isInteger(t)||t!==P(t&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=P(t<<this.start);this.container._packedSetValue(P(e&~this.wordMask)|r)}}class L extends R{constructor(t,e){super(t,1,e)}decode(t,e){return!!R.prototype.decode.call(this,t,e)}encode(t){return"boolean"===typeof t&&(t=+t),R.prototype.encode.call(this,t)}}class U extends o{constructor(t,e){if(!(t instanceof a&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof a||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(e,r,n){let o=this.length;if(this.length instanceof a&&(o=e.length),!t.isBuffer(e)||o!==e.length)throw new TypeError(i("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof a&&this.length.encode(o,r,n),o}}class C extends o{constructor(t){super(-1,t)}getSpan(e,r){if(!t.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===r&&(r=0);let n=r;while(n<e.length&&0!==e[n])n+=1;return 1+n-r}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);return t.slice(e,e+n-1).toString("utf-8")}encode(e,r,n){void 0===n&&(n=0),"string"!==typeof e&&(e=e.toString());const o=new t(e,"utf8"),i=o.length;if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(r,n),r[n+i]=0,i+1}}class M extends o{constructor(t,e){if("string"===typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(e,r){if(!t.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===r&&(r=0),e.length-r}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+n).toString("utf-8")}encode(e,r,n){void 0===n&&(n=0),"string"!==typeof e&&(e=e.toString());const o=new t(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(r,n),i}}class N extends o{constructor(t,e){super(0,e),this.value=t}decode(t,e,r){return this.value}encode(t,e,r){return 0}}e.ExternalLayout=a,e.GreedyCount=c,e.OffsetLayout=u,e.UInt=l,e.UIntBE=f,e.Int=h,e.IntBE=d,e.Float=O,e.FloatBE=j,e.Double=k,e.DoubleBE=_,e.Sequence=S,e.Structure=E,e.UnionDiscriminator=x,e.UnionLayoutDiscriminator=A,e.Union=I,e.VariantLayout=B,e.BitStructure=T,e.BitField=R,e.Boolean=L,e.Blob=U,e.CString=C,e.UTF8=M,e.Constant=N,e.greedy=(t,e)=>new c(t,e),e.offset=(t,e,r)=>new u(t,e,r),e.u8=t=>new l(1,t),e.u16=t=>new l(2,t),e.u24=t=>new l(3,t),e.u32=t=>new l(4,t),e.u40=t=>new l(5,t),e.u48=t=>new l(6,t),e.nu64=t=>new g(t),e.u16be=t=>new f(2,t),e.u24be=t=>new f(3,t),e.u32be=t=>new f(4,t),e.u40be=t=>new f(5,t),e.u48be=t=>new f(6,t),e.nu64be=t=>new m(t),e.s8=t=>new h(1,t),e.s16=t=>new h(2,t),e.s24=t=>new h(3,t),e.s32=t=>new h(4,t),e.s40=t=>new h(5,t),e.s48=t=>new h(6,t),e.ns64=t=>new w(t),e.s16be=t=>new d(2,t),e.s24be=t=>new d(3,t),e.s32be=t=>new d(4,t),e.s40be=t=>new d(5,t),e.s48be=t=>new d(6,t),e.ns64be=t=>new v(t),e.f32=t=>new O(t),e.f32be=t=>new j(t),e.f64=t=>new k(t),e.f64be=t=>new _(t),e.struct=(t,e,r)=>new E(t,e,r),e.bits=(t,e,r)=>new T(t,e,r),e.seq=(t,e,r)=>new S(t,e,r),e.union=(t,e,r)=>new I(t,e,r),e.unionLayoutDiscriminator=(t,e)=>new A(t,e),e.blob=(t,e)=>new U(t,e),e.cstr=t=>new C(t),e.utf8=(t,e)=>new M(t,e),e.const=(t,e)=>new N(t,e)}).call(this,r("fd40").Buffer)},3270:function(t,e,r){t.exports=r("1807")(r("d052"))},"394a":function(t,e,r){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports["default"]=t.exports,t.exports.__esModule=!0,n(e)}r("1d62"),r("ac7a"),t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"3cac":function(t,e,r){"use strict";r.r(e);var n,o,i,s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("OneToMoreHeader",{attrs:{"support-networks":t.supportNetworks,title:t.$t("trxOneToMore.welcome")}}),r("div",{staticClass:"containerBg"},[r("div",{staticClass:"oneToMoreBox"},[r("div",{staticClass:"stepBox"},[r("el-steps",{attrs:{active:t.stepActive,"align-center":"","process-status":"finish","finish-status":"finish"}},[r("el-step",{attrs:{title:t.$t("trxOneToMore.prepare")}}),r("el-step",{attrs:{title:t.$t("trxOneToMore.confirm")}}),r("el-step",{attrs:{title:t.$t("trxOneToMore.send")}})],1)],1),0===t.stepActive?r("Step1",{on:{onStep1Confirm:t.onStep1Confirm}}):1===t.stepActive?r("Step2",{attrs:{"queue-list":t.queueList,address:t.address,decimals:t.decimals},on:{onStep2Prev:t.onStep2Prev,onStep2Next:t.onStep2Next,onStep2Confirm:t.onStep2Confirm}}):2===t.stepActive?r("Step3",{attrs:{send_tx:t.send_tx,c_abi:t.c_abi,"current-fee":t.currentFee,"array-limit":t.arrayLimit,c_address:t.c_address,"queue-list":t.queueList,address:t.address,decimals:t.decimals},on:{onStep3Prev:t.onStep3Prev}}):t._e()],1)])],1)},a=[],c=r("4833"),u=(r("6a61"),{zh:{trxOneToMore:{token:"代币",welcome:"欢迎使用CoinTool TRX批量发送",token_address_err:"代币地址错误",address_amount:"收款地址和数量",auto_amount:"自动添加数量",upload_file:"上传文件",iinsert_manually:"手动输入",download_examples:"下载例子",show_examples:"查看例子",delete_err:"删除无效地址",next:"下一步",address:"地址",slow:"慢",standard:"快",instant:"极速",inputAlert_1:"输入代币地址自动添加",inputAlert_2:"支持文件类型： CSV / Excel / Txt",inputAlert_3:"每一行应包括地址和数量，逗号分隔",inputAlert_4:"以下地址或金额不能发送",inputAlert_5:"可自动在每个地址后面添加数量",inputAlert_6:"请至少输入一条地址信息",inputAlert_7:"第 {line} 行: {str} 无效的钱包地址",inputAlert_8:"第 {line} 行: {str} 无效的数量",inputAlert_9:"第 {line} 行: {str} 请输入正确的格式，地址和数量以逗号分隔。例: address,number",inputAlert_10:"授信成功，请点击下一步！",inputAlert_11:"第 {line} 行: {str} 重复的地址",inputAlert_12:"发现重复地址",repeat_1:"保留第一个",repeat_2:"合并重复地址",repeat_3:"保留重复地址",step3_alert_1:"总共需要发送 {a} 次,还需要发送 {b} 次",step3_alert_2:"交易已全部发出，请等待交易被确认。",step3_alert_3:"祝贺，您的代币全部发送成功！",step3_alert_4:"您手动取消了交易，如需继续，请点击发送",step3_alert_5:"继续第 {d} 次交易",decimals:"位数",wallet_select_mainnet:"您的TRON钱包已选择 Mainnet网络",wallet_select_shasta:"您的TRON钱包已选择 Shasta网络",wallet_select:"请把您钱包的网络切换为 Mainnet 或者 Shasta网络",summary:"摘要",total_address_num:"地址总数",total_send_token_num:"代币发送总数",total_send_tx_num:"交易总数",token_balance:"代币余额",y_fee:"预估费用",you_balance:"你的 {symbol} 余额",d_allowance_b:"当前授信额度",y_allowance_b:"需授信额度",approve_amount:"授权额度",send_amount:"发送数量({amount} {symbol})",send_amount_b:"代币余额({amount} {symbol})",insufficient_balance:"{symbol} 余额不足",prepare:"准备",confirm:"确认",close:"关闭",send:"发送"}},en:{trxOneToMore:{token:"Token",welcome:"Welcome to CoinTool TRX Bulk Sender",token_address_err:"Token address error",address_amount:"Addresses with Amounts",auto_amount:"Auto add amounts",upload_file:"Upload file",iinsert_manually:"Insert manually",download_examples:"Download examples",show_examples:"Show examples",delete_err:"Delete them",next:"Next",address:"Address",slow:"Slow",standard:"Standard",instant:"Instant",inputAlert_1:"Input token address to add automatically",inputAlert_2:"Accepted: CSV / Excel / Txt",inputAlert_3:"The address and amount are separated by commas",inputAlert_4:"The below addresses cannot be processed",inputAlert_5:"Amount can be automatically added after each address",inputAlert_6:"Please enter at least one address information",inputAlert_7:"Line {line} : {str}  is a invalid wallet address",inputAlert_8:"Line {line} : {str}  is a invalid wrong amount",inputAlert_9:"Line {line} : {str}  is a invalid wallet address and wrong amount. E.g:address,number",inputAlert_10:"Request approve succeeded ! Please click next",inputAlert_11:"Line {line}: {str} is duplicate address",inputAlert_12:"Duplicated wallet addresses",repeat_1:"Keep the first one",repeat_2:"Merge balances",repeat_3:"Keep duplicate addresses",step3_alert_1:"A total of {a} needs to be sent,You need to send {b} more times",step3_alert_2:"All transactions have been sent out. Please wait for the transaction to be confirmed.",step3_alert_3:"Congratulations, all your tokens have been sent successfully!",step3_alert_4:"You have manually cancelled the transaction, to continue, please click send",step3_alert_5:"Continue with the {d} first transaction",decimals:"Decimals",summary:"Summary",wallet_select_mainnet:"Your TRON wallet has selected the Mainnet network",wallet_select_shasta:"Your TRON wallet has selected the Shasta network",wallet_select:"Please switch your wallet network to Mainnet or Shasta network",total_address_num:"Total number of addresses",total_send_token_num:"Total number of tokens to be sent",total_send_tx_num:"Total number of transactions needed",token_balance:"Your token balance",y_fee:"Approximate cost of operation",you_balance:"Your {symbol} balance",d_allowance_b:"Your current allowance",y_allowance_b:"Request approve amount",prepare:"Prepare",approve_amount:"Amount to approve",send_amount:"Exact amount to be sent ({amount} {symbol})",send_amount_b:"Your token balance({amount} {symbol})",insufficient_balance:"Insufficient {symbol} balance",confirm:"Confirm",close:"Close",send:"Send"}}}),l=r("850d"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"step1"},[r("div",{staticClass:"inputBox"},[r("div",{staticClass:"inputContext inputContextAddress"},[r("div",{staticClass:"label"},[r("span",[t._v(t._s(t.$t("trxOneToMore.token")))])]),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("trxOneToMore.inputAlert_1"),placement:t.isPc?"left-start":"top"}},[r("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.loading_address,expression:"loading_address"}],staticStyle:{width:"100%"},attrs:{size:"large",filterable:"","filter-method":t.handleFilterAddress},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}},t._l(t.addressOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[r("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])})),1)],1)],1),r("div",{staticClass:"inputContext inputContextDecimals"},[r("div",{staticClass:"label"},[r("span",[t._v(t._s(t.$t("trxOneToMore.decimals")))])]),r("el-input",{attrs:{size:"large",oninput:"value=value.replace(/[^\\d]/g,'')","max-length":"9"},model:{value:t.decimals,callback:function(e){t.decimals=e},expression:"decimals"}})],1)]),r("div",{staticClass:"label"},[r("span",[t._v(t._s(t.$t("trxOneToMore.address_amount")))]),r("span",{staticClass:"btnText",on:{click:t.onBulkAmount}},[t._v(t._s(t.$t("trxOneToMore.auto_amount")))]),t.isInput?r("span",{staticClass:"btnText",on:{click:t.onToggleInputType}},[t._v(t._s(t.$t("trxOneToMore.upload_file")))]):r("span",{staticClass:"btnText",on:{click:t.onToggleInputType}},[t._v(t._s(t.$t("trxOneToMore.iinsert_manually")))])]),r("el-row",[r("el-col",{attrs:{xs:{span:24}}},[t.isInput?r("Editor",{ref:"editor",on:{changed:t.onChangeEditor},model:{value:t.editorValue,callback:function(e){t.editorValue=e},expression:"editorValue"}}):r("upload-excel-component",{attrs:{"on-success":t.onUploadFileSuccess,"before-upload":t.beforeUpload}})],1)],1),r("div",{staticClass:"label label-remark"},[t.isInput?r("span",[t._v(t._s(t.$t("trxOneToMore.inputAlert_3")))]):r("span",[t._v(t._s(t.$t("trxOneToMore.inputAlert_2")))]),r("span",{directives:[{name:"show",rawName:"v-show",value:!t.isInput,expression:"!isInput"}],staticClass:"btnText"},[r("a",{attrs:{target:"_blank",href:"/example_trx.xlsx"}},[t._v(t._s(t.$t("trxOneToMore.download_examples")))])]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.isInput,expression:"isInput"}],staticClass:"btnText",on:{click:t.onExample}},[t._v(t._s(t.$t("trxOneToMore.show_examples")))])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[r("div",{staticClass:"label label-remark"},[r("span",{directives:[{name:"show",rawName:"v-show",value:!t.repeat,expression:"!repeat"}]},[t._v(t._s(t.$t("trxOneToMore.inputAlert_4")))]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.repeat,expression:"repeat"}]},[t._v(t._s(t.$t("trxOneToMore.inputAlert_12")))]),r("span",{directives:[{name:"show",rawName:"v-show",value:!t.repeat,expression:"!repeat"}],staticClass:"btnText",on:{click:t.onDeleteErr}},[t._v(t._s(t.$t("trxOneToMore.delete_err")))]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(e){return t.onRepeat(1)}}},[t._v(t._s(t.$t("trxOneToMore.repeat_1")))]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(e){return t.onRepeat(2)}}},[t._v(t._s(t.$t("trxOneToMore.repeat_2")))]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(e){return t.onRepeat(3)}}},[t._v(t._s(t.$t("trxOneToMore.repeat_3")))])]),r("ul",t._l(t.errInfoList,(function(e){return r("li",{key:e},[t._v(t._s(e))])})),0)]),r("el-button",{attrs:{size:"large",type:"primary"},on:{click:t.onNext}},[t._v(t._s(t.$t("trxOneToMore.next")))])],1)},h=[],d=r("efe2"),p=(r("7479"),r("4a32"),r("f597"),r("37de"),r("22f9"),r("476c"),r("c9f2"),r("96e6"),r("8b79"),r("3796")),b=r("fa7e"),y=r("986e"),g=r("52c1"),m=r("ebbc"),w=r("5c0e"),v={},O={name:"Step1",inject:["solwalletStateTest"],components:{UploadExcelComponent:p["a"],Editor:b["a"]},computed:Object(d["a"])({},Object(g["b"])(["isPc"])),data:function(){return{balance:{},repeat:!1,repeat_status:!1,loading_address:!1,stepActive:1,addressOptions:[],address:"SOL",decimals:9,isInput:!0,editorValue:"",queueList:[],errInfoList:[]}},watch:{address:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(localStorage.setItem("trxOneToMore_address",t),"SOL"===t)e.decimals=9;else for(n in v)n===t&&(e.decimals=v[n].decimals);case 2:case"end":return r.stop()}}),r)})))()},editorValue:function(t){this.onEditCheck(t)}},created:function(){y["e"].$on(y["d"],(function(t){console.log(t,"step_state")}))},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.solwalletStateTest();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return n=new w["b"](Object(w["f"])("devnet"),"confirmed"),r=new w["c"](window.solana.publicKey.toString()),e.next=8,n.getTokenAccountsByOwner(r,{programId:m["b"]});case 8:o=e.sent,t.addressOptions.push({value:"SOL",label:"SOL",decimals:9}),o.value.forEach((function(e){console.log("pubkey: ".concat(e.pubkey.toBase58()));var r=m["a"].decode(e.account.data);console.log("mint: ".concat(new w["c"](r.mint))),console.log("amount: ".concat(m["c"].fromBuffer(r.amount))),t.addressOptions.push({value:new w["c"](r.mint),label:"SPL",decimals:0})})),localStorage.getItem("solOneToMore_address")&&(t.address=localStorage.getItem("solOneToMore_address"));case 12:case"end":return e.stop()}}),e)})))()},methods:{setNetwork:function(t){switch(t){case"https://api.shasta.trongrid.io":window.isMainnet=!1,this.$message({message:this.$t("trxOneToMore.wallet_select_shasta"),type:"success"});break;case"https://api.trongrid.io":window.isMainnet=!0,this.$message({message:this.$t("trxOneToMore.wallet_select_mainnet"),type:"success"});break;case"https://api.tronstack.io":window.isMainnet=!0,this.$message({message:this.$t("trxOneToMore.wallet_select_mainnet"),type:"success"});break;default:this.$message.error(this.$t("trxOneToMore.wallet_select"));break}},onExample:function(){this.editorValue="TVYL4aKxe87Niq9nKwc6d7957nc7Ubiz44,0.001\nTB7wXKnjyxjyUQ9sdKRFaL1UacsKb2N89m,1\nTQKjWTZ12b6vxnikAeVctU5US8hGZzTFVE,3.45"},onBulkAmount:function(){var t=this;this.$prompt(this.$t("trxOneToMore.auto_amount"),this.$t("trxOneToMore.inputAlert_5"),{confirmButtonText:this.$t("trxOneToMore.confirm"),cancelButtonText:this.$t("trxOneToMore.close")}).then((function(e){var r=e.value,n=t.editorValue.split("\n"),o="";for(var i in n){var s=n[i].split(",");s[1]&&(n[i]=s[0]),parseInt(i)+1===n.length?o+=n[i]+","+r:o+=n[i]+","+r+"\n"}t.editorValue=o})).catch((function(){}))},onNext:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.solwalletStateTest();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:if(""!==t.editorValue){e.next=7;break}return t.$message.error(t.$t("trxOneToMore.inputAlert_6")),e.abrupt("return");case 7:if(r=t.onEditCheck(t.editorValue),!r){e.next=10;break}return e.abrupt("return");case 10:t.$emit("onStep1Confirm",{queueList:t.queueList,address:t.address,decimals:t.decimals});case 11:case"end":return e.stop()}}),e)})))()},onDeleteErr:function(){var t=this,e="",r=[];for(var n in this.queueList)r.push(this.queueList[n]);this.queueList=r,this.queueList.forEach((function(r,n){var o=n===t.queueList.length-1?"":"\n";e+=t.queueList[n].join()+o})),this.editorValue=e},onRepeat:function(t){var e=this,r="",n=[],o=[];for(var i in this.queueList)n[this.queueList[i][0]]&&1===t?delete this.queueList[i]:n[this.queueList[i][0]]&&2===t?(o[this.queueList[i][0]]+=parseFloat(this.queueList[i][1]),delete this.queueList[i]):(n[this.queueList[i][0]]=!0,2===t&&(o[this.queueList[i][0]]=parseFloat(this.queueList[i][1]),delete this.queueList[i]));if(2===t)for(var s in o)this.queueList.push([s,o[s]]);3===t&&(this.repeat_status=!0,this.repeat=!1,this.errInfoList=[]);var a=[];for(var c in this.queueList)a.push(this.queueList[c]);this.queueList=a,this.queueList.forEach((function(t,n){var o=n===e.queueList.length-1?"":"\n";r+=e.queueList[n].join()+o})),this.editorValue=r},onEditCheck:function(t){if(""===t)return this.queueList=[],this.errInfoList=[],void(this.repeat_status=!1);var e=t.split("\n"),r=[],n=[],o=[],i=!1,s=!1;for(var a in e){var c=parseInt(a)+1,u=e[a].trim().split(",");2===u.length?this.isValidSolAddress(u[0])?parseFloat(u[1])<0||!parseFloat(u[1])?(i=!0,n.push(this.$t("trxOneToMore.inputAlert_8",{line:c,str:u[1]}))):(o[u[0]]&&!this.repeat_status?(s=!0,i=!0,n.push(this.$t("trxOneToMore.inputAlert_11",{line:c,str:u[0]}))):o[u[0]]=!0,r.push(u)):(i=!0,n.push(this.$t("trxOneToMore.inputAlert_7",{line:c,str:u[0]}))):(i=!0,n.push(this.$t("trxOneToMore.inputAlert_9",{line:c,str:u[0]})))}return this.repeat=s,this.queueList=r,this.errInfoList=n,i},handleFilterAddress:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.solwalletStateTest();case 2:if(r.sent){r.next=4;break}return r.abrupt("return");case 4:if(e.loading_address=!0,t=t.trim(),e.isValidSolAddress(t)){r.next=9;break}return e.loading_address=!1,r.abrupt("return");case 9:if(!v[t]){r.next=13;break}return e.address=t,e.loading_address=!1,r.abrupt("return");case 13:if(r.prev=13,n="",o="",e.isValidSolAddress(t)&&(n="SPL",o=0),""!==n){r.next=21;break}return e.$message.error(e.$t("trxOneToMore.token_address_err")),e.loading_address=!1,r.abrupt("return");case 21:v[t]={symbol:"",decimals:""},v[t].symbol=n,v[t].decimals=parseInt(o),v[t].address=t,e.addressOptions.push({value:t,label:v[t].symbol,decimals:v[t].decimals}),e.address=t,e.decimals=v[t].decimals,r.next=33;break;case 30:r.prev=30,r.t0=r["catch"](13),e.$message.error(e.$t("trxOneToMore.token_address_err"));case 33:e.loading_address=!1;case 34:case"end":return r.stop()}}),r,null,[[13,30]])})))()},isValidSolAddress:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,n=new w["c"](t),r=w["c"].isOnCurve(n.toBytes()),e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",!1);case 8:if(r){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,null,[[0,5]])})))()},onToggleInputType:function(){this.isInput=!this.isInput},beforeUpload:function(t){var e=t.size/1024/1024<10;return!!e||(this.$message({message:"Please do not upload files larger than 10m in size.",type:"warning"}),!1)},onChangeEditor:function(t){this.editorValue=t},onUploadFileSuccess:function(t){var e=t.results,r=(t.header,"");e.forEach((function(t,n){var o=n===e.length-1?"":"\n";r+="".concat(t.Address,",").concat(t.Amount).concat(o)})),this.editorValue=r,this.onToggleInputType()}}},j=O,k=(r("8be2"),r("5d22")),_=Object(k["a"])(j,f,h,!1,null,"2740f8d8",null),S=_.exports,E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"step2"},[r("div",{staticClass:"label"},[r("span",[t._v(t._s(t.$t("trxOneToMore.summary")))])]),r("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.step2_loading,expression:"step2_loading"}],staticClass:"abstract"},[r("li",{directives:[{name:"show",rawName:"v-show",value:t.allowance_b<t.allowance_a&&"TRX"!==t.address,expression:"allowance_b < allowance_a && address !== 'TRX'"}]},[r("span",{staticClass:"number"},[t._v(t._s(t.allowance_a)+" "+t._s(t.symbol))]),r("span",{staticClass:"remark"},[t._v(t._s(t.$t("trxOneToMore.y_allowance_b")))])]),r("li",{directives:[{name:"show",rawName:"v-show",value:t.allowance_b<t.allowance_a&&"TRX"!==t.address,expression:"allowance_b < allowance_a && address !== 'TRX'"}]},[r("span",{staticClass:"number"},[t._v(t._s(t.allowance_b)+" "+t._s(t.symbol))]),r("span",{staticClass:"remark"},[t._v(t._s(t.$t("trxOneToMore.d_allowance_b")))])]),r("li",[r("span",{staticClass:"number"},[t._v(t._s(t.address_count))]),r("span",{staticClass:"remark"},[t._v(t._s(t.$t("trxOneToMore.total_address_num")))])]),r("li",[r("span",{staticClass:"number"},[t._v(t._s(t.send_amount)+" "+t._s(t.symbol))]),r("span",{staticClass:"remark"},[t._v(t._s(t.$t("trxOneToMore.total_send_token_num")))])]),r("li",[r("span",{staticClass:"number"},[t._v(t._s(t.send_tx))]),r("span",{staticClass:"remark"},[t._v(t._s(t.$t("trxOneToMore.total_send_tx_num")))])]),r("li",[r("span",{staticClass:"number"},[t._v(t._s(t.tokenBalance)+" "+t._s(t.symbol))]),r("span",{staticClass:"remark"},[t._v(t._s(t.$t("trxOneToMore.token_balance")))])]),r("li",[r("span",{staticClass:"number"},[t._v(t._s(t.fee)+" TRX")]),r("span",{staticClass:"remark"},[t._v(t._s(t.$t("trxOneToMore.y_fee")))])]),r("li",[r("span",{staticClass:"number"},[t._v(t._s(t.ethBalance)+" TRX")]),r("span",{staticClass:"remark"},[t._v(t._s(t.$t("trxOneToMore.you_balance",{symbol:"TRX"})))])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.allowance_b<t.allowance_a&&"TRX"!==t.address&&0===t.approveList.length&&0===t.errInfoList.length,expression:"allowance_b < allowance_a && address !== 'TRX' && approveList.length === 0 && errInfoList.length ===0"}],staticStyle:{"margin-bottom":"20px"}},[r("div",{staticClass:"label"},[r("span",[t._v(t._s(t.$t("trxOneToMore.approve_amount")))])]),r("el-radio-group",{model:{value:t.allowance_select,callback:function(e){t.allowance_select=e},expression:"allowance_select"}},[r("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("trxOneToMore.send_amount",{amount:t.send_amount,symbol:t.symbol})))]),r("el-radio",{attrs:{label:2}},[t._v(t._s(t.$t("trxOneToMore.send_amount_b",{amount:t.tokenBalance,symbol:t.symbol}))+" ")])],1)],1),r("DealList",{attrs:{list:t.approveList}}),r("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.approve_status,expression:"approve_status"}],staticClass:"tips",attrs:{title:t.$t("trxOneToMore.inputAlert_10"),type:"success",closable:!1,effect:"dark"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[r("ul",t._l(t.errInfoList,(function(e){return r("li",{key:e},[t._v(t._s(e))])})),0)]),r("div",{staticClass:"btnBox"},[r("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:t.onPrev}}),r("el-button",{attrs:{loading:t.step2_loading,size:"large",type:"primary",disabled:t.send_btn},on:{click:t.onNext}},[t._v(t._s(t.$t("trxOneToMore.next")))])],1)],1)},x=[],A=(r("65f0"),r("a9b5"),r("b893")),I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"dealList"},t._l(t.list,(function(e,n){return r("li",{key:e.address},[r("div",{staticClass:"left"},[r("span",{staticClass:"index"},[t._v(t._s(n+1))]),r("a",{staticClass:"address",attrs:{target:"_blank",href:t.blockTxurl+"/#/transaction/"+e.address}},[t._v(t._s(e.address))])]),r("div",{staticClass:"right"},[r("span",{staticClass:"status"},[0===e.status?r("i",{staticClass:"el-icon-loading"}):1===e.status?r("i",{staticClass:"el-icon-success"}):2===e.status?r("i",{staticClass:"el-icon-error",staticStyle:{color:"#F05252"}}):t._e()])])])})),0)},B=[],P={props:{list:{type:Array,required:!0}},data:function(){return{blockTxurl:""}},created:function(){},mounted:function(){this.blockTxurl=window.isMainnet?"https://tronscan.org":"https://shasta.tronscan.org"},methods:{}},T=P,R=(r("773c"),Object(k["a"])(T,I,B,!1,null,"e79c8f3e",null)),L=R.exports,U=r("7921"),C=r.n(U),M=[{constant:!1,inputs:[{name:"token",type:"address"},{name:"_contributors",type:"address[]"},{name:"_balances",type:"uint256[]"}],name:"multisendToken",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],N={name:"Step2",components:{DealList:L},props:{queueList:{type:Array,required:!0},address:{type:String,required:!0},decimals:{type:Number,required:!0}},data:function(){return{c_address:"",web3:{},send_tx:0,symbol:"TRX",approve_status:!1,send_amount:0,address_count:0,step2_loading:!1,fee:0,d_fee:0,allowance_select:2,currentFee:"",tokenBalance:0,ethBalance:0,send_btn:!1,approveList:[],errInfoList:[],allowance_a:0,allowance_b:0,arrayLimit:200,sliderMarks:{}}},watch:{step2_loading:function(t){y["e"].$emit(y["d"],t)}},created:function(){},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n,i,s,a,c,u,l,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t,t.step2_loading=!0,t.c_address=window.isMainnet?"TBgEFwQkrZUv3U25rUSWLt7TbP2N9WebiM":"TF8UnF1rZjGFd3ZLwvKGZ5xmtDThjfwYLx",e.next=5,t.onUpdateBalance(t.address);case 5:for(n in t.address_count=t.queueList.length,t.arrayLimit=30,t.send_tx=Math.ceil(t.queueList.length/t.arrayLimit),r=0,t.queueList)r=A["a"].numAdd(r,t.queueList[n][1]);return t.send_amount=r,e.next=13,window.tronWeb.contract().at(t.c_address);case 13:return i=e.sent,e.next=16,i.txFee().call();case 16:if(s=e.sent,t.currentFee=parseInt(s.toString()),console.log("currentFee",t.currentFee),a=window.tronWeb.fromSun(t.currentFee),t.d_fee=parseFloat(a),c=t.d_fee+50,t.fee=c,"TRX"!==t.address){e.next=31;break}if(!(t.ethBalance<t.send_amount+c)){e.next=29;break}return t.step2_loading=!1,t.errInfoList.push(t.$t("trxOneToMore.insufficient_balance",{symbol:"TRX"})),t.send_btn=!0,e.abrupt("return");case 29:e.next=53;break;case 31:if(localStorage.getItem("trx_tokenConTract"))for(l in u=JSON.parse(localStorage.getItem("trx_tokenConTract")),u)u[l].address===t.address&&(t.symbol=u[l].symbol);if(!(t.ethBalance<c)){e.next=37;break}return t.step2_loading=!1,t.errInfoList.push(t.$t("trxOneToMore.insufficient_balance",{symbol:"TRX"})),t.send_btn=!0,e.abrupt("return");case 37:if(!(t.tokenBalance<r)){e.next=42;break}return t.step2_loading=!1,t.errInfoList.push(t.$t("trxOneToMore.insufficient_balance",{symbol:t.symbol})),t.send_btn=!0,e.abrupt("return");case 42:if(!window.tronWeb.isAddress(t.address)){e.next=52;break}return e.next=45,window.tronWeb.contract().at(t.address);case 45:return f=e.sent,e.next=48,f.allowance(window.tronWeb.defaultAddress.base58,t.c_address).call();case 48:h=e.sent,t.allowance_b=parseInt(h.remaining._hex)/Math.pow(10,t.decimals),e.next=53;break;case 52:t.allowance_b=1e31;case 53:t.allowance_a=r,t.step2_loading=!1;case 55:case"end":return e.stop()}}),e)})))()},methods:{onNext:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n,i,s,a,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("TRX"!==t.address&&t.allowance_b<t.allowance_a)){e.next=15;break}return r={feeLimit:1e9,callValue:0},n=window.tronWeb.address.toHex(t.address),i="approve(address,uint256)",s=window.tronWeb.address.toHex(window.tronWeb.defaultAddress.base58),c=0,1===t.allowance_select?(c=t.send_amount,a=[{type:"address",value:t.c_address},{type:"uint256",value:new C.a(t.send_amount).times(new C.a(10).pow(Number(t.decimals))).toString(10)}]):(c=t.tokenBalance,a=[{type:"address",value:t.c_address},{type:"uint256",value:new C.a(t.tokenBalance).times(new C.a(10).pow(Number(t.decimals))).toString(10)}]),e.next=9,window.tronWeb.transactionBuilder.triggerSmartContract(n,i,r,a,s);case 9:return u=e.sent,e.next=12,window.tronWeb.trx.multiSign(u.transaction);case 12:return l=e.sent,window.tronWeb.trx.sendRawTransaction(l).then((function(t){var e=null,r=t.transaction.txID;o.approveList.push({address:r,status:0}),o.send_btn=!0,e=setInterval((function(){window.tronWeb.trx.getTransaction(r).then((function(t){t.ret&&t.ret.length>0&&"SUCCESS"===t.ret[0].contractRet&&(clearInterval(e),o.approveList=o.approveList.map((function(t){return t.address===r&&(t.status=1),t})),o.approve_status=!0,o.send_btn=!1,o.allowance_b=c)}))}),5e3)})).catch((function(t){console.log(t)})),e.abrupt("return");case 15:t.$emit("onStep2Confirm",{queueList:t.queueList,address:t.address,decimals:t.decimals,send_tx:t.send_tx,arrayLimit:t.arrayLimit,currentFee:t.currentFee,c_address:t.c_address,c_abi:M});case 16:case"end":return e.stop()}}),e)})))()},onPrev:function(){this.$emit("onStep2Prev")},onUpdateBalance:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,o,i,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,window.tronWeb.trx.getBalance(window.tronWeb.defaultAddress.base58);case 2:if(n=r.sent,e.ethBalance=parseFloat(window.tronWeb.fromSun(n)),"TRX"===t){r.next=18;break}if(o=e.decimals,!window.tronWeb.isAddress(t)){r.next=11;break}return r.next=9,window.tronWeb.transactionBuilder.triggerSmartContract(window.tronWeb.address.toHex(t),"balanceOf(address)",{},[{type:"address",value:window.tronWeb.defaultAddress.base58}],"417946F66D0FC67924DA0AC9936183AB3B07C81126");case 9:i=r.sent,e.tokenBalance=parseFloat(window.tronWeb.toDecimal("0x"+i.constant_result[0])/Math.pow(10,o));case 11:if(!(parseInt(t)>=1e6)){r.next=16;break}return r.next=14,window.tronWeb.trx.getAccount(window.tronWeb.defaultAddress.base58);case 14:for(a in s=r.sent,s.assetV2)parseInt(s.assetV2[a].key)===parseInt(t)&&(e.tokenBalance=parseFloat(s.assetV2[a].value/Math.pow(10,o)));case 16:r.next=19;break;case 18:e.tokenBalance=e.ethBalance;case 19:case"end":return r.stop()}}),r)})))()}}},z=N,W=(r("508f"),Object(k["a"])(z,E,x,!1,null,"53f7b036",null)),q=W.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"step3"},[r("div",{staticClass:"label"},[r("span",[t._v(" "+t._s(t.$t("trxOneToMore.step3_alert_1",{a:t.send_status.a,b:t.send_status.b})))]),r("span",{directives:[{name:"show",rawName:"v-show",value:0===t.send_status.b&&!t.all_send,expression:"send_status.b === 0 && !all_send"}]},[t._v(t._s(t.$t("trxOneToMore.step3_alert_2")))])]),r("DealList",{attrs:{list:t.dealList}}),r("el-alert",{directives:[{name:"show",rawName:"v-show",value:0===t.send_status.b&&t.all_send,expression:"send_status.b ===0 && all_send"}],staticClass:"tips",attrs:{title:t.$t("trxOneToMore.step3_alert_3"),type:"success",closable:!1,effect:"dark"}}),r("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.send_close,expression:"send_close"}],staticClass:"tips",attrs:{title:t.$t("trxOneToMore.step3_alert_4"),type:"success",closable:!1,effect:"dark"}}),r("div",{staticClass:"btnBox"},[r("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:t.onPrev}}),r("el-button",{directives:[{name:"show",rawName:"v-show",value:t.send_close,expression:"send_close"}],attrs:{size:"large",type:"primary"},on:{click:t.onSend}},[t._v(t._s(t.$t("trxOneToMore.step3_alert_5",{d:t.d_slice})))])],1)],1)},K=[],F=(r("d51e"),{name:"Step3",components:{DealList:L},props:{send_tx:{type:Number,required:!0},arrayLimit:{type:Number,required:!0},currentFee:{type:Number,required:!0},c_address:{type:String,required:!0},c_abi:{type:Array,required:!0},queueList:{type:Array,required:!0},address:{type:String,required:!0},decimals:{type:Number,required:!0}},data:function(){return{dealList:[],send_close:!1,addresses_to_send:[],balances_to_send:[],send_status:{},all_send:!1,d_slice:0,d_slice_s:0,web3:{}}},created:function(){},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r in i=t,t.addresses_to_send=[],t.balances_to_send=[],t.queueList)t.addresses_to_send.push(t.queueList[r][0]),t.balances_to_send.push(new C.a(10).pow(t.decimals).times(t.queueList[r][1]).toString(10));return e.next=6,t._multisend(t.send_tx,t.arrayLimit);case 6:case"end":return e.stop()}}),e)})))()},methods:{onPrev:function(){this.$emit("onStep3Prev")},onSend:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.send_close=!1,e.next=3,t._multisend(t.d_slice_s,t.arrayLimit);case 3:case"end":return e.stop()}}),e)})))()},_multisend:function(t,e){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,s,a,c,u,l,f,h,d,p,b,y,g,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r.d_slice=r.send_tx-t===0?1:r.send_tx-t+1,r.d_slice_s=t,r.send_status={a:r.send_tx,b:t},o=(t-1)*e,s=t*e,a=r.addresses_to_send.slice(o,s),c=r.balances_to_send.slice(o,s),"TRX"===r.address?(l=c.reduce((function(t,e){return new C.a(t).plus(new C.a(e))})),f=l.toString(),u=new C.a(r.currentFee).plus(f),console.log(r.currentFee,f,u.toString())):u=new C.a(r.currentFee),h={feeLimit:1e9,callValue:u},d=window.tronWeb.address.toHex(r.c_address),console.log(1e3),p=window.tronWeb.address.toHex(window.tronWeb.defaultAddress.base58),b="",y="",a.unshift("TK21BHkSvTrzSmgjQ933PPpnMybumy8Syn"),console.log(222),c.unshift(0),"TRX"===r.address?(b="bulksendEther(address[],uint256[])",y=[{type:"address[]",value:a},{type:"uint256[]",value:c}]):(window.tronWeb.isAddress(r.address)&&(b="bulksendToken(address,address[],uint256[])",y=[{type:"address",value:r.address},{type:"address[]",value:a},{type:"uint256[]",value:c}]),parseInt(r.address)>1e6&&(b="bulksendTRC10(uint256,address[],uint256[])",y=[{type:"uint256",value:r.address},{type:"address[]",value:a},{type:"uint256[]",value:c}])),n.next=21,window.tronWeb.transactionBuilder.triggerSmartContract(d,b,h,y,p);case 21:return g=n.sent,n.next=24,window.tronWeb.trx.multiSign(g.transaction);case 24:m=n.sent,window.tronWeb.trx.sendRawTransaction(m).then((function(n){var o=null,s=n.transaction.txID;i.dealList.push({address:s,status:0}),i.send_status={a:r.send_tx,b:t-1},o=setInterval((function(){window.tronWeb.trx.getTransaction(s).then((function(r){r.ret&&r.ret.length>0&&"SUCCESS"===r.ret[0].contractRet&&(clearInterval(o),i.dealList=i.dealList.map((function(t){return t.address===s&&(t.status=1),t})),t--,t>0?i._multisend(t,e):i.all_send=!0)}))}),5e3)})).catch((function(t){console.log("wwwwww",t)})),n.next=32;break;case 28:n.prev=28,n.t0=n["catch"](0),console.log("xxx",n.t0),"Confirmation declined by user"===n.t0&&(r.send_close=!0);case 32:case"end":return n.stop()}}),n,null,[[0,28]])})))()}}}),$=F,V=(r("a11b"),Object(k["a"])($,D,K,!1,null,"9ee190c2",null)),G=V.exports,H="trxOneToMore",Y="multiSender",Z={name:Y,components:{OneToMoreHeader:l["a"],Step1:S,Step2:q,Step3:G},data:function(){return{supportNetworks:[{icon:"coin-trx",name:"TRX Mainnet"},{icon:"coin-debug1",name:"Shasta TestNet"}],stepActive:0,c_abi:[],send_tx:0,arrayLimit:0,c_address:"",currentFee:0,queueList:[],address:"SOL",decimals:9}},watch:{},created:function(){this.$i18n.getLocaleMessage("en")[H]||(this.$i18n.mergeLocaleMessage("en",u.en),this.$i18n.mergeLocaleMessage("zh",u.zh))},mounted:function(){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{onStep1Confirm:function(t){var e=t.queueList,r=t.address,n=t.decimals;this.queueList=e,this.address=r,this.decimals=n,this.stepActive=1},onStep2Confirm:function(t){var e=t.queueList,r=t.address,n=t.decimals,o=t.send_tx,i=t.arrayLimit,s=t.currentFee,a=t.c_address,c=t.c_abi;this.queueList=e,this.address=r,this.decimals=n,this.send_tx=o,this.arrayLimit=i,this.currentFee=s,this.c_address=a,this.c_abi=c,this.stepActive=2},onStep2Prev:function(){this.stepActive=0},onStep2Next:function(){this.stepActive=2},onStep3Prev:function(){this.stepActive=1},onChangeEditor:function(t){this.editorValue=t}}},X=Z,J=(r("d9ce"),Object(k["a"])(X,s,a,!1,null,"70ba110b",null));e["default"]=J.exports},"4ed6":function(t,e,r){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports,n(e)}r("1d62"),r("ac7a"),t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"508f":function(t,e,r){"use strict";r("6ba6")},"527d":function(t,e,r){var n=r("2dcc")["default"],o=r("0cb9");function i(t,e){return!e||"object"!==n(e)&&"function"!==typeof e?o(t):e}t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0},"5b25":function(t,e){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},"5c0e":function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return P})),r.d(e,"b",(function(){return Dn})),r.d(e,"c",(function(){return S})),r.d(e,"d",(function(){return de})),r.d(e,"e",(function(){return te})),r.d(e,"f",(function(){return ro}));var n=r("5f4c"),o=r.n(n),i=r("2c95"),s=r.n(i),a=r("fd40"),c=r("53a7"),u=r.n(c),l=r("5dec"),f=r.n(l),h=r("e085"),d=r("2e9e"),p=r("0217"),b=r.n(p),y=r("06d0"),g=r("d0d8"),m=r("96b0"),w=r.n(m),v=r("11ec"),O=r.n(v),j=r("7b31");const k=t=>t instanceof a["Buffer"]?t:t instanceof Uint8Array?a["Buffer"].from(t.buffer,t.byteOffset,t.byteLength):a["Buffer"].from(t),_=32;class S{constructor(t){if(o()(this,"_bn",void 0),"string"===typeof t){const e=f.a.decode(t);if(32!=e.length)throw new Error("Invalid public key input");this._bn=new u.a(e)}else this._bn=new u.a(t);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}equals(t){return this._bn.eq(t._bn)}toBase58(){return f.a.encode(this.toBytes())}toBytes(){return this.toBuffer()}toBuffer(){const t=this._bn.toArrayLike(a["Buffer"]);if(32===t.length)return t;const e=a["Buffer"].alloc(32);return t.copy(e,32-t.length),e}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=a["Buffer"].concat([t.toBuffer(),a["Buffer"].from(e),r.toBuffer()]),o=await Object(h["sha256"])(new Uint8Array(n));return new S(a["Buffer"].from(o,"hex"))}static async createProgramAddress(t,e){let r=a["Buffer"].alloc(0);t.forEach((function(t){if(t.length>_)throw new Error("Max seed length exceeded");r=a["Buffer"].concat([r,k(t)])})),r=a["Buffer"].concat([r,e.toBuffer(),a["Buffer"].from("ProgramDerivedAddress")]);let n=await Object(h["sha256"])(new Uint8Array(r)),o=new u.a(n,16).toArray(void 0,32);if(x(o))throw new Error("Invalid seeds, address must fall off the curve");return new S(o)}static async findProgramAddress(t,e){let r,n=255;while(0!=n){try{const o=t.concat(a["Buffer"].from([n]));r=await this.createProgramAddress(o,e)}catch(o){n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(t){return 1==x(t)}}o()(S,"default",new S("11111111111111111111111111111111"));let E=s.a.lowlevel;function x(t){var e=[E.gf(),E.gf(),E.gf(),E.gf()],r=E.gf(),n=E.gf(),o=E.gf(),i=E.gf(),s=E.gf(),a=E.gf(),c=E.gf();return E.set25519(e[2],A),E.unpack25519(e[1],t),E.S(o,e[1]),E.M(i,o,E.D),E.Z(o,o,e[2]),E.A(i,e[2],i),E.S(s,i),E.S(a,s),E.M(c,a,s),E.M(r,c,o),E.M(r,r,i),E.pow2523(r,r),E.M(r,r,o),E.M(r,r,i),E.M(r,r,i),E.M(e[0],r,i),E.S(n,e[0]),E.M(n,n,i),B(n,o)&&E.M(e[0],e[0],I),E.S(n,e[0]),E.M(n,n,i),B(n,o)?0:1}let A=E.gf([1]),I=E.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function B(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return E.pack25519(r,t),E.pack25519(n,e),E.crypto_verify_32(r,0,n,0)}class P{constructor(t){o()(this,"_keypair",void 0),this._keypair=t?i["sign"].keyPair.fromSecretKey(k(t)):i["sign"].keyPair()}get publicKey(){return new S(this._keypair.publicKey)}get secretKey(){return k(this._keypair.secretKey)}}new S("BPFLoader1111111111111111111111111111111111");var T,R="undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};T="function"===typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t};var L=T;function U(t,e){var r={seen:[],stylize:M};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),V(e)?r.showHidden=e:e&&it(r,e),X(r.showHidden)&&(r.showHidden=!1),X(r.depth)&&(r.depth=2),X(r.colors)&&(r.colors=!1),X(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=C),z(r,t,r.depth)}function C(t,e){var r=U.styles[e];return r?"["+U.colors[r][0]+"m"+t+"["+U.colors[r][1]+"m":t}function M(t,e){return t}function N(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}function z(t,e,r){if(t.customInspect&&e&&rt(e.inspect)&&e.inspect!==U&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return Z(n)||(n=z(t,n,r)),n}var o=W(t,e);if(o)return o;var i=Object.keys(e),s=N(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),et(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return q(e);if(0===i.length){if(rt(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(J(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(tt(e))return t.stylize(Date.prototype.toString.call(e),"date");if(et(e))return q(e)}var c,u="",l=!1,f=["{","}"];if($(e)&&(l=!0,f=["[","]"]),rt(e)){var h=e.name?": "+e.name:"";u=" [Function"+h+"]"}return J(e)&&(u=" "+RegExp.prototype.toString.call(e)),tt(e)&&(u=" "+Date.prototype.toUTCString.call(e)),et(e)&&(u=" "+q(e)),0!==i.length||l&&0!=e.length?r<0?J(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=l?D(t,e,r,s,i):i.map((function(n){return K(t,e,r,s,n,l)})),t.seen.pop(),F(c,u,f)):f[0]+u+f[1]}function W(t,e){if(X(e))return t.stylize("undefined","undefined");if(Z(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return Y(e)?t.stylize(""+e,"number"):V(e)?t.stylize(""+e,"boolean"):G(e)?t.stylize("null","null"):void 0}function q(t){return"["+Error.prototype.toString.call(t)+"]"}function D(t,e,r,n,o){for(var i=[],s=0,a=e.length;s<a;++s)st(e,String(s))?i.push(K(t,e,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(K(t,e,r,n,o,!0))})),i}function K(t,e,r,n,o,i){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),st(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=G(r)?z(t,c.value,null):z(t,c.value,r-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n"))):a=t.stylize("[Circular]","special")),X(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function F(t,e,r){var n=t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return n>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function $(t){return Array.isArray(t)}function V(t){return"boolean"===typeof t}function G(t){return null===t}function H(t){return null==t}function Y(t){return"number"===typeof t}function Z(t){return"string"===typeof t}function X(t){return void 0===t}function J(t){return Q(t)&&"[object RegExp]"===ot(t)}function Q(t){return"object"===typeof t&&null!==t}function tt(t){return Q(t)&&"[object Date]"===ot(t)}function et(t){return Q(t)&&("[object Error]"===ot(t)||t instanceof Error)}function rt(t){return"function"===typeof t}function nt(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function ot(t){return Object.prototype.toString.call(t)}function it(t,e){if(!e||!Q(e))return t;var r=Object.keys(e),n=r.length;while(n--)t[r[n]]=e[r[n]];return t}function st(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function at(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}U.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},U.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var ct,ut=Object.prototype.hasOwnProperty,lt=Object.keys||function(t){var e=[];for(var r in t)ut.call(t,r)&&e.push(r);return e},ft=Array.prototype.slice;function ht(){return"undefined"!==typeof ct?ct:ct=function(){return"foo"===function(){}.name}()}function dt(t){return Object.prototype.toString.call(t)}function pt(t){return!Object(a["isBuffer"])(t)&&("function"===typeof R.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function bt(t,e){t||jt(t,!0,e,"==",kt)}var yt=/\s*function\s+([^\(\s]*)\s*/;function gt(t){if(rt(t)){if(ht())return t.name;var e=t.toString(),r=e.match(yt);return r&&r[1]}}function mt(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=Ot(this),this.generatedMessage=!0);var e=t.stackStartFunction||jt;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=gt(e),i=n.indexOf("\n"+o);if(i>=0){var s=n.indexOf("\n",i+1);n=n.substring(s+1)}this.stack=n}}}function wt(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function vt(t){if(ht()||!rt(t))return U(t);var e=gt(t),r=e?": "+e:"";return"[Function"+r+"]"}function Ot(t){return wt(vt(t.actual),128)+" "+t.operator+" "+wt(vt(t.expected),128)}function jt(t,e,r,n,o){throw new mt({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function kt(t,e){t||jt(t,!0,e,"==",kt)}function _t(t,e,r){t!=e&&jt(t,e,r,"==",_t)}function St(t,e,r){t==e&&jt(t,e,r,"!=",St)}function Et(t,e,r){At(t,e,!1)||jt(t,e,r,"deepEqual",Et)}function xt(t,e,r){At(t,e,!0)||jt(t,e,r,"deepStrictEqual",xt)}function At(t,e,r,n){if(t===e)return!0;if(Object(a["isBuffer"])(t)&&Object(a["isBuffer"])(e))return 0===at(t,e);if(tt(t)&&tt(e))return t.getTime()===e.getTime();if(J(t)&&J(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===typeof t||null!==e&&"object"===typeof e){if(pt(t)&&pt(e)&&dt(t)===dt(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===at(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(Object(a["isBuffer"])(t)!==Object(a["isBuffer"])(e))return!1;n=n||{actual:[],expected:[]};var o=n.actual.indexOf(t);return-1!==o&&o===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),Bt(t,e,r,n))}return r?t===e:t==e}function It(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function Bt(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(nt(t)||nt(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=It(t),i=It(e);if(o&&!i||!o&&i)return!1;if(o)return t=ft.call(t),e=ft.call(e),At(t,e,r);var s,a,c=lt(t),u=lt(e);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!==u[a])return!1;for(a=c.length-1;a>=0;a--)if(s=c[a],!At(t[s],e[s],r,n))return!1;return!0}function Pt(t,e,r){At(t,e,!1)&&jt(t,e,r,"notDeepEqual",Pt)}function Tt(t,e,r){At(t,e,!0)&&jt(t,e,r,"notDeepStrictEqual",Tt)}function Rt(t,e,r){t!==e&&jt(t,e,r,"===",Rt)}function Lt(t,e,r){t===e&&jt(t,e,r,"!==",Lt)}function Ut(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function Ct(t){var e;try{t()}catch(r){e=r}return e}function Mt(t,e,r,n){var o;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),o=Ct(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&jt(o,r,"Missing expected exception"+n);var i="string"===typeof n,s=!t&&et(o),a=!t&&o&&!r;if((s&&i&&Ut(o,r)||a)&&jt(o,r,"Got unwanted exception"+n),t&&o&&r&&!Ut(o,r)||!t&&o)throw o}function Nt(t,e,r){Mt(!0,t,e,r)}function zt(t,e,r){Mt(!1,t,e,r)}function Wt(t){if(t)throw t}bt.AssertionError=mt,L(mt,Error),bt.fail=jt,bt.ok=kt,bt.equal=_t,bt.notEqual=St,bt.deepEqual=Et,bt.deepStrictEqual=xt,bt.notDeepEqual=Pt,bt.notDeepStrictEqual=Tt,bt.strictEqual=Rt,bt.notStrictEqual=Lt,bt.throws=Nt,bt.doesNotThrow=zt,bt.ifError=Wt;const qt=(t="publicKey")=>d["blob"](32,t),Dt=(t="string")=>{const e=d["struct"]([d["u32"]("length"),d["u32"]("lengthPadding"),d["blob"](d["offset"](d["u32"](),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e);return e.decode=(t,e)=>{const n=r(t,e);return n.chars.toString("utf8")},e.encode=(t,e,r)=>{const o={chars:a["Buffer"].from(t,"utf8")};return n(o,e,r)},e.alloc=t=>d["u32"]().span+d["u32"]().span+a["Buffer"].from(t,"utf8").length,e},Kt=(t="authorized")=>d["struct"]([qt("staker"),qt("withdrawer")],t),Ft=(t="lockup")=>d["struct"]([d["ns64"]("unixTimestamp"),d["ns64"]("epoch"),qt("custodian")],t);function $t(t,e){let r=0;return t.layout.fields.forEach(t=>{t.span>=0?r+=t.span:"function"===typeof t.alloc&&(r+=t.alloc(e[t.property]))}),r}function Vt(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,0===(128&n))break}return e}function Gt(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}const Ht=32;class Yt{constructor(t){o()(this,"header",void 0),o()(this,"accountKeys",void 0),o()(this,"recentBlockhash",void 0),o()(this,"instructions",void 0),this.header=t.header,this.accountKeys=t.accountKeys.map(t=>new S(t)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions}isAccountWritable(t){return t<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||t>=this.header.numRequiredSignatures&&t<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}serialize(){const t=this.accountKeys.length;let e=[];Gt(e,t);const r=this.instructions.map(t=>{const{accounts:e,programIdIndex:r}=t,n=f.a.decode(t.data);let o=[];Gt(o,e.length);let i=[];return Gt(i,n.length),{programIdIndex:r,keyIndicesCount:a["Buffer"].from(o),keyIndices:a["Buffer"].from(e),dataLength:a["Buffer"].from(i),data:n}});let n=[];Gt(n,r.length);let o=a["Buffer"].alloc(Xt);a["Buffer"].from(n).copy(o);let i=n.length;r.forEach(t=>{const e=d["struct"]([d["u8"]("programIdIndex"),d["blob"](t.keyIndicesCount.length,"keyIndicesCount"),d["seq"](d["u8"]("keyIndex"),t.keyIndices.length,"keyIndices"),d["blob"](t.dataLength.length,"dataLength"),d["seq"](d["u8"]("userdatum"),t.data.length,"data")]),r=e.encode(t,o,i);i+=r}),o=o.slice(0,i);const s=d["struct"]([d["blob"](1,"numRequiredSignatures"),d["blob"](1,"numReadonlySignedAccounts"),d["blob"](1,"numReadonlyUnsignedAccounts"),d["blob"](e.length,"keyCount"),d["seq"](qt("key"),t,"keys"),qt("recentBlockhash")]),c={numRequiredSignatures:a["Buffer"].from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:a["Buffer"].from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:a["Buffer"].from([this.header.numReadonlyUnsignedAccounts]),keyCount:a["Buffer"].from(e),keys:this.accountKeys.map(t=>k(t.toBytes())),recentBlockhash:f.a.decode(this.recentBlockhash)};let u=a["Buffer"].alloc(2048);const l=s.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(t){let e=[...t];const r=e.shift(),n=e.shift(),o=e.shift(),i=Vt(e);let s=[];for(let d=0;d<i;d++){const t=e.slice(0,Ht);e=e.slice(Ht),s.push(f.a.encode(a["Buffer"].from(t)))}const c=e.slice(0,Ht);e=e.slice(Ht);const u=Vt(e);let l=[];for(let d=0;d<u;d++){const t=e.shift(),r=Vt(e),n=e.slice(0,r);e=e.slice(r);const o=Vt(e),i=e.slice(0,o),s=f.a.encode(a["Buffer"].from(i));e=e.slice(o),l.push({programIdIndex:t,accounts:n,data:s})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:o},recentBlockhash:f.a.encode(a["Buffer"].from(c)),accountKeys:s,instructions:l};return new Yt(h)}}const Zt=a["Buffer"].alloc(64).fill(0),Xt=1232,Jt=64;class Qt{constructor(t){o()(this,"keys",void 0),o()(this,"programId",void 0),o()(this,"data",a["Buffer"].alloc(0)),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}}class te{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){o()(this,"signatures",[]),o()(this,"feePayer",void 0),o()(this,"instructions",[]),o()(this,"recentBlockhash",void 0),o()(this,"nonceInfo",void 0),t&&Object.assign(this,t)}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Qt(t))}),this}compileMessage(){const{nonceInfo:t}=this;t&&this.instructions[0]!=t.nonceInstruction&&(this.recentBlockhash=t.nonce,this.instructions.unshift(t.nonceInstruction));const{recentBlockhash:e}=this;if(!e)throw new Error("Transaction recentBlockhash required");if(this.instructions.length<1)throw new Error("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let f=0;f<this.instructions.length;f++)if(void 0===this.instructions[f].programId)throw new Error("Transaction instruction index ".concat(f," has undefined program id"));const n=[],o=[];this.instructions.forEach(t=>{t.keys.forEach(t=>{o.push({...t})});const e=t.programId.toString();n.includes(e)||n.push(e)}),n.forEach(t=>{o.push({pubkey:new S(t),isSigner:!1,isWritable:!1})}),o.sort((function(t,e){const r=t.isSigner===e.isSigner?0:t.isSigner?-1:1,n=t.isWritable===e.isWritable?0:t.isWritable?-1:1;return r||n}));const i=[];o.forEach(t=>{const e=t.pubkey.toString(),r=i.findIndex(t=>t.pubkey.toString()===e);r>-1?i[r].isWritable=i[r].isWritable||t.isWritable:i.push(t)});const s=i.findIndex(t=>t.pubkey.equals(r));if(s>-1){const[t]=i.splice(s,1);t.isSigner=!0,t.isWritable=!0,i.unshift(t)}else i.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const t=i.findIndex(t=>t.pubkey.equals(f.publicKey));if(!(t>-1))throw new Error("unknown signer: ".concat(f.publicKey.toString()));i[t].isSigner||(i[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],h=[];i.forEach(({pubkey:t,isSigner:e,isWritable:r})=>{e?(l.push(t.toString()),a+=1,r||(c+=1)):(h.push(t.toString()),r||(u+=1))});const d=l.concat(h),p=this.instructions.map(t=>{const{data:e,programId:r}=t;return{programIdIndex:d.indexOf(r.toString()),accounts:t.keys.map(t=>d.indexOf(t.pubkey.toString())),data:f.a.encode(e)}});return p.forEach(t=>{bt(t.programIdIndex>=0),t.accounts.forEach(t=>bt(t>=0))}),new Yt({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:d,recentBlockhash:e,instructions:p})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){const r=this.signatures.every((t,r)=>e[r].equals(t.publicKey));if(r)return t}return this.signatures=e.map(t=>({signature:null,publicKey:t})),t}serializeMessage(){return this._compile().serialize()}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter(t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)}).map(t=>({signature:null,publicKey:t}))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const o of t){const t=o.publicKey.toString();e.has(t)||(e.add(t),r.push(o))}this.signatures=r.map(t=>({signature:null,publicKey:t.publicKey}));const n=this._compile();this._partialSign(n,...r),this._verifySignatures(n.serialize(),!0)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const o of t){const t=o.publicKey.toString();e.has(t)||(e.add(t),r.push(o))}const n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(t=>{const e=s.a.sign.detached(r,t.secretKey);this._addSignature(t.publicKey,k(e))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){bt(64===e.length);const r=this.signatures.findIndex(e=>t.equals(e.publicKey));if(r<0)throw new Error("unknown signer: ".concat(t.toString()));this.signatures[r].signature=a["Buffer"].from(e)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(t,e){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(e)return!1}else if(!s.a.sign.detached.verify(t,r,n.toBuffer()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r&&!this._verifySignatures(n,e))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];Gt(r,e.length);const n=r.length+64*e.length+t.length,o=a["Buffer"].alloc(n);return bt(e.length<256),a["Buffer"].from(r).copy(o,0),e.forEach(({signature:t},e)=>{null!==t&&(bt(64===t.length,"signature has invalid length"),a["Buffer"].from(t).copy(o,r.length+64*e))}),t.copy(o,r.length+64*e.length),bt(o.length<=Xt,"Transaction too large: ".concat(o.length," > ").concat(Xt)),o}get keys(){return bt(1===this.instructions.length),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return bt(1===this.instructions.length),this.instructions[0].programId}get data(){return bt(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=Vt(e);let n=[];for(let o=0;o<r;o++){const t=e.slice(0,Jt);e=e.slice(Jt),n.push(f.a.encode(a["Buffer"].from(t)))}return te.populate(Yt.from(e),n)}static populate(t,e){const r=new te;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((e,n)=>{const o={signature:e==f.a.encode(Zt)?null:f.a.decode(e),publicKey:t.accountKeys[n]};r.signatures.push(o)}),t.instructions.forEach(e=>{const n=e.accounts.map(e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some(t=>t.publicKey.toString()===n.toString()),isWritable:t.isAccountWritable(e)}});r.instructions.push(new Qt({keys:n,programId:t.accountKeys[e.programIdIndex],data:f.a.decode(e.data)}))}),r}}const ee=new S("SysvarC1ock11111111111111111111111111111111"),re=new S("SysvarRecentB1ockHashes11111111111111111111"),ne=new S("SysvarRent111111111111111111111111111111111"),oe=(new S("SysvarRewards111111111111111111111111111111"),new S("SysvarStakeHistory1111111111111111111111111"));new S("Sysvar1nstructions1111111111111111111111111");async function ie(t,e,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendTransaction(e,r,o),s=(await t.confirmTransaction(i,n&&n.commitment)).value;if(s.err)throw new Error("Transaction ".concat(i," failed (").concat(JSON.stringify(s),")"));return i}function se(t){return new Promise(e=>setTimeout(e,t))}function ae(t,e){const r=t.layout.span>=0?t.layout.span:$t(t,e),n=a["Buffer"].alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}const ce=d["nu64"]("lamportsPerSignature"),ue=d["struct"]([d["u32"]("version"),d["u32"]("state"),qt("authorizedPubkey"),qt("nonce"),d["struct"]([ce],"feeCalculator")]),le=ue.span;class fe{constructor(t){o()(this,"authorizedPubkey",void 0),o()(this,"nonce",void 0),o()(this,"feeCalculator",void 0),this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=ue.decode(k(t),0);return new fe({authorizedPubkey:new S(e.authorizedPubkey),nonce:new S(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const he=Object.freeze({Create:{index:0,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports"),d["ns64"]("space"),qt("programId")])},Assign:{index:1,layout:d["struct"]([d["u32"]("instruction"),qt("programId")])},Transfer:{index:2,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])},CreateWithSeed:{index:3,layout:d["struct"]([d["u32"]("instruction"),qt("base"),Dt("seed"),d["ns64"]("lamports"),d["ns64"]("space"),qt("programId")])},AdvanceNonceAccount:{index:4,layout:d["struct"]([d["u32"]("instruction")])},WithdrawNonceAccount:{index:5,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])},InitializeNonceAccount:{index:6,layout:d["struct"]([d["u32"]("instruction"),qt("authorized")])},AuthorizeNonceAccount:{index:7,layout:d["struct"]([d["u32"]("instruction"),qt("authorized")])},Allocate:{index:8,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("space")])},AllocateWithSeed:{index:9,layout:d["struct"]([d["u32"]("instruction"),qt("base"),Dt("seed"),d["ns64"]("space"),qt("programId")])},AssignWithSeed:{index:10,layout:d["struct"]([d["u32"]("instruction"),qt("base"),Dt("seed"),qt("programId")])},TransferWithSeed:{index:11,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports"),Dt("seed"),qt("programId")])}});class de{constructor(){}static createAccount(t){const e=he.Create,r=ae(e,{lamports:t.lamports,space:t.space,programId:k(t.programId.toBuffer())});return new Qt({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let e,r;if("basePubkey"in t){const n=he.TransferWithSeed;e=ae(n,{lamports:t.lamports,seed:t.seed,programId:k(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const n=he.Transfer;e=ae(n,{lamports:t.lamports}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Qt({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if("basePubkey"in t){const n=he.AssignWithSeed;e=ae(n,{base:k(t.basePubkey.toBuffer()),seed:t.seed,programId:k(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const n=he.Assign;e=ae(n,{programId:k(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qt({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=he.CreateWithSeed,r=ae(e,{base:k(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:k(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Qt({keys:n,programId:this.programId,data:r})}static createNonceAccount(t){const e=new te;"basePubkey"in t&&"seed"in t?e.add(de.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:le,programId:this.programId})):e.add(de.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:le,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=he.InitializeNonceAccount,r=ae(e,{authorized:k(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Qt(n)}static nonceAdvance(t){const e=he.AdvanceNonceAccount,r=ae(e),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Qt(n)}static nonceWithdraw(t){const e=he.WithdrawNonceAccount,r=ae(e,{lamports:t.lamports});return new Qt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const e=he.AuthorizeNonceAccount,r=ae(e,{authorized:k(t.newAuthorizedPubkey.toBuffer())});return new Qt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let e,r;if("basePubkey"in t){const n=he.AllocateWithSeed;e=ae(n,{base:k(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:k(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const n=he.Allocate;e=ae(n,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qt({keys:r,programId:this.programId,data:e})}}o()(de,"programId",new S("11111111111111111111111111111111"));const pe=Xt-300;class be{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/be.chunkSize)+1+1)}static async load(t,e,r,n,o){{const i=await t.getMinimumBalanceForRentExemption(o.length),s=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new te,a.add(de.allocate({accountPubkey:r.publicKey,space:o.length}))),s.owner.equals(n)||(a=a||new te,a.add(de.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<i&&(a=a||new te,a.add(de.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:i-s.lamports})))}else a=(new te).add(de.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:o.length,programId:n}));null!==a&&await ie(t,a,[e,r],{commitment:"confirmed"})}const i=d["struct"]([d["u32"]("instruction"),d["u32"]("offset"),d["u32"]("bytesLength"),d["u32"]("bytesLengthPadding"),d["seq"](d["u8"]("byte"),d["offset"](d["u32"](),-8),"bytes")]),s=be.chunkSize;let c=0,u=o,l=[];while(u.length>0){const o=u.slice(0,s),f=a["Buffer"].alloc(s+16);i.encode({instruction:0,offset:c,bytes:o},f);const h=(new te).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:f});if(l.push(ie(t,h,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await se(1e3/t)}c+=s,u=u.slice(s)}await Promise.all(l);{const o=d["struct"]([d["u32"]("instruction")]),i=a["Buffer"].alloc(o.span);o.encode({instruction:1},i);const s=(new te).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1}],programId:n,data:i});await ie(t,s,[e,r],{commitment:"confirmed"})}return!0}}o()(be,"chunkSize",pe);new S("BPFLoader2111111111111111111111111111111111");const ye=2147483647,ge=36,me=1,we=26,ve=38,Oe=700,je=72,ke=128,_e="-",Se=/[^\0-\x7E]/,Ee=/[\x2E\u3002\uFF0E\uFF61]/g,xe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ae=ge-me,Ie=Math.floor,Be=String.fromCharCode;function Pe(t){throw new RangeError(xe[t])}function Te(t,e){const r=[];let n=t.length;while(n--)r[n]=e(t[n]);return r}function Re(t,e){const r=t.split("@");let n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(Ee,".");const o=t.split("."),i=Te(o,e).join(".");return n+i}function Le(t){const e=[];let r=0;const n=t.length;while(r<n){const o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){const n=t.charCodeAt(r++);56320==(64512&n)?e.push(((1023&o)<<10)+(1023&n)+65536):(e.push(o),r--)}else e.push(o)}return e}const Ue=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},Ce=function(t,e,r){let n=0;for(t=r?Ie(t/Oe):t>>1,t+=Ie(t/e);t>Ae*we>>1;n+=ge)t=Ie(t/Ae);return Ie(n+(Ae+1)*t/(t+ve))},Me=function(t){const e=[];t=Le(t);let r=t.length,n=ke,o=0,i=je;for(const c of t)c<128&&e.push(Be(c));let s=e.length,a=s;s&&e.push(_e);while(a<r){let r=ye;for(const e of t)e>=n&&e<r&&(r=e);const c=a+1;r-n>Ie((ye-o)/c)&&Pe("overflow"),o+=(r-n)*c,n=r;for(const u of t)if(u<n&&++o>ye&&Pe("overflow"),u==n){let t=o;for(let r=ge;;r+=ge){const n=r<=i?me:r>=i+we?we:r-i;if(t<n)break;const o=t-n,s=ge-n;e.push(Be(Ue(n+o%s,0))),t=Ie(o/s)}e.push(Be(Ue(t,0))),i=Ce(o,c,a==s),o=0,++a}++o,++n}return e.join("")},Ne=function(t){return Re(t,(function(t){return Se.test(t)?"xn--"+Me(t):t}))};function ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var We=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function qe(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function De(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"===typeof t?Ke(Fe(t),(function(n){var o=encodeURIComponent(qe(n))+r;return We(t[n])?Ke(t[n],(function(t){return o+encodeURIComponent(qe(t))})).join(e):o+encodeURIComponent(qe(t[n]))})).join(e):n?encodeURIComponent(qe(n))+r+encodeURIComponent(qe(t)):""}function Ke(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var Fe=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e};function $e(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!==typeof t||0===t.length)return o;var i=/\+/g;t=t.split(e);var s=1e3;n&&"number"===typeof n.maxKeys&&(s=n.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var c=0;c<a;++c){var u,l,f,h,d=t[c].replace(i,"%20"),p=d.indexOf(r);p>=0?(u=d.substr(0,p),l=d.substr(p+1)):(u=d,l=""),f=decodeURIComponent(u),h=decodeURIComponent(l),ze(o,f)?We(o[f])?o[f].push(h):o[f]=[o[f],h]:o[f]=h}return o}function Ve(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ge=/^([a-z0-9.+-]+:)/i,He=/:[0-9]*$/,Ye=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ze=["<",">",'"',"`"," ","\r","\n","\t"],Xe=["{","}","|","\\","^","`"].concat(Ze),Je=["'"].concat(Xe),Qe=["%","/","?",";","#"].concat(Je),tr=["/","?","#"],er=255,rr=/^[+a-z0-9A-Z_-]{0,63}$/,nr=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,or={javascript:!0,"javascript:":!0},ir={javascript:!0,"javascript:":!0},sr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ar(t,e,r){if(t&&Q(t)&&t instanceof Ve)return t;var n=new Ve;return n.parse(t,e,r),n}function cr(t,e,r,n){if(!Z(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),i=-1!==o&&o<e.indexOf("#")?"?":"#",s=e.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),e=s.join(i);var c=e;if(c=c.trim(),!n&&1===e.split("#").length){var u=Ye.exec(c);if(u)return t.path=c,t.href=c,t.pathname=u[1],u[2]?(t.search=u[2],t.query=r?$e(t.search.substr(1)):t.search.substr(1)):r&&(t.search="",t.query={}),t}var l,f,h,d,p=Ge.exec(c);if(p){p=p[0];var b=p.toLowerCase();t.protocol=b,c=c.substr(p.length)}if(n||p||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===c.substr(0,2);!y||p&&ir[p]||(c=c.substr(2),t.slashes=!0)}if(!ir[p]&&(y||p&&!sr[p])){var g,m,w=-1;for(l=0;l<tr.length;l++)f=c.indexOf(tr[l]),-1!==f&&(-1===w||f<w)&&(w=f);for(m=-1===w?c.lastIndexOf("@"):c.lastIndexOf("@",w),-1!==m&&(g=c.slice(0,m),c=c.slice(m+1),t.auth=decodeURIComponent(g)),w=-1,l=0;l<Qe.length;l++)f=c.indexOf(Qe[l]),-1!==f&&(-1===w||f<w)&&(w=f);-1===w&&(w=c.length),t.host=c.slice(0,w),c=c.slice(w),fr(t),t.hostname=t.hostname||"";var v="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1];if(!v){var O=t.hostname.split(/\./);for(l=0,h=O.length;l<h;l++){var j=O[l];if(j&&!j.match(rr)){for(var k="",_=0,S=j.length;_<S;_++)j.charCodeAt(_)>127?k+="x":k+=j[_];if(!k.match(rr)){var E=O.slice(0,l),x=O.slice(l+1),A=j.match(nr);A&&(E.push(A[1]),x.unshift(A[2])),x.length&&(c="/"+x.join(".")+c),t.hostname=E.join(".");break}}}}t.hostname.length>er?t.hostname="":t.hostname=t.hostname.toLowerCase(),v||(t.hostname=Ne(t.hostname)),d=t.port?":"+t.port:"";var I=t.hostname||"";t.host=I+d,t.href+=t.host,v&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==c[0]&&(c="/"+c))}if(!or[b])for(l=0,h=Je.length;l<h;l++){var B=Je[l];if(-1!==c.indexOf(B)){var P=encodeURIComponent(B);P===B&&(P=escape(B)),c=c.split(B).join(P)}}var T=c.indexOf("#");-1!==T&&(t.hash=c.substr(T),c=c.slice(0,T));var R=c.indexOf("?");if(-1!==R?(t.search=c.substr(R),t.query=c.substr(R+1),r&&(t.query=$e(t.query)),c=c.slice(0,R)):r&&(t.search="",t.query={}),c&&(t.pathname=c),sr[b]&&t.hostname&&!t.pathname&&(t.pathname="/"),t.pathname||t.search){d=t.pathname||"";var L=t.search||"";t.path=d+L}return t.href=lr(t),t}function ur(t){return Z(t)&&(t=cr({},t)),lr(t)}function lr(t){var e=t.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var r=t.protocol||"",n=t.pathname||"",o=t.hash||"",i=!1,s="";t.host?i=e+t.host:t.hostname&&(i=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(i+=":"+t.port)),t.query&&Q(t.query)&&Object.keys(t.query).length&&(s=De(t.query));var a=t.search||s&&"?"+s||"";return r&&":"!==r.substr(-1)&&(r+=":"),t.slashes||(!r||sr[r])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),o&&"#"!==o.charAt(0)&&(o="#"+o),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),a=a.replace("#","%23"),r+i+n+a+o}function fr(t){var e=t.host,r=He.exec(e);r&&(r=r[0],":"!==r&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}Ve.prototype.parse=function(t,e,r){return cr(this,t,e,r)},Ve.prototype.format=function(){return lr(this)},Ve.prototype.resolve=function(t){return this.resolveObject(ar(t,!1,!0)).format()},Ve.prototype.resolveObject=function(t){if(Z(t)){var e=new Ve;e.parse(t,!1,!0),t=e}for(var r,n=new Ve,o=Object.keys(this),i=0;i<o.length;i++){var s=o[i];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(n[u]=t[u])}return sr[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!sr[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var h=l[f];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||ir[t.protocol])n.pathname=t.pathname;else{r=(t.pathname||"").split("/");while(r.length&&!(t.host=r.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b,y=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=g||y||n.host&&t.pathname,w=m,v=n.pathname&&n.pathname.split("/")||[],O=n.protocol&&!sr[n.protocol];if(r=t.pathname&&t.pathname.split("/")||[],O&&(n.hostname="",n.port=null,n.host&&(""===v[0]?v[0]=n.host:v.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),m=m&&(""===r[0]||""===v[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,v=r;else if(r.length)v||(v=[]),v.pop(),v=v.concat(r),n.search=t.search,n.query=t.query;else if(!H(t.search))return O&&(n.hostname=n.host=v.shift(),b=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"),b&&(n.auth=b.shift(),n.host=n.hostname=b.shift())),n.search=t.search,n.query=t.query,G(n.pathname)&&G(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!v.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=v.slice(-1)[0],k=(n.host||t.host||v.length>1)&&("."===j||".."===j)||""===j,_=0,S=v.length;S>=0;S--)j=v[S],"."===j?v.splice(S,1):".."===j?(v.splice(S,1),_++):_&&(v.splice(S,1),_--);if(!m&&!w)for(;_--;_)v.unshift("..");!m||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),k&&"/"!==v.join("/").substr(-1)&&v.push("");var E=""===v[0]||v[0]&&"/"===v[0].charAt(0);return O&&(n.hostname=n.host=E?"":v.length?v.shift():"",b=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"),b&&(n.auth=b.shift(),n.host=n.hostname=b.shift())),m=m||n.host&&v.length,m&&!E&&v.unshift(""),v.length?n.pathname=v.join("/"):(n.pathname=null,n.path=null),G(n.pathname)&&G(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},Ve.prototype.parseHost=function(){return fr(this)};const hr=160,dr=64,pr=hr/dr,br=1e3/pr;function yr(t,e){let r;const n=new Promise(t=>{r=setTimeout(()=>t(null),e)});return Promise.race([t,n]).then(t=>(clearTimeout(r),t))}const gr=Object(y["e"])(Object(y["g"])(S),Object(y["m"])(),t=>new S(t)),mr=Object(y["n"])([Object(y["m"])(),Object(y["h"])("base64")]),wr=Object(y["e"])(Object(y["g"])(a["Buffer"]),mr,t=>a["Buffer"].from(t[0],"base64")),vr=3e4;function Or(t){return Object(y["p"])([Object(y["o"])({jsonrpc:Object(y["h"])("2.0"),id:Object(y["m"])(),result:t}),Object(y["o"])({jsonrpc:Object(y["h"])("2.0"),id:Object(y["m"])(),error:Object(y["o"])({code:Object(y["q"])(),message:Object(y["m"])(),data:Object(y["k"])(Object(y["a"])())})})])}const jr=Or(Object(y["q"])());function kr(t){return Object(y["e"])(Or(t),jr,e=>"error"in e?e:{...e,result:Object(y["f"])(e.result,t)})}function _r(t){return kr(Object(y["o"])({context:Object(y["o"])({slot:Object(y["j"])()}),value:t}))}function Sr(t){return Object(y["o"])({context:Object(y["o"])({slot:Object(y["j"])()}),value:t})}const Er=Object(y["o"])({foundation:Object(y["j"])(),foundationTerm:Object(y["j"])(),initial:Object(y["j"])(),taper:Object(y["j"])(),terminal:Object(y["j"])()}),xr=kr(Object(y["b"])(Object(y["i"])(Object(y["o"])({epoch:Object(y["j"])(),effectiveSlot:Object(y["j"])(),amount:Object(y["j"])(),postBalance:Object(y["j"])()})))),Ar=Object(y["o"])({epoch:Object(y["j"])(),slotIndex:Object(y["j"])(),slotsInEpoch:Object(y["j"])(),absoluteSlot:Object(y["j"])(),blockHeight:Object(y["k"])(Object(y["j"])()),transactionCount:Object(y["k"])(Object(y["j"])())}),Ir=Object(y["o"])({slotsPerEpoch:Object(y["j"])(),leaderScheduleSlotOffset:Object(y["j"])(),warmup:Object(y["d"])(),firstNormalEpoch:Object(y["j"])(),firstNormalSlot:Object(y["j"])()}),Br=Object(y["l"])(Object(y["m"])(),Object(y["b"])(Object(y["j"])())),Pr=Object(y["i"])(Object(y["p"])([Object(y["o"])({}),Object(y["m"])()])),Tr=Object(y["o"])({err:Pr}),Rr=Object(y["h"])("receivedSignature"),Lr=Object(y["o"])({"solana-core":Object(y["m"])(),"feature-set":Object(y["k"])(Object(y["j"])())}),Ur=_r(Object(y["o"])({err:Object(y["i"])(Object(y["p"])([Object(y["o"])({}),Object(y["m"])()])),logs:Object(y["i"])(Object(y["b"])(Object(y["m"])()))}));function Cr(t,e,r,n){let o;n&&(o=(t,e)=>new Promise((r,o)=>{n(t,e,async(t,e)=>{try{r(await b()(t,e))}catch(Pe){o(Pe)}})}));const i=new w.a(async(e,n)=>{const i=void 0,s={method:"POST",body:e,agent:i,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let e,r=5,i=500;for(;;){if(e=o?await o(t,s):await b()(t,s),429!==e.status)break;if(r-=1,0===r)break;console.log("Server responded with ".concat(e.status," ").concat(e.statusText,".  Retrying after ").concat(i,"ms delay...")),await se(i),i*=2}const a=await e.text();e.ok?n(null,a):n(new Error("".concat(e.status," ").concat(e.statusText,": ").concat(a)))}catch(a){n(a)}},{});return i}function Mr(t){return(e,r)=>new Promise((n,o)=>{t.request(e,r,(t,e)=>{t?o(t):n(e)})})}function Nr(t){return e=>new Promise((r,n)=>{0===e.length&&r([]);const o=e.map(e=>t.request(e.methodName,e.args));t.request(o,(t,e)=>{t?n(t):r(e)})})}const zr=kr(Er),Wr=kr(Ar),qr=kr(Ir),Dr=kr(Br),Kr=kr(Object(y["j"])()),Fr=_r(Object(y["o"])({total:Object(y["j"])(),circulating:Object(y["j"])(),nonCirculating:Object(y["j"])(),nonCirculatingAccounts:Object(y["b"])(gr)})),$r=Object(y["o"])({amount:Object(y["m"])(),uiAmount:Object(y["i"])(Object(y["j"])()),decimals:Object(y["j"])(),uiAmountString:Object(y["k"])(Object(y["m"])())}),Vr=_r(Object(y["b"])(Object(y["o"])({address:gr,amount:Object(y["m"])(),uiAmount:Object(y["i"])(Object(y["j"])()),decimals:Object(y["j"])(),uiAmountString:Object(y["k"])(Object(y["m"])())}))),Gr=_r(Object(y["b"])(Object(y["o"])({pubkey:gr,account:Object(y["o"])({executable:Object(y["d"])(),owner:gr,lamports:Object(y["j"])(),data:wr,rentEpoch:Object(y["j"])()})}))),Hr=Object(y["o"])({program:Object(y["m"])(),parsed:Object(y["q"])(),space:Object(y["j"])()}),Yr=_r(Object(y["b"])(Object(y["o"])({pubkey:gr,account:Object(y["o"])({executable:Object(y["d"])(),owner:gr,lamports:Object(y["j"])(),data:Hr,rentEpoch:Object(y["j"])()})}))),Zr=_r(Object(y["b"])(Object(y["o"])({lamports:Object(y["j"])(),address:gr}))),Xr=Object(y["o"])({executable:Object(y["d"])(),owner:gr,lamports:Object(y["j"])(),data:wr,rentEpoch:Object(y["j"])()}),Jr=Object(y["o"])({pubkey:gr,account:Xr}),Qr=Object(y["e"])(Object(y["p"])([Object(y["g"])(a["Buffer"]),Hr]),Object(y["p"])([mr,Hr]),t=>Array.isArray(t)?Object(y["f"])(t,wr):t),tn=Object(y["o"])({executable:Object(y["d"])(),owner:gr,lamports:Object(y["j"])(),data:Qr,rentEpoch:Object(y["j"])()}),en=Object(y["o"])({pubkey:gr,account:tn}),rn=Object(y["o"])({state:Object(y["p"])([Object(y["h"])("active"),Object(y["h"])("inactive"),Object(y["h"])("activating"),Object(y["h"])("deactivating")]),active:Object(y["j"])(),inactive:Object(y["j"])()}),nn=kr(Object(y["b"])(Object(y["o"])({signature:Object(y["m"])(),slot:Object(y["j"])(),err:Pr,memo:Object(y["i"])(Object(y["m"])()),blockTime:Object(y["k"])(Object(y["i"])(Object(y["j"])()))}))),on=Object(y["o"])({subscription:Object(y["j"])(),result:Sr(Xr)}),sn=Object(y["o"])({pubkey:gr,account:Xr}),an=Object(y["o"])({subscription:Object(y["j"])(),result:Sr(sn)}),cn=Object(y["o"])({parent:Object(y["j"])(),slot:Object(y["j"])(),root:Object(y["j"])()}),un=Object(y["o"])({subscription:Object(y["j"])(),result:cn}),ln=Object(y["o"])({subscription:Object(y["j"])(),result:Sr(Object(y["p"])([Tr,Rr]))}),fn=Object(y["o"])({subscription:Object(y["j"])(),result:Object(y["j"])()}),hn=Object(y["o"])({pubkey:Object(y["m"])(),gossip:Object(y["i"])(Object(y["m"])()),tpu:Object(y["i"])(Object(y["m"])()),rpc:Object(y["i"])(Object(y["m"])()),version:Object(y["i"])(Object(y["m"])())}),dn=Object(y["o"])({votePubkey:Object(y["m"])(),nodePubkey:Object(y["m"])(),activatedStake:Object(y["j"])(),epochVoteAccount:Object(y["d"])(),epochCredits:Object(y["b"])(Object(y["n"])([Object(y["j"])(),Object(y["j"])(),Object(y["j"])()])),commission:Object(y["j"])(),lastVote:Object(y["j"])(),rootSlot:Object(y["i"])(Object(y["j"])())}),pn=kr(Object(y["o"])({current:Object(y["b"])(dn),delinquent:Object(y["b"])(dn)})),bn=Object(y["p"])([Object(y["h"])("processed"),Object(y["h"])("confirmed"),Object(y["h"])("finalized")]),yn=Object(y["o"])({slot:Object(y["j"])(),confirmations:Object(y["i"])(Object(y["j"])()),err:Pr,confirmationStatus:Object(y["k"])(bn)}),gn=_r(Object(y["b"])(Object(y["i"])(yn))),mn=kr(Object(y["j"])()),wn=Object(y["o"])({signatures:Object(y["b"])(Object(y["m"])()),message:Object(y["o"])({accountKeys:Object(y["b"])(Object(y["m"])()),header:Object(y["o"])({numRequiredSignatures:Object(y["j"])(),numReadonlySignedAccounts:Object(y["j"])(),numReadonlyUnsignedAccounts:Object(y["j"])()}),instructions:Object(y["b"])(Object(y["o"])({accounts:Object(y["b"])(Object(y["j"])()),data:Object(y["m"])(),programIdIndex:Object(y["j"])()})),recentBlockhash:Object(y["m"])()})}),vn=Object(y["e"])(Object(y["g"])(te),wn,t=>{const{message:e,signatures:r}=t;return te.populate(new Yt(e),r)}),On=Object(y["o"])({parsed:Object(y["q"])(),program:Object(y["m"])(),programId:gr}),jn=Object(y["o"])({accounts:Object(y["b"])(gr),data:Object(y["m"])(),programId:gr}),kn=Object(y["p"])([jn,On]),_n=Object(y["p"])([Object(y["o"])({parsed:Object(y["q"])(),program:Object(y["m"])(),programId:Object(y["m"])()}),Object(y["o"])({accounts:Object(y["b"])(Object(y["m"])()),data:Object(y["m"])(),programId:Object(y["m"])()})]),Sn=Object(y["e"])(kn,_n,t=>"accounts"in t?Object(y["f"])(t,jn):Object(y["f"])(t,On)),En=Object(y["o"])({signatures:Object(y["b"])(Object(y["m"])()),message:Object(y["o"])({accountKeys:Object(y["b"])(Object(y["o"])({pubkey:gr,signer:Object(y["d"])(),writable:Object(y["d"])()})),instructions:Object(y["b"])(Sn),recentBlockhash:Object(y["m"])()})}),xn=Object(y["o"])({accountIndex:Object(y["j"])(),mint:Object(y["m"])(),uiTokenAmount:$r}),An=Object(y["o"])({err:Pr,fee:Object(y["j"])(),innerInstructions:Object(y["k"])(Object(y["i"])(Object(y["b"])(Object(y["o"])({index:Object(y["j"])(),instructions:Object(y["b"])(Object(y["o"])({accounts:Object(y["b"])(Object(y["j"])()),data:Object(y["m"])(),programIdIndex:Object(y["j"])()}))})))),preBalances:Object(y["b"])(Object(y["j"])()),postBalances:Object(y["b"])(Object(y["j"])()),logMessages:Object(y["k"])(Object(y["i"])(Object(y["b"])(Object(y["m"])()))),preTokenBalances:Object(y["k"])(Object(y["i"])(Object(y["b"])(xn))),postTokenBalances:Object(y["k"])(Object(y["i"])(Object(y["b"])(xn)))}),In=Object(y["o"])({err:Pr,fee:Object(y["j"])(),innerInstructions:Object(y["k"])(Object(y["i"])(Object(y["b"])(Object(y["o"])({index:Object(y["j"])(),instructions:Object(y["b"])(Sn)})))),preBalances:Object(y["b"])(Object(y["j"])()),postBalances:Object(y["b"])(Object(y["j"])()),logMessages:Object(y["k"])(Object(y["i"])(Object(y["b"])(Object(y["m"])()))),preTokenBalances:Object(y["k"])(Object(y["i"])(Object(y["b"])(xn))),postTokenBalances:Object(y["k"])(Object(y["i"])(Object(y["b"])(xn)))}),Bn=kr(Object(y["i"])(Object(y["o"])({blockhash:Object(y["m"])(),previousBlockhash:Object(y["m"])(),parentSlot:Object(y["j"])(),transactions:Object(y["b"])(Object(y["o"])({transaction:vn,meta:Object(y["i"])(An)})),rewards:Object(y["k"])(Object(y["b"])(Object(y["o"])({pubkey:Object(y["m"])(),lamports:Object(y["j"])(),postBalance:Object(y["i"])(Object(y["j"])()),rewardType:Object(y["i"])(Object(y["m"])())}))),blockTime:Object(y["i"])(Object(y["j"])())}))),Pn=kr(Object(y["i"])(Object(y["o"])({blockhash:Object(y["m"])(),previousBlockhash:Object(y["m"])(),parentSlot:Object(y["j"])(),signatures:Object(y["b"])(Object(y["m"])()),blockTime:Object(y["i"])(Object(y["j"])())}))),Tn=kr(Object(y["i"])(Object(y["o"])({slot:Object(y["j"])(),transaction:vn,meta:An,blockTime:Object(y["k"])(Object(y["i"])(Object(y["j"])()))}))),Rn=kr(Object(y["i"])(Object(y["o"])({slot:Object(y["j"])(),transaction:En,meta:Object(y["i"])(In),blockTime:Object(y["k"])(Object(y["i"])(Object(y["j"])()))}))),Ln=_r(Object(y["o"])({blockhash:Object(y["m"])(),feeCalculator:Object(y["o"])({lamportsPerSignature:Object(y["j"])()})})),Un=Object(y["o"])({slot:Object(y["j"])(),numTransactions:Object(y["j"])(),numSlots:Object(y["j"])(),samplePeriodSecs:Object(y["j"])()}),Cn=kr(Object(y["b"])(Un)),Mn=_r(Object(y["i"])(Object(y["o"])({feeCalculator:Object(y["o"])({lamportsPerSignature:Object(y["j"])()})}))),Nn=kr(Object(y["m"])()),zn=kr(Object(y["m"])()),Wn=Object(y["o"])({err:Pr,logs:Object(y["b"])(Object(y["m"])()),signature:Object(y["m"])()}),qn=Object(y["o"])({result:Sr(Wn),subscription:Object(y["j"])()});class Dn{constructor(t,e){o()(this,"_commitment",void 0),o()(this,"_rpcEndpoint",void 0),o()(this,"_rpcClient",void 0),o()(this,"_rpcRequest",void 0),o()(this,"_rpcBatchRequest",void 0),o()(this,"_rpcWebSocket",void 0),o()(this,"_rpcWebSocketConnected",!1),o()(this,"_rpcWebSocketHeartbeat",null),o()(this,"_rpcWebSocketIdleTimeout",null),o()(this,"_disableBlockhashCaching",!1),o()(this,"_pollingBlockhash",!1),o()(this,"_blockhashInfo",void 0),o()(this,"_accountChangeSubscriptionCounter",0),o()(this,"_accountChangeSubscriptions",{}),o()(this,"_programAccountChangeSubscriptionCounter",0),o()(this,"_programAccountChangeSubscriptions",{}),o()(this,"_rootSubscriptionCounter",0),o()(this,"_rootSubscriptions",{}),o()(this,"_signatureSubscriptionCounter",0),o()(this,"_signatureSubscriptions",{}),o()(this,"_slotSubscriptionCounter",0),o()(this,"_slotSubscriptions",{}),o()(this,"_logsSubscriptionCounter",0),o()(this,"_logsSubscriptions",{}),this._rpcEndpoint=t;let r=ar(t);const n="https:"===r.protocol;let i,s;e&&"string"===typeof e?this._commitment=e:e&&(this._commitment=e.commitment,i=e.httpHeaders,s=e.fetchMiddleware),this._rpcClient=Cr(r.href,n,i,s),this._rpcRequest=Mr(this._rpcClient),this._rpcBatchRequest=Nr(this._rpcClient),this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},r.protocol=n?"wss:":"ws:",r.host="",null!==r.port&&(r.port=String(Number(r.port)+1)),this._rpcWebSocket=new g["Client"](ur(r),{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}async getBalanceAndContext(t,e){const r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getBalance",r),o=Object(y["f"])(n,_r(Object(y["j"])()));if("error"in o)throw new Error("failed to get balance for "+t.toBase58()+": "+o.error.message);return o.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(t=>t.value).catch(e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),r=Object(y["f"])(e,kr(Object(y["i"])(Object(y["j"])())));if("error"in r)throw new Error("failed to get block time for slot "+t+": "+r.error.message);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=Object(y["f"])(t,kr(Object(y["j"])()));if("error"in e)throw new Error("failed to get minimum ledger slot: "+e.error.message);return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=Object(y["f"])(t,Kr);if("error"in e)throw new Error("failed to get first available block: "+e.error.message);return e.result}async getSupply(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getSupply",e),n=Object(y["f"])(r,Fr);if("error"in n)throw new Error("failed to get supply: "+n.error.message);return n.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenSupply",r),o=Object(y["f"])(n,_r($r));if("error"in o)throw new Error("failed to get token supply: "+o.error.message);return o.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenAccountBalance",r),o=Object(y["f"])(n,_r($r));if("error"in o)throw new Error("failed to get token account balance: "+o.error.message);return o.result}async getTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const o=this._buildArgs(n,r,"base64"),i=await this._rpcRequest("getTokenAccountsByOwner",o),s=Object(y["f"])(i,Gr);if("error"in s)throw new Error("failed to get token accounts owned by account "+t.toBase58()+": "+s.error.message);return s.result}async getParsedTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const o=this._buildArgs(n,r,"jsonParsed"),i=await this._rpcRequest("getTokenAccountsByOwner",o),s=Object(y["f"])(i,Yr);if("error"in s)throw new Error("failed to get token accounts owned by account "+t.toBase58()+": "+s.error.message);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],n=await this._rpcRequest("getLargestAccounts",r),o=Object(y["f"])(n,Zr);if("error"in o)throw new Error("failed to get largest accounts: "+o.error.message);return o.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenLargestAccounts",r),o=Object(y["f"])(n,Vr);if("error"in o)throw new Error("failed to get token largest accounts: "+o.error.message);return o.result}async getAccountInfoAndContext(t,e){const r=this._buildArgs([t.toBase58()],e,"base64"),n=await this._rpcRequest("getAccountInfo",r),o=Object(y["f"])(n,_r(Object(y["i"])(Xr)));if("error"in o)throw new Error("failed to get info about account "+t.toBase58()+": "+o.error.message);return o.result}async getParsedAccountInfo(t,e){const r=this._buildArgs([t.toBase58()],e,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),o=Object(y["f"])(n,_r(Object(y["i"])(tn)));if("error"in o)throw new Error("failed to get info about account "+t.toBase58()+": "+o.error.message);return o.result}async getAccountInfo(t,e){try{const r=await this.getAccountInfoAndContext(t,e);return r.value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getStakeActivation(t,e,r){const n=this._buildArgs([t.toBase58()],e,void 0,void 0!==r?{epoch:r}:void 0),o=await this._rpcRequest("getStakeActivation",n),i=Object(y["f"])(o,kr(rn));if("error"in i)throw new Error("failed to get Stake Activation ".concat(t.toBase58(),": ").concat(i.error.message));return i.result}async getProgramAccounts(t,e){const r={};let n,o;e&&("string"===typeof e?n=e:(n=e.commitment,o=e.encoding,e.dataSlice&&(r.dataSlice=e.dataSlice),e.filters&&(r.filters=e.filters)));const i=this._buildArgs([t.toBase58()],n,o||"base64",r),s=await this._rpcRequest("getProgramAccounts",i),a=Object(y["f"])(s,kr(Object(y["b"])(Jr)));if("error"in a)throw new Error("failed to get accounts owned by program "+t.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(t,e){const r={};let n;e&&("string"===typeof e?n=e:(n=e.commitment,e.filters&&(r.filters=e.filters)));const o=this._buildArgs([t.toBase58()],n,"jsonParsed",r),i=await this._rpcRequest("getProgramAccounts",o),s=Object(y["f"])(i,kr(Object(y["b"])(en)));if("error"in s)throw new Error("failed to get accounts owned by program "+t.toBase58()+": "+s.error.message);return s.result}async confirmTransaction(t,e){let r;try{r=f.a.decode(t)}catch(u){throw new Error("signature must be base58 encoded: "+t)}bt(64===r.length,"signature has invalid length");const n=Date.now(),o=e||this.commitment;let i,s=null;const a=new Promise((e,r)=>{try{i=this.onSignature(t,(t,r)=>{i=void 0,s={context:r,value:t},e(null)},o)}catch(u){r(u)}});let c=6e4;switch(o){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":c=3e4;break}try{await yr(a,c)}finally{i&&this.removeSignatureListener(i)}if(null===s){const e=(Date.now()-n)/1e3;throw new Error("Transaction was not confirmed in ".concat(e.toFixed(2)," seconds. It is unknown if it succeeded or failed. Check signature ").concat(t," using the Solana Explorer or CLI tools."))}return s}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=Object(y["f"])(t,kr(Object(y["b"])(hn)));if("error"in e)throw new Error("failed to get cluster nodes: "+e.error.message);return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),n=Object(y["f"])(r,pn);if("error"in n)throw new Error("failed to get vote accounts: "+n.error.message);return n.result}async getSlot(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getSlot",e),n=Object(y["f"])(r,kr(Object(y["j"])()));if("error"in n)throw new Error("failed to get slot: "+n.error.message);return n.result}async getSlotLeader(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getSlotLeader",e),n=Object(y["f"])(r,kr(Object(y["m"])()));if("error"in n)throw new Error("failed to get slot leader: "+n.error.message);return n.result}async getSignatureStatus(t,e){const{context:r,value:n}=await this.getSignatureStatuses([t],e);bt(1===n.length);const o=n[0];return{context:r,value:o}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const n=await this._rpcRequest("getSignatureStatuses",r),o=Object(y["f"])(n,gn);if("error"in o)throw new Error("failed to get signature status: "+o.error.message);return o.result}async getTransactionCount(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getTransactionCount",e),n=Object(y["f"])(r,kr(Object(y["j"])()));if("error"in n)throw new Error("failed to get transaction count: "+n.error.message);return n.result}async getTotalSupply(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getSupply",e),n=Object(y["f"])(r,Fr);if("error"in n)throw new Error("failed to get total supply: "+n.error.message);return n.result.value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),n=Object(y["f"])(r,zr);if("error"in n)throw new Error("failed to get inflation: "+n.error.message);return n.result}async getInflationReward(t,e,r){const n=this._buildArgs([t.map(t=>t.toBase58())],r,void 0,{epoch:e}),o=await this._rpcRequest("getInflationReward",n),i=Object(y["f"])(o,xr);if("error"in i)throw new Error("failed to get inflation reward: "+i.error.message);return i.result}async getEpochInfo(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getEpochInfo",e),n=Object(y["f"])(r,Wr);if("error"in n)throw new Error("failed to get epoch info: "+n.error.message);return n.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=Object(y["f"])(t,qr);if("error"in e)throw new Error("failed to get epoch schedule: "+e.error.message);return e.result}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=Object(y["f"])(t,Dr);if("error"in e)throw new Error("failed to get leader schedule: "+e.error.message);return e.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=Object(y["f"])(n,mn);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getRecentBlockhash",e),n=Object(y["f"])(r,Ln);if("error"in n)throw new Error("failed to get recent blockhash: "+n.error.message);return n.result}async getRecentPerformanceSamples(t){const e=this._buildArgs(t?[t]:[]),r=await this._rpcRequest("getRecentPerformanceSamples",e),n=Object(y["f"])(r,Cn);if("error"in n)throw new Error("failed to get recent performance samples: "+n.error.message);return n.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=Object(y["f"])(n,Mn);if("error"in o)throw new Error("failed to get fee calculator: "+o.error.message);const{context:i,value:s}=o.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getRecentBlockhash(t){try{const e=await this.getRecentBlockhashAndContext(t);return e.value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=Object(y["f"])(t,kr(Lr));if("error"in e)throw new Error("failed to get version: "+e.error.message);return e.result}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=await this._rpcRequest("getConfirmedBlock",r),o=Object(y["f"])(n,Bn);if("error"in o)throw new Error("failed to get confirmed block: "+o.error.message);const i=o.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),o=Object(y["f"])(n,Pn);if("error"in o)throw new Error("failed to get confirmed block: "+o.error.message);const i=o.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=await this._rpcRequest("getConfirmedTransaction",r),o=Object(y["f"])(n,Tn);if("error"in o)throw new Error("failed to get confirmed transaction: "+o.error.message);return o.result}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),o=Object(y["f"])(n,Rn);if("error"in o)throw new Error("failed to get confirmed transaction: "+o.error.message);return o.result}async getParsedConfirmedTransactions(t,e){const r=t.map(t=>{const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed");return{methodName:"getConfirmedTransaction",args:r}}),n=await this._rpcBatchRequest(r),o=n.map(t=>{const e=Object(y["f"])(t,Rn);if("error"in e)throw new Error("failed to get confirmed transactions: "+e.error.message);return e.result});return o}async getConfirmedSignaturesForAddress(t,e,r){let n={},o=await this.getFirstAvailableBlock();while(!("until"in n)){if(e--,e<=0||e<o)break;try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(n.until=t.signatures[t.signatures.length-1].toString())}catch(a){if(a.message.includes("skipped"))continue;throw a}}let i=await this.getSlot("finalized");while(!("before"in n)){if(r++,r>i)break;try{const t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(n.before=t.signatures[t.signatures.length-1].toString())}catch(a){if(a.message.includes("skipped"))continue;throw a}}const s=await this.getConfirmedSignaturesForAddress2(t,n);return s.map(t=>t.signature)}async getConfirmedSignaturesForAddress2(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),i=Object(y["f"])(o,nn);if("error"in i)throw new Error("failed to get confirmed signatures for address: "+i.error.message);return i.result}async getNonceAndContext(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let o=null;return null!==n&&(o=fe.fromAccountData(n.data)),{context:r,value:o}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(t=>t.value).catch(e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)})}async requestAirdrop(t,e){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),n=Object(y["f"])(r,Nn);if("error"in n)throw new Error("airdrop to "+t.toBase58()+" failed: "+n.error.message);return n.result}async _recentBlockhash(t){if(!t){while(this._pollingBlockhash)await se(100);const t=Date.now()-this._blockhashInfo.lastFetch,e=t>=vr;if(null!==this._blockhashInfo.recentBlockhash&&!e)return this._blockhashInfo.recentBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now();for(let e=0;e<50;e++){const{blockhash:t}=await this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=t)return this._blockhashInfo={recentBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await se(br/2)}throw new Error("Unable to obtain a new blockhash after ".concat(Date.now()-t,"ms"))}finally{this._pollingBlockhash=!1}}async simulateTransaction(t,e){if(t.nonceInfo&&e)t.sign(...e);else{let r=this._disableBlockhashCaching;for(;;){if(t.recentBlockhash=await this._recentBlockhash(r),!e)break;if(t.sign(...e),!t.signature)throw new Error("!signature");const n=t.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}r=!0}}const r=t.serializeMessage(),n=t._serialize(r),o=n.toString("base64"),i={encoding:"base64",commitment:this.commitment};e&&(i.sigVerify=!0);const s=[o,i],a=await this._rpcRequest("simulateTransaction",s),c=Object(y["f"])(a,Ur);if("error"in c)throw new Error("failed to simulate transaction: "+c.error.message);return c.result}async sendTransaction(t,e,r){if(t.nonceInfo)t.sign(...e);else{let r=this._disableBlockhashCaching;for(;;){if(t.recentBlockhash=await this._recentBlockhash(r),t.sign(...e),!t.signature)throw new Error("!signature");const n=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.transactionSignatures.push(n);break}r=!0}}const n=t.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(t,e){const r=k(t).toString("base64"),n=await this.sendEncodedTransaction(r,e);return n}async sendEncodedTransaction(t,e){const r={encoding:"base64"},n=e&&e.skipPreflight,o=e&&e.preflightCommitment||this.commitment;n&&(r.skipPreflight=n),o&&(r.preflightCommitment=o);const i=[t,r],s=await this._rpcRequest("sendTransaction",i),a=Object(y["f"])(s,zn);if("error"in a){if("data"in a.error){const t=a.error.data.logs;if(t&&Array.isArray(t)){const e="\n    ",r=e+t.join(e);console.error(a.error.message,r)}}throw new Error("failed to send transaction: "+a.error.message)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(t){console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?this._resetSubscriptions():this._updateSubscriptions()}async _subscribe(t,e,r){if(null==t.subscriptionId){t.subscriptionId="subscribing";try{const n=await this._rpcWebSocket.call(e,r);"number"===typeof n&&"subscribing"===t.subscriptionId&&(t.subscriptionId=n)}catch(n){"subscribing"===t.subscriptionId&&(t.subscriptionId=null),console.error("".concat(e," error for argument"),r,n.message)}}}async _unsubscribe(t,e){const r=t.subscriptionId;if(null!=r&&"string"!=typeof r){const t=r;try{await this._rpcWebSocket.call(e,[t])}catch(n){console.error("".concat(e," error:"),n.message)}}}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach(t=>t.subscriptionId=null),Object.values(this._programAccountChangeSubscriptions).forEach(t=>t.subscriptionId=null),Object.values(this._signatureSubscriptions).forEach(t=>t.subscriptionId=null),Object.values(this._slotSubscriptions).forEach(t=>t.subscriptionId=null),Object.values(this._rootSubscriptions).forEach(t=>t.subscriptionId=null)}_updateSubscriptions(){const t=Object.keys(this._accountChangeSubscriptions).map(Number),e=Object.keys(this._programAccountChangeSubscriptions).map(Number),r=Object.keys(this._slotSubscriptions).map(Number),n=Object.keys(this._signatureSubscriptions).map(Number),o=Object.keys(this._rootSubscriptions).map(Number),i=Object.keys(this._logsSubscriptions).map(Number);if(0!==t.length||0!==e.length||0!==r.length||0!==n.length||0!==o.length||0!==i.length)if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){for(let e of t){const t=this._accountChangeSubscriptions[e];this._subscribe(t,"accountSubscribe",this._buildArgs([t.publicKey],t.commitment,"base64"))}for(let t of e){const e=this._programAccountChangeSubscriptions[t];this._subscribe(e,"programSubscribe",this._buildArgs([e.programId],e.commitment,"base64"))}for(let t of r){const e=this._slotSubscriptions[t];this._subscribe(e,"slotSubscribe",[])}for(let t of n){const e=this._signatureSubscriptions[t],r=[e.signature];e.options&&r.push(e.options),this._subscribe(e,"signatureSubscribe",r)}for(let t of o){const e=this._rootSubscriptions[t];this._subscribe(e,"rootSubscribe",[])}for(let t of i){const e=this._logsSubscriptions[t];let r;r="object"===typeof e.filter?{mentions:[e.filter.toString()]}:e.filter,this._subscribe(e,"logsSubscribe",this._buildArgs([r],e.commitment))}}else this._rpcWebSocket.connect();else this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null,this._rpcWebSocket.close()},500))}_wsOnAccountNotification(t){const e=Object(y["f"])(t,on);for(const r of Object.values(this._accountChangeSubscriptions))if(r.subscriptionId===e.subscription)return void r.callback(e.result.value,e.result.context)}onAccountChange(t,e,r){const n=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[n]={publicKey:t.toBase58(),callback:e,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeAccountChangeListener(t){if(!this._accountChangeSubscriptions[t])throw new Error("Unknown account change id: ".concat(t));{const e=this._accountChangeSubscriptions[t];delete this._accountChangeSubscriptions[t],await this._unsubscribe(e,"accountUnsubscribe"),this._updateSubscriptions()}}_wsOnProgramAccountNotification(t){const e=Object(y["f"])(t,an);for(const r of Object.values(this._programAccountChangeSubscriptions))if(r.subscriptionId===e.subscription){const{value:t,context:n}=e.result;return void r.callback({accountId:t.pubkey,accountInfo:t.account},n)}}onProgramAccountChange(t,e,r){const n=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[n]={programId:t.toBase58(),callback:e,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeProgramAccountChangeListener(t){if(!this._programAccountChangeSubscriptions[t])throw new Error("Unknown program account change id: ".concat(t));{const e=this._programAccountChangeSubscriptions[t];delete this._programAccountChangeSubscriptions[t],await this._unsubscribe(e,"programUnsubscribe"),this._updateSubscriptions()}}onLogs(t,e,r){const n=++this._logsSubscriptionCounter;return this._logsSubscriptions[n]={filter:t,callback:e,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeOnLogsListener(t){if(!this._logsSubscriptions[t])throw new Error("Unknown logs id: ".concat(t));const e=this._logsSubscriptions[t];delete this._logsSubscriptions[t],await this._unsubscribe(e,"logsUnsubscribe"),this._updateSubscriptions()}_wsOnLogsNotification(t){const e=Object(y["f"])(t,qn),r=Object.keys(this._logsSubscriptions).map(Number);for(let n of r){const t=this._logsSubscriptions[n];if(t.subscriptionId===e.subscription)return void t.callback(e.result.value,e.result.context)}}_wsOnSlotNotification(t){const e=Object(y["f"])(t,un);for(const r of Object.values(this._slotSubscriptions))if(r.subscriptionId===e.subscription)return void r.callback(e.result)}onSlotChange(t){const e=++this._slotSubscriptionCounter;return this._slotSubscriptions[e]={callback:t,subscriptionId:null},this._updateSubscriptions(),e}async removeSlotChangeListener(t){if(!this._slotSubscriptions[t])throw new Error("Unknown slot change id: ".concat(t));{const e=this._slotSubscriptions[t];delete this._slotSubscriptions[t],await this._unsubscribe(e,"slotUnsubscribe"),this._updateSubscriptions()}}_buildArgs(t,e,r,n){const o=e||this._commitment;if(o||r||n){let e={};r&&(e.encoding=r),o&&(e.commitment=o),n&&(e=Object.assign(e,n)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,n){const o=e||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}_wsOnSignatureNotification(t){const e=Object(y["f"])(t,ln);for(const[r,n]of Object.entries(this._signatureSubscriptions))if(n.subscriptionId===e.subscription)return void("receivedSignature"===e.result.value?n.callback({type:"received"},e.result.context):(delete this._signatureSubscriptions[Number(r)],this._updateSubscriptions(),n.callback({type:"status",result:e.result.value},e.result.context)))}onSignature(t,e,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:t,callback:(t,r)=>{"status"===t.type&&e(t.result,r)},options:{commitment:r},subscriptionId:null},this._updateSubscriptions(),n}onSignatureWithOptions(t,e,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:t,callback:e,options:r,subscriptionId:null},this._updateSubscriptions(),n}async removeSignatureListener(t){if(!this._signatureSubscriptions[t])throw new Error("Unknown signature result id: ".concat(t));{const e=this._signatureSubscriptions[t];delete this._signatureSubscriptions[t],await this._unsubscribe(e,"signatureUnsubscribe"),this._updateSubscriptions()}}_wsOnRootNotification(t){const e=Object(y["f"])(t,fn);for(const r of Object.values(this._rootSubscriptions))if(r.subscriptionId===e.subscription)return void r.callback(e.result)}onRootChange(t){const e=++this._rootSubscriptionCounter;return this._rootSubscriptions[e]={callback:t,subscriptionId:null},this._updateSubscriptions(),e}async removeRootChangeListener(t){if(!this._rootSubscriptions[t])throw new Error("Unknown root change id: ".concat(t));{const e=this._rootSubscriptions[t];delete this._rootSubscriptions[t],await this._unsubscribe(e,"rootUnsubscribe"),this._updateSubscriptions()}}}const Kn=new S("StakeConfig11111111111111111111111111111111");class Fn{constructor(t,e,r){o()(this,"unixTimestamp",void 0),o()(this,"epoch",void 0),o()(this,"custodian",void 0),this.unixTimestamp=t,this.epoch=e,this.custodian=r}}o()(Fn,"default",new Fn(0,0,S.default));const $n=Object.freeze({Initialize:{index:0,layout:d["struct"]([d["u32"]("instruction"),Kt(),Ft()])},Authorize:{index:1,layout:d["struct"]([d["u32"]("instruction"),qt("newAuthorized"),d["u32"]("stakeAuthorizationType")])},Delegate:{index:2,layout:d["struct"]([d["u32"]("instruction")])},Split:{index:3,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])},Withdraw:{index:4,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])},Deactivate:{index:5,layout:d["struct"]([d["u32"]("instruction")])},AuthorizeWithSeed:{index:8,layout:d["struct"]([d["u32"]("instruction"),qt("newAuthorized"),d["u32"]("stakeAuthorizationType"),Dt("authoritySeed"),qt("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Vn{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,o=n||Fn.default,i=$n.Initialize,s=ae(i,{authorized:{staker:k(r.staker.toBuffer()),withdrawer:k(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:k(o.custodian.toBuffer())}}),a={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Qt(a)}static createAccountWithSeed(t){const e=new te;e.add(de.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:o}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:o}))}static createAccount(t){const e=new te;e.add(de.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:o}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:o}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,o=$n.Delegate,i=ae(o);return(new te).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ee,isSigner:!1,isWritable:!1},{pubkey:oe,isSigner:!1,isWritable:!1},{pubkey:Kn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:o,custodianPubkey:i}=t,s=$n.Authorize,a=ae(s,{newAuthorized:k(n.toBuffer()),stakeAuthorizationType:o.index}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ee,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&c.push({pubkey:i,isSigner:!1,isWritable:!1}),(new te).add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:o,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=t,c=$n.AuthorizeWithSeed,u=ae(c,{newAuthorized:k(i.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:k(o.toBuffer())}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ee,isSigner:!1,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!1,isWritable:!1}),(new te).add({keys:l,programId:this.programId,data:u})}static split(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:o}=t,i=new te;i.add(de.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:0,space:this.space,programId:this.programId}));const s=$n.Split,a=ae(s,{lamports:o});return i.add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:o,custodianPubkey:i}=t,s=$n.Withdraw,a=ae(s,{lamports:o}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ee,isSigner:!1,isWritable:!1},{pubkey:oe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&c.push({pubkey:i,isSigner:!1,isWritable:!1}),(new te).add({keys:c,programId:this.programId,data:a})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,n=$n.Deactivate,o=ae(n);return(new te).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ee,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}o()(Vn,"programId",new S("Stake11111111111111111111111111111111111111")),o()(Vn,"space",200);const{publicKeyCreate:Gn,ecdsaSign:Hn}=O.a,Yn=32,Zn=20,Xn=64,Jn=11,Qn=d["struct"]([d["u8"]("numSignatures"),d["u16"]("signatureOffset"),d["u8"]("signatureInstructionIndex"),d["u16"]("ethAddressOffset"),d["u8"]("ethAddressInstructionIndex"),d["u16"]("messageDataOffset"),d["u16"]("messageDataSize"),d["u8"]("messageInstructionIndex"),d["blob"](20,"ethAddress"),d["blob"](64,"signature"),d["u8"]("recoveryId")]);class to{constructor(){}static publicKeyToEthAddress(t){bt(t.length===Xn,"Public key must be ".concat(Xn," bytes but received ").concat(t.length," bytes"));try{return a["Buffer"].from(j["keccak_256"].update(k(t)).digest()).slice(-Zn)}catch(Pe){throw new Error("Error constructing Ethereum address: ".concat(Pe))}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:o}=t;return to.createInstructionWithEthAddress({ethAddress:to.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:o}=t;let i;i="string"===typeof e?e.startsWith("0x")?a["Buffer"].from(e.substr(2),"hex"):a["Buffer"].from(e,"hex"):e,bt(i.length===Zn,"Address must be ".concat(Zn," bytes but received ").concat(i.length," bytes"));const s=1+Jn,c=s,u=s+i.length,l=u+n.length+1,f=1,h=a["Buffer"].alloc(Qn.span+r.length);return Qn.encode({numSignatures:f,signatureOffset:u,signatureInstructionIndex:0,ethAddressOffset:c,ethAddressInstructionIndex:0,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:0,signature:k(n),ethAddress:k(i),recoveryId:o},h),h.fill(k(r),Qn.span),new Qt({keys:[],programId:to.programId,data:h})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r}=t;bt(e.length===Yn,"Private key must be ".concat(Yn," bytes but received ").concat(e.length," bytes"));try{const t=k(e),n=Gn(t,!1).slice(1),o=a["Buffer"].from(j["keccak_256"].update(k(r)).digest()),{signature:i,recid:s}=Hn(o,t);return this.createInstructionWithPublicKey({publicKey:n,message:r,signature:i,recoveryId:s})}catch(Pe){throw new Error("Error creating instruction; ".concat(Pe))}}}o()(to,"programId",new S("KeccakSecp256k11111111111111111111111111111"));new S("Va1idator1nfo111111111111111111111111111111"),Object(y["o"])({name:Object(y["m"])(),website:Object(y["k"])(Object(y["m"])()),details:Object(y["k"])(Object(y["m"])()),keybaseUsername:Object(y["k"])(Object(y["m"])())});new S("Vote111111111111111111111111111111111111111"),d["struct"]([qt("nodePubkey"),qt("authorizedVoterPubkey"),qt("authorizedWithdrawerPubkey"),d["u8"]("commission"),d["nu64"](),d["seq"](d["struct"]([d["nu64"]("slot"),d["u32"]("confirmationCount")]),d["offset"](d["u32"](),-8),"votes"),d["u8"]("rootSlotValid"),d["nu64"]("rootSlot"),d["nu64"]("epoch"),d["nu64"]("credits"),d["nu64"]("lastEpochCredits"),d["nu64"](),d["seq"](d["struct"]([d["nu64"]("epoch"),d["nu64"]("credits"),d["nu64"]("prevCredits")]),d["offset"](d["u32"](),-8),"epochCredits")]);const eo={http:{devnet:"http://devnet.solana.com",testnet:"http://testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com"},https:{devnet:"https://devnet.solana.com",testnet:"https://testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com"}};function ro(t,e){const r=!1===e?"http":"https";if(!t)return eo[r]["devnet"];const n=eo[r][t];if(!n)throw new Error("Unknown ".concat(r," cluster: ").concat(t));return n}}).call(this,r("2409"))},"5c45":function(t,e,r){"use strict";var n;r.r(e),r.d(e,"v1",(function(){return m})),r.d(e,"v3",(function(){return z})),r.d(e,"v4",(function(){return q})),r.d(e,"v5",(function(){return G})),r.d(e,"NIL",(function(){return H})),r.d(e,"version",(function(){return Z})),r.d(e,"validate",(function(){return c})),r.d(e,"stringify",(function(){return p})),r.d(e,"parse",(function(){return v}));var o=new Uint8Array(16);function i(){if(!n&&(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function a(t){return"string"===typeof t&&s.test(t)}for(var c=a,u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r}var h,d,p=f,b=0,y=0;function g(t,e,r){var n=e&&r||0,o=e||new Array(16);t=t||{};var s=t.node||h,a=void 0!==t.clockseq?t.clockseq:d;if(null==s||null==a){var c=t.random||(t.rng||i)();null==s&&(s=h=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=d=16383&(c[6]<<8|c[7]))}var u=void 0!==t.msecs?t.msecs:Date.now(),l=void 0!==t.nsecs?t.nsecs:y+1,f=u-b+(l-y)/1e4;if(f<0&&void 0===t.clockseq&&(a=a+1&16383),(f<0||u>b)&&void 0===t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=u,y=l,d=a,u+=122192928e5;var g=(1e4*(268435455&u)+l)%4294967296;o[n++]=g>>>24&255,o[n++]=g>>>16&255,o[n++]=g>>>8&255,o[n++]=255&g;var m=u/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=255&m,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var w=0;w<6;++w)o[n+w]=s[w];return e||p(o)}var m=g;function w(t){if(!c(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r}var v=w;function O(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var j="6ba7b810-9dad-11d1-80b4-00c04fd430c8",k="6ba7b811-9dad-11d1-80b4-00c04fd430c8",_=function(t,e,r){function n(t,n,o,i){if("string"===typeof t&&(t=O(t)),"string"===typeof n&&(n=v(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(n),s.set(t,n.length),s=r(s),s[6]=15&s[6]|e,s[8]=63&s[8]|128,o){i=i||0;for(var a=0;a<16;++a)o[i+a]=s[a];return o}return p(s)}try{n.name=t}catch(o){}return n.DNS=j,n.URL=k,n};function S(t){if("string"===typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return E(A(I(t),8*t.length))}function E(t){for(var e=[],r=32*t.length,n="0123456789abcdef",o=0;o<r;o+=8){var i=t[o>>5]>>>o%32&255,s=parseInt(n.charAt(i>>>4&15)+n.charAt(15&i),16);e.push(s)}return e}function x(t){return 14+(t+64>>>9<<4)+1}function A(t,e){t[e>>5]|=128<<e%32,t[x(e)-1]=e;for(var r=1732584193,n=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=r,c=n,u=o,l=i;r=R(r,n,o,i,t[s],7,-680876936),i=R(i,r,n,o,t[s+1],12,-389564586),o=R(o,i,r,n,t[s+2],17,606105819),n=R(n,o,i,r,t[s+3],22,-1044525330),r=R(r,n,o,i,t[s+4],7,-176418897),i=R(i,r,n,o,t[s+5],12,1200080426),o=R(o,i,r,n,t[s+6],17,-1473231341),n=R(n,o,i,r,t[s+7],22,-45705983),r=R(r,n,o,i,t[s+8],7,1770035416),i=R(i,r,n,o,t[s+9],12,-1958414417),o=R(o,i,r,n,t[s+10],17,-42063),n=R(n,o,i,r,t[s+11],22,-1990404162),r=R(r,n,o,i,t[s+12],7,1804603682),i=R(i,r,n,o,t[s+13],12,-40341101),o=R(o,i,r,n,t[s+14],17,-1502002290),n=R(n,o,i,r,t[s+15],22,1236535329),r=L(r,n,o,i,t[s+1],5,-165796510),i=L(i,r,n,o,t[s+6],9,-1069501632),o=L(o,i,r,n,t[s+11],14,643717713),n=L(n,o,i,r,t[s],20,-373897302),r=L(r,n,o,i,t[s+5],5,-701558691),i=L(i,r,n,o,t[s+10],9,38016083),o=L(o,i,r,n,t[s+15],14,-660478335),n=L(n,o,i,r,t[s+4],20,-405537848),r=L(r,n,o,i,t[s+9],5,568446438),i=L(i,r,n,o,t[s+14],9,-1019803690),o=L(o,i,r,n,t[s+3],14,-187363961),n=L(n,o,i,r,t[s+8],20,1163531501),r=L(r,n,o,i,t[s+13],5,-1444681467),i=L(i,r,n,o,t[s+2],9,-51403784),o=L(o,i,r,n,t[s+7],14,1735328473),n=L(n,o,i,r,t[s+12],20,-1926607734),r=U(r,n,o,i,t[s+5],4,-378558),i=U(i,r,n,o,t[s+8],11,-2022574463),o=U(o,i,r,n,t[s+11],16,1839030562),n=U(n,o,i,r,t[s+14],23,-35309556),r=U(r,n,o,i,t[s+1],4,-1530992060),i=U(i,r,n,o,t[s+4],11,1272893353),o=U(o,i,r,n,t[s+7],16,-155497632),n=U(n,o,i,r,t[s+10],23,-1094730640),r=U(r,n,o,i,t[s+13],4,681279174),i=U(i,r,n,o,t[s],11,-358537222),o=U(o,i,r,n,t[s+3],16,-722521979),n=U(n,o,i,r,t[s+6],23,76029189),r=U(r,n,o,i,t[s+9],4,-640364487),i=U(i,r,n,o,t[s+12],11,-421815835),o=U(o,i,r,n,t[s+15],16,530742520),n=U(n,o,i,r,t[s+2],23,-995338651),r=C(r,n,o,i,t[s],6,-198630844),i=C(i,r,n,o,t[s+7],10,1126891415),o=C(o,i,r,n,t[s+14],15,-1416354905),n=C(n,o,i,r,t[s+5],21,-57434055),r=C(r,n,o,i,t[s+12],6,1700485571),i=C(i,r,n,o,t[s+3],10,-1894986606),o=C(o,i,r,n,t[s+10],15,-1051523),n=C(n,o,i,r,t[s+1],21,-2054922799),r=C(r,n,o,i,t[s+8],6,1873313359),i=C(i,r,n,o,t[s+15],10,-30611744),o=C(o,i,r,n,t[s+6],15,-1560198380),n=C(n,o,i,r,t[s+13],21,1309151649),r=C(r,n,o,i,t[s+4],6,-145523070),i=C(i,r,n,o,t[s+11],10,-1120210379),o=C(o,i,r,n,t[s+2],15,718787259),n=C(n,o,i,r,t[s+9],21,-343485551),r=B(r,a),n=B(n,c),o=B(o,u),i=B(i,l)}return[r,n,o,i]}function I(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(x(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}function B(t,e){var r=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(r>>16);return n<<16|65535&r}function P(t,e){return t<<e|t>>>32-e}function T(t,e,r,n,o,i){return B(P(B(B(e,t),B(n,i)),o),r)}function R(t,e,r,n,o,i,s){return T(e&r|~e&n,t,e,o,i,s)}function L(t,e,r,n,o,i,s){return T(e&n|r&~n,t,e,o,i,s)}function U(t,e,r,n,o,i,s){return T(e^r^n,t,e,o,i,s)}function C(t,e,r,n,o,i,s){return T(r^(e|~n),t,e,o,i,s)}var M=S,N=_("v3",48,M),z=N;function W(t,e,r){t=t||{};var n=t.random||(t.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return p(n)}var q=W;function D(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function K(t,e){return t<<e|t>>>32-e}function F(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,s=Math.ceil(i/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=t[64*c+4*l]<<24|t[64*c+4*l+1]<<16|t[64*c+4*l+2]<<8|t[64*c+4*l+3];a[c]=u}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var f=0;f<s;++f){for(var h=new Uint32Array(80),d=0;d<16;++d)h[d]=a[f][d];for(var p=16;p<80;++p)h[p]=K(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var b=r[0],y=r[1],g=r[2],m=r[3],w=r[4],v=0;v<80;++v){var O=Math.floor(v/20),j=K(b,5)+D(O,y,g,m)+w+e[O]+h[v]>>>0;w=m,m=g,g=K(y,30)>>>0,y=b,b=j}r[0]=r[0]+b>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+m>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}var $=F,V=_("v5",80,$),G=V,H="00000000-0000-0000-0000-000000000000";function Y(t){if(!c(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Z=Y},"5dec":function(t,e,r){var n=r("2c98"),o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.exports=n(o)},"5f4c":function(t,e){function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"5f75":function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},6341:function(t,e,r){"use strict";const n=r("5c45").v4,o=function(t,e,r,o){if("string"!==typeof t)throw new TypeError(t+" must be a string");o=o||{};const i="number"===typeof o.version?o.version:2;if(1!==i&&2!==i)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(2===i&&(s.jsonrpc="2.0"),e){if("object"!==typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if("undefined"===typeof r){const t="function"===typeof o.generator?o.generator:function(){return n()};s.id=t(s,o)}else 2===i&&null===r?o.notificationIdNull&&(s.id=null):s.id=r;return s};t.exports=o},6344:function(t,e,r){function n(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var s=t.apply(e,r);function a(t){n(s,o,i,a,c,"next",t)}function c(t){n(s,o,i,a,c,"throw",t)}a(void 0)}))}}r("7479"),t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},6507:function(t,e,r){var n=r("5f75"),o=r("adda");function i(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[i+a]=s[a];return e||o(s)}t.exports=i},6817:function(t,e,r){"use strict";const n=r("5c45").v4,o=r("6341"),i=function(t,e){if(!(this instanceof i))return new i(t,e);e||(e={}),this.options={reviver:"undefined"!==typeof e.reviver?e.reviver:null,replacer:"undefined"!==typeof e.replacer?e.replacer:null,generator:"undefined"!==typeof e.generator?e.generator:function(){return n()},version:"undefined"!==typeof e.version?e.version:2,notificationIdNull:"boolean"===typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=i,i.prototype.request=function(t,e,r,n){const i=this;let s=null;const a=Array.isArray(t)&&"function"===typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");const c=!a&&t&&"object"===typeof t&&"function"===typeof e;if(a||c)n=e,s=t;else{"function"===typeof r&&(n=r,r=void 0);const i="function"===typeof n;try{s=o(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(i)return n(l);throw l}if(!i)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(l){return n(l)}return this.callServer(u,(function(t,e){i._parseResponse(t,e,n)})),s},i.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return"undefined"!==typeof t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},"6ba6":function(t,e,r){},"6e22":function(t,e,r){"use strict";var n=r("ebe3");Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d;var o=n(r("5b25")),i=n(r("f1df")),s=n(r("c5fb")),a=n(r("9e0c")),c=n(r("4ed6")),u=r("da91");function l(t){var e=f();return function(){var r,n=(0,c["default"])(t);if(e){var o=(0,c["default"])(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a["default"])(this,r)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){(0,s["default"])(r,t);var e=l(r);function r(t,n,i){var s;return(0,o["default"])(this,r),s=e.call(this),s.socket=new window.WebSocket(t,i),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(t){return s.emit("message",t.data)},s.socket.onerror=function(t){return s.emit("error",t)},s.socket.onclose=function(t){s.emit("close",t.code,t.reason)},s}return(0,i["default"])(r,[{key:"send",value:function(t,e,r){var n=r||e;try{this.socket.send(t),n()}catch(o){n(o)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,r){this.socket.addEventListener(t,e,r)}}]),r}(u.EventEmitter);function d(t,e){return new h(t,e)}},"773c":function(t,e,r){"use strict";r("8c75")},"77b9":function(t,e,r){"use strict";var n=r("ef80");Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d;var o=n(r("a89e")),i=n(r("db98")),s=n(r("2b8b")),a=n(r("527d")),c=n(r("394a")),u=r("da91");function l(t){var e=f();return function(){var r,n=(0,c["default"])(t);if(e){var o=(0,c["default"])(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a["default"])(this,r)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){(0,s["default"])(r,t);var e=l(r);function r(t,n,i){var s;return(0,o["default"])(this,r),s=e.call(this),s.socket=new window.WebSocket(t,i),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(t){return s.emit("message",t.data)},s.socket.onerror=function(t){return s.emit("error",t)},s.socket.onclose=function(t){s.emit("close",t.code,t.reason)},s}return(0,i["default"])(r,[{key:"send",value:function(t,e,r){var n=r||e;try{this.socket.send(t),n()}catch(o){n(o)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,r){this.socket.addEventListener(t,e,r)}}]),r}(u.EventEmitter);function d(t,e){return new h(t,e)}},"7f44":function(t,e,r){"use strict";(function(t){var n=r("ebe3");Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(r("25bb")),i=n(r("6344")),s=n(r("f036")),a=n(r("5b25")),c=n(r("f1df")),u=n(r("c5fb")),l=n(r("9e0c")),f=n(r("4ed6")),h=r("da91"),d=n(r("a336"));function p(t){var e=b();return function(){var r,n=(0,f["default"])(t);if(e){var o=(0,f["default"])(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l["default"])(this,r)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var y=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},g=function(e){(0,u["default"])(n,e);var r=p(n);function n(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;(0,a["default"])(this,n);var c=i.autoconnect,u=void 0===c||c,l=i.reconnect,f=void 0===l||l,h=i.reconnect_interval,d=void 0===h?1e3:h,p=i.max_reconnects,b=void 0===p?5:p,g=y(i,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return e=r.call(this),e.webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=o,e.autoconnect=u,e.ready=!1,e.reconnect=f,e.reconnect_interval=d,e.max_reconnects=b,e.rest_options=g,e.current_reconnects=0,e.generate_request_id=s||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,c["default"])(n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,r,n){var o=this;return n||"object"!==(0,s["default"])(r)||(n=r,r=null),new Promise((function(i,s){if(!o.ready)return s(new Error("socket not ready"));var a=o.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||null,id:a};o.socket.send(JSON.stringify(c),n,(function(t){if(t)return s(t);o.queue[a]={promise:[i,s]},r&&(o.queue[a].timeout=setTimeout((function(){delete o.queue[a],s(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:function(){var t=(0,i["default"])(o["default"].mark((function t(e){var r;return o["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(r=t.sent,r){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"listMethods",value:function(){var t=(0,i["default"])(o["default"].mark((function t(){return o["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"notify",value:function(t,e){var r=this;return new Promise((function(n,o){if(!r.ready)return o(new Error("socket not ready"));var i={jsonrpc:"2.0",method:t,params:e||null};r.socket.send(JSON.stringify(i),(function(t){if(t)return o(t);n()}))}))}},{key:"subscribe",value:function(){var t=(0,i["default"])(o["default"].mark((function t(e){var r;return o["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"string"===typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(r=t.sent,"string"!==typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"unsubscribe",value:function(){var t=(0,i["default"])(o["default"].mark((function t(e){var r;return o["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"string"===typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(r=t.sent,"string"!==typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+r);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(e,r){var n=this;this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",(function(){n.ready=!0,n.emit("open"),n.current_reconnects=0})),this.socket.addEventListener("message",(function(e){var r=e.data;r instanceof ArrayBuffer&&(r=t.from(r).toString());try{r=d["default"].parse(r)}catch(s){return}if(r.notification&&n.listeners(r.notification).length){if(!Object.keys(r.params).length)return n.emit(r.notification);var o=[r.notification];if(r.params.constructor===Object)o.push(r.params);else for(var i=0;i<r.params.length;i++)o.push(r.params[i]);return Promise.resolve().then((function(){n.emit.apply(n,o)}))}if(!n.queue[r.id])return r.method&&r.params?Promise.resolve().then((function(){n.emit(r.method,r.params)})):void 0;"error"in r==="result"in r&&n.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),n.queue[r.id].timeout&&clearTimeout(n.queue[r.id].timeout),r.error?n.queue[r.id].promise[1](r.error):n.queue[r.id].promise[0](r.result),delete n.queue[r.id]})),this.socket.addEventListener("error",(function(t){return n.emit("error",t)})),this.socket.addEventListener("close",(function(t){var o=t.code,i=t.reason;n.ready&&setTimeout((function(){return n.emit("close",o,i)}),0),n.ready=!1,n.socket=void 0,1e3!==o&&(n.current_reconnects++,n.reconnect&&(n.max_reconnects>n.current_reconnects||0===n.max_reconnects)&&setTimeout((function(){return n._connect(e,r)}),n.reconnect_interval))}))}}]),n}(h.EventEmitter);e["default"]=g}).call(this,r("fd40").Buffer)},"8be2":function(t,e,r){"use strict";r("8e55")},"8c75":function(t,e,r){},"8e55":function(t,e,r){},9:function(t,e){},"96b0":function(t,e,r){"use strict";const n=r("6507"),o=r("e73e"),i=function(t,e){if(!(this instanceof i))return new i(t,e);e||(e={}),this.options={reviver:"undefined"!==typeof e.reviver?e.reviver:null,replacer:"undefined"!==typeof e.replacer?e.replacer:null,generator:"undefined"!==typeof e.generator?e.generator:function(){return n()},version:"undefined"!==typeof e.version?e.version:2,notificationIdNull:"boolean"===typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=i,i.prototype.request=function(t,e,r,n){const i=this;let s=null;const a=Array.isArray(t)&&"function"===typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");const c=!a&&t&&"object"===typeof t&&"function"===typeof e;if(a||c)n=e,s=t;else{"function"===typeof r&&(n=r,r=void 0);const i="function"===typeof n;try{s=o(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(i)return n(l);throw l}if(!i)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(l){return n(l)}return this.callServer(u,(function(t,e){i._parseResponse(t,e,n)})),s},i.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return"undefined"!==typeof t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},"9e0c":function(t,e,r){var n=r("f036")["default"],o=r("06ef");function i(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},a0a5:function(t,e,r){},a11b:function(t,e,r){"use strict";r("a0a5")},a336:function(t,e){
/*!
Copyright (C) 2013-2017 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var r="~",n="\\x"+("0"+r.charCodeAt(0).toString(16)).slice(-2),o="\\"+n,i=new RegExp(n,"g"),s=new RegExp(o,"g"),a=new RegExp("(?:^|([^\\\\]))"+o),c=[].indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},u=String;function l(t,e,s){var a,u,l=!1,f=!!e,h=[],d=[t],p=[t],b=[s?r:"[Circular]"],y=t,g=1;return f&&(u="object"===typeof e?function(t,r){return""!==t&&e.indexOf(t)<0?void 0:r}:e),function(t,e){return f&&(e=u.call(this,t,e)),l?(y!==this&&(a=g-c.call(d,this)-1,g-=a,d.splice(g,d.length),h.splice(g-1,h.length),y=this),"object"===typeof e&&e?(c.call(d,e)<0&&d.push(y=e),g=d.length,a=c.call(p,e),a<0?(a=p.push(e)-1,s?(h.push((""+t).replace(i,n)),b[a]=r+h.join(r)):b[a]=b[0]):e=b[a]):"string"===typeof e&&s&&(e=e.replace(n,o).replace(r,n))):l=!0,e}}function f(t,e){for(var n=0,o=e.length;n<o;t=t[e[n++].replace(s,r)]);return t}function h(t){return function(e,i){var s="string"===typeof i;return s&&i.charAt(0)===r?new u(i.slice(1)):(""===e&&(i=b(i,i,{})),s&&(i=i.replace(a,"$1"+r).replace(o,n)),t?t.call(this,e,i):i)}}function d(t,e,r){for(var n=0,o=e.length;n<o;n++)e[n]=b(t,e[n],r);return e}function p(t,e,r){for(var n in e)e.hasOwnProperty(n)&&(e[n]=b(t,e[n],r));return e}function b(t,e,n){return e instanceof Array?d(t,e,n):e instanceof u?e.length?n.hasOwnProperty(e)?n[e]:n[e]=f(t,e.split(r)):t:e instanceof Object?p(t,e,n):e}var y={stringify:function(t,e,r,n){return y.parser.stringify(t,l(t,e,!n),r)},parse:function(t,e){return y.parser.parse(t,h(e))},parser:JSON};t.exports=y},a7f4:function(t,e,r){"use strict";
/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */var n=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.__esModule=!0,e.s16=e.s8=e.nu64be=e.u48be=e.u40be=e.u32be=e.u24be=e.u16be=e.nu64=e.u48=e.u40=e.u32=e.u24=e.u16=e.u8=e.offset=e.greedy=e.Constant=e.UTF8=e.CString=e.Blob=e.Boolean=e.BitField=e.BitStructure=e.VariantLayout=e.Union=e.UnionLayoutDiscriminator=e.UnionDiscriminator=e.Structure=e.Sequence=e.DoubleBE=e.Double=e.FloatBE=e.Float=e.NearInt64BE=e.NearInt64=e.NearUInt64BE=e.NearUInt64=e.IntBE=e.Int=e.UIntBE=e.UInt=e.OffsetLayout=e.GreedyCount=e.ExternalLayout=e.bindConstructorLayout=e.nameWithProperty=e.Layout=e.uint8ArrayToBuffer=e.checkUint8Array=void 0,e.constant=e.utf8=e.cstr=e.blob=e.unionLayoutDiscriminator=e.union=e.seq=e.bits=e.struct=e.f64be=e.f64=e.f32be=e.f32=e.ns64be=e.s48be=e.s40be=e.s32be=e.s24be=e.s16be=e.ns64=e.s48=e.s40=e.s32=e.s24=void 0;var o=r("fd40");function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(t){return i(t),o.Buffer.from(t.buffer,t.byteOffset,t.length)}e.checkUint8Array=i,e.uint8ArrayToBuffer=s;var a=function(){function t(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}return t.prototype.makeDestinationObject=function(){return{}},t.prototype.decode=function(t,e){throw new Error("Layout is abstract")},t.prototype.encode=function(t,e,r){throw new Error("Layout is abstract")},t.prototype.getSpan=function(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span},t.prototype.replicate=function(t){var e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e},t.prototype.fromArray=function(t){},t}();function c(t,e){return e.property?t+"["+e.property+"]":t}function u(t,e){if("function"!==typeof t)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof a))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=function(){return new t},Object.defineProperty(t.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})}e.Layout=a,e.nameWithProperty=c,e.bindConstructorLayout=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},e}(a);e.ExternalLayout=l;var f=function(t){function e(e,r){var n=this;if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");return n=t.call(this,-1,r)||this,n.elementSpan=e,n}return n(e,t),e.prototype.isCount=function(){return!0},e.prototype.decode=function(t,e){i(t),void 0===e&&(e=0);var r=t.length-e;return Math.floor(r/this.elementSpan)},e.prototype.encode=function(t,e,r){return 0},e}(l);e.GreedyCount=f;var h=function(t){function e(e,r,n){var o=this;if(!(e instanceof a))throw new TypeError("layout must be a Layout");if(void 0===r)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");return o=t.call(this,e.span,n||e.property)||this,o.layout=e,o.offset=r,o}return n(e,t),e.prototype.isCount=function(){return this.layout instanceof d||this.layout instanceof p},e.prototype.decode=function(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)},e}(l);e.OffsetLayout=h;var d=function(t){function e(e,r){var n=t.call(this,e,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),s(t).readUIntLE(e,this.span)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),s(e).writeUIntLE(t,r,this.span),this.span},e}(a);e.UInt=d;var p=function(t){function e(e,r){var n=t.call(this,e,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),s(t).readUIntBE(e,this.span)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),s(e).writeUIntBE(t,r,this.span),this.span},e}(a);e.UIntBE=p;var b=function(t){function e(e,r){var n=t.call(this,e,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),s(t).readIntLE(e,this.span)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),s(e).writeIntLE(t,r,this.span),this.span},e}(a);e.Int=b;var y=function(t){function e(e,r){var n=t.call(this,e,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),s(t).readIntBE(e,this.span)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),s(e).writeIntBE(t,r,this.span),this.span},e}(a);e.IntBE=y;var g=Math.pow(2,32);function m(t){var e=Math.floor(t/g),r=t-e*g;return{hi32:e,lo32:r}}function w(t,e){return t*g+e}var v=function(t){function e(e){return t.call(this,8,e)||this}return n(e,t),e.prototype.decode=function(t,e){void 0===e&&(e=0);var r=s(t),n=r.readUInt32LE(e),o=r.readUInt32LE(e+4);return w(o,n)},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);var n=m(t),o=s(e);return o.writeUInt32LE(n.lo32,r),o.writeUInt32LE(n.hi32,r+4),8},e}(a);e.NearUInt64=v;var O=function(t){function e(e){return t.call(this,8,e)||this}return n(e,t),e.prototype.decode=function(t,e){void 0===e&&(e=0);var r=s(t),n=r.readUInt32BE(e),o=r.readUInt32BE(e+4);return w(n,o)},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);var n=m(t),o=s(e);return o.writeUInt32BE(n.hi32,r),o.writeUInt32BE(n.lo32,r+4),8},e}(a);e.NearUInt64BE=O;var j=function(t){function e(e){return t.call(this,8,e)||this}return n(e,t),e.prototype.decode=function(t,e){void 0===e&&(e=0);var r=s(t),n=r.readUInt32LE(e),o=r.readInt32LE(e+4);return w(o,n)},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);var n=m(t),o=s(e);return o.writeUInt32LE(n.lo32,r),o.writeInt32LE(n.hi32,r+4),8},e}(a);e.NearInt64=j;var k=function(t){function e(e){return t.call(this,8,e)||this}return n(e,t),e.prototype.decode=function(t,e){void 0===e&&(e=0);var r=s(t),n=r.readInt32BE(e),o=r.readUInt32BE(e+4);return w(n,o)},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);var n=m(t),o=s(e);return o.writeInt32BE(n.hi32,r),o.writeUInt32BE(n.lo32,r+4),8},e}(a);e.NearInt64BE=k;var _=function(t){function e(e){return t.call(this,4,e)||this}return n(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),s(t).readFloatLE(e)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),s(e).writeFloatLE(t,r),4},e}(a);e.Float=_;var S=function(t){function e(e){return t.call(this,4,e)||this}return n(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),s(t).readFloatBE(e)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),s(e).writeFloatBE(t,r),4},e}(a);e.FloatBE=S;var E=function(t){function e(e){return t.call(this,8,e)||this}return n(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),s(t).readDoubleLE(e)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),s(e).writeDoubleLE(t,r),8},e}(a);e.Double=E;var x=function(t){function e(e){return t.call(this,8,e)||this}return n(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),s(t).readDoubleBE(e)},e.prototype.encode=function(t,e,r){return void 0===r&&(r=0),s(e).writeDoubleBE(t,r),8},e}(a);e.DoubleBE=x;var A=function(t){function e(e,r,n){var o=this;if(!(e instanceof a))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof l&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var i=-1;return!(r instanceof l)&&0<e.span&&(i=r*e.span),o=t.call(this,i,n)||this,o.elementLayout=e,o.count=r,o}return n(e,t),e.prototype.getSpan=function(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);var r=0,n=this.count;if(n instanceof l&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{var o=0;while(o<n)r+=this.elementLayout.getSpan(t,e+r),++o}return r},e.prototype.decode=function(t,e){void 0===e&&(e=0);var r=[],n=0,o=this.count;o instanceof l&&(o=o.decode(t,e));while(n<o)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);var n=this.elementLayout,o=t.reduce((function(t,o){return t+n.encode(o,e,r+t)}),0);return this.count instanceof l&&this.count.encode(t.length,e,r),o},e}(a);e.Sequence=A;var I=function(t){function e(e,r,n){var o=this;if(!Array.isArray(e)||!e.reduce((function(t,e){return t&&e instanceof a}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof r&&void 0===n&&(n=r,r=void 0);for(var i=0,s=e;i<s.length;i++){var c=s[i];if(0>c.span&&void 0===c.property)throw new Error("fields cannot contain unnamed variable-length layout")}var u=-1;try{u=e.reduce((function(t,e){return t+e.getSpan()}),0)}catch(l){}return o=t.call(this,u,r)||this,o.fields=e,o.decodePrefixes=!!n,o}return n(e,t),e.prototype.getSpan=function(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);var r=0;try{r=this.fields.reduce((function(r,n){var o=n.getSpan(t,e);return e+=o,r+o}),0)}catch(n){throw new RangeError("indeterminate span")}return r},e.prototype.decode=function(t,e){i(t),void 0===e&&(e=0);for(var r=this.makeDestinationObject(),n=0,o=this.fields;n<o.length;n++){var s=o[n];if(void 0!==s.property&&(r[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break}return r},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);for(var n=r,o=0,i=0,s=0,a=this.fields;s<a.length;s++){var c=a[s],u=c.span;if(i=0<u?u:0,void 0!==c.property){var l=t[c.property];void 0!==l&&(i=c.encode(l,e,r),0>u&&(u=c.getSpan(e,r)))}o=r,r+=u}return o+i-n},e.prototype.fromArray=function(t){for(var e=this.makeDestinationObject(),r=0,n=this.fields;r<n.length;r++){var o=n[r];void 0!==o.property&&0<t.length&&(e[o.property]=t.shift())}return e},e.prototype.layoutFor=function(t){if("string"!==typeof t)throw new TypeError("property must be string");for(var e=0,r=this.fields;e<r.length;e++){var n=r[e];if(n.property===t)return n}},e.prototype.offsetOf=function(t){if("string"!==typeof t)throw new TypeError("property must be string");for(var e=0,r=0,n=this.fields;r<n.length;r++){var o=n[r];if(o.property===t)return e;0>o.span?e=-1:0<=e&&(e+=o.span)}},e}(a);e.Structure=I;var B=function(){function t(t){this.property=t}return t.prototype.decode=function(t,e){throw new Error("UnionDiscriminator is abstract")},t.prototype.encode=function(t,e,r){throw new Error("UnionDiscriminator is abstract")},t}();e.UnionDiscriminator=B;var P=function(t){function e(e,r){var n=this;if(!(e instanceof l&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return n=t.call(this,r||e.property||"variant")||this,n.layout=e,n}return n(e,t),e.prototype.decode=function(t,e){return this.layout.decode(t,e)},e.prototype.encode=function(t,e,r){return this.layout.encode(t,e,r)},e}(B);e.UnionLayoutDiscriminator=P;var T=function(t){function e(e,r,n){var o,i=this,s=e instanceof d||e instanceof p;if(s)o=new P(new h(e));else if(e instanceof l&&e.isCount())o=new P(e);else{if(!(e instanceof B))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");o=e}if(void 0===r&&(r=null),!(null===r||r instanceof a))throw new TypeError("defaultLayout must be null or a Layout");if(null!==r){if(0>r.span)throw new Error("defaultLayout must have constant span");void 0===r.property&&(r=r.replicate("content"))}var c=-1;r&&(c=r.span,0<=c&&s&&(c+=o.layout.span)),i=t.call(this,c,n)||this,i.discriminator=o,i.usesPrefixDiscriminator=s,i.defaultLayout=r,i.registry={};var u=i.defaultGetSourceVariant.bind(i);return i.getSourceVariant=function(t){return u(t)},i.configGetSourceVariant=function(t){u=t.bind(this)},i}return n(e,t),e.prototype.getSpan=function(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);var r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)},e.prototype.defaultGetSourceVariant=function(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;var e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(var r in this.registry){e=this.registry[r];if(e.property&&Object.prototype.hasOwnProperty.call(t,e.property))return e}throw new Error("unable to infer src variant")},e.prototype.decode=function(t,e){var r;void 0===e&&(e=0);var n=this.discriminator,o=n.decode(t,e),i=this.registry[o];if(void 0===i){var s=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[s.property]=s.decode(t,e+a)}else r=i.decode(t,e);return r},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);var n=this.getSourceVariant(t);if(void 0===n){var o=this.discriminator,i=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=o.layout.span),o.encode(t[o.property],e,r),s+i.encode(t[i.property],e,r+s)}return n.encode(t,e,r)},e.prototype.addVariant=function(t,e,r){var n=new R(this,t,e,r);return this.registry[t]=n,n},e.prototype.getVariant=function(t,e){var r;return t instanceof Uint8Array?(void 0===e&&(e=0),r=this.discriminator.decode(t,e)):r=t,this.registry[r]},e}(a);e.Union=T;var R=function(t){function e(e,r,n,o){var i=this;if(!(e instanceof T))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===o&&(o=n,n=null),n){if(!(n instanceof a))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof o)throw new TypeError("variant must have a String property")}var s=e.span;return 0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),i=t.call(this,s,o)||this,i.union=e,i.variant=r,i.layout=n||null,i}return n(e,t),e.prototype.getSpan=function(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var n=0;return this.layout&&(n=this.layout.getSpan(t,e+r)),r+n},e.prototype.decode=function(t,e){var r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var o=this.property;return this.layout?r[o]=this.layout.decode(t,e+n):o?r[o]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var o=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(t,o))throw new TypeError("variant lacks property "+o);this.union.discriminator.encode(this.variant,e,r);var i=n;if(this.layout&&(this.layout.encode(t[o],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i},e.prototype.fromArray=function(t){if(this.layout)return this.layout.fromArray(t)},e}(a);function L(t){return 0>t&&(t+=4294967296),t}e.VariantLayout=R;var U=function(t){function e(e,r,n){var o=this;if(!(e instanceof d||e instanceof p))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof r&&void 0===n&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");o=t.call(this,e.span,n)||this,o.word=e,o.msb=!!r,o.fields=[];var i=0;return o._packedSetValue=function(t){return i=L(t),this},o._packedGetValue=function(){return i},o}return n(e,t),e.prototype.decode=function(t,e){var r=this.makeDestinationObject();void 0===e&&(e=0);var n=this.word.decode(t,e);this._packedSetValue(n);for(var o=0,i=this.fields;o<i.length;o++){var s=i[o];void 0!==s.property&&(r[s.property]=s.decode(n))}return r},e.prototype.encode=function(t,e,r){void 0===r&&(r=0);var n=this.word.decode(e,r);this._packedSetValue(n);for(var o=0,i=this.fields;o<i.length;o++){var s=i[o];if(void 0!==s.property){var a=t[s.property];void 0!==a&&s.encode(a)}}return this.word.encode(this._packedGetValue(),e,r)},e.prototype.addField=function(t,e){var r=new C(this,t,e);return this.fields.push(r),r},e.prototype.addBoolean=function(t){var e=new M(this,t);return this.fields.push(e),e},e.prototype.fieldFor=function(t){if("string"!==typeof t)throw new TypeError("property must be string");for(var e=0,r=this.fields;e<r.length;e++){var n=r[e];if(n.property===t)return n}},e}(a);e.BitStructure=U;var C=function(){function t(t,e,r){if(!(t instanceof U))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");var n=8*t.span,o=t.fields.reduce((function(t,e){return t+e.bits}),0);if(e+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-e),this.wordMask=L(this.valueMask<<this.start),this.property=r}return t.prototype.decode=function(t,e){var r=this.container._packedGetValue(),n=L(r&this.wordMask),o=n>>>this.start;return o},t.prototype.encode=function(t){if(!Number.isInteger(t)||t!==L(t&this.valueMask))throw new TypeError(c("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var e=this.container._packedGetValue(),r=L(t<<this.start);this.container._packedSetValue(L(e&~this.wordMask)|r)},t}();e.BitField=C;var M=function(t){function e(e,r){return t.call(this,e,1,r)||this}return n(e,t),e.prototype.decode=function(t,e){return!!C.prototype.decode.call(this,t,e)},e.prototype.encode=function(t){return"boolean"===typeof t&&(t=+t),C.prototype.encode.call(this,t)},e}(C);e.Boolean=M;var N=function(t){function e(e,r){var n=this;if(!(e instanceof l&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var o=-1;return e instanceof l||(o=e),n=t.call(this,o,r)||this,n.length=e,n}return n(e,t),e.prototype.getSpan=function(t,e){var r=this.span;return 0>r&&(r=this.length.decode(t,e)),r},e.prototype.decode=function(t,e){void 0===e&&(e=0);var r=this.span;return 0>r&&(r=this.length.decode(t,e)),s(t).slice(e,e+r)},e.prototype.encode=function(t,e,r){var n=this.length;if(this.length instanceof l&&(n=t.length),!(t instanceof Uint8Array&&n===t.length))throw new TypeError(c("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>e.length)throw new RangeError("encoding overruns Uint8Array");var o=s(t);return s(e).write(o.toString("hex"),r,n,"hex"),this.length instanceof l&&this.length.encode(n,e,r),n},e}(a);e.Blob=N;var z=function(t){function e(e){return t.call(this,-1,e)||this}return n(e,t),e.prototype.getSpan=function(t,e){i(t),void 0===e&&(e=0);var r=e;while(r<t.length&&0!==t[r])r+=1;return 1+r-e},e.prototype.decode=function(t,e){void 0===e&&(e=0);var r=this.getSpan(t,e);return s(t).slice(e,e+r-1).toString("utf-8")},e.prototype.encode=function(t,e,r){void 0===r&&(r=0),"string"!==typeof t&&(t=t.toString());var n=o.Buffer.from(t,"utf8"),i=n.length;if(r+i>e.length)throw new RangeError("encoding overruns Buffer");var a=s(e);return n.copy(a,r),a[r+i]=0,i+1},e}(a);e.CString=z;var W=function(t){function e(e,r){var n=this;if("string"===typeof e&&void 0===r&&(r=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");return n=t.call(this,-1,r)||this,n.maxSpan=e,n}return n(e,t),e.prototype.getSpan=function(t,e){return i(t),void 0===e&&(e=0),t.length-e},e.prototype.decode=function(t,e){void 0===e&&(e=0);var r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return s(t).slice(e,e+r).toString("utf-8")},e.prototype.encode=function(t,e,r){void 0===r&&(r=0),"string"!==typeof t&&(t=t.toString());var n=o.Buffer.from(t,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(s(e),r),i},e}(a);e.UTF8=W;var q=function(t){function e(e,r){var n=t.call(this,0,r)||this;return n.value=e,n}return n(e,t),e.prototype.decode=function(t,e){return this.value},e.prototype.encode=function(t,e,r){return 0},e}(a);e.Constant=q,e.greedy=function(t,e){return new f(t,e)},e.offset=function(t,e,r){return new h(t,e,r)},e.u8=function(t){return new d(1,t)},e.u16=function(t){return new d(2,t)},e.u24=function(t){return new d(3,t)},e.u32=function(t){return new d(4,t)},e.u40=function(t){return new d(5,t)},e.u48=function(t){return new d(6,t)},e.nu64=function(t){return new v(t)},e.u16be=function(t){return new p(2,t)},e.u24be=function(t){return new p(3,t)},e.u32be=function(t){return new p(4,t)},e.u40be=function(t){return new p(5,t)},e.u48be=function(t){return new p(6,t)},e.nu64be=function(t){return new O(t)},e.s8=function(t){return new b(1,t)},e.s16=function(t){return new b(2,t)},e.s24=function(t){return new b(3,t)},e.s32=function(t){return new b(4,t)},e.s40=function(t){return new b(5,t)},e.s48=function(t){return new b(6,t)},e.ns64=function(t){return new j(t)},e.s16be=function(t){return new y(2,t)},e.s24be=function(t){return new y(3,t)},e.s32be=function(t){return new y(4,t)},e.s40be=function(t){return new y(5,t)},e.s48be=function(t){return new y(6,t)},e.ns64be=function(t){return new k(t)},e.f32=function(t){return new _(t)},e.f32be=function(t){return new S(t)},e.f64=function(t){return new E(t)},e.f64be=function(t){return new x(t)},e.struct=function(t,e,r){return new I(t,e,r)},e.bits=function(t,e,r){return new U(t,e,r)},e.seq=function(t,e,r){return new A(t,e,r)},e.union=function(t,e,r){return new T(t,e,r)},e.unionLayoutDiscriminator=function(t,e){return new P(t,e)},e.blob=function(t,e){return new N(t,e)},e.cstr=function(t){return new z(t)},e.utf8=function(t,e){return new W(t,e)},e.constant=function(t,e){return new q(t,e)}},a89e:function(t,e){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},ac7a:function(t,e,r){var n=r("c194"),o=r("ae56"),i=r("cb38"),s=r("72f5"),a=r("cd2e"),c=o((function(){s(1)}));n({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(t){return s(i(t))}})},adda:function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);function o(t,e){var n=e||0,o=r;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}t.exports=o},b577:function(t,e,r){"use strict";(function(t,n){var o=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e}),s=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&o(e,t,r);return i(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=c(r("53a7")),l=c(r("5dec")),f=a(r("e444")),h="function"!==typeof t.TextDecoder?f.TextDecoder:t.TextDecoder,d=new h("utf-8",{fatal:!0});function p(t){return"string"===typeof t&&(t=n.from(t,"utf8")),l.default.encode(n.from(t))}function b(t){return n.from(l.default.decode(t))}e.baseEncode=p,e.baseDecode=b;const y=1024;class g extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=g;class m{constructor(){this.buf=n.alloc(y),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(y)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(n.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(n.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(n.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(n.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),t,n.alloc(y)]),this.length+=t.length}writeString(t){this.maybeResize();const e=n.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(n.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function w(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new g("Reached the end of buffer when deserializing")}throw e}}}e.BinaryWriter=m;class v{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new g(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return d.decode(e)}catch(r){throw new g("Error decoding UTF-8 string: "+r)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let n=0;n<e;++n)r.push(t());return r}}function O(t){return t.charAt(0).toUpperCase()+t.slice(1)}function j(t,e,r,n,o){try{if("string"===typeof n)o["write"+O(n)](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new g(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else o.writeArray(r,r=>{j(t,e,r,n[0],o)});else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?o.writeU8(0):(o.writeU8(1),j(t,e,r,n.type,o));break;default:throw new g(`FieldType ${n} unrecognized`)}else k(t,r,o)}catch(i){throw i instanceof g&&i.addToFieldPath(e),i}}function k(t,e,r){const n=t.get(e.constructor);if(!n)throw new g(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,o])=>{j(t,n,e[n],o,r)});else{if("enum"!==n.kind)throw new g(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const o=e[n.field];for(let i=0;i<n.values.length;++i){const[s,a]=n.values[i];if(s===o){r.writeU8(i),j(t,s,e[s],a,r);break}}}}}function _(t,e){const r=new m;return k(t,e,r),r.toArray()}function S(t,e,r,n){try{if("string"===typeof r)return n["read"+O(r)]();if(r instanceof Array)return"number"===typeof r[0]?n.readFixedArray(r[0]):n.readArray(()=>S(t,e,r[0],n));if("option"===r.kind){const o=n.readU8();return o?S(t,e,r.type,n):void 0}return E(t,r,n)}catch(o){throw o instanceof g&&o.addToFieldPath(e),o}}function E(t,e,r){const n=t.get(e);if(!n)throw new g(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[o,i]of t.get(e).fields)n[o]=S(t,o,i,r);return new e(n)}if("enum"===n.kind){const o=r.readU8();if(o>=n.values.length)throw new g(`Enum index: ${o} is out of range`);const[i,s]=n.values[o],a=S(t,i,s,r);return new e({[i]:a})}throw new g(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function x(t,e,r){const n=new v(r),o=E(t,e,n);if(n.offset<r.length)throw new g(`Unexpected ${r.length-n.offset} bytes after deserialized data`);return o}function A(t,e,r){const n=new v(r);return E(t,e,n)}s([w],v.prototype,"readU8",null),s([w],v.prototype,"readU16",null),s([w],v.prototype,"readU32",null),s([w],v.prototype,"readU64",null),s([w],v.prototype,"readU128",null),s([w],v.prototype,"readU256",null),s([w],v.prototype,"readU512",null),s([w],v.prototype,"readString",null),s([w],v.prototype,"readFixedArray",null),s([w],v.prototype,"readArray",null),e.BinaryReader=v,e.serialize=_,e.deserialize=x,e.deserializeUnchecked=A}).call(this,r("2409"),r("fd40").Buffer)},b7b5:function(t,e,r){function n(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var s=t.apply(e,r);function a(t){n(s,o,i,a,c,"next",t)}function c(t){n(s,o,i,a,c,"throw",t)}a(void 0)}))}}r("7479"),t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},b834:function(t,e,r){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports["default"]=t.exports,t.exports.__esModule=!0,n(e,r)}r("1d62"),t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},b85b:function(t,e,r){"use strict";var n=r("ebe3");Object.defineProperty(e,"__esModule",{value:!0}),e.Client=void 0;var o=n(r("5b25")),i=n(r("c5fb")),s=n(r("9e0c")),a=n(r("4ed6")),c=n(r("6e22")),u=n(r("7f44"));function l(t){var e=f();return function(){var r,n=(0,a["default"])(t);if(e){var o=(0,a["default"])(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s["default"])(this,r)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){(0,i["default"])(r,t);var e=l(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.autoconnect,s=void 0===i||i,a=n.reconnect,u=void 0===a||a,l=n.reconnect_interval,f=void 0===l?1e3:l,h=n.max_reconnects,d=void 0===h?5:h,p=arguments.length>2?arguments[2]:void 0;return(0,o["default"])(this,r),e.call(this,c["default"],t,{autoconnect:s,reconnect:u,reconnect_interval:f,max_reconnects:d},p)}return r}(u["default"]);e.Client=h},b893:function(t,e,r){"use strict";var n=r("1222"),o=r("a3b6"),i=r("55ae"),s=(r("a9b5"),r("37de"),r("22f9"),r("7479"),r("4a32"),r("65f0"),r("476c"),r("63f1"),r("1e34"),r("96e6"),function(){function t(){Object(n["a"])(this,t),Object(i["a"])(this,"chars",["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),Object(i["a"])(this,"crypt",(function(t,e){var r=function(t){return t.split("").map((function(t){return t.charCodeAt(0)}))},n=function(t){return("0"+Number(t).toString(16)).substr(-2)},o=function(e){return r(t).reduce((function(t,e){return t^e}),e)};return e.split("").map(r).map(o).map(n).join("")})),Object(i["a"])(this,"decrypt",(function(t,e){var r=function(t){return t.split("").map((function(t){return t.charCodeAt(0)}))},n=function(e){return r(t).reduce((function(t,e){return t^e}),e)};return e.match(/.{1,2}/g).map((function(t){return parseInt(t,16)})).map(n).map((function(t){return String.fromCharCode(t)})).join("")}))}return Object(o["a"])(t,[{key:"guid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16)}))}},{key:"generateMixed",value:function(t){for(var e="",r=0;r<t;r++){var n=Math.ceil(61*Math.random());e+=this.chars[n]}return Math.random().toString(36).substr(0)+e+Math.random().toString(36).substr(0)+(new Date).getTime()+Math.random().toString(36).substr(0)}},{key:"numAdd",value:function(t,e){var r,n,o;try{r=t.toString().split(".")[1].length}catch(i){r=0}try{n=e.toString().split(".")[1].length}catch(i){n=0}return o=Math.pow(10,Math.max(r,n)),(this.numMul(t,o)+this.numMul(e,o))/o}},{key:"numSub",value:function(t,e){var r,n,o;try{r=t.toString().split(".")[1].length}catch(i){r=0}try{n=e.toString().split(".")[1].length}catch(i){n=0}return o=Math.pow(10,Math.max(r,n)),(this.numMul(t,o)-this.numMul(e,o))/o}},{key:"numMul",value:function(t,e){var r=0,n=t.toString(),o=e.toString();try{r+=n.split(".")[1].length}catch(i){}try{r+=o.split(".")[1].length}catch(i){}return Number(n.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,r)}},{key:"cleanAsciiText",value:function(t){if(t)return t.replace(/[\x00-\x09\x0b-\x1F]/g,"").trim()}},{key:"numDiv",value:function(t,e){var r,n,o=0,i=0;try{o=t.toString().split(".")[1].length}catch(s){}try{i=e.toString().split(".")[1].length}catch(s){}return r=Number(t.toString().replace(".","")),n=Number(e.toString().replace(".","")),this.numMul(r/n,Math.pow(10,i-o))}}]),t}()),a=new s;e["a"]=a},c5fb:function(t,e,r){var n=r("d59b");function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},c9f2:function(t,e,r){var n=r("c194"),o=r("5960");n({target:"String",proto:!0},{repeat:o})},d052:function(t,e,r){const n=r("63b5").ec,o=new n("secp256k1"),i=o.curve,s=i.n.constructor;function a(t,e){let r=new s(e);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let n=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===t!==n.isOdd()&&(n=n.redNeg()),o.keyPair({pub:{x:r,y:n}})}function c(t,e,r){let n=new s(e),a=new s(r);if(n.cmp(i.p)>=0||a.cmp(i.p)>=0)return null;if(n=n.toRed(i.red),a=a.toRed(i.red),(6===t||7===t)&&a.isOdd()!==(7===t))return null;const c=n.redSqr().redIMul(n);return a.redSqr().redISub(c.redIAdd(i.b)).isZero()?o.keyPair({pub:{x:n,y:a}}):null}function u(t){const e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:a(e,t.subarray(1,33));case 4:case 6:case 7:return 65!==t.length?null:c(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function l(t,e){const r=e.encode(null,33===t.length);for(let n=0;n<t.length;++n)t[n]=r[n]}t.exports={contextRandomize(){return 0},privateKeyVerify(t){const e=new s(t);return e.cmp(i.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){const e=new s(t),r=i.n.sub(e).umod(i.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){const r=new s(e);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new s(t)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new s(e);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new s(t)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){const e=u(t);return null===e?1:0},publicKeyCreate(t,e){const r=new s(e);if(r.cmp(i.n)>=0||r.isZero())return 1;const n=o.keyFromPrivate(e).getPublic();return l(t,n),0},publicKeyConvert(t,e){const r=u(e);if(null===r)return 1;const n=r.getPublic();return l(t,n),0},publicKeyNegate(t,e){const r=u(e);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),l(t,n),0},publicKeyCombine(t,e){const r=new Array(e.length);for(let o=0;o<e.length;++o)if(r[o]=u(e[o]),null===r[o])return 1;let n=r[0].getPublic();for(let o=1;o<r.length;++o)n=n.add(r[o].pub);return n.isInfinity()?2:(l(t,n),0)},publicKeyTweakAdd(t,e,r){const n=u(e);if(null===n)return 1;if(r=new s(r),r.cmp(i.n)>=0)return 2;const o=n.getPublic().add(i.g.mul(r));return o.isInfinity()?2:(l(t,o),0)},publicKeyTweakMul(t,e,r){const n=u(e);if(null===n)return 1;if(r=new s(r),r.cmp(i.n)>=0||r.isZero())return 2;const o=n.getPublic().mul(r);return l(t,o),0},signatureNormalize(t){const e=new s(t.subarray(0,32)),r=new s(t.subarray(32,64));return e.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(o.nh)&&t.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){const r=e.subarray(0,32),n=e.subarray(32,64);if(new s(r).cmp(i.n)>=0)return 1;if(new s(n).cmp(i.n)>=0)return 1;const{output:o}=t;let a=o.subarray(4,37);a[0]=0,a.set(r,1);let c=33,u=0;for(;c>1&&0===a[u]&&!(128&a[u+1]);--c,++u);if(a=a.subarray(u),128&a[0])return 1;if(c>1&&0===a[0]&&!(128&a[1]))return 1;let l=o.subarray(39,72);l[0]=0,l.set(n,1);let f=33,h=0;for(;f>1&&0===l[h]&&!(128&l[h+1]);--f,++h);return l=l.subarray(h),128&l[0]||f>1&&0===l[0]&&!(128&l[1])?1:(t.outputlen=6+c+f,o[0]=48,o[1]=t.outputlen-2,o[2]=2,o[3]=a.length,o.set(a,4),o[4+c]=2,o[5+c]=l.length,o.set(l,6+c),0)},signatureImport(t,e){if(e.length<8)return 1;if(e.length>72)return 1;if(48!==e[0])return 1;if(e[1]!==e.length-2)return 1;if(2!==e[2])return 1;const r=e[3];if(0===r)return 1;if(5+r>=e.length)return 1;if(2!==e[4+r])return 1;const n=e[5+r];if(0===n)return 1;if(6+r+n!==e.length)return 1;if(128&e[4])return 1;if(r>1&&0===e[4]&&!(128&e[5]))return 1;if(128&e[r+6])return 1;if(n>1&&0===e[r+6]&&!(128&e[r+7]))return 1;let o=e.subarray(4,4+r);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;let a=e.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let c=new s(o);c.cmp(i.n)>=0&&(c=new s(0));let u=new s(e.subarray(6+r));return u.cmp(i.n)>=0&&(u=new s(0)),t.set(c.toArrayLike(Uint8Array,"be",32),0),t.set(u.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,a){if(a){const t=a;a=o=>{const i=t(e,r,null,n,o),a=i instanceof Uint8Array&&32===i.length;if(!a)throw new Error("This is the way");return new s(i)}}const c=new s(r);if(c.cmp(i.n)>=0||c.isZero())return 1;let u;try{u=o.sign(e,r,{canonical:!0,k:a,pers:n})}catch(l){return 1}return t.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),t.recid=u.recoveryParam,0},ecdsaVerify(t,e,r){const n={r:t.subarray(0,32),s:t.subarray(32,64)},a=new s(n.r),c=new s(n.s);if(a.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(1===c.cmp(o.nh)||a.isZero()||c.isZero())return 3;const l=u(r);if(null===l)return 2;const f=l.getPublic(),h=o.verify(e,n,f);return h?0:3},ecdsaRecover(t,e,r,n){const a={r:e.slice(0,32),s:e.slice(32,64)},c=new s(a.r),u=new s(a.s);if(c.cmp(i.n)>=0||u.cmp(i.n)>=0)return 1;if(c.isZero()||u.isZero())return 2;let f;try{f=o.recoverPubKey(n,a,r)}catch(h){return 2}return l(t,f),0},ecdh(t,e,r,n,a,c,l){const f=u(e);if(null===f)return 1;const h=new s(r);if(h.cmp(i.n)>=0||h.isZero())return 2;const d=f.getPublic().mul(h);if(void 0===a){const e=d.encode(null,!0),r=o.hash().update(e).digest();for(let n=0;n<32;++n)t[n]=r[n]}else{c||(c=new Uint8Array(32));const e=d.getX().toArray("be",32);for(let t=0;t<32;++t)c[t]=e[t];l||(l=new Uint8Array(32));const r=d.getY().toArray("be",32);for(let t=0;t<32;++t)l[t]=r[t];const o=a(c,l,n),i=o instanceof Uint8Array&&o.length===t.length;if(!i)return 2;t.set(o)}return 0}}},d0d8:function(t,e,r){"use strict";var n=r("ef80");Object.defineProperty(e,"__esModule",{value:!0}),e.Client=void 0;var o=n(r("a89e")),i=n(r("2b8b")),s=n(r("527d")),a=n(r("394a")),c=n(r("77b9")),u=n(r("ecbb"));function l(t){var e=f();return function(){var r,n=(0,a["default"])(t);if(e){var o=(0,a["default"])(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s["default"])(this,r)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){(0,i["default"])(r,t);var e=l(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.autoconnect,s=void 0===i||i,a=n.reconnect,u=void 0===a||a,l=n.reconnect_interval,f=void 0===l?1e3:l,h=n.max_reconnects,d=void 0===h?5:h,p=arguments.length>2?arguments[2]:void 0;return(0,o["default"])(this,r),e.call(this,c["default"],t,{autoconnect:s,reconnect:u,reconnect_interval:f,max_reconnects:d},p)}return r}(u["default"]);e.Client=h},d4fa8:function(t,e,r){},d59b:function(t,e,r){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports["default"]=t.exports,n(e,r)}r("1d62"),t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},d9ce:function(t,e,r){"use strict";r("d4fa8")},db98:function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},e085:function(t,e,r){"use strict";(function(t){const r=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:void 0)(),n=t=>{const e=new DataView(t);let r="";for(let n=0;n<e.byteLength;n+=4)r+=e.getUint32(n).toString(16).padStart(8,"0");return r},o=t=>async(e,o)=>{"string"===typeof e&&(e=(new r.TextEncoder).encode(e)),o={outputFormat:"hex",...o};const i=await r.crypto.subtle.digest(t,e);return"hex"===o.outputFormat?n(i):i};e.sha1=o("SHA-1"),e.sha256=o("SHA-256"),e.sha384=o("SHA-384"),e.sha512=o("SHA-512")}).call(this,r("2409"))},e167:function(t,e,r){t.exports=r("6a61")},e186:function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),s=new I(n||[]);return i._invoke=S(t,r,s),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(T){return{type:"throw",arg:T}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",b={};function y(){}function g(){}function m(){}var w={};c(w,i,(function(){return this}));var v=Object.getPrototypeOf,O=v&&v(v(B([])));O&&O!==r&&n.call(O,i)&&(w=O);var j=m.prototype=y.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,s,a){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(f).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,a)}))}a(c.arg)}var o;function i(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}this._invoke=i}function S(t,e,r){var n=f;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return P()}r.method=o,r.arg=i;while(1){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===b)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=l(t,e,r);if("normal"===c.type){if(n=r.done?p:h,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}function E(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator["return"]&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method))return b;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,b;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function B(t){if(t){var r=t[i];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function r(){while(++o<t.length)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=m,c(j,"constructor",m),c(m,"constructor",g),g.displayName=c(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,a,"GeneratorFunction")),t.prototype=Object.create(j),t},t.awrap=function(t){return{__await:t}},k(_.prototype),c(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new _(u(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},k(j),c(j,a,"Generator"),c(j,i,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=B,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return a.type="throw",a.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}(t.exports);try{regeneratorRuntime=n}catch(o){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},e444:function(t,e,r){"use strict";function n(t,e,r){return e<=t&&t<=r}function o(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function i(t){var e=String(t),r=e.length,n=0,o=[];while(n<r){var i=e.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===r-1)o.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=1023&i,c=1023&s;o.push(65536+(a<<10)+c),n+=1}else o.push(65533)}n+=1}return o}function s(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}r.r(e),r.d(e,"TextEncoder",(function(){return b})),r.d(e,"TextDecoder",(function(){return p}));var a=-1;function c(t){this.tokens=[].slice.call(t)}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():a},prepend:function(t){if(Array.isArray(t)){var e=t;while(e.length)this.tokens.unshift(e.pop())}else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t)){var e=t;while(e.length)this.tokens.push(e.shift())}else this.tokens.push(t)}};var u=-1;function l(t,e){if(t)throw TypeError("Decoder error");return e||65533}function f(){}function h(){}f.prototype={handler:function(t,e){}},h.prototype={handler:function(t,e){}};var d="utf-8";function p(t,e){if(!(this instanceof p))return new p(t,e);if(t=void 0!==t?String(t).toLowerCase():d,t!==d)throw new Error("Encoding not supported. Only utf-8 is supported");e=o(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e["fatal"]),this._ignoreBOM=Boolean(e["ignoreBOM"]),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function b(t,e){if(!(this instanceof b))return new b(t,e);if(t=void 0!==t?String(t).toLowerCase():d,t!==d)throw new Error("Encoding not supported. Only utf-8 is supported");e=o(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e["fatal"])},Object.defineProperty(this,"encoding",{value:"utf-8"})}function y(t){var e=t.fatal,r=0,o=0,i=0,s=128,c=191;this.handler=function(t,f){if(f===a&&0!==i)return i=0,l(e);if(f===a)return u;if(0===i){if(n(f,0,127))return f;if(n(f,194,223))i=1,r=f-192;else if(n(f,224,239))224===f&&(s=160),237===f&&(c=159),i=2,r=f-224;else{if(!n(f,240,244))return l(e);240===f&&(s=144),244===f&&(c=143),i=3,r=f-240}return r<<=6*i,null}if(!n(f,s,c))return r=i=o=0,s=128,c=191,t.prepend(f),l(e);if(s=128,c=191,o+=1,r+=f-128<<6*(i-o),o!==i)return null;var h=r;return r=i=o=0,h}}function g(t){t.fatal;this.handler=function(t,e){if(e===a)return u;if(n(e,0,127))return e;var r,o;n(e,128,2047)?(r=1,o=192):n(e,2048,65535)?(r=2,o=224):n(e,65536,1114111)&&(r=3,o=240);var i=[(e>>6*r)+o];while(r>0){var s=e>>6*(r-1);i.push(128|63&s),r-=1}return i}}p.prototype={decode:function(t,e){var r;r="object"===typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"===typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=o(e),this._streaming||(this._decoder=new y({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e["stream"]);var n,i=new c(r),a=[];while(!i.endOfStream()){if(n=this._decoder.handler(i,i.read()),n===u)break;null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n))}if(!this._streaming){do{if(n=this._decoder.handler(i,i.read()),n===u)break;null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n))}while(!i.endOfStream());this._decoder=null}return a.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0)),s(a)}},b.prototype={encode:function(t,e){t=t?String(t):"",e=o(e),this._streaming||(this._encoder=new g(this._options)),this._streaming=Boolean(e["stream"]);var r,n=[],s=new c(i(t));while(!s.endOfStream()){if(r=this._encoder.handler(s,s.read()),r===u)break;Array.isArray(r)?n.push.apply(n,r):n.push(r)}if(!this._streaming){while(1){if(r=this._encoder.handler(s,s.read()),r===u)break;Array.isArray(r)?n.push.apply(n,r):n.push(r)}this._encoder=null}return new Uint8Array(n)}}},e73e:function(t,e,r){"use strict";const n=r("6507"),o=function(t,e,r,o){if("string"!==typeof t)throw new TypeError(t+" must be a string");o=o||{};const i="number"===typeof o.version?o.version:2;if(1!==i&&2!==i)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(2===i&&(s.jsonrpc="2.0"),e){if("object"!==typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if("undefined"===typeof r){const t="function"===typeof o.generator?o.generator:function(){return n()};s.id=t(s,o)}else 2===i&&null===r?o.notificationIdNull&&(s.id=null):s.id=r;return s};t.exports=o},ebbc:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return ve})),r.d(e,"b",(function(){return me})),r.d(e,"c",(function(){return we}));r("ff5d");var n=r("53a7"),o=r.n(n),i=r("18ba"),s={},a={};a.byteLength=b,a.toByteArray=g,a.fromByteArray=v;for(var c=[],u=[],l="undefined"!==typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,d=f.length;h<d;++h)c[h]=f[h],u[f.charCodeAt(h)]=h;function p(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function b(t){var e=p(t),r=e[0],n=e[1];return 3*(r+n)/4-n}function y(t,e,r){return 3*(e+r)/4-r}function g(t){var e,r,n=p(t),o=n[0],i=n[1],s=new l(y(t,o,i)),a=0,c=i>0?o-4:o;for(r=0;r<c;r+=4)e=u[t.charCodeAt(r)]<<18|u[t.charCodeAt(r+1)]<<12|u[t.charCodeAt(r+2)]<<6|u[t.charCodeAt(r+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===i&&(e=u[t.charCodeAt(r)]<<2|u[t.charCodeAt(r+1)]>>4,s[a++]=255&e),1===i&&(e=u[t.charCodeAt(r)]<<10|u[t.charCodeAt(r+1)]<<4|u[t.charCodeAt(r+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function m(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function w(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(m(n));return o.join("")}function v(t){for(var e,r=t.length,n=r%3,o=[],i=16383,s=0,a=r-n;s<a;s+=i)o.push(w(t,s,s+i>a?a:s+i));return 1===n?(e=t[r-1],o.push(c[e>>2]+c[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],o.push(c[e>>10]+c[e>>4&63]+c[e<<2&63]+"=")),o.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63;var O={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(t,e,r,n,o){var i,s,a=8*o-n-1,c=(1<<a)-1,u=c>>1,l=-7,f=r?o-1:0,h=r?-1:1,d=t[e+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=a;l>0;i=256*i+t[e+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),i-=u}return(d?-1:1)*s*Math.pow(2,i-n)},write:function(t,e,r,n,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+f>=1?h/c:h*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[r+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[r+d]=255&s,d+=p,s/=256,u-=8);t[r+d-p]|=128*b}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
(function(t){const e=a,r=O,n="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;const o=2147483647;function i(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}function s(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,r)}function u(t,e,r){if("string"===typeof t)return d(t,e);if(ArrayBuffer.isView(t))return b(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(st(t,ArrayBuffer)||t&&st(t.buffer,ArrayBuffer))return y(t,e,r);if("undefined"!==typeof SharedArrayBuffer&&(st(t,SharedArrayBuffer)||t&&st(t.buffer,SharedArrayBuffer)))return y(t,e,r);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);const o=g(t);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t,e,r){return l(t),t<=0?s(t):void 0!==e?"string"===typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}function h(t){return l(t),s(t<0?0:0|m(t))}function d(t,e){if("string"===typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|v(t,e);let n=s(r);const o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}function p(t){const e=t.length<0?0:0|m(t.length),r=s(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function b(t){if(st(t,Uint8Array)){const e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return p(t)}function y(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function g(t){if(c.isBuffer(t)){const e=0|m(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!==typeof t.length||at(t.length)?s(0):p(t):"Buffer"===t.type&&Array.isArray(t.data)?p(t.data):void 0}function m(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function w(t){return+t!=t&&(t=0),c.alloc(+t)}function v(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||st(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ot(t).length;default:if(o)return n?-1:et(t).length;e=(""+e).toLowerCase(),o=!0}}function j(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return M(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return U(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return P(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function k(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function _(t,e,r,n,o){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,at(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"===typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:S(t,e,r,n,o);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):S(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function S(t,e,r,n,o){let i,s=1,a=t.length,c=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let n=-1;for(i=r;i<a;i++)if(u(t,i)===u(e,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===c)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+c>a&&(r=a-c),i=r;i>=0;i--){let r=!0;for(let n=0;n<c;n++)if(u(t,i+n)!==u(e,n)){r=!1;break}if(r)return i}return-1}function E(t,e,r,n){r=Number(r)||0;const o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;const i=e.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(at(n))return s;t[r+s]=n}return s}function x(t,e,r,n){return it(et(e,t.length-r),t,r,n)}function A(t,e,r,n){return it(rt(e),t,r,n)}function I(t,e,r,n){return it(ot(e),t,r,n)}function B(t,e,r,n){return it(nt(e,t.length-r),t,r,n)}function P(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function T(t,e,r){r=Math.min(t.length,r);const n=[];let o=e;while(o<r){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=r){let r,n,a,c;switch(s){case 1:e<128&&(i=e);break;case 2:r=t[o+1],128===(192&r)&&(c=(31&e)<<6|63&r,c>127&&(i=c));break;case 3:r=t[o+1],n=t[o+2],128===(192&r)&&128===(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=t[o+1],n=t[o+2],a=t[o+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return L(n)}t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=i(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return f(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(st(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),st(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=c.allocUnsafe(e);let o=0;for(r=0;r<t.length;++r){let e=t[r];if(st(e,Uint8Array))o+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,o)):Uint8Array.prototype.set.call(n,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,o)}o+=e.length}return n},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)k(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)k(this,e,e+3),k(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)k(this,e,e+7),k(this,e+1,e+6),k(this,e+2,e+5),k(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):j.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,o){if(st(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;let i=o-n,s=r-e;const a=Math.min(i,s),u=this.slice(n,o),l=t.slice(e,r);for(let c=0;c<a;++c)if(u[c]!==l[c]){i=u[c],s=l[c];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return E(this,t,e,r);case"utf8":case"utf-8":return x(this,t,e,r);case"ascii":case"latin1":case"binary":return A(this,t,e,r);case"base64":return I(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function L(t){const e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);let r="",n=0;while(n<e)r+=String.fromCharCode.apply(String,t.slice(n,n+=R));return r}function U(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function C(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function M(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=e;i<r;++i)o+=ct[t[i]];return o}function N(t,e,r){const n=t.slice(e,r);let o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function z(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function W(t,e,r,n,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function q(t,e,r,n,o){Z(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function D(t,e,r,n,o){Z(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i>>=8,t[r+6]=i,i>>=8,t[r+5]=i,i>>=8,t[r+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function K(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,n,o,i){return e=+e,n>>>=0,i||K(t,e,n,4),r.write(t,e,n,o,23,4),n+4}function $(t,e,n,o,i){return e=+e,n>>>=0,i||K(t,e,n,8),r.write(t,e,n,o,52,8),n+8}c.prototype.slice=function(t,e){const r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||z(t,e,this.length);let n=this[t],o=1,i=0;while(++i<e&&(o*=256))n+=this[t+i]*o;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||z(t,e,this.length);let n=this[t+--e],o=1;while(e>0&&(o*=256))n+=this[t+--e]*o;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||z(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||z(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||z(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=ut((function(t){t>>>=0,X(t,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||J(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=ut((function(t){t>>>=0,X(t,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||J(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||z(t,e,this.length);let n=this[t],o=1,i=0;while(++i<e&&(o*=256))n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||z(t,e,this.length);let n=e,o=1,i=this[t+--n];while(n>0&&(o*=256))i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||z(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||z(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=ut((function(t){t>>>=0,X(t,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||J(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=ut((function(t){t>>>=0,X(t,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||J(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||z(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||z(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||z(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||z(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){const n=Math.pow(2,8*r)-1;W(this,t,e,r,n,0)}let o=1,i=0;this[e]=255&t;while(++i<r&&(o*=256))this[e+i]=t/o&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){const n=Math.pow(2,8*r)-1;W(this,t,e,r,n,0)}let o=r-1,i=1;this[e+o]=255&t;while(--o>=0&&(i*=256))this[e+o]=t/i&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=ut((function(t,e=0){return q(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=ut((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);W(this,t,e,r,n-1,-n)}let o=0,i=1,s=0;this[e]=255&t;while(++o<r&&(i*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);W(this,t,e,r,n-1,-n)}let o=r-1,i=1,s=0;this[e+o]=255&t;while(--o>=0&&(i*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=ut((function(t,e=0){return q(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=ut((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return $(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return $(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const o=n-r;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},c.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(o=e;o<r;++o)this[o]=t;else{const i=c.isBuffer(t)?t:c.from(t,n),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=i[o%s]}return this};const V={};function G(t,e,r){V[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function H(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Y(t,e,r){X(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||J(e,t.length-(r+1))}function Z(t,e,r,n,o,i){if(t>r||t<e){const n="bigint"===typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new V.ERR_OUT_OF_RANGE("value",o,t)}Y(n,o,i)}function X(t,e){if("number"!==typeof t)throw new V.ERR_INVALID_ARG_TYPE(e,"number",t)}function J(t,e,r){if(Math.floor(t)!==t)throw X(t,r),new V.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new V.ERR_BUFFER_OUT_OF_BOUNDS;throw new V.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?t+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),G("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=H(String(r)):"bigint"===typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=H(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n}),RangeError);const Q=/[^+/0-9A-Za-z-_]/g;function tt(t){if(t=t.split("=")[0],t=t.trim().replace(Q,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function et(t,e){let r;e=e||1/0;const n=t.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function rt(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function nt(t,e){let r,n,o;const i=[];for(let s=0;s<t.length;++s){if((e-=2)<0)break;r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n)}return i}function ot(t){return e.toByteArray(tt(t))}function it(t,e,r,n){let o;for(o=0;o<n;++o){if(o+r>=e.length||o>=t.length)break;e[o+r]=t[o]}return o}function st(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function at(t){return t!==t}const ct=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function ut(t){return"undefined"===typeof BigInt?lt:t}function lt(){throw new Error("BigInt not supported")}})(s);var j,k="undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};j="function"===typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t};var _=j;function S(t,e){var r={seen:[],stylize:x};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),C(e)?r.showHidden=e:e&&H(r,e),W(r.showHidden)&&(r.showHidden=!1),W(r.depth)&&(r.depth=2),W(r.colors)&&(r.colors=!1),W(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=E),I(r,t,r.depth)}function E(t,e){var r=S.styles[e];return r?"["+S.colors[r][0]+"m"+t+"["+S.colors[r][1]+"m":t}function x(t,e){return t}function A(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}function I(t,e,r){if(t.customInspect&&e&&$(e.inspect)&&e.inspect!==S&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return z(n)||(n=I(t,n,r)),n}var o=B(t,e);if(o)return o;var i=Object.keys(e),s=A(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),F(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return P(e);if(0===i.length){if($(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(q(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(K(e))return t.stylize(Date.prototype.toString.call(e),"date");if(F(e))return P(e)}var c,u="",l=!1,f=["{","}"];if(U(e)&&(l=!0,f=["[","]"]),$(e)){var h=e.name?": "+e.name:"";u=" [Function"+h+"]"}return q(e)&&(u=" "+RegExp.prototype.toString.call(e)),K(e)&&(u=" "+Date.prototype.toUTCString.call(e)),F(e)&&(u=" "+P(e)),0!==i.length||l&&0!=e.length?r<0?q(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=l?T(t,e,r,s,i):i.map((function(n){return R(t,e,r,s,n,l)})),t.seen.pop(),L(c,u,f)):f[0]+u+f[1]}function B(t,e){if(W(e))return t.stylize("undefined","undefined");if(z(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return N(e)?t.stylize(""+e,"number"):C(e)?t.stylize(""+e,"boolean"):M(e)?t.stylize("null","null"):void 0}function P(t){return"["+Error.prototype.toString.call(t)+"]"}function T(t,e,r,n,o){for(var i=[],s=0,a=e.length;s<a;++s)Y(e,String(s))?i.push(R(t,e,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(R(t,e,r,n,o,!0))})),i}function R(t,e,r,n,o,i){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),Y(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=M(r)?I(t,c.value,null):I(t,c.value,r-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n"))):a=t.stylize("[Circular]","special")),W(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function L(t,e,r){var n=t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return n>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function U(t){return Array.isArray(t)}function C(t){return"boolean"===typeof t}function M(t){return null===t}function N(t){return"number"===typeof t}function z(t){return"string"===typeof t}function W(t){return void 0===t}function q(t){return D(t)&&"[object RegExp]"===G(t)}function D(t){return"object"===typeof t&&null!==t}function K(t){return D(t)&&"[object Date]"===G(t)}function F(t){return D(t)&&("[object Error]"===G(t)||t instanceof Error)}function $(t){return"function"===typeof t}function V(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function G(t){return Object.prototype.toString.call(t)}function H(t,e){if(!e||!D(e))return t;var r=Object.keys(e),n=r.length;while(n--)t[r[n]]=e[r[n]];return t}function Y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Z(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}S.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},S.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var X,J=Object.prototype.hasOwnProperty,Q=Object.keys||function(t){var e=[];for(var r in t)J.call(t,r)&&e.push(r);return e},tt=Array.prototype.slice;function et(){return"undefined"!==typeof X?X:X=function(){return"foo"===function(){}.name}()}function rt(t){return Object.prototype.toString.call(t)}function nt(t){return!s.isBuffer(t)&&("function"===typeof k.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function ot(t,e){t||ft(t,!0,e,"==",ht)}var it=/\s*function\s+([^\(\s]*)\s*/;function st(t){if($(t)){if(et())return t.name;var e=t.toString(),r=e.match(it);return r&&r[1]}}function at(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=lt(this),this.generatedMessage=!0);var e=t.stackStartFunction||ft;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=st(e),i=n.indexOf("\n"+o);if(i>=0){var s=n.indexOf("\n",i+1);n=n.substring(s+1)}this.stack=n}}}function ct(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function ut(t){if(et()||!$(t))return S(t);var e=st(t),r=e?": "+e:"";return"[Function"+r+"]"}function lt(t){return ct(ut(t.actual),128)+" "+t.operator+" "+ct(ut(t.expected),128)}function ft(t,e,r,n,o){throw new at({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function ht(t,e){t||ft(t,!0,e,"==",ht)}function dt(t,e,r){t!=e&&ft(t,e,r,"==",dt)}function pt(t,e,r){t==e&&ft(t,e,r,"!=",pt)}function bt(t,e,r){gt(t,e,!1)||ft(t,e,r,"deepEqual",bt)}function yt(t,e,r){gt(t,e,!0)||ft(t,e,r,"deepStrictEqual",yt)}function gt(t,e,r,n){if(t===e)return!0;if(s.isBuffer(t)&&s.isBuffer(e))return 0===Z(t,e);if(K(t)&&K(e))return t.getTime()===e.getTime();if(q(t)&&q(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===typeof t||null!==e&&"object"===typeof e){if(nt(t)&&nt(e)&&rt(t)===rt(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===Z(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(s.isBuffer(t)!==s.isBuffer(e))return!1;n=n||{actual:[],expected:[]};var o=n.actual.indexOf(t);return-1!==o&&o===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),wt(t,e,r,n))}return r?t===e:t==e}function mt(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function wt(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(V(t)||V(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=mt(t),i=mt(e);if(o&&!i||!o&&i)return!1;if(o)return t=tt.call(t),e=tt.call(e),gt(t,e,r);var s,a,c=Q(t),u=Q(e);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!==u[a])return!1;for(a=c.length-1;a>=0;a--)if(s=c[a],!gt(t[s],e[s],r,n))return!1;return!0}function vt(t,e,r){gt(t,e,!1)&&ft(t,e,r,"notDeepEqual",vt)}function Ot(t,e,r){gt(t,e,!0)&&ft(t,e,r,"notDeepStrictEqual",Ot)}function jt(t,e,r){t!==e&&ft(t,e,r,"===",jt)}function kt(t,e,r){t===e&&ft(t,e,r,"!==",kt)}function _t(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function St(t){var e;try{t()}catch(r){e=r}return e}function Et(t,e,r,n){var o;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),o=St(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&ft(o,r,"Missing expected exception"+n);var i="string"===typeof n,s=!t&&F(o),a=!t&&o&&!r;if((s&&i&&_t(o,r)||a)&&ft(o,r,"Got unwanted exception"+n),t&&o&&r&&!_t(o,r)||!t&&o)throw o}function xt(t,e,r){Et(!0,t,e,r)}function At(t,e,r){Et(!1,t,e,r)}function It(t){if(t)throw t}ot.AssertionError=at,_(at,Error),ot.fail=ft,ot.ok=ht,ot.equal=dt,ot.notEqual=pt,ot.deepEqual=bt,ot.deepStrictEqual=yt,ot.notDeepEqual=vt,ot.notDeepStrictEqual=Ot,ot.strictEqual=jt,ot.notStrictEqual=kt,ot.throws=xt,ot.doesNotThrow=At,ot.ifError=It;var Bt={};class Pt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function Tt(t,e){return e.property?t+"["+e.property+"]":t}function Rt(t,e){if("function"!==typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Pt))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})}Bt.Layout=Pt,Bt.nameWithProperty=Tt,Bt.bindConstructorLayout=Rt;class Lt extends Pt{isCount(){throw new Error("ExternalLayout is abstract")}}class Ut extends Lt{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}class Ct extends Lt{constructor(t,e,r){if(!(t instanceof Pt))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Mt||this.layout instanceof Nt}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class Mt extends Pt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class Nt extends Pt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}class zt extends Pt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntLE(t,r,this.span),this.span}}class Wt extends Pt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntBE(t,r,this.span),this.span}}const qt=Math.pow(2,32);function Dt(t){const e=Math.floor(t/qt),r=t-e*qt;return{hi32:e,lo32:r}}function Kt(t,e){return t*qt+e}class Ft extends Pt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return Kt(n,r)}encode(t,e,r){void 0===r&&(r=0);const n=Dt(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}class $t extends Pt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32BE(e),n=t.readUInt32BE(e+4);return Kt(r,n)}encode(t,e,r){void 0===r&&(r=0);const n=Dt(t);return e.writeUInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class Vt extends Pt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e),n=t.readInt32LE(e+4);return Kt(n,r)}encode(t,e,r){void 0===r&&(r=0);const n=Dt(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class Gt extends Pt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readInt32BE(e),n=t.readUInt32BE(e+4);return Kt(r,n)}encode(t,e,r){void 0===r&&(r=0);const n=Dt(t);return e.writeInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class Ht extends Pt{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatLE(t,r),4}}class Yt extends Pt{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatBE(t,r),4}}class Zt extends Pt{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleLE(t,r),8}}class Xt extends Pt{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleBE(t,r),8}}class Jt extends Pt{constructor(t,e,r){if(!(t instanceof Pt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Lt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof Lt)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0,n=this.count;if(n instanceof Lt&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let o=0;while(o<n)r+=this.elementLayout.getSpan(t,e+r),++o}return r}decode(t,e){void 0===e&&(e=0);const r=[];let n=0,o=this.count;o instanceof Lt&&(o=o.decode(t,e));while(n<o)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r){void 0===r&&(r=0);const n=this.elementLayout,o=t.reduce((t,o)=>t+n.encode(o,e,r+t),0);return this.count instanceof Lt&&this.count.encode(t.length,e,r),o}}class Qt extends Pt{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce((t,e)=>t&&e instanceof Pt,!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof e&&void 0===r&&(r=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce((t,e)=>t+e.getSpan(),0)}catch(o){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce((r,n)=>{const o=n.getSpan(t,e);return e+=o,r+o},0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let o=0,i=0;for(const s of this.fields){let n=s.span;if(i=0<n?n:0,void 0!==s.property){const o=t[s.property];void 0!==o&&(i=s.encode(o,e,r),0>n&&(n=s.getSpan(e,r)))}o=r,r+=n}return o+i-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!==typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class te{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ee extends te{constructor(t,e){if(!(t instanceof Lt&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class re extends Pt{constructor(t,e,r){const n=t instanceof Mt||t instanceof Nt;if(n)t=new ee(new Ct(t));else if(t instanceof Lt&&t.isCount())t=new ee(t);else if(!(t instanceof te))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Pt))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&n&&(o+=t.layout.span)),super(o,r),this.discriminator=t,this.usesPrefixDiscriminator=n,this.defaultLayout=e,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return i(t)},this.configGetSourceVariant=function(t){i=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,o=n.decode(t,e);let i=this.registry[o];if(void 0===i){let s=0;i=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[i.property]=this.defaultLayout.decode(t,e+s)}else r=i.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=n.layout.span),n.encode(t[n.property],e,r),i+o.encode(t[o.property],e,r+i)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new ne(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return s.Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class ne extends Pt{constructor(t,e,r,n){if(!(t instanceof re))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof Pt))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=r?r.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let o=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),o+=this.layout.getSpan(e,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function oe(t){return 0>t&&(t+=4294967296),t}class ie extends Pt{constructor(t,e,r){if(!(t instanceof Mt||t instanceof Nt))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof e&&void 0===r&&(r=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=oe(t),this},this._packedGetValue=function(){return n}}decode(t,e){const r=this.makeDestinationObject();void 0===e&&(e=0);const n=this.word.decode(t,e);this._packedSetValue(n);for(const o of this.fields)void 0!==o.property&&(r[o.property]=o.decode(n));return r}encode(t,e,r){void 0===r&&(r=0);const n=this.word.decode(e,r);this._packedSetValue(n);for(const o of this.fields)if(void 0!==o.property){const e=t[o.property];void 0!==e&&o.encode(e)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new se(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new ae(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class se{constructor(t,e,r){if(!(t instanceof ie))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,o=t.fields.reduce((t,e)=>t+e.bits,0);if(e+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-e),this.wordMask=oe(this.valueMask<<this.start),this.property=r}decode(){const t=this.container._packedGetValue(),e=oe(t&this.wordMask),r=e>>>this.start;return r}encode(t){if(!Number.isInteger(t)||t!==oe(t&this.valueMask))throw new TypeError(Tt("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=oe(t<<this.start);this.container._packedSetValue(oe(e&~this.wordMask)|r)}}class ae extends se{constructor(t,e){super(t,1,e)}decode(t,e){return!!se.prototype.decode.call(this,t,e)}encode(t){return"boolean"===typeof t&&(t=+t),se.prototype.encode.call(this,t)}}class ce extends Pt{constructor(t,e){if(!(t instanceof Lt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Lt||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof Lt&&(n=t.length),!s.Buffer.isBuffer(t)||n!==t.length)throw new TypeError(Tt("Blob.encode",this)+" requires (length "+n+") Buffer as src");if(r+n>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,n,"hex"),this.length instanceof Lt&&this.length.encode(n,e,r),n}}class ue extends Pt{constructor(t){super(-1,t)}getSpan(t,e){if(!s.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let r=e;while(r<t.length&&0!==t[r])r+=1;return 1+r-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);return t.slice(e,e+n-1).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!==typeof t&&(t=t.toString());const n=new s.Buffer(t,"utf8"),o=n.length;if(r+o>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(e,r),e[r+o]=0,o+1}}class le extends Pt{constructor(t,e){if("string"===typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!s.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+n).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!==typeof t&&(t=t.toString());const n=new s.Buffer(t,"utf8"),o=n.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(e,r),o}}class fe extends Pt{constructor(t,e){super(0,e),this.value=t}decode(t,e,r){return this.value}encode(t,e,r){return 0}}Bt.ExternalLayout=Lt,Bt.GreedyCount=Ut,Bt.OffsetLayout=Ct,Bt.UInt=Mt,Bt.UIntBE=Nt,Bt.Int=zt,Bt.IntBE=Wt,Bt.Float=Ht,Bt.FloatBE=Yt,Bt.Double=Zt,Bt.DoubleBE=Xt,Bt.Sequence=Jt,Bt.Structure=Qt,Bt.UnionDiscriminator=te,Bt.UnionLayoutDiscriminator=ee,Bt.Union=re,Bt.VariantLayout=ne,Bt.BitStructure=ie,Bt.BitField=se,Bt.Boolean=ae,Bt.Blob=ce,Bt.CString=ue,Bt.UTF8=le,Bt.Constant=fe,Bt.greedy=(t,e)=>new Ut(t,e),Bt.offset=(t,e,r)=>new Ct(t,e,r);var he=Bt.u8=t=>new Mt(1,t);Bt.u16=t=>new Mt(2,t),Bt.u24=t=>new Mt(3,t);var de=Bt.u32=t=>new Mt(4,t);Bt.u40=t=>new Mt(5,t),Bt.u48=t=>new Mt(6,t),Bt.nu64=t=>new Ft(t),Bt.u16be=t=>new Nt(2,t),Bt.u24be=t=>new Nt(3,t),Bt.u32be=t=>new Nt(4,t),Bt.u40be=t=>new Nt(5,t),Bt.u48be=t=>new Nt(6,t),Bt.nu64be=t=>new $t(t),Bt.s8=t=>new zt(1,t),Bt.s16=t=>new zt(2,t),Bt.s24=t=>new zt(3,t),Bt.s32=t=>new zt(4,t),Bt.s40=t=>new zt(5,t),Bt.s48=t=>new zt(6,t),Bt.ns64=t=>new Vt(t),Bt.s16be=t=>new Wt(2,t),Bt.s24be=t=>new Wt(3,t),Bt.s32be=t=>new Wt(4,t),Bt.s40be=t=>new Wt(5,t),Bt.s48be=t=>new Wt(6,t),Bt.ns64be=t=>new Gt(t),Bt.f32=t=>new Ht(t),Bt.f32be=t=>new Yt(t),Bt.f64=t=>new Zt(t),Bt.f64be=t=>new Xt(t);var pe=Bt.struct=(t,e,r)=>new Qt(t,e,r);Bt.bits=(t,e,r)=>new ie(t,e,r),Bt.seq=(t,e,r)=>new Jt(t,e,r),Bt.union=(t,e,r)=>new re(t,e,r),Bt.unionLayoutDiscriminator=(t,e)=>new ee(t,e);var be=Bt.blob=(t,e)=>new ce(t,e);Bt.cstr=t=>new ue(t),Bt.utf8=(t,e)=>new le(t,e),Bt.const=(t,e)=>new fe(t,e);const ye=(t="publicKey")=>be(32,t),ge=(t="uint64")=>be(8,t);const me=new i["b"]("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new i["b"]("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");class we extends o.a{toBuffer(){const t=super.toArray().reverse(),e=s.Buffer.from(t);if(8===e.length)return e;ot(e.length<8,"u64 too large");const r=s.Buffer.alloc(8);return e.copy(r),r}static fromBuffer(t){return ot(8===t.length,"Invalid buffer length: "+t.length),new we([...t].reverse().map(t=>("00"+t.toString(16)).slice(-2)).join(""),16)}}new i["b"]("So11111111111111111111111111111111111111112"),pe([de("mintAuthorityOption"),ye("mintAuthority"),ge("supply"),he("decimals"),he("isInitialized"),de("freezeAuthorityOption"),ye("freezeAuthority")]);const ve=pe([ye("mint"),ye("owner"),ge("amount"),de("delegateOption"),ye("delegate"),he("state"),de("isNativeOption"),ge("isNative"),ge("delegatedAmount"),de("closeAuthorityOption"),ye("closeAuthority")]);pe([he("m"),he("n"),he("is_initialized"),ye("signer1"),ye("signer2"),ye("signer3"),ye("signer4"),ye("signer5"),ye("signer6"),ye("signer7"),ye("signer8"),ye("signer9"),ye("signer10"),ye("signer11")])}).call(this,r("2409"))},ebe3:function(t,e){function r(t){return t&&t.__esModule?t:{default:t}}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},ecbb:function(t,e,r){"use strict";(function(t){var n=r("ef80");Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(r("e167")),i=n(r("b7b5")),s=n(r("2dcc")),a=n(r("a89e")),c=n(r("db98")),u=n(r("2b8b")),l=n(r("527d")),f=n(r("394a")),h=r("da91"),d=n(r("a336"));function p(t){var e=b();return function(){var r,n=(0,f["default"])(t);if(e){var o=(0,f["default"])(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l["default"])(this,r)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var y=function(e){(0,u["default"])(n,e);var r=p(n);function n(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.autoconnect,c=void 0===s||s,u=i.reconnect,l=void 0===u||u,f=i.reconnect_interval,h=void 0===f?1e3:f,d=i.max_reconnects,p=void 0===d?5:d,b=arguments.length>3?arguments[3]:void 0;return(0,a["default"])(this,n),e=r.call(this),e.webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=o,e.autoconnect=c,e.ready=!1,e.reconnect=l,e.reconnect_interval=h,e.max_reconnects=p,e.current_reconnects=0,e.generate_request_id=b||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,{autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects}),e}return(0,c["default"])(n,[{key:"connect",value:function(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects})}},{key:"call",value:function(t,e,r,n){var o=this;return n||"object"!==(0,s["default"])(r)||(n=r,r=null),new Promise((function(i,s){if(!o.ready)return s(new Error("socket not ready"));var a=o.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||null,id:a};o.socket.send(JSON.stringify(c),n,(function(t){if(t)return s(t);o.queue[a]={promise:[i,s]},r&&(o.queue[a].timeout=setTimeout((function(){o.queue[a]=null,s(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:function(){var t=(0,i["default"])(o["default"].mark((function t(e){var r;return o["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(r=t.sent,r){t.next=5;break}throw new Error("authentication failed");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"listMethods",value:function(){var t=(0,i["default"])(o["default"].mark((function t(){return o["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"notify",value:function(t,e){var r=this;return new Promise((function(n,o){if(!r.ready)return o(new Error("socket not ready"));var i={jsonrpc:"2.0",method:t,params:e||null};r.socket.send(JSON.stringify(i),(function(t){if(t)return o(t);n()}))}))}},{key:"subscribe",value:function(){var t=(0,i["default"])(o["default"].mark((function t(e){var r;return o["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"string"===typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(r=t.sent,"string"!==typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"unsubscribe",value:function(){var t=(0,i["default"])(o["default"].mark((function t(e){var r;return o["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"string"===typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(r=t.sent,"string"!==typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+r);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(e,r){var n=this;this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",(function(){n.ready=!0,n.emit("open"),n.current_reconnects=0})),this.socket.addEventListener("message",(function(e){var r=e.data;r instanceof ArrayBuffer&&(r=t.from(r).toString());try{r=d["default"].parse(r)}catch(s){return}if(r.notification&&n.listeners(r.notification).length){if(!Object.keys(r.params).length)return n.emit(r.notification);var o=[r.notification];if(r.params.constructor===Object)o.push(r.params);else for(var i=0;i<r.params.length;i++)o.push(r.params[i]);return Promise.resolve().then((function(){n.emit.apply(n,o)}))}if(!n.queue[r.id])return r.method&&r.params?Promise.resolve().then((function(){n.emit(r.method,r.params)})):void 0;"error"in r==="result"in r&&n.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),n.queue[r.id].timeout&&clearTimeout(n.queue[r.id].timeout),r.error?n.queue[r.id].promise[1](r.error):n.queue[r.id].promise[0](r.result),n.queue[r.id]=null})),this.socket.addEventListener("error",(function(t){return n.emit("error",t)})),this.socket.addEventListener("close",(function(t){var o=t.code,i=t.reason;n.ready&&setTimeout((function(){return n.emit("close",o,i)}),0),n.ready=!1,n.socket=void 0,1e3!==o&&(n.current_reconnects++,n.reconnect&&(n.max_reconnects>n.current_reconnects||0===n.max_reconnects)&&setTimeout((function(){return n._connect(e,r)}),n.reconnect_interval))}))}}]),n}(h.EventEmitter);e["default"]=y}).call(this,r("fd40").Buffer)},ef80:function(t,e){function r(t){return t&&t.__esModule?t:{default:t}}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},f036:function(t,e,r){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,n(e)}r("29ed"),r("5d80"),r("7479"),r("6359"),r("7fe9"),r("9bdd"),t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},f1df:function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},ff5d:function(t,e){function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports}}]);