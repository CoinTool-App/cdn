(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e5b8ea6"],{"39c4":function(e,t,a){},"70bf7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("TransactionSuccessDialog",{ref:"TransactionSuccessDialog",attrs:{"is-show-manage-pane":!0,title:e.$t("suiCreateToken.success")}}),t("DaBox",{staticStyle:{"margin-bottom":"20px"},attrs:{list:["multiSender"]}}),e.isZh?t("div",{staticClass:"tips_err"},[t("p",[e._v("CoinTool不提供任何技术支持！")]),t("p",[e._v("已关闭创建代币功能，请勿用于违法活动!")])]):t("Card",{attrs:{icon:"coin-trx","is-show-code-view":!1,"is-show-admin-btn":!0,title:e.$t("route.suiCreateToken"),desc:e.$t("suiCreateToken.pageDesc")}},[e.txHash?t("div",{staticClass:"result"},[t("div",{staticClass:"returnBox"},[t("div",{staticClass:"iconBox",on:{click:function(t){e.txHash=""}}},[t("i",{staticClass:"el-icon-back icon"})])]),t("CreateFinish",{attrs:{"chain-id":"sui","view-name":"createToken","create-token-address":e.contractAddress,tx:e.txHash}})],1):t("div",{staticClass:"flexCenter"},[t("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":e.isPc?"left":"top",rules:e.rules,model:e.form,"label-width":"160px"}},[t("el-form-item",{attrs:{label:e.$t("suiCreateToken.tokenName"),prop:"tokenName"}},[t("el-input",{model:{value:e.form.tokenName,callback:function(t){e.$set(e.form,"tokenName",t)},expression:"form.tokenName"}})],1),t("el-form-item",{attrs:{label:e.$t("suiCreateToken.symbol"),prop:"symbol"}},[t("el-input",{model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),t("el-form-item",{attrs:{label:e.$t("suiCreateToken.initialSupply"),prop:"initialSupply"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:1},model:{value:e.form.initialSupply,callback:function(t){e.$set(e.form,"initialSupply",t)},expression:"form.initialSupply"}})],1),t("el-form-item",{attrs:{label:e.$t("suiCreateToken.decimals"),prop:"decimals"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1),t("el-form-item",{attrs:{label:"Token description",prop:"tokenDec"}},[t("el-input",{attrs:{rows:3,type:"textarea"},model:{value:e.form.tokenDec,callback:function(t){e.$set(e.form,"tokenDec",t)},expression:"form.tokenDec"}})],1),t("el-form-item",{attrs:{label:"Token Logo Url",prop:"tokenLogo"}},[t("UploadImg",{attrs:{"img-url":e.form.tokenLogo},on:{"update:imgUrl":function(t){return e.$set(e.form,"tokenLogo",t)},"update:img-url":function(t){return e.$set(e.form,"tokenLogo",t)}}})],1),e.suiWallet?e._e():t("el-form-item",{attrs:{label:"",prop:""}},[t("el-alert",{staticStyle:{"line-height":"18px"},attrs:{title:e.$t("suiCreateToken.create_tips"),type:"error",closable:!1}})],1),t("el-form-item",{staticClass:"btnBox"},[t("el-button",{staticClass:"item-btn",attrs:{loading:e.loading,size:"medium",type:"success"},on:{click:e.onCreatToken}},[e._v(" "+e._s(e.$t("suiCreateToken.createBtn"))+" ")]),t("p",{staticClass:"feeTips"},[e._v("Fees: "+e._s(e.createFee)+" SUI")])],1)],1),t("div",{staticClass:"alertBox"},[t("el-alert",{staticStyle:{"line-height":"18px"},attrs:{title:e.$t("suiCreateToken.admin_panel_tips"),type:"success",closable:!1}})],1)],1)])],1)},s=[],o=a("3835"),i=a("c14f"),r=a("1da1"),c=a("5530"),l=(a("b680"),a("a15b"),a("75c1")),u=a("32e9"),m=a("2f62"),p={zh:{suiCreateToken:{admin_panel_tips:"Token Admin 面板支持: Mint Token, Update Metadata, Transfer Ownership , Revoke Ownership",tokenName:"代币名称",tokenNameValidate:"请输入代币名称",symbol:"缩写符号",symbolValidate:"请输入缩写符号",initialSupply:"发行数量",initialSupplyValidate:"请输入发行数量",decimals:"小数位数(0-9)",decimalsValidate:"请输入小数位数",config:"其他配置",createBtn:"立即创建",success:"代币创建成功，请前往区块浏览器或钱包查看！",pageDesc:"简单、快速、便捷",adminAddress:"管理员地址",mintAuthority:"增发权限地址",freezeAuthority:"冻结权限地址",alert_text:"抱歉，TRC20 Token自动创建功能暂未开通，请前往首页联系我们，由我们代为您发布TRC20 Token",create_tips:"请连接 Sui Wallet 进行创建",mint_tips:"你可以在管理面板进行MINT",create_network_err_tips:"不支持当前网络的创建，请切换 Mainnet 进行创建",symbol_err_tips:"Symbol 重复，请更换",create_err_tips:"创建Token错误正在重试第{count}次:{e}",create_admin_err_tips:"创建失败，请重试. 如长时间失败请联系管理员"}},en:{suiCreateToken:{admin_panel_tips:"Token Admin panel supports: Mint Token, Update Metadata, Transfer Ownership, Revoke Ownership",tokenName:"Token Name",tokenNameValidate:"Please enter token name",symbol:"Symbol",symbolValidate:"Please enter symbol",initialSupply:"Initial Supply",initialSupplyValidate:"Please enter initial supply",decimals:"Decimals(0-9)",decimalsValidate:"Please enter decimals",adminAddress:"Admin Address",mintAuthority:"Mint authority",freezeAuthority:"Freeze authority",config:"Other Config",createBtn:"Create Token",success:"Token created successfully, please go to the block browser or wallet to check!",pageDesc:"Simple, Fast, Convenient",alert_text:"Sorry, the automatic creation function of trc20 has not been activated yet. Please contact us on the home page and we will release the trc20 token for you",create_tips:"Please connect Sui Wallet to create",mint_tips:"You can do MINT in the Admin panel",create_network_err_tips:"The current network cannot be created. Switch to Mainnet",symbol_err_tips:"Symbol repeats, please replace",create_admin_err_tips:"Creation failed. Please try again. If the fault persists for a long time, contact the administrator",create_err_tips:"Token creation error retry {count} time :{e}"}}},d=a("3d657"),f=a("12f9"),b=a("6bec"),h=a("eaa1"),k=a("ed08"),g=a("b893"),y=a("f562"),w=a("901e"),T=a.n(w),_="suiCreateToken",C="createToken",v={name:C,inject:["suiWalletStateTest"],components:{TransactionSuccessDialog:h["a"],DaBox:d["a"],CreateFinish:l["a"],UploadImg:b["a"],Card:f["a"]},data:function(){return{blockTxurl:"",contractAddress:"",txHash:"",loading:!1,rules:{},tokenList:[],form:{tokenName:"",symbol:"",initialSupply:21e7,tokenDec:"",tokenLogo:"",adminAddress:"",decimals:9}}},computed:Object(c["a"])(Object(c["a"])({},Object(m["b"])(["isConnect","suiNetwork","suiAccount","suiWallet","suiClient","navigatorLanguage","language","isZh","isPc"])),{},{createFee:function(){return this.$isDev?.001:u["d"]["createToken_fees"][this.suiNetwork]}}),watch:{suiAccount:{immediate:!0,handler:function(e){""!==e&&this.init()}}},created:function(){this.$i18n.getLocaleMessage("en")[_]||(this.$i18n.mergeLocaleMessage("en",p.en),this.$i18n.mergeLocaleMessage("zh",p.zh)),this.rules={tokenName:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],symbol:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],decimals:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],initialSupply:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},mounted:function(){return Object(r["a"])(Object(i["a"])().m((function e(){return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.a(2)}}),e)})))()},methods:{init:function(){return Object(r["a"])(Object(i["a"])().m((function e(){return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.a(2)}}),e)})))()},onGetMetaData:function(e){var t=arguments,a=this;return Object(r["a"])(Object(i["a"])().m((function n(){var s,o,r,c;return Object(i["a"])().w((function(n){while(1)switch(n.n){case 0:return s=t.length>1&&void 0!==t[1]?t[1]:1,n.p=1,o="https://s.1b.tc/3000/c?a=".concat(e),n.n=2,a.$ajax({headers:{Accept:"application/json"},url:o,method:"get",timeout:1e5});case 2:return r=n.v,n.a(2,r);case 3:if(n.p=3,c=n.v,!(s>3)){n.n=4;break}return n.a(2,!1);case 4:return a.$message.error(a.$t("suiCreateToken.create_err_tips",{count:s,e:c})),n.n=5,Object(k["H"])(500);case 5:return n.n=6,a.onGetMetaData(e,s+1);case 6:return n.a(2,n.v)}}),n,null,[[1,3]])})))()},mint:function(e,t,a,n){var s=this;return Object(r["a"])(Object(i["a"])().m((function o(){var r,c,l,u,m;return Object(i["a"])().w((function(o){while(1)switch(o.n){case 0:return r=new y["e"],c=e.split("::"),l=c[0]+"::"+c[1]+"::mint",r.moveCall({target:l,arguments:[r.object(t),r.pure(a,"u64"),r.pure(n,"address")]}),o.p=1,o.n=2,window.suiWallet.signAndExecuteTransactionBlock({chain:"sui:mainnet",account:{address:s.suiAccount},requestType:"WaitForLocalExecution",transactionBlock:r,options:{showEffects:!0,showObjectChanges:!0,showEvents:!0}},"WaitForLocalExecution");case 2:u=o.v,o.n=4;break;case 3:o.p=3,m=o.v,console.log("Error : ",m);case 4:console.log(u);case 5:return o.a(2)}}),o,null,[[1,3]])})))()},onCreatToken:function(){var e=this;return Object(r["a"])(Object(i["a"])().m((function t(){var a,n,s,r,c,l,m,p,d,f,b,h,k,w,_,C,v,j,x;return Object(i["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.$refs["form"].validate();case 1:return t.n=2,e.suiWalletStateTest();case 2:if(t.v){t.n=3;break}return t.a(2);case 3:return t.n=4,Object(u["f"])(e.suiAccount);case 4:if(a=t.v,!(a<=e.createFee)){t.n=5;break}return e.$msgbox({title:e.$t("common.balance_lack_title"),type:"warning",dangerouslyUseHTMLString:!0,message:e.$t("common.balance_lack_content",{address:e.suiAccount,amount:e.createFee,symbol:"SUI"}),confirmButtonText:e.$t("common.confirm")}),e.loading=!1,t.a(2);case 5:return t.n=6,window.suiWallet.getAccounts();case 6:if(n=t.v,console.log(n),0!==n.length){t.n=7;break}return e.$message.error("Please add account to Sui Wallet"),t.a(2);case 7:return t.p=7,e.loading=!0,s=[e.suiAccount,e.form.tokenName,e.form.symbol,e.form.tokenDec,e.form.tokenLogo,new T.a(e.form.initialSupply*Math.pow(10,9)).toFixed(0),!1],r=g["a"].crypt("c",s.join("|")),t.n=8,e.onGetMetaData(r);case 8:return c=t.v,console.log(c),l=new y["e"],m=l.publish({modules:c.meta,dependencies:c.data}),p=Object(o["a"])(m,1),d=p[0],l.transferObjects([d],l.pure(e.suiAccount)),f=l.splitCoins(l.gas,[l.pure(e.createFee*Math.pow(10,9))]),b=Object(o["a"])(f,1),h=b[0],k=u["d"]["createToken_fees_address"][e.suiNetwork],l.transferObjects([h],l.pure(k,"address")),t.p=9,t.n=10,window.suiWallet.signAndExecuteTransactionBlock({chain:"sui:mainnet",account:{address:e.suiAccount},requestType:"WaitForLocalExecution",transactionBlock:l,options:{showEffects:!0,showObjectChanges:!0,showEvents:!0}},"WaitForLocalExecution");case 10:w=t.v,t.n=12;break;case 11:t.p=11,j=t.v,console.log("Error publishing: ",j);case 12:for(_ in w.objectChanges)w.objectChanges[_].objectType&&-1!==w.objectChanges[_].objectType.indexOf("TreasuryCap")&&(C=w.objectChanges[_].objectType.split("TreasuryCap<")[1].split(">")[0],v=w.digest,e.txHash=v,e.contractAddress=C);t.n=14;break;case 13:t.p=13,x=t.v,console.log("error",x);case 14:return t.p=14,e.loading=!1,t.f(14);case 15:return t.a(2)}}),t,null,[[9,11],[7,13,14,15]])})))()}}},j=v,x=(a("90fd"),a("2877")),S=Object(x["a"])(j,n,s,!1,null,"d19c3c28",null);t["default"]=S.exports},"90fd":function(e,t,a){"use strict";a("39c4")},9911:function(e,t,a){"use strict";var n=a("23e7"),s=a("857a"),o=a("af03");n({target:"String",proto:!0,forced:o("link")},{link:function(e){return s(this,"a","href",e)}})}}]);