(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-717fbc37"],{"06ab":function(e,t,s){},"19ff0":function(e,t,s){"use strict";s("d853")},27:function(e,t){},28:function(e,t){},29:function(e,t){},5399:function(e,t,s){},5588:function(e,t,s){},"6a8f":function(e,t,s){},"82f6":function(e,t,s){"use strict";s("06ab")},"8a80":function(e,t,s){"use strict";s("5399")},"90d5":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("OneToMoreHeader",{attrs:{"support-networks":e.supportNetworks,title:e.oneToMoreHeaderTitle,"chain-name":"ton"}}),t("div",{staticClass:"containerBg"},[t("div",{staticClass:"oneToMoreBox"},[t("div",{staticClass:"stepBox"},[t("el-steps",{attrs:{active:e.stepActive,"align-center":"","process-status":"finish","finish-status":"finish"}},[t("el-step",{attrs:{title:e.$t("editorInput.prepare")}}),t("el-step",{attrs:{title:e.$t("editorInput.confirm")}}),t("el-step",{attrs:{title:e.$t("editorInput.send")}})],1)],1),t("Step1",{directives:[{name:"show",rawName:"v-show",value:0===e.stepActive,expression:"stepActive === 0"}],on:{onStep1Confirm:e.onStep1Confirm}}),t("Step2",{directives:[{name:"show",rawName:"v-show",value:1===e.stepActive,expression:"stepActive === 1"}],attrs:{"queue-list":e.queueList,"step-active":e.stepActive,fees:e.fees,balance:e.balance,decimals:e.decimals,mode:e.mode,symbol:e.symbol,address:e.address,mnemonic:e.mnemonic},on:{onStep2Prev:e.onStep2Prev,onStep2Next:e.onStep2Next,onStep2Confirm:e.onStep2Confirm}}),t("Step3",{directives:[{name:"show",rawName:"v-show",value:2===e.stepActive,expression:"stepActive === 2"}],attrs:{send_tx:e.send_tx,"step-active":e.stepActive,address:e.address,mnemonic:e.mnemonic,mode:e.mode,"current-fee":e.currentFee,fees:e.fees,"array-limit":e.arrayLimit,"key-pair":e.keyPair,tonweb:e.tonweb,"queue-list":e.queueList,decimals:e.decimals},on:{onStep3Prev:e.onStep3Prev}})],1)])],1)},n=[],r=s("c7eb"),i=s("1da1"),o=s("5530"),l={zh:{cosmosOneToMore:{token:"代币",token_address_err:"代币地址错误",address_amount:"收款地址和数量",auto_amount:"自动添加数量",upload_file:"上传文件",iinsert_manually:"手动输入",download_examples:"下载例子",show_examples:"查看例子",delete_err:"删除无效地址",next:"下一步",address:"地址",slow:"慢",standard:"快",instant:"极速",inputAlert_1:"输入代币地址自动添加",inputAlert_2:"支持文件类型： CSV / Excel / Txt",inputAlert_3:"每一行应包括地址和数量，逗号分隔",inputAlert_4:"以下地址或金额不能发送",inputAlert_5:"可自动在每个地址后面添加数量",inputAlert_6:"请至少输入一条地址信息",inputAlert_7:"第 {line} 行: {str} 无效的钱包地址",inputAlert_8:"第 {line} 行: {str} 无效的数量",inputAlert_9:"第 {line} 行: {str} 请输入正确的格式，地址和数量以逗号分隔。例: address,number",inputAlert_10:"授信成功，请点击下一步！",inputAlert_11:"第 {line} 行: {str} 重复的地址",inputAlert_12:"发现重复地址",repeat_1:"保留第一个",repeat_2:"合并重复地址",repeat_3:"保留重复地址",step3_alert_1:"总共需要发送 {a} 次,还需要发送 {b} 次",step3_alert_2:"交易已全部发出，请等待交易被确认。",step3_alert_3:"祝贺，您的代币全部发送成功！",step3_alert_4:"您手动取消了交易，如需继续，请点击发送",step3_alert_5:"继续第 {d} 次交易",decimals:"位数",wallet_select_mainnet:"您的TRON钱包已选择 Mainnet网络",wallet_select_shasta:"您的TRON钱包已选择 Shasta网络",wallet_select:"请把您钱包的网络切换为 Mainnet 或者 Shasta网络",summary:"摘要",total_address_num:"地址总数",total_send_token_num:"代币发送总数",total_send_tx_num:"交易总数",token_balance:"代币余额",y_fee:"预估费用",you_balance:"你的 {symbol} 余额",d_allowance_b:"当前授信额度",y_allowance_b:"需授信额度",approve_amount:"授权额度",send_amount:"发送数量({amount} {symbol})",send_amount_b:"代币余额({amount} {symbol})",prepare:"准备",confirm:"确认",close:"关闭",send:"发送",wait_confirm:"等待确认交易...",addressList:"接收地址名单",remove:"移除",insufficient_balance:"{symbol} 余额不足，至少需要{amount} {symbol}"}},en:{cosmosOneToMore:{token:"Token",token_address_err:"Token address error",address_amount:"Addresses with Amounts",auto_amount:"Auto add amounts",upload_file:"Upload file",iinsert_manually:"Insert manually",download_examples:"Download examples",show_examples:"Show examples",delete_err:"Delete them",next:"Next",address:"Address",slow:"Slow",standard:"Fast",instant:"Instant",inputAlert_1:"Input token address to add automatically",inputAlert_2:"Accepted: CSV / Excel / Txt",inputAlert_3:"The address and amount are separated by commas",inputAlert_4:"The below addresses cannot be processed",inputAlert_5:"Amount can be automatically added after each address",inputAlert_6:"Please enter at least one address information",inputAlert_7:"Line {line} : {str}  is a invalid wallet address",inputAlert_8:"Line {line} : {str}  is a invalid wrong amount",inputAlert_9:"Line {line} : {str}  is a invalid wallet address and wrong amount. E.g:address,number",inputAlert_10:"Request approve succeeded ! Please click next",inputAlert_11:"Line {line}: {str} is duplicate address",inputAlert_12:"Duplicated wallet addresses",repeat_1:"Keep the first one",repeat_2:"Merge balances",repeat_3:"Keep duplicate addresses",step3_alert_1:"A total of {a} needs to be sent,You need to send {b} more times",step3_alert_2:"All transactions have been sent out. Please wait for the transaction to be confirmed.",step3_alert_3:"Congratulations, all your tokens have been sent successfully!",step3_alert_4:"You have manually cancelled the transaction, to continue, please click send",step3_alert_5:"Continue with the {d} first transaction",decimals:"Decimals",summary:"Summary",wallet_select_mainnet:"Your TRON wallet has selected the Mainnet network",wallet_select_shasta:"Your TRON wallet has selected the Shasta network",wallet_select:"Please switch your wallet network to Mainnet or Shasta network",total_address_num:"Total number of addresses",total_send_token_num:"Total number of tokens to be sent",total_send_tx_num:"Total number of transactions needed",token_balance:"Your token balance",y_fee:"Approximate cost of operation",you_balance:"Your {symbol} balance",d_allowance_b:"Your current allowance",y_allowance_b:"Request approve amount",prepare:"Prepare",approve_amount:"Amount to approve",send_amount:"Exact amount to be sent ({amount} {symbol})",send_amount_b:"Your token balance({amount} {symbol})",confirm:"Confirm",close:"Close",send:"Send",wait_confirm:"Pending confirmation of transaction",addressList:"List of recipients",remove:"Remove",insufficient_balance:"Insufficient {symbol} balance, Please have at least {amount} {symbol}"}}},c=s("2f62"),u=s("850d"),d=(s("38cf"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"step1"},[t("el-form",{attrs:{"label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:14,xs:24}},[t("el-form-item",{attrs:{label:"Token"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{"filter-method":e.handleFilterAddress},on:{change:e.onSelectChangeChain},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.chainArr,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:4,xs:24}},[t("el-form-item",{attrs:{label:e.$t("editorInput.decimals")}},[t("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')","max-length":"9"},model:{value:e.decimals,callback:function(t){e.decimals=t},expression:"decimals"}})],1)],1),t("el-col",{attrs:{span:6,xs:24}},[t("el-form-item",{attrs:{label:e.$t("common.transaction_mode")}},[t("el-radio-group",{attrs:{fill:"#42b983"},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[t("el-radio-button",{attrs:{label:"wallet"}},[e._v(e._s(e.$t("common.wallet")))]),t("el-radio-button",{attrs:{label:"mnemonic"}},[e._v(e._s(e.$t("common.mnemonic")))])],1)],1)],1),"mnemonic"===e.mode?t("el-col",{attrs:{span:24,xs:24}},[t("el-form-item",{attrs:{label:e.$t("common.mnemonic")}},[t("el-input",{attrs:{clareable:"","show-password":""},model:{value:e.mnemonic,callback:function(t){e.mnemonic=t},expression:"mnemonic"}})],1)],1):e._e()],1)],1),t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("cosmosOneToMore.address_amount")))]),t("span",{staticClass:"btnText",on:{click:e.onBulkAmount}},[e._v(e._s(e.$t("cosmosOneToMore.auto_amount")))]),e.isInput?t("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("cosmosOneToMore.upload_file")))]):t("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("cosmosOneToMore.iinsert_manually")))])]),t("el-row",[t("el-col",{attrs:{xs:{span:24}}},[e.isInput?t("Editor",{ref:"editor",on:{changed:e.onChangeEditor},model:{value:e.editorValue,callback:function(t){e.editorValue=t},expression:"editorValue"}}):t("upload-excel-component",{attrs:{"on-success":e.onUploadFileSuccess,"before-upload":e.beforeUpload}})],1)],1),t("div",{staticClass:"label label-remark"},[e.isInput?t("span",[e._v(e._s(e.$t("cosmosOneToMore.inputAlert_3")))]):t("span",[e._v(e._s(e.$t("cosmosOneToMore.inputAlert_2")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isInput,expression:"!isInput"}],staticClass:"btnText"},[t("a",{attrs:{target:"_blank",href:"/example/ton.xlsx"}},[e._v(e._s(e.$t("cosmosOneToMore.download_examples")))])]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isInput,expression:"isInput"}],staticClass:"btnText",on:{click:e.onExample}},[e._v(e._s(e.$t("cosmosOneToMore.show_examples")))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[t("div",{staticClass:"label label-remark"},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}]},[e._v(e._s(e.$t("cosmosOneToMore.inputAlert_4")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}]},[e._v(e._s(e.$t("cosmosOneToMore.inputAlert_12")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}],staticClass:"btnText",on:{click:e.onDeleteErr}},[e._v(e._s(e.$t("cosmosOneToMore.delete_err")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(1)}}},[e._v(e._s(e.$t("cosmosOneToMore.repeat_1")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(2)}}},[e._v(e._s(e.$t("cosmosOneToMore.repeat_2")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(3)}}},[e._v(e._s(e.$t("cosmosOneToMore.repeat_3")))])]),t("ul",e._l(e.errInfoList,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]),t("el-button",{attrs:{size:"large",type:"primary"},on:{click:e.onNext}},[e._v(e._s(e.$t("cosmosOneToMore.next")))])],1)}),p=[],m=(s("d3b7"),s("159b"),s("b680"),s("14d9"),s("a9e3"),s("a15b"),s("498a"),s("99af"),s("37969")),_=s("fa7e"),b=s("986e"),f=s("ed08"),h=s("901e"),v=s.n(h),w={name:"Step1",components:{UploadExcelComponent:m["a"],Editor:_["a"]},data:function(){return{mode:"wallet",mnemonic:"",chainArr:[{label:"TON",value:"TON"}],balance:0,address:"TON",repeat:!1,repeat_status:!1,loading_address:!1,stepActive:1,addressOptions:[],decimals:9,symbol:"TON",isInput:!0,editorValue:"",queueList:[],errInfoList:[]}},computed:Object(o["a"])({},Object(c["b"])(["isPc","tonAccount","tonClient"])),watch:{address:{handler:function(e){var t=this;"TON"!==e?this.chainArr.forEach((function(s){console.log(s,"item"),s.value===e&&(t.decimals=s.decimals,t.symbol=s.label,t.balance=new v.a(s.balance).div(Math.pow(10,t.decimals)).toFixed())})):this.decimals=9}},tonAccount:{handler:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){var a,n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!(e.length<5)){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,s.next=5,t.$ajax({url:"https://api.ton.cat/v2/contracts/address/"+e+"/jetton_wallets",method:"get"});case 5:for(n in a=s.sent,a)t.chainArr.push({label:a[n].jetton_meta.symbol||"Token",value:a[n].address,decimals:a[n].jetton_meta.decimals,balance:a[n].balance});s.next=11;break;case 9:s.prev=9,s.t0=s["catch"](2);case 11:case"end":return s.stop()}}),s,null,[[2,9]])})))()},immediate:!0},editorValue:function(e){this.onEditCheck(e)}},created:function(){b["h"].$on(b["g"],(function(e){console.log(e,"step_state")}))},mounted:function(){return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onSelectChangeChain:function(){},onExample:function(){this.editorValue="UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB,0.1"},onBulkAmount:function(){var e=this;this.$prompt(this.$t("cosmosOneToMore.auto_amount"),this.$t("cosmosOneToMore.inputAlert_5"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel")}).then((function(t){var s=t.value,a=e.editorValue.split("\n"),n="";for(var r in a){var i=a[r].split(",");i[1]&&(a[r]=i[0]),parseInt(r)+1===a.length?n+=a[r]+","+s:n+=a[r]+","+s+"\n"}e.editorValue=n})).catch((function(){}))},onNext:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.mode,"this.mode"),""!==e.editorValue){t.next=4;break}return e.$message.error(e.$t("cosmosOneToMore.inputAlert_6")),t.abrupt("return");case 4:if("mnemonic"!==e.mode||""!==e.mnemonic){t.next=7;break}return e.$message.error(e.$t("editorInput.mnemonic_not_empty")),t.abrupt("return");case 7:if(s=e.onEditCheck(e.editorValue),!s){t.next=10;break}return t.abrupt("return");case 10:e.$emit("onStep1Confirm",{queueList:e.queueList,mnemonic:e.mnemonic,mode:e.mode,symbol:e.symbol,address:e.address,balance:String(e.balance),decimals:Number(e.decimals)});case 11:case"end":return t.stop()}}),t)})))()},onDeleteErr:function(){var e=this,t="",s=[];for(var a in this.queueList)s.push(this.queueList[a]);this.queueList=s,this.queueList.forEach((function(s,a){var n=a===e.queueList.length-1?"":"\n";t+=e.queueList[a].join()+n})),this.editorValue=t},onRepeat:function(e){var t=this,s="",a=[],n=[];for(var r in this.queueList)a[this.queueList[r][0]]&&1===e?delete this.queueList[r]:a[this.queueList[r][0]]&&2===e?(n[this.queueList[r][0]]+=parseFloat(this.queueList[r][1]),delete this.queueList[r]):(a[this.queueList[r][0]]=!0,2===e&&(n[this.queueList[r][0]]=parseFloat(this.queueList[r][1]),delete this.queueList[r]));if(2===e)for(var i in n)this.queueList.push([i,n[i]]);3===e&&(this.repeat_status=!0,this.repeat=!1,this.errInfoList=[]);var o=[];for(var l in this.queueList)o.push(this.queueList[l]);this.queueList=o,this.queueList.forEach((function(e,a){var n=a===t.queueList.length-1?"":"\n";s+=t.queueList[a].join()+n})),this.editorValue=s},onEditCheck:function(e){if(""===e)return this.queueList=[],this.errInfoList=[],void(this.repeat_status=!1);var t=e.split("\n"),s=[],a=[],n=[],r=!1,i=!1;for(var o in t){var l=parseInt(o)+1,c=t[o].trim().split(",");2===c.length?parseFloat(c[1])<0||!parseFloat(c[1])?(r=!0,a.push(this.$t("cosmosOneToMore.inputAlert_8",{line:l,str:c[1]}))):(n[c[0]]&&!this.repeat_status?(i=!0,r=!0,a.push(this.$t("cosmosOneToMore.inputAlert_11",{line:l,str:c[0]}))):n[c[0]]=!0,s.push(c)):(r=!0,a.push(this.$t("cosmosOneToMore.inputAlert_9",{line:l,str:c[0]})))}return this.repeat=i,this.queueList=s,this.errInfoList=a,r},handleFilterAddress:function(e){return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},onToggleInputType:function(){this.isInput=!this.isInput},beforeUpload:function(e){var t=e.size/1024/1024<10;return!!t||(this.$message({message:"Please do not upload files larger than 10m in size.",type:"warning"}),!1)},onChangeEditor:function(e){this.editorValue=e},onUploadFileSuccess:function(e){var t=e.results,s=(e.header,"");t.forEach((function(e,a){var n=a===t.length-1?"":"\n";s+="".concat(e.Address,",").concat(e.Amount).concat(n)})),this.editorValue=s,this.onToggleInputType()}}},x=w,k=(s("af7d0"),s("2877")),y=Object(k["a"])(x,d,p,!1,null,"5d302f32",null),O=y.exports,g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"step2"},[t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("editorInput.addressList")))])]),t("el-table",{staticStyle:{width:"100%","border-radius":"10px"},attrs:{data:e.tableData,height:e.tableData.length>5?250:null}},[t("el-table-column",{attrs:{prop:"address",label:"Address",width:e.isPc?"410px":"auto"},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.row;return[t("span",[t("a",{attrs:{href:e.$ethUtils.getScanLink("ton","address",a.address),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(a.address))+" ")])])]}}])}),t("el-table-column",{attrs:{prop:"amount",label:"Amount"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e._v(" "+e._s(s.amount)+" "+e._s(e.symbol)+" ")]}}])}),t("el-table-column",{attrs:{width:"80px"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleDelete(s.$index,s.row)}}},[e._v(" "+e._s(e.$t("editorInput.remove"))+" ")])]}}])})],1),t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("editorInput.summary")))])]),t("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.step2_loading,expression:"step2_loading"}],staticClass:"abstract"},[t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.address_count))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.total_address_num")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.send_amount)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.total_send_token_num")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.send_tx))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.total_send_tx_num")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.tokenBalance)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.token_balance")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.fees)+" TON")]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.y_fee")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.ethBalance)+" TON")]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.you_balance",{symbol:"TON"})))])])]),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.approve_status,expression:"approve_status"}],staticClass:"tips",attrs:{title:e.$t("editorInput.inputAlert_10"),type:"success",closable:!1,effect:"dark"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[t("ul",e._l(e.errInfoList,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),t("el-button",{attrs:{loading:e.step2_loading,size:"large",type:"primary",disabled:e.isDisabledSend},on:{click:e.onNext}},[e._v(e._s(e.$t("editorInput.next")))])],1)],1)},A=[],T=(s("4de4"),s("caad"),s("2532"),s("ac1f"),s("5319"),s("25f0"),s("1ee7")),L=s.n(T),C=s("9c26"),q={name:"Step2",components:{},props:{queueList:{type:Array,required:!0},mnemonic:{type:String,required:!0},address:{type:String,required:!0},symbol:{type:String,required:!0},balance:{type:String,required:!0},mode:{type:String,default:"wallet"},stepActive:{type:Number,required:!0},decimals:{type:Number,required:!0},fees:{type:Number,required:!0}},data:function(){return{keyPair:"",web3:{},send_tx:0,approve_status:!1,send_amount:0,address_count:0,step2_loading:!1,fee:0,d_fee:0,allowance_select:2,tokenBalance:0,ethBalance:0,isDisabledSend:!1,errInfoList:[],allowance_a:0,allowance_b:0,arrayLimit:3,tableData:[],sliderMarks:{},tonweb:{}}},computed:Object(o["a"])({},Object(c["b"])(["tonAccount","tonClient","isPc"])),watch:{step2_loading:function(e){b["h"].$emit(b["g"],e)},stepActive:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(1!==e){s.next=4;break}return t.propQueueListl=t.queueList,s.next=4,t.init();case 4:case"end":return s.stop()}}),s)})))()}},created:function(){},mounted:function(){},methods:{handleDelete:function(e,t){var s=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=s.propQueueListl.filter((function(e){return e[0]!==t.address})),s.propQueueListl=a,s.init();case 3:case"end":return e.stop()}}),e)})))()},init:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var s,a,n,i,o,l,c,u,d,p,m;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.errInfoList=[],e.tableData=[],e.step2_loading=!0,s=e.tonAccount,e.tonweb=new L.a(new L.a.HttpProvider("https://ton.access.orbs.network/44A2c0ff5Bd3F8B62C092Ab4D238bEE463E644A2/1/mainnet/toncenter-api-v2/jsonRPC")),"mnemonic"!==e.mode){t.next=23;break}if(a=null,!e.mnemonic.trim().includes(" ")){t.next=13;break}return t.next=10,Object(C["mnemonicToSeed"])(e.mnemonic.trim().split(" "));case 10:a=t.sent,t.next=14;break;case 13:a=L.a.utils.base64ToBytes(e.mnemonic.trim());case 14:return n=L.a.utils.keyPairFromSeed(a),e.keyPair=n,i=e.tonweb.wallet.all["v4R2"],o=new i(e.tonweb.provider,{publicKey:n.publicKey}),t.next=20,o.getAddress();case 20:l=t.sent,c=l.toString(!0,!1,!1).replace(/\//g,"_").replace(/\+/g,"-"),s=c;case 23:return t.next=25,e.onUpdateBalance(s);case 25:for(u in e.propQueueListl)e.tableData.push({address:e.propQueueListl[u][0],amount:e.propQueueListl[u][1]});for(p in e.address_count=e.propQueueListl.length,e.arrayLimit=3,e.send_tx=Math.ceil(e.propQueueListl.length/e.arrayLimit),d=0,e.propQueueListl)d=new v.a(d).plus(e.propQueueListl[p][1]).toFixed();e.send_amount=d,e.step2_loading=!1,m=parseFloat(e.send_amount)+parseFloat(e.fees),"TON"===e.address?e.ethBalance<m&&(e.isDisabledSend=!0,e.errInfoList.push(e.$t("editorInput.insufficient_balance",{symbol:e.symbol,amount:m}))):(e.ethBalance<parseFloat(e.fees)&&(e.isDisabledSend=!0,e.errInfoList.push(e.$t("editorInput.insufficient_balance",{symbol:"TON",amount:parseFloat(e.fees)}))),e.tokenBalance<parseFloat(e.send_amount)&&(e.isDisabledSend=!0,e.errInfoList.push(e.$t("editorInput.insufficient_balance",{symbol:e.symbol,amount:parseFloat(e.send_amount)})))),e.isDisabledSend=!1;case 36:case"end":return t.stop()}}),t)})))()},onNext:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onStep2Confirm",{queueList:e.propQueueListl,decimals:e.decimals,send_tx:e.send_tx,address:e.address,arrayLimit:e.arrayLimit,keyPair:e.keyPair,tonweb:e.tonweb});case 1:case"end":return t.stop()}}),t)})))()},onPrev:function(){this.$emit("onStep2Prev")},onUpdateBalance:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){var a;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.tonweb.getBalance(e);case 3:a=s.sent,t.tokenBalance="TON"!==t.address?t.balance:L.a.utils.fromNano(a),t.ethBalance=L.a.utils.fromNano(a),s.next=14;break;case 8:return s.prev=8,s.t0=s["catch"](0),s.next=12,Object(f["F"])(1e3);case 12:return s.next=14,t.onUpdateBalance(e);case 14:case"end":return s.stop()}}),s,null,[[0,8]])})))()}}},S=q,j=(s("19ff0"),Object(k["a"])(S,g,A,!1,null,"616d3a0c",null)),$=j.exports,N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"step3"},[t("div",{staticClass:"label"},[t("span",[e._v(" "+e._s(e.$t("editorInput.step3_alert_1",{a:e.send_status.a,b:e.send_status.b})))]),t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&!e.all_send,expression:"send_status.b === 0 && !all_send"}]},[e._v(e._s(e.$t("editorInput.step3_alert_2")))])]),t("DealList",{attrs:{list:e.dealList,"chain-info":e.chainInfo}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&e.all_send,expression:"send_status.b === 0 && all_send"}],staticClass:"tips",attrs:{title:e.$t("editorInput.step3_alert_3"),type:"success",closable:!1,effect:"dark"}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.waitMetamask,expression:"waitMetamask"}],staticClass:"tips",attrs:{type:"success",closable:!1,center:"",effect:"dark"}},[t("i",{staticClass:"el-icon-loading icon"}),e._v(e._s(e.$t("editorInput.wait_confirm")))]),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],staticClass:"tips",attrs:{title:e.$t("editorInput.step3_alert_4"),type:"success",closable:!1,effect:"dark"}}),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],attrs:{size:"large",type:"primary"},on:{click:e.onSend}},[e._v(e._s(e.$t("editorInput.step3_alert_5",{d:e.d_slice})))])],1)],1)},I=[],M=s("b85c"),P=(s("fb6a"),function(){var e=this,t=e._self._c;return t("ul",{directives:[{name:"show",rawName:"v-show",value:e.list.length>0,expression:"list.length > 0"}],staticClass:"dealList"},e._l(e.list,(function(s,a){return t("li",{key:a},[t("div",{staticClass:"left"},[t("span",{staticClass:"index"},[e._v(e._s(a+1))]),t("a",{staticClass:"address",attrs:{target:"_blank",href:e.$ethUtils.getScanLink("ton","address",s.address)}},[e._v(e._s(e._f("miniAddress")(s.address))+" "),s.nonce?t("span",[e._v("| Nonce: "+e._s(s.nonce))]):e._e()])]),t("div",{staticClass:"right"},[t("span",{staticClass:"status"},[0===s.status?t("i",{staticClass:"el-icon-loading"}):1===s.status?t("i",{staticClass:"el-icon-success"}):2===s.status?t("i",{staticClass:"el-icon-error",staticStyle:{color:"#F05252"}}):e._e()])])])})),0)}),B=[],F={props:{list:{type:Array,required:!0},chainInfo:{type:Object,required:!1}},data:function(){return{blockTxurl:""}},created:function(){},mounted:function(){},methods:{}},D=F,E=(s("b6f4"),Object(k["a"])(D,P,B,!1,null,"11afb93c",null)),U=E.exports,V=s("364d"),R=s("399f"),z=s.n(R),Q={name:"Step3",components:{DealList:U},props:{send_tx:{type:Number,required:!0},mode:{type:String,default:"wallet"},mnemonic:{type:String,required:!0},address:{type:String,required:!0},arrayLimit:{type:Number,required:!0},keyPair:{type:[String,Object]},tonweb:{type:Object,required:!0},queueList:{type:Array,required:!0},decimals:{type:Number,required:!0},stepActive:{type:Number,required:!0},fees:{type:Number,required:!0}},data:function(){return{dealList:[],send_close:!1,addresses_to_send:[],balances_to_send:[],send_status:{a:1,b:1},all_send:!1,d_slice:1,d_slice_s:0,addPerTx:0,currentSeqno:0,waitMetamask:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["tonAccount","tonClient"])),{},{chainInfo:function(){return V["a"][this.cosmosNetwork]}}),watch:{stepActive:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(2!==e){s.next=3;break}return s.next=3,t.init();case 3:case"end":return s.stop()}}),s)})))()}},created:function(){},mounted:function(){},methods:{init:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e._multisend(e.send_tx,e.arrayLimit);case 2:case"end":return t.stop()}}),t)})))()},onPrev:function(){this.send_close=!1,this.$emit("onStep3Prev")},onSend:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.send_close=!1,t.next=3,e._multisend(e.d_slice_s,e.arrayLimit);case 3:case"end":return t.stop()}}),t)})))()},_multisend:function(e,t){var s=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var n,i,o,l,c,u,d,p,m,_,b,h,w,x,k,y,O,g,A;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:s.waitMetamask=!0,s.d_slice=s.send_tx-e===0?1:s.send_tx-e+1,s.d_slice_s=e,s.addPerTx=t,s.send_status={a:s.send_tx,b:e},n=(e-1)*t,i=e*t,o=s.queueList.slice(n,i),l=[],c=[],u=function(e,t){var s=new L.a.boc.Cell;return s.bits.writeUint(new z.a(260734629),32),s.bits.writeUint(new z.a(1),64),s.bits.writeCoins(e.amount),s.bits.writeAddress(e.to),s.bits.writeAddress(t),s.bits.writeBit(!1),s.bits.writeCoins(new z.a(1e6)),s.bits.writeBit(!1),s},d=Object(M["a"])(o),a.prev=12,d.s();case 14:if((p=d.n()).done){a.next=36;break}if(m=p.value,"wallet"!==s.mode){a.next=33;break}if("TON"!==s.address){a.next=21;break}c.push({address:m[0],amount:new v.a(L.a.utils.toNano(m[1])).toFixed(0)}),a.next=31;break;case 21:return a.t0=c,a.t1=s.address,a.t2=new v.a(L.a.utils.toNano("0.05")).toFixed(0),a.t3=L.a.utils,a.next=27,u({to:new L.a.utils.Address(m[0]),amount:new v.a(m[1]).times(Math.pow(10,s.decimals)).toFixed(0)},new L.a.utils.Address(s.tonAccount)).toBoc();case 27:a.t4=a.sent,a.t5=a.t3.bytesToBase64.call(a.t3,a.t4),a.t6={address:a.t1,amount:a.t2,payload:a.t5},a.t0.push.call(a.t0,a.t6);case 31:a.next=34;break;case 33:"TON"===s.address?l.push({toAddress:m[0],amount:L.a.utils.toNano(m[1])}):l.push({toAddress:s.address,amount:new v.a(L.a.utils.toNano("0.05")).toFixed(0),payload:u({to:new L.a.utils.Address(m[0]),amount:new v.a(m[1]).times(Math.pow(10,s.decimals)).toFixed(0)},new L.a.utils.Address(s.tonAccount))});case 34:a.next=14;break;case 36:a.next=41;break;case 38:a.prev=38,a.t7=a["catch"](12),d.e(a.t7);case 41:return a.prev=41,d.f(),a.finish(41);case 44:if("wallet"===s.mode?c.push({address:"UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB",amount:new v.a(L.a.utils.toNano(String(s.fees))).toFixed(0)}):l.push({toAddress:"UQAPbq6qTG9Zsub9DdbCOz3TTp_wafXrctOs1Td7rg-9UqKB",amount:L.a.utils.toNano(String(s.fees))}),a.prev=45,s.waitMetamask=!0,"mnemonic"!==s.mode){a.next=124;break}return _=s.tonweb.wallet.all["v4R2"],b=new _(s.tonweb.provider,{publicKey:s.keyPair.publicKey}),a.next=52,b.getAddress();case 52:if(h=a.sent,w=h.toString(!0,!1,!1).replace(/\//g,"_").replace(/\+/g,"-"),x=0,a.prev=55,0===s.currentSeqno){a.next=60;break}x=s.currentSeqno,a.next=73;break;case 60:return a.t8=parseInt,a.next=63,b.methods.seqno().call();case 63:if(a.t9=a.sent,a.t9){a.next=66;break}a.t9=0;case 66:if(a.t10=a.t9,x=(0,a.t8)(a.t10),x||0===x){a.next=73;break}return a.next=71,Object(f["F"])(1500);case 71:return s._multisend(e,t),a.abrupt("return");case 73:a.next=78;break;case 75:return a.prev=75,a.t11=a["catch"](55),a.abrupt("return");case 78:return a.next=80,b.methods.transfers({secretKey:s.keyPair.secretKey,seqno:x,messages:l});case 80:return k=a.sent,a.next=83,k.send();case 83:if(y=a.sent,"ok"===y["@type"]){a.next=91;break}return s.$message.error("Failed to send tx"),a.next=88,Object(f["F"])(3e3);case 88:s._multisend(e,t),a.next=122;break;case 91:if(s.dealList.push({address:w,nonce:x,status:1}),e--,!(e>0)){a.next=119;break}O=x;case 95:if(O!==x){a.next=115;break}return a.next=98,Object(f["F"])(2500);case 98:return a.prev=98,a.t12=parseInt,a.next=102,b.methods.seqno().call();case 102:if(a.t13=a.sent,a.t13){a.next=105;break}a.t13=0;case 105:a.t14=a.t13,O=(0,a.t12)(a.t14),O||(O=x),a.next=113;break;case 110:a.prev=110,a.t15=a["catch"](98),O=x;case 113:a.next=95;break;case 115:s.currentSeqno=O,s._multisend(e,t),a.next=122;break;case 119:s.waitMetamask=!1,s.all_send=!0,s.send_status.b=0;case 122:a.next=166;break;case 124:if(a.prev=124,g=0,!window.ton){a.next=132;break}return a.next=129,window.ton.send("ton_getBalance");case 129:g=a.sent,a.next=135;break;case 132:return a.next=134,s.tonweb.getBalance(s.tonAccount);case 134:g=a.sent;case 135:return a.next=137,s.tonClient.sendTransaction({messages:c,validUntil:Math.floor(Date.now()/1e3)+60});case 137:A=g;case 138:if(A!==g){a.next=157;break}if(a.prev=139,!window.ton){a.next=146;break}return a.next=143,window.ton.send("ton_getBalance");case 143:A=a.sent,a.next=149;break;case 146:return a.next=148,s.tonweb.getBalance(s.tonAccount);case 148:A=a.sent;case 149:a.next=155;break;case 151:return a.prev=151,a.t16=a["catch"](139),a.next=155,Object(f["F"])(2e3);case 155:a.next=138;break;case 157:s.dealList.push({address:s.tonAccount,nonce:"",status:1}),e--,e>0?s._multisend(e,t):(s.waitMetamask=!1,s.all_send=!0,s.send_status.b=0),a.next=166;break;case 162:a.prev=162,a.t17=a["catch"](124),s.waitMetamask=!1,s.send_close=!0;case 166:a.next=179;break;case 168:if(a.prev=168,a.t18=a["catch"](45),"Request rejected"!==a.t18.message){a.next=175;break}s.waitMetamask=!1,s.send_close=!0,a.next=179;break;case 175:return s.$message.error(a.t18.message),a.next=178,Object(f["F"])(3e3);case 178:s._multisend(e,t);case 179:case"end":return a.stop()}}),a,null,[[12,38,41,44],[45,168],[55,75],[98,110],[124,162],[139,151]])})))()}}},K=Q,Y=(s("8a80"),Object(k["a"])(K,N,I,!1,null,"c949a04e",null)),H=Y.exports,G="tonOneToMore",X={name:G,components:{OneToMoreHeader:u["a"],Step1:O,Step2:$,Step3:H},data:function(){return{stepActive:0,send_tx:0,balance:"0",arrayLimit:0,mode:"wallet",mnemonic:"",address:"",symbol:"TON",keyPair:{},tonweb:{},currentFee:0,queueList:[],decimals:9}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["isPc","tonAccount","tonClient"])),{},{oneToMoreHeaderTitle:function(){return this.$t("common.welcomeOneToMore",{appName:this.$shortName,chainName:"Ton"})},fees:function(){return this.mode,.03},supportNetworks:function(){var e=[{icon:"",name:"Mainnet",symbol:"Mainnet",value:"Mainnet"}];return e}}),watch:{},created:function(){this.$i18n.getLocaleMessage("en")[G]||(this.$i18n.mergeLocaleMessage("en",l.en),this.$i18n.mergeLocaleMessage("zh",l.zh))},mounted:function(){return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onStep1Confirm:function(e){var t=e.queueList,s=e.decimals,a=e.mode,n=e.symbol,r=e.mnemonic,i=e.address,o=e.balance;this.queueList=t,this.decimals=s,this.mode=a,this.symbol=n,this.mnemonic=r,this.address=i,this.balance=o,this.stepActive=1},onStep2Confirm:function(e){var t=e.queueList,s=e.decimals,a=e.send_tx,n=e.arrayLimit,r=e.address,i=e.currentFee,o=e.keyPair,l=e.tonweb;this.queueList=t,this.decimals=s,this.send_tx=a,this.arrayLimit=n,this.currentFee=i,this.address=r,this.keyPair=o,this.tonweb=l,this.stepActive=2},onStep2Prev:function(){this.stepActive=0},onStep2Next:function(){this.stepActive=2},onStep3Prev:function(){this.stepActive=1},onChangeEditor:function(e){this.editorValue=e}}},Z=X,J=(s("82f6"),Object(k["a"])(Z,a,n,!1,null,"d490b38e",null));t["default"]=J.exports},af7d0:function(e,t,s){"use strict";s("6a8f")},b6f4:function(e,t,s){"use strict";s("5588")},d853:function(e,t,s){}}]);