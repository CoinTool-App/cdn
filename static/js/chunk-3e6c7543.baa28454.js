(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e6c7543"],{4620:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("DaBox",{staticStyle:{"margin-bottom":"20px"},attrs:{list:["multiSender"]}}),e.isZh?t("div",{staticClass:"tips_err"},[t("p",[e._v("CoinTool不提供任何技术支持！")]),t("p",[e._v("已关闭创建代币功能，请勿用于违法活动!")])]):t("Card",{attrs:{icon:"coin-trx","is-show-code-view":!1,title:e.$t("route.starknetCreateToken"),desc:e.$t("".concat(e.viewName,".pageDesc"))}},[e.txHash?t("div",{staticClass:"result"},[t("div",{staticClass:"returnBox"},[t("div",{staticClass:"iconBox",on:{click:function(t){e.txHash=""}}},[t("i",{staticClass:"el-icon-back icon"})])]),t("CreateFinish",{attrs:{"chain-id":"starknet","view-name":"createToken","create-token-address":e.contractAddress,tx:e.txHash}})],1):t("div",{staticClass:"flexCenter"},[t("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":e.isPc?"left":"top",rules:e.rules,model:e.form,"label-width":"160px","label-suffix":":"}},[t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".tokenName")),prop:"tokenName"}},[t("el-input",{model:{value:e.form.tokenName,callback:function(t){e.$set(e.form,"tokenName",t)},expression:"form.tokenName"}})],1),t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".symbol")),prop:"symbol"}},[t("el-input",{model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".decimals")),prop:"decimals"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:0,max:18},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1),e._e(),e._e(),t("el-form-item",{attrs:{label:"Supply",prop:"supply"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:1},model:{value:e.form.supply,callback:function(t){e.$set(e.form,"supply",t)},expression:"form.supply"}})],1),t("el-form-item",{attrs:{label:"Can Mint?",prop:"canMint"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:e.form.canMint,callback:function(t){e.$set(e.form,"canMint",t)},expression:"form.canMint"}},[t("el-radio",{attrs:{value:"0",label:"0",border:""}},[e._v("YES")]),t("el-radio",{attrs:{value:"1",label:"1",border:""}},[e._v("NO")])],1),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:"0"===e.form.canMint,expression:"form.canMint === '0'"}],staticStyle:{"line-height":"18px","margin-top":"10px"},attrs:{title:e.$t("".concat(e.viewName,".mint_tips1")),type:"info",closable:!1}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:"1"===e.form.canMint,expression:"form.canMint === '1'"}],staticStyle:{"line-height":"18px","margin-top":"10px"},attrs:{title:e.$t("".concat(e.viewName,".mint_tips2")),type:"info",closable:!1}})],1),t("el-form-item",{attrs:{label:"Recipient",prop:"recipient"}},[t("el-input",{model:{value:e.form.recipient,callback:function(t){e.$set(e.form,"recipient",t)},expression:"form.recipient"}})],1),t("el-form-item",{attrs:{label:"Owner",prop:"owner"}},[t("el-input",{model:{value:e.form.owner,callback:function(t){e.$set(e.form,"owner",t)},expression:"form.owner"}})],1),t("el-form-item",{staticClass:"btnBox"},[t("el-button",{staticClass:"item-btn",attrs:{loading:e.loading,size:"medium",type:"primary"},on:{click:e.onCreatToken}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".createBtn")))+" ")]),e.createFee>0?t("p",{staticClass:"feeTips"},[e._v("Fees: "+e._s(e.createFee)+" ETH")]):e._e()],1)],1)],1)])],1)},r=[],s=a("2909"),o=a("c14f"),i=a("1da1"),c=a("5530"),l=(a("b680"),a("a9e3"),a("d81d"),a("a573"),a("99af"),a("14d9"),a("6bec")),m=a("2f62"),u={zh:{starknetCreateToken:{tokenName:"代币名称",tokenNameValidate:"请输入代币名称",symbol:"缩写符号",symbolValidate:"请输入缩写符号",initialSupply:"发行数量",initialSupplyValidate:"请输入发行数量",decimals:"小数位数(0-18)",decimalsValidate:"请输入小数位数",config:"其他配置",createBtn:"立即创建",success:"代币创建成功，请前往区块浏览器或钱包查看！",pageDesc:"简单、快速、便捷",adminAddress:"管理员地址",mintAuthority:"增发权限地址",freezeAuthority:"冻结权限地址",mint_tips1:"如果你选择了 Can Mint 你可以在 Admin panel 进行管理 Mint，Burn，以及管理Token所有权。",mint_tips2:"如果你选择了无法 Mint，你将得到一个非常纯净的 Token 没有任何权限, 也无法进入Admin panel "}},en:{starknetCreateToken:{tokenName:"Token Name",tokenNameValidate:"Please enter token name",symbol:"Symbol",symbolValidate:"Please enter symbol",initialSupply:"Initial Supply",initialSupplyValidate:"Please enter initial supply",decimals:"Decimals(0-9)",decimalsValidate:"Please enter decimals",adminAddress:"Admin Address",mintAuthority:"Mint authority",freezeAuthority:"Freeze authority",config:"Other Config",createBtn:"Create Token",success:"Token created successfully, please go to the block browser or wallet to check!",pageDesc:"Simple, fast and easy to create Starknet Token. supports Admin panel. helps you to start your project quickly.",mint_tips1:"If you choose Can Mint you can manage Mint, Burn, and manage Token ownership in the Admin panel.",mint_tips2:"If you choose Can't Mint, you will get a very pure Token with no permissions. You also won't have access to the Admin panel "}}},d=a("12f9"),p=a("75c1"),y=(a("ed08"),a("3d657")),f=a("901e"),b=a.n(f),k=a("df00"),w=a("4f48"),_="starknetCreateToken",v="createToken",g={name:v,inject:["starknetWalletStateTest"],components:{CreateFinish:p["a"],UploadImg:l["a"],DaBox:y["a"],Card:d["a"]},data:function(){return{viewName:_,tx_status:!1,loading:!1,rules:{},createFee:0,nativeToken:{},contractAddress:"",txHash:"",form:{canMint:"0",tokenName:"Luck Token",symbol:"",description:"",image:"",supply:"21000000",adminAddress:"",recipient:"",owner:"",decimals:18}}},computed:Object(c["a"])({},Object(m["b"])(["isConnect","starknetNetwork","starknetAccount","starknetWallet","starknetClient","account","navigatorLanguage","language","isZh","isPc"])),watch:{starknetAccount:function(e){this.form.recipient=e,this.form.owner=e,this.init()}},created:function(){this.$i18n.getLocaleMessage("en")[_]||(this.$i18n.mergeLocaleMessage("en",u.en),this.$i18n.mergeLocaleMessage("zh",u.zh)),this.rules={tokenName:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],symbol:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],decimals:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],supply:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],recipient:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],owner:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},mounted:function(){return Object(i["a"])(Object(o["a"])().m((function e(){return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:return e.a(2)}}),e)})))()},methods:{init:function(){var e=this;return Object(i["a"])(Object(o["a"])().m((function t(){return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:e.createFee=new b.a(w["h"]["createToken_fees"][e.starknetNetwork]).toFixed(),e.nativeToken=w["f"];case 1:return t.a(2)}}),t)})))()},onCreatToken:function(){var e=this;return Object(i["a"])(Object(o["a"])().m((function t(){var a,n,r,i,c,l,m,u,d,p,y,f,_,v,g;return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.$refs["form"].validate();case 1:return t.n=2,e.starknetWalletStateTest();case 2:if(t.v){t.n=3;break}return t.a(2);case 3:return e.loading=!0,t.p=4,t.n=5,Object(w["e"])({token_address:w["f"].address,wallet_address:e.starknetAccount,rpc:e.starknetWallet.provider.nodeUrl});case 5:if(a=t.v,!(Number(a)<Number(e.createFee))){t.n=6;break}return e.$msgbox({title:e.$t("common.balance_lack_title"),type:"warning",dangerouslyUseHTMLString:!0,message:e.$t("common.balance_lack_content",{address:e.starknetAccount,amount:e.createFee,symbol:e.nativeToken.symbol}),confirmButtonText:e.$t("common.confirm")}),e.loading=!1,t.a(2);case 6:return n={contractAddress:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",entrypoint:"transfer",calldata:k["e"].compile({recipient:w["h"]["createToken_fees_address"][e.starknetNetwork],amount:k["i"].uint256(parseInt(e.createFee*Math.pow(10,e.nativeToken.decimals)))})},c=w["a"],delete c[4].inputs[5],l=new k["e"](c),m=k["i"].uint256(new b.a(e.form.supply).times(Math.pow(10,Number(e.form.decimals))).toFixed(0)),r="0x02784249255cace9a06ef1e25fa31f438a937a251e41ae80852afb1700755c9e",i=l.compile("constructor",{name:e.form.tokenName,symbol:e.form.symbol,decimals:Number(e.form.decimals),initial_supply:m,recipient:e.form.recipient}),"0"===e.form.canMint&&(u=new k["e"]([{name:"StarkwayERC20Impl",type:"impl",interface_name:"starkway::interfaces::IERC20"},{name:"core::integer::u256",type:"struct",members:[{name:"low",type:"core::integer::u128"},{name:"high",type:"core::integer::u128"}]},{name:"core::bool",type:"enum",variants:[{name:"False",type:"()"},{name:"True",type:"()"}]},{name:"starkway::interfaces::IERC20",type:"interface",items:[{name:"name",type:"function",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{name:"symbol",type:"function",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{name:"decimals",type:"function",inputs:[],outputs:[{type:"core::integer::u8"}],state_mutability:"view"},{name:"total_supply",type:"function",inputs:[],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"balance_of",type:"function",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"allowance",type:"function",inputs:[{name:"owner",type:"core::starknet::contract_address::ContractAddress"},{name:"spender",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"get_owner",type:"function",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{name:"transfer",type:"function",inputs:[{name:"recipient",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"transfer_from",type:"function",inputs:[{name:"sender",type:"core::starknet::contract_address::ContractAddress"},{name:"recipient",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"approve",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"increase_allowance",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"added_value",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"decrease_allowance",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"subtracted_value",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"burn",type:"function",inputs:[{name:"amount",type:"core::integer::u256"}],outputs:[],state_mutability:"external"},{name:"mint",type:"function",inputs:[{name:"to",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[],state_mutability:"external"},{name:"transfer_ownership",type:"function",inputs:[{name:"new_owner",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{name:"totalSupply",type:"function",inputs:[],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"balanceOf",type:"function",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"transferFrom",type:"function",inputs:[{name:"sender",type:"core::starknet::contract_address::ContractAddress"},{name:"recipient",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"increaseAllowance",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"added_value",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"decreaseAllowance",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"subtracted_value",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"}]},{name:"constructor",type:"constructor",inputs:[{name:"name",type:"core::felt252"},{name:"symbol",type:"core::felt252"},{name:"decimals",type:"core::integer::u8"},{name:"owner",type:"core::starknet::contract_address::ContractAddress"}]},{kind:"struct",name:"starkway::erc20::erc20::StarkwayERC20::Transfer",type:"event",members:[{kind:"data",name:"from",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"to",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"value",type:"core::integer::u256"}]},{kind:"struct",name:"starkway::erc20::erc20::StarkwayERC20::Approval",type:"event",members:[{kind:"data",name:"owner",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"spender",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"value",type:"core::integer::u256"}]},{kind:"struct",name:"starkway::erc20::erc20::StarkwayERC20::OwnershipTransferred",type:"event",members:[{kind:"data",name:"previous_owner",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"new_owner",type:"core::starknet::contract_address::ContractAddress"}]},{kind:"enum",name:"starkway::erc20::erc20::StarkwayERC20::Event",type:"event",variants:[{kind:"nested",name:"Transfer",type:"starkway::erc20::erc20::StarkwayERC20::Transfer"},{kind:"nested",name:"Approval",type:"starkway::erc20::erc20::StarkwayERC20::Approval"},{kind:"nested",name:"OwnershipTransferred",type:"starkway::erc20::erc20::StarkwayERC20::OwnershipTransferred"}]}]),r="0x0465d4ee6bb2694b197d074f33d7fbd0e21e7061ffd9e34dd259e1da9f32a70a",i=u.compile("constructor",{name:e.form.tokenName,symbol:e.form.symbol,decimals:Number(e.form.decimals),owner:e.form.recipient})),d={classHash:r,constructorCalldata:i},p=[].concat(d).map((function(t){var a=t.classHash,n=t.salt,r=t.unique,o=void 0===r||r,i=t.constructorCalldata,c=void 0===i?[]:i,l=k["e"].compile(c),m=null!==n&&void 0!==n?n:k["p"].randomAddress();return{call:{contractAddress:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",entrypoint:"deployContract",calldata:[a,m,k["m"].toCairoBool(o),l.length].concat(Object(s["a"])(l))},address:k["l"].calculateContractAddressFromHash(o?k["j"].starkCurve.pedersen(e.starknetAccount,m):m,a,l,o?"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf":0)}})),y=p.map((function(e){return e.call})),f=p.map((function(e){return e.address})),_=[n,y[0]],"0"===e.form.canMint&&_.push({contractAddress:f[0],entrypoint:"mint",calldata:k["e"].compile({to:e.form.recipient,amount:m})}),t.n=7,e.starknetWallet.execute(_);case 7:v=t.v,e.contractAddress=f[0],e.txHash=v.transaction_hash;try{e.starknetClient.request({type:"wallet_watchAsset",params:{type:"ERC20",options:{address:f[0],symbol:e.form.symbol,name:e.form.tokenName,decimals:e.form.decimals}}})}catch(o){console.log(o)}t.n=9;break;case 8:t.p=8,g=t.v,e.$message.error(g);case 9:return t.p=9,e.loading=!1,t.f(9);case 10:return t.a(2)}}),t,null,[[4,8,9,10]])})))()}}},h=g,C=(a("d193e"),a("2877")),A=Object(C["a"])(h,n,r,!1,null,"b56ce9e2",null);t["default"]=A.exports},9911:function(e,t,a){"use strict";var n=a("23e7"),r=a("857a"),s=a("af03");n({target:"String",proto:!0,forced:s("link")},{link:function(e){return r(this,"a","href",e)}})},c830e:function(e,t,a){},d193e:function(e,t,a){"use strict";a("c830e")}}]);