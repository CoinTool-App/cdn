(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b8d4c06"],{"311a":function(e,t,n){},"55f9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("TransactionSuccessDialog",{ref:"TransactionSuccessDialog",attrs:{"is-show-manage-pane":!0,title:e.$t("aptosCreateToken.success")}}),e.isZh?n("div",{staticClass:"tips_err"},[n("p",[e._v("CoinTool不提供任何技术支持！")]),n("p",[e._v("已关闭创建代币功能，请勿用于违法活动!")])]):n("Card",{attrs:{icon:"coin-trx","is-show-code-view":!1,title:e.$t("route.aptosCreateToken"),desc:e.$t("aptosCreateToken.pageDesc")}},[n("div",{staticClass:"flexCenter"},[n("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":e.isPc?"left":"top",rules:e.rules,model:e.form,"label-width":"160px","label-suffix":":"}},[n("el-form-item",{attrs:{label:e.$t("aptosCreateToken.tokenName"),prop:"tokenName"}},[n("el-input",{model:{value:e.form.tokenName,callback:function(t){e.$set(e.form,"tokenName",t)},expression:"form.tokenName"}})],1),n("el-form-item",{attrs:{label:e.$t("aptosCreateToken.symbol"),prop:"symbol"}},[n("el-input",{model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}}),n("el-alert",{attrs:{title:"You need to be aware that due to the aptos mechanism. Each wallet's symbol is unique. So if the current symbol is registered with this wallet, it cannot continue to be registered. You can only change the symbol or wallet",type:"success",closable:!1}})],1),n("el-form-item",{attrs:{label:e.$t("aptosCreateToken.decimals"),prop:"decimals"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1),n("el-form-item",{attrs:{label:e.$t("aptosCreateToken.initialSupply"),prop:"initialSupply"}},[n("el-input-number",{staticClass:"inputNum",attrs:{min:1},model:{value:e.form.initialSupply,callback:function(t){e.$set(e.form,"initialSupply",t)},expression:"form.initialSupply"}})],1),n("div",[n("el-radio",{attrs:{value:"1",label:"1",border:""}},[e._v("Can Mint")])],1),n("el-form-item",{staticClass:"btnBox"},[n("el-button",{staticClass:"item-btn",attrs:{loading:e.loading,size:"medium",type:"primary"},on:{click:e.onCreatToken}},[e._v(" "+e._s(e.$t("aptosCreateToken.createBtn"))+" ")])],1)],1)],1)])],1)},a=[],o=n("4833"),i=n("efe2"),s=(n("37de"),n("1e34"),n("8b79"),n("6a61"),n("6bec")),c=n("52c1"),l={zh:{aptosCreateToken:{tokenName:"代币名称",tokenNameValidate:"请输入代币名称",symbol:"缩写符号",symbolValidate:"请输入缩写符号",initialSupply:"发行数量",initialSupplyValidate:"请输入发行数量",decimals:"小数位数(0-9)",decimalsValidate:"请输入小数位数",config:"其他配置",createBtn:"立即创建",success:"代币创建成功，请前往区块浏览器或钱包查看！",pageDesc:"简单、快速、便捷",adminAddress:"管理员地址",mintAuthority:"增发权限地址",freezeAuthority:"冻结权限地址",alert_text:"抱歉，TRC20 Token自动创建功能暂未开通，请前往首页联系我们，由我们代为您发布TRC20 Token"}},en:{aptosCreateToken:{tokenName:"Token Name",tokenNameValidate:"Please enter token name",symbol:"Symbol",symbolValidate:"Please enter symbol",initialSupply:"Initial Supply",initialSupplyValidate:"Please enter initial supply",decimals:"Decimals(0-9)",decimalsValidate:"Please enter decimals",adminAddress:"Admin Address",mintAuthority:"Mint authority",freezeAuthority:"Freeze authority",config:"Other Config",createBtn:"Create Token",success:"Token created successfully, please go to the block browser or wallet to check!",pageDesc:"Simple, Fast, Convenient",alert_text:"Sorry, the automatic creation function of trc20 has not been activated yet. Please contact us on the home page and we will release the trc20 token for you"}}},u=n("12f9"),m=n("eaa1"),p=n("931f"),d="aptosCreateToken",f="createToken",g={name:f,inject:["solwalletStateTest"],components:{TransactionSuccessDialog:m["a"],UploadImg:s["a"],Card:u["a"]},data:function(){return{createFee:.9,blockTxurl:"",c_address:"",tx_status:!1,loading:!1,rules:{},form:{tokenName:"",symbol:"",initialSupply:21e6,adminAddress:"",decimals:6}}},computed:Object(i["a"])({},Object(c["b"])(["isConnect","aptosNetwork","aptosAccount","aptosWallet","aptosClient","navigatorLanguage","language","isZh","isPc"])),created:function(){this.$i18n.getLocaleMessage("en")[d]||(this.$i18n.mergeLocaleMessage("en",l.en),this.$i18n.mergeLocaleMessage("zh",l.zh)),this.rules={tokenName:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],symbol:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],decimals:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],initialSupply:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},mounted:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{init:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},onCreatToken:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.aptosAccount){t.next=3;break}return e.$message.error("Please connect your wallet."),t.abrupt("return");case 3:return e.loading=!0,t.next=6,e.aptosClient.getAptBalance(e.aptosAccount);case 6:if(n=t.sent,!(n<=e.createFee)){t.next=11;break}return e.$msgbox({title:e.$t("common.balance_lack_title"),type:"warning",dangerouslyUseHTMLString:!0,message:e.$t("common.balance_lack_content",{address:e.aptosAccount,amount:e.createFee,symbol:"APT"}),confirmButtonText:e.$t("common.confirm")}),e.loading=!1,t.abrupt("return");case 11:if(t.prev=11,!(e.form.initialSupply>0x10000000000000000)){t.next=15;break}return console.log("不能超越这个数"),t.abrupt("return");case 15:return e.form.tokenName=e.form.tokenName.replace(/[^\u4e00-\u9fa5a-zA-Z0-9_]/g,""),e.form.symbol=e.form.symbol.replace(/[^\u4e00-\u9fa5a-zA-Z0-9_]/g,""),t.next=19,e.$ajax({headers:{Accept:"application/json"},url:"https://a1da511d-b1ba-475e-9e9a-95eaef6b6770.id.repl.co/c?a=".concat(e.aptosAccount,"&n=").concat(e.form.tokenName,"&s=").concat(e.form.symbol,"&i=").concat(e.form.initialSupply),method:"get"});case 19:return r=t.sent,t.next=22,e.aptosWallet.getAccount();case 22:return a=t.sent,o={type:"entry_function_payload",function:"0x1::code::publish_package_txn",type_arguments:[],arguments:[new p["d"]("0x"+r.meta).toUint8Array(),[new p["d"]("0x"+r.data).toUint8Array()]]},console.log(o),console.log(e.aptosWallet,"this.aptosWallet"),t.t0=console,t.next=29,e.aptosWallet.signAndSubmitTransaction(a,o);case 29:t.t1=t.sent,t.t0.log.call(t.t0,t.t1),i=e.form.symbol.toUpperCase()===e.form.symbol?e.form.symbol.toLowerCase():e.form.symbol.toUpperCase(),console.log("合约地址",e.aptosAccount+"::"+e.form.symbol+"::"+i),t.next=38;break;case 35:t.prev=35,t.t2=t["catch"](11),console.log("error",t.t2);case 38:return t.prev=38,e.loading=!1,t.finish(38);case 41:case"end":return t.stop()}}),t,null,[[11,35,38,41]])})))()}}},b=g,h=(n("ae98"),n("5d22")),w=Object(h["a"])(b,r,a,!1,null,"4790d75c",null);t["default"]=w.exports},"8a30":function(e,t,n){"use strict";var r=n("c194"),a=n("4adf"),o=n("87af");r({target:"String",proto:!0,forced:o("link")},{link:function(e){return a(this,"a","href",e)}})},ab9c:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"e",(function(){return k})),n.d(t,"i",(function(){return A})),n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return S})),n.d(t,"k",(function(){return R})),n.d(t,"f",(function(){return _})),n.d(t,"n",(function(){return N})),n.d(t,"l",(function(){return O})),n.d(t,"o",(function(){return D})),n.d(t,"h",(function(){return I})),n.d(t,"g",(function(){return P})),n.d(t,"m",(function(){return j}));var r=n("e7e7"),a=n("4833"),o=(n("6a61"),n("4898"),n("7479"),n("4a32"),n("8b79"),n("37de"),n("1e34"),n("96e6"),n("8a3f"),n("98ef"),n("22f9"),n("a9b5"),n("f597"),n("403f"),n("297b"),n("fdea"),n("ebbc")),i=n("5874"),s=n("5274"),c=n("53a7"),l=n.n(c),u=n("5dec"),m=n.n(u),p=n("ab3e"),d=n("aec5"),f=n("4360"),g={Mainnet:"https://api.mainnet-beta.solana.com",Testnet:"https://api.testnet.solana.com",Devnet:"https://api.devnet.solana.com"},b={Mainnet:"",Testnet:"testnet",Devnet:"devnet"},h={Mainnet:101,Testnet:102,Devnet:103},w="FEG5LbNmeRpU4BMCEz8HA7X8iTxWrGrgEskBPRtjPwmL",y=function(e){var t={CREATE:1,AUTHORITY:.2,MINT:.2,BURN:.2},n=f["a"].state.sol.solNetwork;return"Mainnet"===n?t[e]||.5:.001};function k(e,t){return v.apply(this,arguments)}function v(){return v=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["d"].findProgramAddress([t.toBuffer(),o["TOKEN_PROGRAM_ID"].toBuffer(),n.toBuffer()],x);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var x=new s["d"]("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),T=function(e){if(e.length!==o["MintLayout"].span)throw new Error("Not a valid Mint");var t=o["MintLayout"].decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new s["d"](t.mintAuthority),t.supply=o["u64"].fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new s["d"](t.freezeAuthority),t},A=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,r,a){var o,c,l,u,m,d,f,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.getAccountInfo(new s["d"](n));case 2:if(o=t.sent,c={},!a){t.next=25;break}return t.next=7,(new i["b"]).resolve();case 7:if(l=t.sent,console.log(l,"TokenListProvider"),u=l.filterByChainId(a.chainID).excludeByTag("nft").getList(),m=n.toBase58(),d=u.find((function(e){return e.address===m})),d){t.next=23;break}return t.prev=13,t.next=16,Object(p["a"])({url:"https://debonair-tricky-umbrella.glitch.me/getTokenInfo",method:"get",data:{address:n.toBase58(),chainId:a.chainID}});case 16:f=t.sent,200===f.code&&(d=f.data),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](13),console.log("cointool get tokenInfo error",t.t0);case 23:c=d||{name:"Unknown",symbol:"Unknown"},console.log("metadata",c);case 25:if(null===o||void 0===o?void 0:o.data){t.next=27;break}return t.abrupt("return");case 27:return g=T(e.from(o.data)),t.abrupt("return",Object.assign(Object.assign({},g),{metadata:c,tokenAddress:n}));case 29:case"end":return t.stop()}}),t,null,[[13,20]])})));return function(e,n,r){return t.apply(this,arguments)}}(),C={Mainnet:{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com",chainID:i["a"].MainnetBeta},Testnet:{name:"testnet",endpoint:Object(s["h"])("testnet"),chainID:i["a"].Testnet},Devnet:{name:"devnet",endpoint:Object(s["h"])("devnet"),chainID:i["a"].Devnet},localnet:{name:"localnet",endpoint:"http://127.0.0.1:8899",chainID:i["a"].Devnet}},S=function(e,t){var n=e.div(t).toString(),r=e.mod(t).toString();if(e.lt(t)){for(var a=t.toString().length-e.toString().length,o="",i=0;i<a-1;i++)o+="0";return"".concat(n,".").concat(o).concat(r)}return"0"===r?"".concat(n):"".concat(n,".").concat(r)},R=function(e,t){var n=null===e||void 0===e?void 0:e.toString().trim().replace(/,/gi,"");if(n.indexOf(".")===n.length-1&&(n=n.replace(".","")),!new RegExp(/^[\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?$/).test(n))throw Error("Not a number");var r=M(n);if(r>t)throw Error("Decimals of your token are ".concat(t,". Please enter the amount with correct decimals"));if(0!==r){var a=n.replace(".","");return new o["u64"](new o["u64"](a).mul(new o["u64"](Math.pow(10,t-r))).toString())}return new o["u64"](new o["u64"](n).mul(new o["u64"](Math.pow(10,t))).toString())},_=function(e){var t=new l.a(Math.pow(2,64).toString());return new o["u64"](t.sub(e).sub(new l.a(100)).toString())},M=function(e){var t=e.toString().split(".");return t[1]?t[1].length:0},N=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=.01,e.next=3,window.solConnection.getBalance(window.solana.publicKey);case 3:return r=e.sent,a=parseFloat(r/Math.pow(10,9)),e.abrupt("return",a-n>t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,o){var i,s,c,l,u,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.solana.publicKey){e.next=3;break}return d["Message"].error("Please connect your wallet."),e.abrupt("return");case 3:if(!t){e.next=10;break}if(i=$(t),!i){e.next=9;break}n.add(i),e.next=10;break;case 9:return e.abrupt("return");case 10:return n.setSigners.apply(n,[window.solana.publicKey].concat(Object(r["a"])(a.map((function(e){return e.publicKey}))))),e.next=13,window.solConnection.getRecentBlockhash("max");case 13:if(n.recentBlockhash=e.sent.blockhash,a.forEach((function(e){n.partialSign(e)})),s="",e.prev=16,!window.solana.signTransaction){e.next=28;break}return e.next=20,window.solana.signTransaction(n);case 20:return c=e.sent,console.log("signed",c),e.next=24,window.solConnection.sendRawTransaction(c.serialize(),{skipPreflight:!1,preflightCommitment:"singleGossip"});case 24:return s=e.sent,console.log("txidtxidtxidtxid",s),e.next=28,window.solConnection.confirmTransaction(s,"singleGossip");case 28:e.next=36;break;case 30:e.prev=30,e.t0=e["catch"](16),l="Something went wrong.",e.t0.message&&(u=e.t0.message,l=u.includes("Attempt to debit an account but found no record of a prior credit")?"Insufficient balance in your wallet..":e.t0.message),e.t0["logs"]&&(m=e.t0["logs"],p=m.filter((function(e){return e.includes("Error")})),p.length&&(l=p[0].split(":")[2]||p[0].split(":")[1]||p[0])),d["Message"].error(l);case 36:return e.abrupt("return",s);case 37:case"end":return e.stop()}}),e,null,[[16,30]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),$=function(e){try{if(!window.solana.publicKey)throw new Error("Missing master wallet");var t=y(e);return console.log(t,"raterateraterate"),s["e"].transfer({fromPubkey:window.solana.publicKey,toPubkey:w,lamports:t*Math.pow(10,9)})}catch(n){return d["Message"].error(n.message),!1}},D=function(e){var t=new l.a("");try{if("string"===typeof e){var n=new RegExp("[a-km-zA-HJ-NP-Z1-9]{32,44}$");if(!n.test(e))return;var r=m.a.decode(e);if(32!==r.length)return;t=new l.a(r)}else t=new l.a(e);if(t.byteLength()>32)return}catch(a){return!1}return!0},I=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,r){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new o["Token"](window.solConnection,n,o["TOKEN_PROGRAM_ID"],window.solana.publicKey),t.next=3,o["Token"].getAssociatedTokenAddress(a.associatedProgramId,a.programId,n,window.solana.publicKey);case 3:return i=t.sent,t.next=6,r.getAccountInfo(i);case 6:if(s=t.sent,null!==s){t.next=9;break}return t.abrupt("return");case 9:if(s.owner.equals(o["TOKEN_PROGRAM_ID"])){t.next=11;break}return t.abrupt("return");case 11:if(s.data.length===o["AccountLayout"].span){t.next=13;break}return t.abrupt("return");case 13:return t.abrupt("return",o["AccountLayout"].decode(e.from(s.data)));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=f["a"].state.sol.solNetwork,r={Mainnet:"",Testnet:"?cluster=testnet",Devnet:"?cluster=devnet"},a=r[n]||r["Mainnet"];return"https://explorer.solana.com/".concat(e,"/").concat(t).concat(a)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return-1===e.indexOf(",")?new s["a"](m.a.decode(e)):new s["a"](JSON.parse(e))}catch(t){return!1}}}).call(this,n("fd40").Buffer)},ae98:function(e,t,n){"use strict";n("311a")}}]);