(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d335b30"],{"99bd":function(e,t,a){"use strict";a("c8b3")},a9c0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("Card",{attrs:{icon:"coin-eth2",title:e.chainName.toUpperCase()+" "+e.$t("route.chainRecord"),desc:e.$t("chainRecord.pageDesc")}},[a("div",{staticClass:"box-card"},[a("div",{staticClass:"stepBox"},[a("el-steps",{attrs:{space:200,active:e.stepActive,"process-status":"wait","finish-status":"success","align-center":!0}},[a("el-step",{attrs:{title:e.$t("chainRecord.step_1")}}),a("el-step",{attrs:{title:e.$t("chainRecord.step_2")}}),a("el-step",{attrs:{title:e.$t("chainRecord.step_3")}})],1)],1),a("el-form",{ref:"form",staticClass:"form",attrs:{"label-suffix":":",model:e.form,"label-width":"zh"===e.language?"100px":"140px","label-position":e.isPc?"right":"top",rules:e.rules}},[a("el-form-item",{attrs:{label:e.$t("chainRecord.desc"),prop:"desc"}},[a("el-input",{attrs:{type:"textarea",rows:8,placeholder:""},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("el-form-item",{attrs:{label:e.$t("chainRecord.eth_num"),prop:"eth_num"}},[a("el-input",{attrs:{type:"input"},model:{value:e.form.eth_num,callback:function(t){e.$set(e.form,"eth_num",t)},expression:"form.eth_num"}})],1),a("el-form-item",{style:"textAlign: "+(e.isPc?"left":"center"),attrs:{label:e.$t("chainRecord.receive_address"),prop:"desc"}},[e.isEdit?a("el-input",{attrs:{clearable:"",placeholder:e.$t("chainRecord.receive_address_placeholder")},model:{value:e.form.receive_address,callback:function(t){e.$set(e.form,"receive_address",t)},expression:"form.receive_address"}}):a("span",{staticClass:"text"},[e._v("CoinTool.App")]),e.isEdit?a("el-link",{staticClass:"edit",attrs:{type:"primary"},on:{click:function(t){e.isEdit=!1}}},[e._v(e._s(e.$t("chainRecord.cancelEdit")))]):a("el-link",{staticClass:"edit",attrs:{type:"primary"},on:{click:function(t){e.isEdit=!0}}},[e._v(e._s(e.$t("chainRecord.edit")))])],1),a("el-form-item",{style:"textAlign: "+(e.isPc?"left":"center")},[a("el-button",{staticClass:"item-btn",attrs:{size:"medium",type:"primary",loading:2===e.stepActive},on:{click:e.onCreateRecord}},[e._v(" "+e._s(e.$t("chainRecord.createBtn"))+" ")])],1)],1),a("div",{staticClass:"tipBox"},[a("el-alert",{directives:[{name:"show",rawName:"v-show",value:3===e.stepActive,expression:"stepActive === 3"}],staticClass:"tips",attrs:{closable:!1,title:e.$t("chainRecord.send_txidok"),type:"success","show-icon":""}},[a("a",{attrs:{target:"_blank",href:e.blockTxurl+"/tx/"+e.blockHash}},[e._v(e._s(e.blockHash))])])],1)],1)])],1)},s=[],c=a("4833"),n=a("efe2"),i=(a("6a61"),a("37de"),a("1e34"),a("b420")),o=a.n(i),l={zh:{chainRecord:{step_1:"填写上链信息",step_2:"等待打包上链",step_3:"完成",wallet:"钱包",desc:"内容",notEmpty:"不能为空",eth_num:"发送数量",contract_address:"合约地址",send_txidok:"信息已成功登记上区块链网络",loading_text:"区块链网络正在打包您的信息，请耐心等待.....",cancelOperation:"您取消了此次上链操作",cancel:"Close",createBtn:"立即创建",pageDesc:"去中心化、不可更改、永久记录",receive_address:"\b接收地址",receive_address_placeholder:"请输入接收地址",addressError:"地址格式错误",edit:"修改",cancelEdit:"取消"}},en:{chainRecord:{step_1:"Fill in the information",step_2:"Waiting for packing",step_3:"complete",wallet:"wallet",desc:"Content",descValidate:"Please enter info",eth_num:"Send Number",contract_address:"Contract address",send_txidok:"The information has been successfully registered on the blockchain network",loading_text:"The blockchain network is packing your information, please wait patiently.....",cancelOperation:"You cancelled the operation",cancel:"Close",createBtn:"Create",pageDesc:"Decentralized, Unchangeable, Permanent record",receive_address:"Receive Address",receive_address_placeholder:"Please enter the address for receiving messages",addressError:"Address Error",edit:"Edit",cancelEdit:"Cancel"}}},d=a("a835"),p=a("85d4"),h=a("8feb"),u=a.n(h),m=a("12f9"),f=a("52c1"),_="chainRecord",v=1e5,b={name:_,inject:["onCheckConnect"],components:{Card:m["a"]},data:function(){return{form:{receive_address:"",contract_address:"",eth_num:.01,gas_price:"",gas_limit:v,hex:"",desc:""},isEdit:!1,chainName:"",rules:{},dialogFormVisible:!1,stepActive:0,blockTxurl:"",blockHash:""}},computed:Object(n["a"])({},Object(f["b"])(["isPc","language"])),watch:{"form.desc":function(e,t){this.stepActive=""!==e?1:0}},created:function(){this.$i18n.getLocaleMessage("en")[_]||(this.$i18n.mergeLocaleMessage("en",l.en),this.$i18n.mergeLocaleMessage("zh",l.zh)),this.chainName=this.$route.path.replace("/".concat(_,"/"),"").replace("/",""),this.rules={desc:[{required:!0,message:this.$t("chainRecord.notEmpty"),trigger:"change"}],receive_address:[{required:!0,message:this.$t("chainRecord.notEmpty"),trigger:"change"}],eth_num:[{required:!0,message:this.$t("chainRecord.notEmpty"),trigger:"change"}]}},mounted:function(){},methods:{resetState:function(){this.blockHash=""},onCreateRecord:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=""===e.form.receive_address?"0x11111111686b45EB94D9688F715815fc0CC0e5Ec":e.form.receive_address,t.next=3,e.$refs["form"].validate();case 3:if(o.a.validate(a,"eth")){t.next=6;break}return e.$message.error(e.$t("chainRecord.addressError")),t.abrupt("return");case 6:if(e.onCheckConnect()){t.next=8;break}return t.abrupt("return");case 8:e.resetState(),e.blockTxurl=d["a"].resolveLinkOnEtherscan(),r=Object(p["toHex"])(e.form.desc),e.createTxByMetaMask(a,r);case 12:case"end":return t.stop()}}),t)})))()},createTxByMetaMask:function(e,t){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s={from:d["a"].getAccount(),to:e,value:Object(p["toHex"])(u.a.toWei(a.form.eth_num,"ether")),data:t},a.stepActive=2,r.next=4,d["a"].createChainTx(s);case 4:c=r.sent,a.stepActive=3,200===c.code?(a.blockHash=c.transactionHash,a.stepActive=3):4001===c.code?(a.stepActive=1,a.$message.error(a.$t("chainRecord.cancelOperation"))):(a.$message({message:"Error：".concat(c.message),type:"error"}),a.stepActive=1);case 7:case"end":return r.stop()}}),r)})))()}}},g=b,k=(a("99bd"),a("5d22")),x=Object(k["a"])(g,r,s,!1,null,"200aba9c",null);t["default"]=x.exports},c8b3:function(e,t,a){}}]);