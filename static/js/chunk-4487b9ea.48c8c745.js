(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4487b9ea"],{"224e":function(e,t,r){"use strict";(function(e){var n=r("9523").default,i=r("278c").default,a=r("6374").default,o=r("970b").default,s=r("5bc3").default,u=r("ed6d").default,c=r("2d0d").default,l=r("a128").default,h=r("7037").default;r("e439"),r("d3b7"),r("f8c9"),r("a434"),r("a15b"),r("d9e2"),r("99af"),r("fb6a"),r("ace4"),r("5cc6"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("986a"),r("1d02"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("6ce5"),r("2834"),r("72f7"),r("4ea1"),r("14d9"),r("159b"),r("b0c0"),r("d81d"),r("ddb0"),r("4ec9"),r("3ca3");var d=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),b=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"===typeof Reflect?"undefined":h(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&d(t,e,r);return f(t,e),t},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;var m=y(r("53195")),v=y(r("8ab6")),g=p(r("b4b6")),k="function"!==typeof TextDecoder?g.TextDecoder:TextDecoder,w=new k("utf-8",{fatal:!0});function O(t){return"string"===typeof t&&(t=e.from(t,"utf8")),v.default.encode(e.from(t))}function j(t){return e.from(v.default.decode(t))}t.baseEncode=O,t.baseDecode=j;var x=1024,S=function(e){u(r,e);var t=c(r);function r(e){var n;return o(this,r),n=t.call(this,e),n.fieldPath=[],n.originalMessage=e,n}return s(r,[{key:"addToFieldPath",value:function(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}]),r}(l(Error));t.BorshError=S;var I=function(){function t(){o(this,t),this.buf=e.alloc(x),this.length=0}return s(t,[{key:"maybeResize",value:function(){this.buf.length<16+this.length&&(this.buf=e.concat([this.buf,e.alloc(x)]))}},{key:"writeU8",value:function(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}},{key:"writeU16",value:function(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}},{key:"writeU32",value:function(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}},{key:"writeU64",value:function(t){this.maybeResize(),this.writeBuffer(e.from(new m.default(t).toArray("le",8)))}},{key:"writeU128",value:function(t){this.maybeResize(),this.writeBuffer(e.from(new m.default(t).toArray("le",16)))}},{key:"writeU256",value:function(t){this.maybeResize(),this.writeBuffer(e.from(new m.default(t).toArray("le",32)))}},{key:"writeU512",value:function(t){this.maybeResize(),this.writeBuffer(e.from(new m.default(t).toArray("le",64)))}},{key:"writeBuffer",value:function(t){this.buf=e.concat([e.from(this.buf.subarray(0,this.length)),t,e.alloc(x)]),this.length+=t.length}},{key:"writeString",value:function(t){this.maybeResize();var r=e.from(t,"utf8");this.writeU32(r.length),this.writeBuffer(r)}},{key:"writeFixedArray",value:function(t){this.writeBuffer(e.from(t))}},{key:"writeArray",value:function(e,t){this.maybeResize(),this.writeU32(e.length);var r,n=a(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.maybeResize(),t(i)}}catch(o){n.e(o)}finally{n.f()}}},{key:"toArray",value:function(){return this.buf.subarray(0,this.length)}}]),t}();function _(e,t,r){var n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(a){if(a instanceof RangeError){var i=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(i)>=0)throw new S("Reached the end of buffer when deserializing")}throw a}}}t.BinaryWriter=I;var A=function(){function e(t){o(this,e),this.buf=t,this.offset=0}return s(e,[{key:"readU8",value:function(){var e=this.buf.readUInt8(this.offset);return this.offset+=1,e}},{key:"readU16",value:function(){var e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}},{key:"readU32",value:function(){var e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}},{key:"readU64",value:function(){var e=this.readBuffer(8);return new m.default(e,"le")}},{key:"readU128",value:function(){var e=this.readBuffer(16);return new m.default(e,"le")}},{key:"readU256",value:function(){var e=this.readBuffer(32);return new m.default(e,"le")}},{key:"readU512",value:function(){var e=this.readBuffer(64);return new m.default(e,"le")}},{key:"readBuffer",value:function(e){if(this.offset+e>this.buf.length)throw new S("Expected buffer length ".concat(e," isn't within bounds"));var t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"readString",value:function(){var e=this.readU32(),t=this.readBuffer(e);try{return w.decode(t)}catch(r){throw new S("Error decoding UTF-8 string: ".concat(r))}}},{key:"readFixedArray",value:function(e){return new Uint8Array(this.readBuffer(e))}},{key:"readArray",value:function(e){for(var t=this.readU32(),r=Array(),n=0;n<t;++n)r.push(e());return r}}]),e}();function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}function B(e,t,r,n,i){try{if("string"===typeof n)i["write".concat(E(n))](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new S("Expecting byte array of length ".concat(n[0],", but got ").concat(r.length," bytes"));i.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new S("Expecting byte array of length ".concat(n[1],", but got ").concat(r.length," bytes"));for(var a=0;a<n[1];a++)B(e,null,r[a],n[0],i)}else i.writeArray(r,(function(r){B(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?i.writeU8(0):(i.writeU8(1),B(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((function(r,a){B(e,t,a,n.key,i),B(e,t,r,n.value,i)}));break;default:throw new S("FieldType ".concat(n," unrecognized"))}else M(e,r,i)}catch(o){throw o instanceof S&&o.addToFieldPath(t),o}}function M(e,t,r){if("function"!==typeof t.borshSerialize){var n=e.get(t.constructor);if(!n)throw new S("Class ".concat(t.constructor.name," is missing in schema"));if("struct"===n.kind)n.fields.map((function(n){var a=i(n,2),o=a[0],s=a[1];B(e,o,t[o],s,r)}));else{if("enum"!==n.kind)throw new S("Unexpected schema kind: ".concat(n.kind," for ").concat(t.constructor.name));for(var a=t[n.field],o=0;o<n.values.length;++o){var s=i(n.values[o],2),u=s[0],c=s[1];if(u===a){r.writeU8(o),B(e,u,t[u],c,r);break}}}}else t.borshSerialize(r)}function P(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I,n=new r;return M(e,t,n),n.toArray()}function T(e,t,r,n){try{if("string"===typeof r)return n["read".concat(E(r))]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){for(var i=[],a=0;a<r[1];a++)i.push(T(e,null,r[0],n));return i}return n.readArray((function(){return T(e,t,r[0],n)}))}if("option"===r.kind){var o=n.readU8();return o?T(e,t,r.type,n):void 0}if("map"===r.kind){for(var s=new Map,u=n.readU32(),c=0;c<u;c++){var l=T(e,t,r.key,n),h=T(e,t,r.value,n);s.set(l,h)}return s}return R(e,r,n)}catch(d){throw d instanceof S&&d.addToFieldPath(t),d}}function R(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);var o=e.get(t);if(!o)throw new S("Class ".concat(t.name," is missing in schema"));if("struct"===o.kind){var s,u={},c=a(e.get(t).fields);try{for(c.s();!(s=c.n()).done;){var l=i(s.value,2),h=l[0],d=l[1];u[h]=T(e,h,d,r)}}catch(v){c.e(v)}finally{c.f()}return new t(u)}if("enum"===o.kind){var f=r.readU8();if(f>=o.values.length)throw new S("Enum index: ".concat(f," is out of range"));var b=i(o.values[f],2),p=b[0],y=b[1],m=T(e,p,y,r);return new t(n({},p,m))}throw new S("Unexpected schema kind: ".concat(o.kind," for ").concat(t.constructor.name))}function L(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A,i=new n(r),a=R(e,t,i);if(i.offset<r.length)throw new S("Unexpected ".concat(r.length-i.offset," bytes after deserialized data"));return a}function C(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A,i=new n(r);return R(e,t,i)}b([_],A.prototype,"readU8",null),b([_],A.prototype,"readU16",null),b([_],A.prototype,"readU32",null),b([_],A.prototype,"readU64",null),b([_],A.prototype,"readU128",null),b([_],A.prototype,"readU256",null),b([_],A.prototype,"readU512",null),b([_],A.prototype,"readString",null),b([_],A.prototype,"readFixedArray",null),b([_],A.prototype,"readArray",null),t.BinaryReader=A,t.serialize=P,t.deserialize=L,t.deserializeUnchecked=C}).call(this,r("1c35").Buffer)},"2a33":function(e,t,r){"use strict";r.r(t),r.d(t,"Struct",(function(){return A})),r.d(t,"StructError",(function(){return g})),r.d(t,"any",(function(){return D})),r.d(t,"array",(function(){return V})),r.d(t,"assert",(function(){return E})),r.d(t,"assign",(function(){return R})),r.d(t,"boolean",(function(){return F})),r.d(t,"coerce",(function(){return fe})),r.d(t,"create",(function(){return B})),r.d(t,"date",(function(){return H})),r.d(t,"defaulted",(function(){return be})),r.d(t,"define",(function(){return L})),r.d(t,"deprecated",(function(){return C})),r.d(t,"dynamic",(function(){return z})),r.d(t,"empty",(function(){return ye})),r.d(t,"enums",(function(){return G})),r.d(t,"func",(function(){return J})),r.d(t,"instance",(function(){return Y})),r.d(t,"integer",(function(){return Z})),r.d(t,"intersection",(function(){return X})),r.d(t,"is",(function(){return P})),r.d(t,"lazy",(function(){return N})),r.d(t,"literal",(function(){return Q})),r.d(t,"map",(function(){return $})),r.d(t,"mask",(function(){return M})),r.d(t,"max",(function(){return me})),r.d(t,"min",(function(){return ve})),r.d(t,"never",(function(){return ee})),r.d(t,"nullable",(function(){return te})),r.d(t,"number",(function(){return re})),r.d(t,"object",(function(){return ne})),r.d(t,"omit",(function(){return K})),r.d(t,"optional",(function(){return ie})),r.d(t,"partial",(function(){return W})),r.d(t,"pattern",(function(){return ge})),r.d(t,"pick",(function(){return U})),r.d(t,"record",(function(){return ae})),r.d(t,"refine",(function(){return we})),r.d(t,"regexp",(function(){return oe})),r.d(t,"set",(function(){return se})),r.d(t,"size",(function(){return ke})),r.d(t,"string",(function(){return ue})),r.d(t,"struct",(function(){return q})),r.d(t,"trimmed",(function(){return pe})),r.d(t,"tuple",(function(){return ce})),r.d(t,"type",(function(){return le})),r.d(t,"union",(function(){return he})),r.d(t,"unknown",(function(){return de})),r.d(t,"validate",(function(){return T}));var n=r("4f96"),i=r("3835"),a=r("c7eb"),o=r("b85c"),s=r("5530"),u=r("53ca"),c=r("2909"),l=r("15fd"),h=r("bee2"),d=r("d4ec"),f=r("257e"),b=r("262e"),p=r("2caf"),y=r("9072"),m=(r("a15b"),r("b0c0"),r("99af"),r("d9e2"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("a4d3"),r("e01a"),r("25f0"),r("3410"),r("e9c4"),r("4ec9"),r("6062"),r("d81d"),r("fb6a"),r("caad"),r("2532"),r("8ba4"),r("a9e3"),r("b64b"),r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("14d9"),r("498a"),r("00b4"),["message"]),v=Object(a["a"])().mark(I),g=function(e){Object(b["a"])(r,e);var t=Object(p["a"])(r);function r(e,n){var i,a;Object(d["a"])(this,r);var o=e.message,s=Object(l["a"])(e,m),u=e.path,h=0===u.length?o:"At path: "+u.join(".")+" -- "+o;return i=t.call(this,h),Object.assign(Object(f["a"])(i),s),i.name=i.constructor.name,i.failures=function(){var t;return null!=(t=a)?t:a=[e].concat(Object(c["a"])(n()))},i}return Object(h["a"])(r)}(Object(y["a"])(TypeError));function k(e){return w(e)&&"function"===typeof e[Symbol.iterator]}function w(e){return"object"===Object(u["a"])(e)&&null!=e}function O(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function j(e){return"string"===typeof e?JSON.stringify(e):""+e}function x(e){var t=e.next(),r=t.done,n=t.value;return r?void 0:n}function S(e,t,r,n){if(!0!==e){!1===e?e={}:"string"===typeof e&&(e={message:e});var i=t.path,a=t.branch,o=r.type,u=e,c=u.refinement,l=u.message,h=void 0===l?"Expected a value of type `"+o+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+j(n)+"`":l;return Object(s["a"])(Object(s["a"])({value:n,type:o,refinement:c,key:i[i.length-1],path:i,branch:a},e),{},{message:h})}}function I(e,t,r,n){var i,s,u,c;return Object(a["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:k(e)||(e=[e]),i=Object(o["a"])(e),a.prev=2,i.s();case 4:if((s=i.n()).done){a.next=12;break}if(u=s.value,c=S(u,t,r,n),!c){a.next=10;break}return a.next=10,c;case 10:a.next=4;break;case 12:a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](2),i.e(a.t0);case 17:return a.prev=17,i.f(),a.finish(17);case 20:case"end":return a.stop()}}),v,null,[[2,14,17,20]])}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(a["a"])().mark((function n(){var s,u,l,h,d,f,b,p,y,m,v,g,k,O,j,x,S,I,A,E,B,M,P,T,R,L,C;return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=r.path,u=void 0===s?[]:s,l=r.branch,h=void 0===l?[e]:l,d=r.coerce,f=void 0!==d&&d,b=r.mask,p=void 0!==b&&b,y={path:u,branch:h},f&&(e=t.coercer(e,y),p&&"type"!==t.type&&w(t.schema)&&w(e)&&!Array.isArray(e)))for(m in e)void 0===t.schema[m]&&delete e[m];v=!0,g=Object(o["a"])(t.validator(e,y)),n.prev=5,g.s();case 7:if((k=g.n()).done){n.next=14;break}return O=k.value,v=!1,n.next=12,[O,void 0];case 12:n.next=7;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](5),g.e(n.t0);case 19:return n.prev=19,g.f(),n.finish(19);case 22:j=Object(o["a"])(t.entries(e,y)),n.prev=23,j.s();case 25:if((x=j.n()).done){n.next=52;break}S=Object(i["a"])(x.value,3),I=S[0],A=S[1],E=S[2],B=_(A,E,{path:void 0===I?u:[].concat(Object(c["a"])(u),[I]),branch:void 0===I?h:[].concat(Object(c["a"])(h),[A]),coerce:f,mask:p}),M=Object(o["a"])(B),n.prev=29,M.s();case 31:if((P=M.n()).done){n.next=42;break}if(T=P.value,!T[0]){n.next=39;break}return v=!1,n.next=37,[T[0],void 0];case 37:n.next=40;break;case 39:f&&(A=T[1],void 0===I?e=A:e instanceof Map?e.set(I,A):e instanceof Set?e.add(A):w(e)&&(e[I]=A));case 40:n.next=31;break;case 42:n.next=47;break;case 44:n.prev=44,n.t1=n["catch"](29),M.e(n.t1);case 47:return n.prev=47,M.f(),n.finish(47);case 50:n.next=25;break;case 52:n.next=57;break;case 54:n.prev=54,n.t2=n["catch"](23),j.e(n.t2);case 57:return n.prev=57,j.f(),n.finish(57);case 60:if(!v){n.next=79;break}R=Object(o["a"])(t.refiner(e,y)),n.prev=62,R.s();case 64:if((L=R.n()).done){n.next=71;break}return C=L.value,v=!1,n.next=69,[C,void 0];case 69:n.next=64;break;case 71:n.next=76;break;case 73:n.prev=73,n.t3=n["catch"](62),R.e(n.t3);case 76:return n.prev=76,R.f(),n.finish(76);case 79:if(!v){n.next=82;break}return n.next=82,[void 0,e];case 82:case"end":return n.stop()}}),n,null,[[5,16,19,22],[23,54,57,60],[29,44,47,50],[62,73,76,79]])}))()}var A=function(){function e(t){var r=this;Object(d["a"])(this,e);var n=t.type,i=t.schema,o=t.validator,s=t.refiner,u=t.coercer,c=void 0===u?function(e){return e}:u,l=t.entries,h=void 0===l?Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})):l;this.type=n,this.schema=i,this.entries=h,this.coercer=c,this.validator=o?function(e,t){var n=o(e,t);return I(n,t,r,e)}:function(){return[]},this.refiner=s?function(e,t){var n=s(e,t);return I(n,t,r,e)}:function(){return[]}}return Object(h["a"])(e,[{key:"assert",value:function(e){return E(e,this)}},{key:"create",value:function(e){return B(e,this)}},{key:"is",value:function(e){return P(e,this)}},{key:"mask",value:function(e){return M(e,this)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T(e,this,t)}}]),e}();function E(e,t){var r=T(e,t);if(r[0])throw r[0]}function B(e,t){var r=T(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function M(e,t){var r=T(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function P(e,t){var r=T(e,t);return!r[0]}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=_(e,t,r),i=x(n);if(i[0]){var s=new g(i[0],Object(a["a"])().mark((function e(){var t,r,i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(o["a"])(n),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=10;break}if(i=r.value,!i[0]){e.next=8;break}return e.next=8,i[0];case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return[s,void 0]}var u=i[1];return[void 0,u]}function R(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return e.schema})),i=Object.assign.apply(Object,[{}].concat(Object(c["a"])(n)));return ne(i)}function L(e,t){return new A({type:e,schema:null,validator:t})}function C(e,t){return new A(Object(s["a"])(Object(s["a"])({},e),{},{refiner:function(t,r){return void 0===t||e.refiner(t,r)},validator:function(r,n){return void 0===r||(t(r,n),e.validator(r,n))}}))}function z(e){return new A({type:"dynamic",schema:null,entries:Object(a["a"])().mark((function t(r,n){var i;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e(r,n),t.delegateYield(i.entries(r,n),"t0",2);case 2:case"end":return t.stop()}}),t)})),validator:function(t,r){var n=e(t,r);return n.validator(t,r)},coercer:function(t,r){var n=e(t,r);return n.coercer(t,r)}})}function N(e){var t;return new A({type:"lazy",schema:null,entries:Object(a["a"])().mark((function r(n,i){return Object(a["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return null!=t||(t=e()),r.delegateYield(t.entries(n,i),"t0",2);case 2:case"end":return r.stop()}}),r)})),validator:function(r,n){return null!=t||(t=e()),t.validator(r,n)},coercer:function(r,n){return null!=t||(t=e()),t.coercer(r,n)}})}function K(e,t){var r,n=e.schema,i=Object(s["a"])({},n),a=Object(o["a"])(t);try{for(a.s();!(r=a.n()).done;){var u=r.value;delete i[u]}}catch(c){a.e(c)}finally{a.f()}return ne(i)}function W(e){var t=e instanceof A?Object(s["a"])({},e.schema):Object(s["a"])({},e);for(var r in t)t[r]=ie(t[r]);return ne(t)}function U(e,t){var r,n=e.schema,i={},a=Object(o["a"])(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;i[s]=n[s]}}catch(u){a.e(u)}finally{a.f()}return ne(i)}function q(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),L(e,t)}function D(){return L("any",(function(){return!0}))}function V(e){return new A({type:"array",schema:e,entries:Object(a["a"])().mark((function t(r){var n,s,u,c,l;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e||!Array.isArray(r)){t.next=18;break}n=Object(o["a"])(r.entries()),t.prev=2,n.s();case 4:if((s=n.n()).done){t.next=10;break}return u=Object(i["a"])(s.value,2),c=u[0],l=u[1],t.next=8,[c,l,e];case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})),coercer:function(e){return Array.isArray(e)?e.slice():e},validator:function(e){return Array.isArray(e)||"Expected an array value, but received: "+j(e)}})}function F(){return L("boolean",(function(e){return"boolean"===typeof e}))}function H(){return L("date",(function(e){return e instanceof Date&&!isNaN(e.getTime())||"Expected a valid `Date` object, but received: "+j(e)}))}function G(e){var t,r={},n=e.map((function(e){return j(e)})).join(),i=Object(o["a"])(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r[a]=a}}catch(s){i.e(s)}finally{i.f()}return new A({type:"enums",schema:r,validator:function(t){return e.includes(t)||"Expected one of `"+n+"`, but received: "+j(t)}})}function J(){return L("func",(function(e){return"function"===typeof e||"Expected a function, but received: "+j(e)}))}function Y(e){return L("instance",(function(t){return t instanceof e||"Expected a `"+e.name+"` instance, but received: "+j(t)}))}function Z(){return L("integer",(function(e){return"number"===typeof e&&!isNaN(e)&&Number.isInteger(e)||"Expected an integer, but received: "+j(e)}))}function X(e){return new A({type:"intersection",schema:null,entries:Object(a["a"])().mark((function t(r,n){var i,s,u;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=Object(o["a"])(e),t.prev=1,i.s();case 3:if((s=i.n()).done){t.next=8;break}return u=s.value,t.delegateYield(u.entries(r,n),"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t["catch"](1),i.e(t.t1);case 13:return t.prev=13,i.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})),validator:Object(a["a"])().mark((function t(r,n){var i,s,u;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=Object(o["a"])(e),t.prev=1,i.s();case 3:if((s=i.n()).done){t.next=8;break}return u=s.value,t.delegateYield(u.validator(r,n),"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t["catch"](1),i.e(t.t1);case 13:return t.prev=13,i.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})),refiner:Object(a["a"])().mark((function t(r,n){var i,s,u;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=Object(o["a"])(e),t.prev=1,i.s();case 3:if((s=i.n()).done){t.next=8;break}return u=s.value,t.delegateYield(u.refiner(r,n),"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t["catch"](1),i.e(t.t1);case 13:return t.prev=13,i.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])}))})}function Q(e){var t=j(e),r=Object(u["a"])(e);return new A({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:function(r){return r===e||"Expected the literal `"+t+"`, but received: "+j(r)}})}function $(e,t){return new A({type:"map",schema:null,entries:Object(a["a"])().mark((function r(n){var s,u,c,l,h;return Object(a["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e&&t&&n instanceof Map)){r.next=20;break}s=Object(o["a"])(n.entries()),r.prev=2,s.s();case 4:if((u=s.n()).done){r.next=12;break}return c=Object(i["a"])(u.value,2),l=c[0],h=c[1],r.next=8,[l,l,e];case 8:return r.next=10,[l,h,t];case 10:r.next=4;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](2),s.e(r.t0);case 17:return r.prev=17,s.f(),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[2,14,17,20]])})),coercer:function(e){return e instanceof Map?new Map(e):e},validator:function(e){return e instanceof Map||"Expected a `Map` object, but received: "+j(e)}})}function ee(){return L("never",(function(){return!1}))}function te(e){return new A(Object(s["a"])(Object(s["a"])({},e),{},{validator:function(t,r){return null===t||e.validator(t,r)},refiner:function(t,r){return null===t||e.refiner(t,r)}}))}function re(){return L("number",(function(e){return"number"===typeof e&&!isNaN(e)||"Expected a number, but received: "+j(e)}))}function ne(e){var t=e?Object.keys(e):[],r=ee();return new A({type:"object",schema:e||null,entries:Object(a["a"])().mark((function n(i){var s,u,c,l,h,d,f;return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e||!w(i)){n.next=37;break}s=new Set(Object.keys(i)),u=Object(o["a"])(t),n.prev=3,u.s();case 5:if((c=u.n()).done){n.next=12;break}return l=c.value,s.delete(l),n.next=10,[l,i[l],e[l]];case 10:n.next=5;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](3),u.e(n.t0);case 17:return n.prev=17,u.f(),n.finish(17);case 20:h=Object(o["a"])(s),n.prev=21,h.s();case 23:if((d=h.n()).done){n.next=29;break}return f=d.value,n.next=27,[f,i[f],r];case 27:n.next=23;break;case 29:n.next=34;break;case 31:n.prev=31,n.t1=n["catch"](21),h.e(n.t1);case 34:return n.prev=34,h.f(),n.finish(34);case 37:case"end":return n.stop()}}),n,null,[[3,14,17,20],[21,31,34,37]])})),validator:function(e){return w(e)||"Expected an object, but received: "+j(e)},coercer:function(e){return w(e)?Object(s["a"])({},e):e}})}function ie(e){return new A(Object(s["a"])(Object(s["a"])({},e),{},{validator:function(t,r){return void 0===t||e.validator(t,r)},refiner:function(t,r){return void 0===t||e.refiner(t,r)}}))}function ae(e,t){return new A({type:"record",schema:null,entries:Object(a["a"])().mark((function r(n){var i,o;return Object(a["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!w(n)){r.next=11;break}r.t0=Object(a["a"])().keys(n);case 2:if((r.t1=r.t0()).done){r.next=11;break}return i=r.t1.value,o=n[i],r.next=7,[i,i,e];case 7:return r.next=9,[i,o,t];case 9:r.next=2;break;case 11:case"end":return r.stop()}}),r)})),validator:function(e){return w(e)||"Expected an object, but received: "+j(e)}})}function oe(){return L("regexp",(function(e){return e instanceof RegExp}))}function se(e){return new A({type:"set",schema:null,entries:Object(a["a"])().mark((function t(r){var n,i,s;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e&&r instanceof Set)){t.next=18;break}n=Object(o["a"])(r),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=10;break}return s=i.value,t.next=8,[s,s,e];case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})),coercer:function(e){return e instanceof Set?new Set(e):e},validator:function(e){return e instanceof Set||"Expected a `Set` object, but received: "+j(e)}})}function ue(){return L("string",(function(e){return"string"===typeof e||"Expected a string, but received: "+j(e)}))}function ce(e){var t=ee();return new A({type:"tuple",schema:null,entries:Object(a["a"])().mark((function r(n){var i,o;return Object(a["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!Array.isArray(n)){r.next=9;break}i=Math.max(e.length,n.length),o=0;case 3:if(!(o<i)){r.next=9;break}return r.next=6,[o,n[o],e[o]||t];case 6:o++,r.next=3;break;case 9:case"end":return r.stop()}}),r)})),validator:function(e){return Array.isArray(e)||"Expected an array, but received: "+j(e)}})}function le(e){var t=Object.keys(e);return new A({type:"type",schema:e,entries:Object(a["a"])().mark((function r(n){var i,o,s;return Object(a["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!w(n)){r.next=9;break}i=0,o=t;case 2:if(!(i<o.length)){r.next=9;break}return s=o[i],r.next=6,[s,n[s],e[s]];case 6:i++,r.next=2;break;case 9:case"end":return r.stop()}}),r)})),validator:function(e){return w(e)||"Expected an object, but received: "+j(e)}})}function he(e){var t=e.map((function(e){return e.type})).join(" | ");return new A({type:"union",schema:null,validator:function(r,a){var s,u=[],c=Object(o["a"])(e);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=_(r,l,a),d=Object(n["a"])(h),f=d.slice(0),b=Object(i["a"])(f,1),p=b[0];if(!p[0])return[];var y,m=Object(o["a"])(f);try{for(m.s();!(y=m.n()).done;){var v=Object(i["a"])(y.value,1),g=v[0];g&&u.push(g)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){c.e(k)}finally{c.f()}return["Expected the value to satisfy a union of `"+t+"`, but received: "+j(r)].concat(u)}})}function de(){return L("unknown",(function(){return!0}))}function fe(e,t,r){return new A(Object(s["a"])(Object(s["a"])({},e),{},{coercer:function(n,i){return P(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)}}))}function be(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fe(e,de(),(function(e){var n="function"===typeof t?t():t;if(void 0===e)return n;if(!r.strict&&O(e)&&O(n)){var i=Object(s["a"])({},e),a=!1;for(var o in n)void 0===i[o]&&(i[o]=n[o],a=!0);if(a)return i}return e}))}function pe(e){return fe(e,ue(),(function(e){return e.trim()}))}function ye(e){var t="Expected an empty "+e.type;return we(e,"empty",(function(e){if(e instanceof Map||e instanceof Set){var r=e.size;return 0===r||t+" but received one with a size of `"+r+"`"}var n=e.length;return 0===n||t+" but received one with a length of `"+n+"`"}))}function me(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.exclusive;return we(e,"max",(function(r){return n?r<t:r<=t||"Expected a "+e.type+" greater than "+(n?"":"or equal to ")+t+" but received `"+r+"`"}))}function ve(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.exclusive;return we(e,"min",(function(r){return n?r>t:r>=t||"Expected a "+e.type+" greater than "+(n?"":"or equal to ")+t+" but received `"+r+"`"}))}function ge(e,t){return we(e,"pattern",(function(r){return t.test(r)||"Expected a "+e.type+" matching `/"+t.source+'/` but received "'+r+'"'}))}function ke(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n="Expected a "+e.type,i=t===r?"of `"+t+"`":"between `"+t+"` and `"+r+"`";return we(e,"size",(function(e){if("number"===typeof e||e instanceof Date)return t<=e&&e<=r||n+" "+i+" but received `"+e+"`";if(e instanceof Map||e instanceof Set){var a=e.size;return t<=a&&a<=r||n+" with a size "+i+" but received one with a size of `"+a+"`"}var o=e.length;return t<=o&&o<=r||n+" with a length "+i+" but received one with a length of `"+o+"`"}))}function we(e,t,r){return new A(Object(s["a"])(Object(s["a"])({},e),{},{refiner:function(e){var t=Object(a["a"])().mark(r);function r(r,n){var i=arguments;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.delegateYield(e.apply(this,i),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}}),t,this)}return r.toString=function(){return e.toString()},r}(Object(a["a"])().mark((function n(i,u){var c,l,h,d,f;return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.delegateYield(e.refiner(i,u),"t0",1);case 1:c=r(i,u),l=I(c,u,e,i),h=Object(o["a"])(l),n.prev=4,h.s();case 6:if((d=h.n()).done){n.next=12;break}return f=d.value,n.next=10,Object(s["a"])(Object(s["a"])({},f),{},{refinement:t});case 10:n.next=6;break;case 12:n.next=17;break;case 14:n.prev=14,n.t1=n["catch"](4),h.e(n.t1);case 17:return n.prev=17,h.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,14,17,20]])})))}))}},"40d9":function(e,t,r){"use strict";var n=r("23e7"),i=Math.floor,a=Math.log,o=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(a(t+.5)*o):32}})},53195:function(e,t,r){(function(e){var t=r("7037").default;r("d9e2"),r("ac1f"),r("5319"),r("d3b7"),r("25f0"),r("a4d3"),r("e01a"),r("bf19"),r("40d9"),r("4c53"),r("bc01"),r("b0c0"),r("1276"),function(e,n){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===t(e)?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(15).Buffer}catch(M){}function u(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void i(!1,"Invalid character in "+e)}function c(e,t,r){var n=u(e,r);return r-1>=t&&(n|=u(e,r-1)<<4),n}function l(e,t,r,n){for(var a=0,o=0,s=Math.min(e.length,r),u=t;u<s;u++){var c=e.charCodeAt(u)-48;a*=n,o=c>=49?c-49+10:c>=17?c-17+10:c,i(c>=0&&o<n,"Invalid character"),a+=o}return a}function h(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===t(e)&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,r,n){if("number"===typeof e)return this._initNumber(e,r,n);if("object"===t(e))return this._initArray(e,r,n);"hex"===r&&(r=16),i(r===(0|r)&&r>=2&&r<=36),e=e.toString().replace(/\s+/g,"");var a=0;"-"===e[0]&&(a++,this.negative=1),a<e.length&&(16===r?this._parseHex(e,a,n):(this._parseBase(e,r,a),"le"===n&&this._initArray(this.toArray(),r,n)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,o,s=0;if("be"===r)for(n=e.length-1,a=0;n>=0;n-=3)o=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,s+=24,s>=26&&(s-=26,a++);else if("le"===r)for(n=0,a=0;n<e.length;n+=3)o=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,s+=24,s>=26&&(s-=26,a++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else{var s=e.length-t;for(n=s%2===0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8}this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,u=0,c=r;c<s;c+=n)u=l(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(e,c,e.length,t),c=0;c<o;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){h(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){while(this.length<e)this.words[this.length++]=0;return this},o.prototype._strip=function(){while(this.length>1&&0===this.words[this.length-1])this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(M){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(e=e||10,t=0|t||1,16===e||"hex"===e){r="";for(var n=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<n|a)).toString(16);a=s>>>24-n&16777215,n+=2,n>=26&&(n-=26,o--),r=0!==a||o!==this.length-1?f[6-u.length]+u+r:u+r}0!==a&&(r=a.toString(16)+r);while(r.length%t!==0)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=b[e],l=p[e];r="";var h=this.clone();h.negative=0;while(!h.isZero()){var d=h.modrn(l).toString(e);h=h.idivn(l),r=h.isZero()?d+r:f[c-d.length]+d+r}this.isZero()&&(r="0"+r);while(r.length%t!==0)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};var y=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)};function m(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}function v(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var b=c-f|0;i=0|e.words[b],a=0|t.words[f],o=i*a+h,l+=o/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var n=this.byteLength(),a=r||Math.max(1,n);i(n<=a,"byte array longer than desired length"),i(a>0,"Requested array length <= 0");var o=y(e,a),s="le"===t?"LE":"BE";return this["_toArrayLike"+s](o,n),o},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===a?(r<e.length&&(e[r++]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r<e.length){e[r++]=n;while(r<e.length)e[r++]=0}},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===a?(r>=0&&(e[r--]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r>=0){e[r--]=n;while(r>=0)e[r--]=0}},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){while(this.length<e.length)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return i(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return i(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return i(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"===typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)t=(0|r.words[o])-(0|n.words[o])+a,a=t>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)t=(0|r.words[o])+a,a=t>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],b=8191&f,p=f>>>13,y=0|o[2],m=8191&y,v=y>>>13,g=0|o[3],k=8191&g,w=g>>>13,O=0|o[4],j=8191&O,x=O>>>13,S=0|o[5],I=8191&S,_=S>>>13,A=0|o[6],E=8191&A,B=A>>>13,M=0|o[7],P=8191&M,T=M>>>13,R=0|o[8],L=8191&R,C=R>>>13,z=0|o[9],N=8191&z,K=z>>>13,W=0|s[0],U=8191&W,q=W>>>13,D=0|s[1],V=8191&D,F=D>>>13,H=0|s[2],G=8191&H,J=H>>>13,Y=0|s[3],Z=8191&Y,X=Y>>>13,Q=0|s[4],$=8191&Q,ee=Q>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,de=le>>>13,fe=0|s[9],be=8191&fe,pe=fe>>>13;r.negative=e.negative^t.negative,r.length=19,n=Math.imul(h,U),i=Math.imul(h,q),i=i+Math.imul(d,U)|0,a=Math.imul(d,q);var ye=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(b,U),i=Math.imul(b,q),i=i+Math.imul(p,U)|0,a=Math.imul(p,q),n=n+Math.imul(h,V)|0,i=i+Math.imul(h,F)|0,i=i+Math.imul(d,V)|0,a=a+Math.imul(d,F)|0;var me=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,U),i=Math.imul(m,q),i=i+Math.imul(v,U)|0,a=Math.imul(v,q),n=n+Math.imul(b,V)|0,i=i+Math.imul(b,F)|0,i=i+Math.imul(p,V)|0,a=a+Math.imul(p,F)|0,n=n+Math.imul(h,G)|0,i=i+Math.imul(h,J)|0,i=i+Math.imul(d,G)|0,a=a+Math.imul(d,J)|0;var ve=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,U),i=Math.imul(k,q),i=i+Math.imul(w,U)|0,a=Math.imul(w,q),n=n+Math.imul(m,V)|0,i=i+Math.imul(m,F)|0,i=i+Math.imul(v,V)|0,a=a+Math.imul(v,F)|0,n=n+Math.imul(b,G)|0,i=i+Math.imul(b,J)|0,i=i+Math.imul(p,G)|0,a=a+Math.imul(p,J)|0,n=n+Math.imul(h,Z)|0,i=i+Math.imul(h,X)|0,i=i+Math.imul(d,Z)|0,a=a+Math.imul(d,X)|0;var ge=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(j,U),i=Math.imul(j,q),i=i+Math.imul(x,U)|0,a=Math.imul(x,q),n=n+Math.imul(k,V)|0,i=i+Math.imul(k,F)|0,i=i+Math.imul(w,V)|0,a=a+Math.imul(w,F)|0,n=n+Math.imul(m,G)|0,i=i+Math.imul(m,J)|0,i=i+Math.imul(v,G)|0,a=a+Math.imul(v,J)|0,n=n+Math.imul(b,Z)|0,i=i+Math.imul(b,X)|0,i=i+Math.imul(p,Z)|0,a=a+Math.imul(p,X)|0,n=n+Math.imul(h,$)|0,i=i+Math.imul(h,ee)|0,i=i+Math.imul(d,$)|0,a=a+Math.imul(d,ee)|0;var ke=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(I,U),i=Math.imul(I,q),i=i+Math.imul(_,U)|0,a=Math.imul(_,q),n=n+Math.imul(j,V)|0,i=i+Math.imul(j,F)|0,i=i+Math.imul(x,V)|0,a=a+Math.imul(x,F)|0,n=n+Math.imul(k,G)|0,i=i+Math.imul(k,J)|0,i=i+Math.imul(w,G)|0,a=a+Math.imul(w,J)|0,n=n+Math.imul(m,Z)|0,i=i+Math.imul(m,X)|0,i=i+Math.imul(v,Z)|0,a=a+Math.imul(v,X)|0,n=n+Math.imul(b,$)|0,i=i+Math.imul(b,ee)|0,i=i+Math.imul(p,$)|0,a=a+Math.imul(p,ee)|0,n=n+Math.imul(h,re)|0,i=i+Math.imul(h,ne)|0,i=i+Math.imul(d,re)|0,a=a+Math.imul(d,ne)|0;var we=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(E,U),i=Math.imul(E,q),i=i+Math.imul(B,U)|0,a=Math.imul(B,q),n=n+Math.imul(I,V)|0,i=i+Math.imul(I,F)|0,i=i+Math.imul(_,V)|0,a=a+Math.imul(_,F)|0,n=n+Math.imul(j,G)|0,i=i+Math.imul(j,J)|0,i=i+Math.imul(x,G)|0,a=a+Math.imul(x,J)|0,n=n+Math.imul(k,Z)|0,i=i+Math.imul(k,X)|0,i=i+Math.imul(w,Z)|0,a=a+Math.imul(w,X)|0,n=n+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0,i=i+Math.imul(v,$)|0,a=a+Math.imul(v,ee)|0,n=n+Math.imul(b,re)|0,i=i+Math.imul(b,ne)|0,i=i+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0,n=n+Math.imul(h,ae)|0,i=i+Math.imul(h,oe)|0,i=i+Math.imul(d,ae)|0,a=a+Math.imul(d,oe)|0;var Oe=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(P,U),i=Math.imul(P,q),i=i+Math.imul(T,U)|0,a=Math.imul(T,q),n=n+Math.imul(E,V)|0,i=i+Math.imul(E,F)|0,i=i+Math.imul(B,V)|0,a=a+Math.imul(B,F)|0,n=n+Math.imul(I,G)|0,i=i+Math.imul(I,J)|0,i=i+Math.imul(_,G)|0,a=a+Math.imul(_,J)|0,n=n+Math.imul(j,Z)|0,i=i+Math.imul(j,X)|0,i=i+Math.imul(x,Z)|0,a=a+Math.imul(x,X)|0,n=n+Math.imul(k,$)|0,i=i+Math.imul(k,ee)|0,i=i+Math.imul(w,$)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0,i=i+Math.imul(v,re)|0,a=a+Math.imul(v,ne)|0,n=n+Math.imul(b,ae)|0,i=i+Math.imul(b,oe)|0,i=i+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0,n=n+Math.imul(h,ue)|0,i=i+Math.imul(h,ce)|0,i=i+Math.imul(d,ue)|0,a=a+Math.imul(d,ce)|0;var je=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(L,U),i=Math.imul(L,q),i=i+Math.imul(C,U)|0,a=Math.imul(C,q),n=n+Math.imul(P,V)|0,i=i+Math.imul(P,F)|0,i=i+Math.imul(T,V)|0,a=a+Math.imul(T,F)|0,n=n+Math.imul(E,G)|0,i=i+Math.imul(E,J)|0,i=i+Math.imul(B,G)|0,a=a+Math.imul(B,J)|0,n=n+Math.imul(I,Z)|0,i=i+Math.imul(I,X)|0,i=i+Math.imul(_,Z)|0,a=a+Math.imul(_,X)|0,n=n+Math.imul(j,$)|0,i=i+Math.imul(j,ee)|0,i=i+Math.imul(x,$)|0,a=a+Math.imul(x,ee)|0,n=n+Math.imul(k,re)|0,i=i+Math.imul(k,ne)|0,i=i+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(m,ae)|0,i=i+Math.imul(m,oe)|0,i=i+Math.imul(v,ae)|0,a=a+Math.imul(v,oe)|0,n=n+Math.imul(b,ue)|0,i=i+Math.imul(b,ce)|0,i=i+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0,n=n+Math.imul(h,he)|0,i=i+Math.imul(h,de)|0,i=i+Math.imul(d,he)|0,a=a+Math.imul(d,de)|0;var xe=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,U),i=Math.imul(N,q),i=i+Math.imul(K,U)|0,a=Math.imul(K,q),n=n+Math.imul(L,V)|0,i=i+Math.imul(L,F)|0,i=i+Math.imul(C,V)|0,a=a+Math.imul(C,F)|0,n=n+Math.imul(P,G)|0,i=i+Math.imul(P,J)|0,i=i+Math.imul(T,G)|0,a=a+Math.imul(T,J)|0,n=n+Math.imul(E,Z)|0,i=i+Math.imul(E,X)|0,i=i+Math.imul(B,Z)|0,a=a+Math.imul(B,X)|0,n=n+Math.imul(I,$)|0,i=i+Math.imul(I,ee)|0,i=i+Math.imul(_,$)|0,a=a+Math.imul(_,ee)|0,n=n+Math.imul(j,re)|0,i=i+Math.imul(j,ne)|0,i=i+Math.imul(x,re)|0,a=a+Math.imul(x,ne)|0,n=n+Math.imul(k,ae)|0,i=i+Math.imul(k,oe)|0,i=i+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(m,ue)|0,i=i+Math.imul(m,ce)|0,i=i+Math.imul(v,ue)|0,a=a+Math.imul(v,ce)|0,n=n+Math.imul(b,he)|0,i=i+Math.imul(b,de)|0,i=i+Math.imul(p,he)|0,a=a+Math.imul(p,de)|0,n=n+Math.imul(h,be)|0,i=i+Math.imul(h,pe)|0,i=i+Math.imul(d,be)|0,a=a+Math.imul(d,pe)|0;var Se=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(N,V),i=Math.imul(N,F),i=i+Math.imul(K,V)|0,a=Math.imul(K,F),n=n+Math.imul(L,G)|0,i=i+Math.imul(L,J)|0,i=i+Math.imul(C,G)|0,a=a+Math.imul(C,J)|0,n=n+Math.imul(P,Z)|0,i=i+Math.imul(P,X)|0,i=i+Math.imul(T,Z)|0,a=a+Math.imul(T,X)|0,n=n+Math.imul(E,$)|0,i=i+Math.imul(E,ee)|0,i=i+Math.imul(B,$)|0,a=a+Math.imul(B,ee)|0,n=n+Math.imul(I,re)|0,i=i+Math.imul(I,ne)|0,i=i+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0,n=n+Math.imul(j,ae)|0,i=i+Math.imul(j,oe)|0,i=i+Math.imul(x,ae)|0,a=a+Math.imul(x,oe)|0,n=n+Math.imul(k,ue)|0,i=i+Math.imul(k,ce)|0,i=i+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(m,he)|0,i=i+Math.imul(m,de)|0,i=i+Math.imul(v,he)|0,a=a+Math.imul(v,de)|0,n=n+Math.imul(b,be)|0,i=i+Math.imul(b,pe)|0,i=i+Math.imul(p,be)|0,a=a+Math.imul(p,pe)|0;var Ie=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,G),i=Math.imul(N,J),i=i+Math.imul(K,G)|0,a=Math.imul(K,J),n=n+Math.imul(L,Z)|0,i=i+Math.imul(L,X)|0,i=i+Math.imul(C,Z)|0,a=a+Math.imul(C,X)|0,n=n+Math.imul(P,$)|0,i=i+Math.imul(P,ee)|0,i=i+Math.imul(T,$)|0,a=a+Math.imul(T,ee)|0,n=n+Math.imul(E,re)|0,i=i+Math.imul(E,ne)|0,i=i+Math.imul(B,re)|0,a=a+Math.imul(B,ne)|0,n=n+Math.imul(I,ae)|0,i=i+Math.imul(I,oe)|0,i=i+Math.imul(_,ae)|0,a=a+Math.imul(_,oe)|0,n=n+Math.imul(j,ue)|0,i=i+Math.imul(j,ce)|0,i=i+Math.imul(x,ue)|0,a=a+Math.imul(x,ce)|0,n=n+Math.imul(k,he)|0,i=i+Math.imul(k,de)|0,i=i+Math.imul(w,he)|0,a=a+Math.imul(w,de)|0,n=n+Math.imul(m,be)|0,i=i+Math.imul(m,pe)|0,i=i+Math.imul(v,be)|0,a=a+Math.imul(v,pe)|0;var _e=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(N,Z),i=Math.imul(N,X),i=i+Math.imul(K,Z)|0,a=Math.imul(K,X),n=n+Math.imul(L,$)|0,i=i+Math.imul(L,ee)|0,i=i+Math.imul(C,$)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(P,re)|0,i=i+Math.imul(P,ne)|0,i=i+Math.imul(T,re)|0,a=a+Math.imul(T,ne)|0,n=n+Math.imul(E,ae)|0,i=i+Math.imul(E,oe)|0,i=i+Math.imul(B,ae)|0,a=a+Math.imul(B,oe)|0,n=n+Math.imul(I,ue)|0,i=i+Math.imul(I,ce)|0,i=i+Math.imul(_,ue)|0,a=a+Math.imul(_,ce)|0,n=n+Math.imul(j,he)|0,i=i+Math.imul(j,de)|0,i=i+Math.imul(x,he)|0,a=a+Math.imul(x,de)|0,n=n+Math.imul(k,be)|0,i=i+Math.imul(k,pe)|0,i=i+Math.imul(w,be)|0,a=a+Math.imul(w,pe)|0;var Ae=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,$),i=Math.imul(N,ee),i=i+Math.imul(K,$)|0,a=Math.imul(K,ee),n=n+Math.imul(L,re)|0,i=i+Math.imul(L,ne)|0,i=i+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(P,ae)|0,i=i+Math.imul(P,oe)|0,i=i+Math.imul(T,ae)|0,a=a+Math.imul(T,oe)|0,n=n+Math.imul(E,ue)|0,i=i+Math.imul(E,ce)|0,i=i+Math.imul(B,ue)|0,a=a+Math.imul(B,ce)|0,n=n+Math.imul(I,he)|0,i=i+Math.imul(I,de)|0,i=i+Math.imul(_,he)|0,a=a+Math.imul(_,de)|0,n=n+Math.imul(j,be)|0,i=i+Math.imul(j,pe)|0,i=i+Math.imul(x,be)|0,a=a+Math.imul(x,pe)|0;var Ee=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(N,re),i=Math.imul(N,ne),i=i+Math.imul(K,re)|0,a=Math.imul(K,ne),n=n+Math.imul(L,ae)|0,i=i+Math.imul(L,oe)|0,i=i+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(P,ue)|0,i=i+Math.imul(P,ce)|0,i=i+Math.imul(T,ue)|0,a=a+Math.imul(T,ce)|0,n=n+Math.imul(E,he)|0,i=i+Math.imul(E,de)|0,i=i+Math.imul(B,he)|0,a=a+Math.imul(B,de)|0,n=n+Math.imul(I,be)|0,i=i+Math.imul(I,pe)|0,i=i+Math.imul(_,be)|0,a=a+Math.imul(_,pe)|0;var Be=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(N,ae),i=Math.imul(N,oe),i=i+Math.imul(K,ae)|0,a=Math.imul(K,oe),n=n+Math.imul(L,ue)|0,i=i+Math.imul(L,ce)|0,i=i+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(P,he)|0,i=i+Math.imul(P,de)|0,i=i+Math.imul(T,he)|0,a=a+Math.imul(T,de)|0,n=n+Math.imul(E,be)|0,i=i+Math.imul(E,pe)|0,i=i+Math.imul(B,be)|0,a=a+Math.imul(B,pe)|0;var Me=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,ue),i=Math.imul(N,ce),i=i+Math.imul(K,ue)|0,a=Math.imul(K,ce),n=n+Math.imul(L,he)|0,i=i+Math.imul(L,de)|0,i=i+Math.imul(C,he)|0,a=a+Math.imul(C,de)|0,n=n+Math.imul(P,be)|0,i=i+Math.imul(P,pe)|0,i=i+Math.imul(T,be)|0,a=a+Math.imul(T,pe)|0;var Pe=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,he),i=Math.imul(N,de),i=i+Math.imul(K,he)|0,a=Math.imul(K,de),n=n+Math.imul(L,be)|0,i=i+Math.imul(L,pe)|0,i=i+Math.imul(C,be)|0,a=a+Math.imul(C,pe)|0;var Te=(c+n|0)+((8191&i)<<13)|0;c=(a+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,be),i=Math.imul(N,pe),i=i+Math.imul(K,be)|0,a=Math.imul(K,pe);var Re=(c+n|0)+((8191&i)<<13)|0;return c=(a+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,u[0]=ye,u[1]=me,u[2]=ve,u[3]=ge,u[4]=ke,u[5]=we,u[6]=Oe,u[7]=je,u[8]=xe,u[9]=Se,u[10]=Ie,u[11]=_e,u[12]=Ae,u[13]=Ee,u[14]=Be,u[15]=Me,u[16]=Pe,u[17]=Te,u[18]=Re,0!==c&&(u[19]=c,r.length++),r};function k(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,h=0|e.words[l],d=0|t.words[c],f=h*d,b=67108863&f;o=o+(f/67108864|0)|0,b=b+s|0,s=67108863&b,o=o+(b>>>26)|0,i+=o>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r._strip()}function w(e,t,r){return k(e,t,r)}function O(e,t){this.x=e,this.y=t}Math.imul||(g=v),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?g(this,e,t):n<63?v(this,e,t):n<1024?k(this,e,t):w(this,e,t),r},O.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},O.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},O.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},O.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var h=u,d=c,f=0;f<o;f++){var b=r[l+f],p=n[l+f],y=r[l+f+o],m=n[l+f+o],v=h*y-d*m;m=h*m+d*y,y=v,r[l+f]=b+y,n[l+f]=p+m,r[l+f+o]=b-y,n[l+f+o]=p-m,f!==s&&(v=u*h-c*d,d=u*d+c*h,h=v)}},O.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},O.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},O.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},O.prototype.convert13b=function(e,t,r,n){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===a),i(0===(-8192&a))},O.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},O.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,h,n,i);for(var f=0;f<n;f++){var b=s[f]*l[f]-u[f]*h[f];u[f]=s[f]*h[f]+u[f]*l[f],s[f]=b}return this.conjugate(s,u,n),this.transform(s,u,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),w(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),i("number"===typeof e),i(e<67108864);for(var r=0,n=0;n<this.length;n++){var a=(0|this.words[n])*e,o=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=o>>>26,this.words[n]=67108863&o}return 0!==r&&(this.words[n]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=m(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length;n++,r=r.sqr())if(0!==t[n])break;if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){i("number"===typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var n;i("number"===typeof e&&e>=0),n=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(n-=o,n=Math.max(0,n),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=n);c--){var h=0|this.words[c];this.words[c]=l<<26-a|h>>>a,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return!1;var a=this.words[r];return!!(a&n)},o.prototype.imaskn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"===typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"===typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,a,o=e.length+r;this._expand(o);var s=0;for(n=0;n<e.length;n++){a=(0|this.words[n+r])+s;var u=(0|e.words[n])*t;a-=67108863&u,s=(a>>26)-(u/67108864|0),this.words[n+r]=67108863&a}for(;n<this.length-r;n++)a=(0|this.words[n+r])+s,s=a>>26,this.words[n+r]=67108863&a;if(0===s)return this._strip();for(i(-1===s),s=0,n=0;n<this.length;n++)a=-(0|this.words[n])+s,s=a>>26,this.words[n]=67108863&a;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=this.length-e.length,n=this.clone(),i=e,a=0|i.words[i.length-1],s=this._countBits(a);r=26-s,0!==r&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var u,c=n.length-i.length;if("mod"!==t){u=new o(null),u.length=c+1,u.words=new Array(u.length);for(var l=0;l<u.length;l++)u.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,c);0===h.negative&&(n=h,u&&(u.words[c]=1));for(var d=c-1;d>=0;d--){var f=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,d);while(0!==n.negative)f--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);u&&(u.words[d]=f)}return u&&u._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:u||null,mod:n}},o.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var n,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var r=(1<<26)%e,n=0,a=this.length-1;a>=0;a--)n=(r*n+(0|this.words[a]))%e;return t?-n:n},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var a=(0|this.words[n])+67108864*r;this.words[n]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();var n=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;while(t.isEven()&&r.isEven())t.iushrn(1),r.iushrn(1),++c;var l=r.clone(),h=t.clone();while(!t.isZero()){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0){t.iushrn(d);while(d-- >0)(n.isOdd()||a.isOdd())&&(n.iadd(l),a.isub(h)),n.iushrn(1),a.iushrn(1)}for(var b=0,p=1;0===(r.words[0]&p)&&b<26;++b,p<<=1);if(b>0){r.iushrn(b);while(b-- >0)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1)}t.cmp(r)>=0?(t.isub(r),n.isub(s),a.isub(u)):(r.isub(t),s.isub(n),u.isub(a))}return{a:s,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();var n,a=new o(1),s=new o(0),u=r.clone();while(t.cmpn(1)>0&&r.cmpn(1)>0){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0){t.iushrn(c);while(c-- >0)a.isOdd()&&a.iadd(u),a.iushrn(1)}for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0){r.iushrn(h);while(h-- >0)s.isOdd()&&s.iadd(u),s.iushrn(1)}t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return n=0===t.cmpn(1)?a:s,n.cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);do{while(t.isEven())t.iushrn(1);while(r.isEven())r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}while(1);return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"===typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var a=n,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];s+=a,a=s>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var j={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function B(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),t=r.bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},a(S,x),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(I,x),a(_,x),a(A,x),A.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(j[e])return j[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new I;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return j[e]=t,t},E.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){i(0===(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(h(e,e.umod(this.m)._forceRed(this)),e)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}var n=this.m.subn(1),a=0;while(!n.isZero()&&0===n.andln(1))a++,n.iushrn(1);i(!n.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();l=new o(2*l*l).toRed(this);while(0!==this.pow(l,c).cmp(u))l.redIAdd(u);var h=this.pow(l,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),b=a;while(0!==f.cmp(s)){for(var p=f,y=0;0!==p.cmp(s);y++)p=p.redSqr();i(y<b);var m=this.pow(h,new o(1).iushln(b-y-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),b=y}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=4,n=new Array(1<<r);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var a=n[0],s=0,u=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],h=c-1;h>=0;h--){var d=l>>h&1;a!==n[0]&&(a=this.sqr(a)),0!==d||0!==s?(s<<=1,s|=d,u++,(u===r||0===i&&0===h)&&(a=this.mul(a,n[s]),u=0,s=0)):u=0}c=26}return a},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new B(e)},a(B,E),B.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},B.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},B.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},B.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},B.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}(e,this)}).call(this,r("62e4")(e))},"64b9":function(e,t,r){"use strict";r.r(t),r.d(t,"Account",(function(){return ie})),r.d(t,"AddressLookupTableAccount",(function(){return Et})),r.d(t,"AddressLookupTableInstruction",(function(){return Pn})),r.d(t,"AddressLookupTableProgram",(function(){return Tn})),r.d(t,"Authorized",(function(){return Qn})),r.d(t,"BLOCKHASH_CACHE_TIMEOUT_MS",(function(){return Ct})),r.d(t,"BPF_LOADER_DEPRECATED_PROGRAM_ID",(function(){return ae})),r.d(t,"BPF_LOADER_PROGRAM_ID",(function(){return lt})),r.d(t,"BpfLoader",(function(){return ht})),r.d(t,"COMPUTE_BUDGET_INSTRUCTION_LAYOUTS",(function(){return Ln})),r.d(t,"ComputeBudgetInstruction",(function(){return Rn})),r.d(t,"ComputeBudgetProgram",(function(){return Cn})),r.d(t,"Connection",(function(){return En})),r.d(t,"Ed25519Program",(function(){return Un})),r.d(t,"Enum",(function(){return X})),r.d(t,"EpochSchedule",(function(){return wt})),r.d(t,"FeeCalculatorLayout",(function(){return Qe})),r.d(t,"Keypair",(function(){return Bn})),r.d(t,"LAMPORTS_PER_SOL",(function(){return Oi})),r.d(t,"LOOKUP_TABLE_INSTRUCTION_LAYOUTS",(function(){return Mn})),r.d(t,"Loader",(function(){return ct})),r.d(t,"Lockup",(function(){return $n})),r.d(t,"MAX_SEED_LENGTH",(function(){return $})),r.d(t,"Message",(function(){return Se})),r.d(t,"MessageAccountKeys",(function(){return de})),r.d(t,"MessageV0",(function(){return Ie})),r.d(t,"NONCE_ACCOUNT_LENGTH",(function(){return et})),r.d(t,"NonceAccount",(function(){return tt})),r.d(t,"PACKET_DATA_SIZE",(function(){return oe})),r.d(t,"PUBLIC_KEY_LENGTH",(function(){return ee})),r.d(t,"PublicKey",(function(){return ne})),r.d(t,"SIGNATURE_LENGTH_IN_BYTES",(function(){return ue})),r.d(t,"SOLANA_SCHEMA",(function(){return Q})),r.d(t,"STAKE_CONFIG_ID",(function(){return Xn})),r.d(t,"STAKE_INSTRUCTION_LAYOUTS",(function(){return ti})),r.d(t,"SYSTEM_INSTRUCTION_LAYOUTS",(function(){return ot})),r.d(t,"SYSVAR_CLOCK_PUBKEY",(function(){return Ne})),r.d(t,"SYSVAR_EPOCH_SCHEDULE_PUBKEY",(function(){return Ke})),r.d(t,"SYSVAR_INSTRUCTIONS_PUBKEY",(function(){return We})),r.d(t,"SYSVAR_RECENT_BLOCKHASHES_PUBKEY",(function(){return Ue})),r.d(t,"SYSVAR_RENT_PUBKEY",(function(){return qe})),r.d(t,"SYSVAR_REWARDS_PUBKEY",(function(){return De})),r.d(t,"SYSVAR_SLOT_HASHES_PUBKEY",(function(){return Ve})),r.d(t,"SYSVAR_SLOT_HISTORY_PUBKEY",(function(){return Fe})),r.d(t,"SYSVAR_STAKE_HISTORY_PUBKEY",(function(){return He})),r.d(t,"Secp256k1Program",(function(){return Zn})),r.d(t,"SendTransactionError",(function(){return Ot})),r.d(t,"SolanaJSONRPCError",(function(){return xt})),r.d(t,"SolanaJSONRPCErrorCode",(function(){return jt})),r.d(t,"StakeAuthorizationLayout",(function(){return ri})),r.d(t,"StakeInstruction",(function(){return ei})),r.d(t,"StakeProgram",(function(){return ni})),r.d(t,"Struct",(function(){return Z})),r.d(t,"SystemInstruction",(function(){return at})),r.d(t,"SystemProgram",(function(){return st})),r.d(t,"Transaction",(function(){return Me})),r.d(t,"TransactionExpiredBlockheightExceededError",(function(){return ce})),r.d(t,"TransactionExpiredNonceInvalidError",(function(){return he})),r.d(t,"TransactionExpiredTimeoutError",(function(){return le})),r.d(t,"TransactionInstruction",(function(){return Be})),r.d(t,"TransactionMessage",(function(){return Pe})),r.d(t,"TransactionStatus",(function(){return Ae})),r.d(t,"VALIDATOR_INFO_KEY",(function(){return ci})),r.d(t,"VERSION_PREFIX_MASK",(function(){return se})),r.d(t,"VOTE_PROGRAM_ID",(function(){return di})),r.d(t,"ValidatorInfo",(function(){return hi})),r.d(t,"VersionedMessage",(function(){return _e})),r.d(t,"VersionedTransaction",(function(){return Te})),r.d(t,"VoteAccount",(function(){return bi})),r.d(t,"VoteAuthorizationLayout",(function(){return si})),r.d(t,"VoteInit",(function(){return ii})),r.d(t,"VoteInstruction",(function(){return ai})),r.d(t,"VoteProgram",(function(){return ui})),r.d(t,"clusterApiUrl",(function(){return gi})),r.d(t,"sendAndConfirmRawTransaction",(function(){return ki})),r.d(t,"sendAndConfirmTransaction",(function(){return Ge}));var n=r("15fd"),i=r("45eb"),a=r("7e84"),o=r("53ca"),s=r("5530"),u=r("3835"),c=r("2909"),l=r("b85c"),h=r("9072"),d=r("c7eb"),f=r("1da1"),b=r("262e"),p=r("2caf"),y=r("d4ec"),m=r("bee2"),v=(r("ace4"),r("d3b7"),r("5cc6"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("986a"),r("1d02"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("6ce5"),r("2834"),r("72f7"),r("4ea1"),r("fb6a"),r("b64b"),r("d9e2"),r("d81d"),r("4ec9"),r("3ca3"),r("ddb0"),r("944a"),r("0c47"),r("23dc"),r("a4d3"),r("e01a"),r("25f0"),r("99af"),r("159b"),r("b680"),r("14d9"),r("0481"),r("4069"),r("4de4"),r("c740"),r("a630"),r("13d5"),r("7db0"),r("a434"),r("cb29"),r("bf19"),r("e9c4"),r("caad"),r("4e82"),r("6062"),r("4fad"),r("dca8"),r("2532"),r("b0c0"),r("6c57"),r("ac1f"),r("466d"),r("2ca0"),r("00b4"),r("a15b"),r("aff5"),r("a9e3"),r("1c35")),g=r("aecc"),k=r("53195"),w=r.n(k),O=r("8ab6"),j=r.n(O),x=r("d129"),S=r("224e"),I=r("8df2"),_=r("9ea2"),A=r("2a33"),E=r("502a"),B=r.n(E),M=r("e01f"),P=r.n(M),T=r("136e"),R=r.n(T),L=r("00e3"),C=r("fb4a"),z=["commitment"],N=["encoding"],K=["commitment"],W=["commitment"],U=g["ed25519"].utils.randomPrivateKey,q=function(){var e=g["ed25519"].utils.randomPrivateKey(),t=D(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},D=g["ed25519"].getPublicKey;function V(e){try{return g["ed25519"].ExtendedPoint.fromHex(e),!0}catch(t){return!1}}var F,H,G=function(e,t){return g["ed25519"].sign(e,t.slice(0,32))},J=g["ed25519"].verify,Y=function(e){return v["Buffer"].isBuffer(e)?e:e instanceof Uint8Array?v["Buffer"].from(e.buffer,e.byteOffset,e.byteLength):v["Buffer"].from(e)},Z=function(){function e(t){Object(y["a"])(this,e),Object.assign(this,t)}return Object(m["a"])(e,[{key:"encode",value:function(){return v["Buffer"].from(Object(S["serialize"])(Q,this))}}],[{key:"decode",value:function(e){return Object(S["deserialize"])(Q,this,e)}},{key:"decodeUnchecked",value:function(e){return Object(S["deserializeUnchecked"])(Q,this,e)}}]),e}(),X=function(e){Object(b["a"])(r,e);var t=Object(p["a"])(r);function r(e){var n;if(Object(y["a"])(this,r),n=t.call(this,e),n.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");return Object.keys(e).map((function(e){n.enum=e})),n}return Object(m["a"])(r)}(Z),Q=new Map,$=32,ee=32;function te(e){return void 0!==e._bn}var re=1;H=Symbol.toStringTag;var ne=function(e,t){Object(b["a"])(n,e);var r=Object(p["a"])(n);function n(e){var t;if(Object(y["a"])(this,n),t=r.call(this,{}),t._bn=void 0,te(e))t._bn=e._bn;else{if("string"===typeof e){var i=j.a.decode(e);if(i.length!=ee)throw new Error("Invalid public key input");t._bn=new w.a(i)}else t._bn=new w.a(e);if(t._bn.byteLength()>ee)throw new Error("Invalid public key input")}return t}return Object(m["a"])(n,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return j.a.encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){var e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(v["Buffer"]);if(e.length===ee)return e;var t=v["Buffer"].alloc(32);return e.copy(t,32-e.length),t}},{key:t,get:function(){return"PublicKey(".concat(this.toString(),")")}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var e=new n(re);return re+=1,new n(e.toBuffer())}},{key:"createWithSeed",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,i){var a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=v["Buffer"].concat([t.toBuffer(),v["Buffer"].from(r),i.toBuffer()]),o=Object(x["sha256"])(a),e.abrupt("return",new n(o));case 3:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"createProgramAddressSync",value:function(e,t){var r=v["Buffer"].alloc(0);e.forEach((function(e){if(e.length>$)throw new TypeError("Max seed length exceeded");r=v["Buffer"].concat([r,Y(e)])})),r=v["Buffer"].concat([r,t.toBuffer(),v["Buffer"].from("ProgramDerivedAddress")]);var i=Object(x["sha256"])(r);if(V(i))throw new Error("Invalid seeds, address must fall off the curve");return new n(i)}},{key:"createProgramAddress",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"findProgramAddressSync",value:function(e,t){var r,n=255;while(0!=n){try{var i=e.concat(v["Buffer"].from([n]));r=this.createProgramAddressSync(i,t)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"isOnCurve",value:function(e){var t=new n(e);return V(t.toBytes())}}]),n}(Z,H);F=ne,ne.default=new F("11111111111111111111111111111111"),Q.set(ne,{kind:"struct",fields:[["_bn","u256"]]});var ie=function(){function e(t){if(Object(y["a"])(this,e),this._publicKey=void 0,this._secretKey=void 0,t){var r=Y(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Y(U()),this._publicKey=Y(D(this._secretKey))}return Object(m["a"])(e,[{key:"publicKey",get:function(){return new ne(this._publicKey)}},{key:"secretKey",get:function(){return v["Buffer"].concat([this._secretKey,this._publicKey],64)}}]),e}(),ae=new ne("BPFLoader1111111111111111111111111111111111"),oe=1232,se=127,ue=64,ce=function(e){Object(b["a"])(r,e);var t=Object(p["a"])(r);function r(e){var n;return Object(y["a"])(this,r),n=t.call(this,"Signature ".concat(e," has expired: block height exceeded.")),n.signature=void 0,n.signature=e,n}return Object(m["a"])(r)}(Object(h["a"])(Error));Object.defineProperty(ce.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var le=function(e){Object(b["a"])(r,e);var t=Object(p["a"])(r);function r(e,n){var i;return Object(y["a"])(this,r),i=t.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools.")),i.signature=void 0,i.signature=e,i}return Object(m["a"])(r)}(Object(h["a"])(Error));Object.defineProperty(le.prototype,"name",{value:"TransactionExpiredTimeoutError"});var he=function(e){Object(b["a"])(r,e);var t=Object(p["a"])(r);function r(e){var n;return Object(y["a"])(this,r),n=t.call(this,"Signature ".concat(e," has expired: the nonce is no longer valid.")),n.signature=void 0,n.signature=e,n}return Object(m["a"])(r)}(Object(h["a"])(Error));Object.defineProperty(he.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var de=function(){function e(t,r){Object(y["a"])(this,e),this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}return Object(m["a"])(e,[{key:"keySegments",value:function(){var e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}},{key:"get",value:function(e){var t,r=Object(l["a"])(this.keySegments());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e<n.length)return n[e];e-=n.length}}catch(i){r.e(i)}finally{r.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(e){var t=255;if(this.length>t+1)throw new Error("Account index overflow encountered during compilation");var r=new Map;this.keySegments().flat().forEach((function(e,t){r.set(e.toBase58(),t)}));var n=function(e){var t=r.get(e.toBase58());if(void 0===t)throw new Error("Encountered an unknown instruction account key during compilation");return t};return e.map((function(e){return{programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((function(e){return n(e.pubkey)})),data:e.data}}))}}]),e}(),fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return I["blob"](32,e)},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature";return I["blob"](64,e)},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=I["struct"]([I["u32"]("length"),I["u32"]("lengthPadding"),I["blob"](I["offset"](I["u32"](),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=function(e,t){var n=r(e,t);return n["chars"].toString()},i.encode=function(e,t,r){var i={chars:v["Buffer"].from(e,"utf8")};return n(i,t,r)},i.alloc=function(e){return I["u32"]().span+I["u32"]().span+v["Buffer"].from(e,"utf8").length},i},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return I["struct"]([fe("staker"),fe("withdrawer")],e)},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return I["struct"]([I["ns64"]("unixTimestamp"),I["ns64"]("epoch"),fe("custodian")],e)},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return I["struct"]([fe("nodePubkey"),fe("authorizedVoter"),fe("authorizedWithdrawer"),I["u8"]("commission")],e)},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return I["struct"]([I["u32"]("voteAuthorizationType"),fe("currentAuthorityDerivedKeyOwnerPubkey"),pe("currentAuthorityDerivedKeySeed"),fe("newAuthorized")],e)};function ke(e,t){var r=function e(r){if(r.span>=0)return r.span;if("function"===typeof r.alloc)return r.alloc(t[r.property]);if("count"in r&&"elementLayout"in r){var n=t[r.property];if(Array.isArray(n))return n.length*e(r.elementLayout)}else if("fields"in r)return ke({layout:r},t[r.property]);return 0},n=0;return e.layout.fields.forEach((function(e){n+=r(e)})),n}function we(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function Oe(e,t){for(var r=t;;){var n=127&r;if(r>>=7,0==r){e.push(n);break}n|=128,e.push(n)}}function je(e,t){if(!e)throw new Error(t||"Assertion failed")}var xe=function(){function e(t,r){Object(y["a"])(this,e),this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}return Object(m["a"])(e,[{key:"getMessageComponents",value:function(){var e=Object(c["a"])(this.keyMetaMap.entries());je(e.length<=256,"Max static account keys length exceeded");var t=e.filter((function(e){var t=Object(u["a"])(e,2),r=t[1];return r.isSigner&&r.isWritable})),r=e.filter((function(e){var t=Object(u["a"])(e,2),r=t[1];return r.isSigner&&!r.isWritable})),n=e.filter((function(e){var t=Object(u["a"])(e,2),r=t[1];return!r.isSigner&&r.isWritable})),i=e.filter((function(e){var t=Object(u["a"])(e,2),r=t[1];return!r.isSigner&&!r.isWritable})),a={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};je(t.length>0,"Expected at least one writable signer key");var o=Object(u["a"])(t[0],1),s=o[0];je(s===this.payer.toBase58(),"Expected first writable signer key to be the fee payer");var l=[].concat(Object(c["a"])(t.map((function(e){var t=Object(u["a"])(e,1),r=t[0];return new ne(r)}))),Object(c["a"])(r.map((function(e){var t=Object(u["a"])(e,1),r=t[0];return new ne(r)}))),Object(c["a"])(n.map((function(e){var t=Object(u["a"])(e,1),r=t[0];return new ne(r)}))),Object(c["a"])(i.map((function(e){var t=Object(u["a"])(e,1),r=t[0];return new ne(r)}))));return[a,l]}},{key:"extractTableLookup",value:function(e){var t=this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&e.isWritable})),r=Object(u["a"])(t,2),n=r[0],i=r[1],a=this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&!e.isWritable})),o=Object(u["a"])(a,2),s=o[0],c=o[1];if(0!==n.length||0!==s.length)return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:i,readonly:c}]}},{key:"drainKeysFoundInLookupTable",value:function(e,t){var r,n=this,i=new Array,a=new Array,o=Object(l["a"])(this.keyMetaMap.entries());try{var s=function(){var o=Object(u["a"])(r.value,2),s=o[0],c=o[1];if(t(c)){var l=new ne(s),h=e.findIndex((function(e){return e.equals(l)}));h>=0&&(je(h<256,"Max lookup table index exceeded"),i.push(h),a.push(l),n.keyMetaMap.delete(s))}};for(o.s();!(r=o.n()).done;)s()}catch(c){o.e(c)}finally{o.f()}return[i,a]}}],[{key:"compile",value:function(t,r){var n=new Map,i=function(e){var t=e.toBase58(),r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},a=i(r);a.isSigner=!0,a.isWritable=!0;var o,s=Object(l["a"])(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;i(u.programId).isInvoked=!0;var c,h=Object(l["a"])(u.keys);try{for(h.s();!(c=h.n()).done;){var d=c.value,f=i(d.pubkey);f.isSigner||(f.isSigner=d.isSigner),f.isWritable||(f.isWritable=d.isWritable)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){s.e(b)}finally{s.f()}return new e(r,n)}}]),e}(),Se=function(){function e(t){var r=this;Object(y["a"])(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new ne(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return Object(m["a"])(e,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map((function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:j.a.decode(e.data)}}))}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new de(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){var r=e-t,n=this.accountKeys.length-t,i=n-this.header.numReadonlyUnsignedAccounts;return r<i}var a=t-this.header.numReadonlySignedAccounts;return e<a}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return Object(c["a"])(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];Oe(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=Array.from(j.a.decode(e.data)),i=[];Oe(i,t.length);var a=[];return Oe(a,n.length),{programIdIndex:r,keyIndicesCount:v["Buffer"].from(i),keyIndices:t,dataLength:v["Buffer"].from(a),data:n}})),n=[];Oe(n,r.length);var i=v["Buffer"].alloc(oe);v["Buffer"].from(n).copy(i);var a=n.length;r.forEach((function(e){var t=I["struct"]([I["u8"]("programIdIndex"),I["blob"](e.keyIndicesCount.length,"keyIndicesCount"),I["seq"](I["u8"]("keyIndex"),e.keyIndices.length,"keyIndices"),I["blob"](e.dataLength.length,"dataLength"),I["seq"](I["u8"]("userdatum"),e.data.length,"data")]),r=t.encode(e,i,a);a+=r})),i=i.slice(0,a);var o=I["struct"]([I["blob"](1,"numRequiredSignatures"),I["blob"](1,"numReadonlySignedAccounts"),I["blob"](1,"numReadonlyUnsignedAccounts"),I["blob"](t.length,"keyCount"),I["seq"](fe("key"),e,"keys"),fe("recentBlockhash")]),s={numRequiredSignatures:v["Buffer"].from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:v["Buffer"].from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:v["Buffer"].from([this.header.numReadonlyUnsignedAccounts]),keyCount:v["Buffer"].from(t),keys:this.accountKeys.map((function(e){return Y(e.toBytes())})),recentBlockhash:j.a.decode(this.recentBlockhash)},u=v["Buffer"].alloc(2048),c=o.encode(s,u);return i.copy(u,c),u.slice(0,c+i.length)}}],[{key:"compile",value:function(t){var r=xe.compile(t.instructions,t.payerKey),n=r.getMessageComponents(),i=Object(u["a"])(n,2),a=i[0],o=i[1],s=new de(o),c=s.compileInstructions(t.instructions).map((function(e){return{programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:j.a.encode(e.data)}}));return new e({header:a,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:c})}},{key:"from",value:function(t){var r=Object(c["a"])(t),n=r.shift();if(n!==(n&se))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var i=r.shift(),a=r.shift(),o=we(r),s=[],u=0;u<o;u++){var l=r.slice(0,ee);r=r.slice(ee),s.push(new ne(v["Buffer"].from(l)))}var h=r.slice(0,ee);r=r.slice(ee);for(var d=we(r),f=[],b=0;b<d;b++){var p=r.shift(),y=we(r),m=r.slice(0,y);r=r.slice(y);var g=we(r),k=r.slice(0,g),w=j.a.encode(v["Buffer"].from(k));r=r.slice(g),f.push({programIdIndex:p,accounts:m,data:w})}var O={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:j.a.encode(v["Buffer"].from(h)),accountKeys:s,instructions:f};return new e(O)}}]),e}(),Ie=function(){function e(t){Object(y["a"])(this,e),this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}return Object(m["a"])(e,[{key:"version",get:function(){return 0}},{key:"numAccountKeysFromLookups",get:function(){var e,t=0,r=Object(l["a"])(this.addressTableLookups);try{for(r.s();!(e=r.n()).done;){var n=e.value;t+=n.readonlyIndexes.length+n.writableIndexes.length}}catch(i){r.e(i)}finally{r.f()}return t}},{key:"getAccountKeys",value:function(e){var t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new de(this.staticAccountKeys,t)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){var n=e-r,i=this.addressTableLookups.reduce((function(e,t){return e+t.writableIndexes.length}),0);return n<i}if(e>=this.header.numRequiredSignatures){var a=e-t,o=r-t,s=o-this.header.numReadonlyUnsignedAccounts;return a<s}var u=t-this.header.numReadonlySignedAccounts;return e<u}},{key:"resolveAddressTableLookups",value:function(e){var t,r={writable:[],readonly:[]},n=Object(l["a"])(this.addressTableLookups);try{var i=function(){var n=t.value,i=e.find((function(e){return e.key.equals(n.accountKey)}));if(!i)throw new Error("Failed to find address lookup table account for table key ".concat(n.accountKey.toBase58()));var a,o=Object(l["a"])(n.writableIndexes);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(!(s<i.state.addresses.length))throw new Error("Failed to find address for index ".concat(s," in address lookup table ").concat(n.accountKey.toBase58()));r.writable.push(i.state.addresses[s])}}catch(d){o.e(d)}finally{o.f()}var u,c=Object(l["a"])(n.readonlyIndexes);try{for(c.s();!(u=c.n()).done;){var h=u.value;if(!(h<i.state.addresses.length))throw new Error("Failed to find address for index ".concat(h," in address lookup table ").concat(n.accountKey.toBase58()));r.readonly.push(i.state.addresses[h])}}catch(d){c.e(d)}finally{c.f()}};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}return r}},{key:"serialize",value:function(){var e=Array();Oe(e,this.staticAccountKeys.length);var t=this.serializeInstructions(),r=Array();Oe(r,this.compiledInstructions.length);var n=this.serializeAddressTableLookups(),i=Array();Oe(i,this.addressTableLookups.length);var a=I["struct"]([I["u8"]("prefix"),I["struct"]([I["u8"]("numRequiredSignatures"),I["u8"]("numReadonlySignedAccounts"),I["u8"]("numReadonlyUnsignedAccounts")],"header"),I["blob"](e.length,"staticAccountKeysLength"),I["seq"](fe(),this.staticAccountKeys.length,"staticAccountKeys"),fe("recentBlockhash"),I["blob"](r.length,"instructionsLength"),I["blob"](t.length,"serializedInstructions"),I["blob"](i.length,"addressTableLookupsLength"),I["blob"](n.length,"serializedAddressTableLookups")]),o=new Uint8Array(oe),s=128,u=a.encode({prefix:s,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((function(e){return e.toBytes()})),recentBlockhash:j.a.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},o);return o.slice(0,u)}},{key:"serializeInstructions",value:function(){var e,t=0,r=new Uint8Array(oe),n=Object(l["a"])(this.compiledInstructions);try{for(n.s();!(e=n.n()).done;){var i=e.value,a=Array();Oe(a,i.accountKeyIndexes.length);var o=Array();Oe(o,i.data.length);var s=I["struct"]([I["u8"]("programIdIndex"),I["blob"](a.length,"encodedAccountKeyIndexesLength"),I["seq"](I["u8"](),i.accountKeyIndexes.length,"accountKeyIndexes"),I["blob"](o.length,"encodedDataLength"),I["blob"](i.data.length,"data")]);t+=s.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},r,t)}}catch(u){n.e(u)}finally{n.f()}return r.slice(0,t)}},{key:"serializeAddressTableLookups",value:function(){var e,t=0,r=new Uint8Array(oe),n=Object(l["a"])(this.addressTableLookups);try{for(n.s();!(e=n.n()).done;){var i=e.value,a=Array();Oe(a,i.writableIndexes.length);var o=Array();Oe(o,i.readonlyIndexes.length);var s=I["struct"]([fe("accountKey"),I["blob"](a.length,"encodedWritableIndexesLength"),I["seq"](I["u8"](),i.writableIndexes.length,"writableIndexes"),I["blob"](o.length,"encodedReadonlyIndexesLength"),I["seq"](I["u8"](),i.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},r,t)}}catch(u){n.e(u)}finally{n.f()}return r.slice(0,t)}}],[{key:"compile",value:function(t){var r,n=xe.compile(t.instructions,t.payerKey),i=new Array,a={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[],s=Object(l["a"])(o);try{for(s.s();!(r=s.n()).done;){var h=r.value,d=n.extractTableLookup(h);if(void 0!==d){var f,b,p=Object(u["a"])(d,2),y=p[0],m=p[1],v=m.writable,g=m.readonly;i.push(y),(f=a.writable).push.apply(f,Object(c["a"])(v)),(b=a.readonly).push.apply(b,Object(c["a"])(g))}}}catch(I){s.e(I)}finally{s.f()}var k=n.getMessageComponents(),w=Object(u["a"])(k,2),O=w[0],j=w[1],x=new de(j,a),S=x.compileInstructions(t.instructions);return new e({header:O,staticAccountKeys:j,recentBlockhash:t.recentBlockhash,compiledInstructions:S,addressTableLookups:i})}},{key:"deserialize",value:function(t){var r=Object(c["a"])(t),n=r.shift(),i=n&se;je(n!==i,"Expected versioned message but received legacy message");var a=i;je(0===a,"Expected versioned message with version 0 but found version ".concat(a));for(var o={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},s=[],u=we(r),l=0;l<u;l++)s.push(new ne(r.splice(0,ee)));for(var h=j.a.encode(r.splice(0,ee)),d=we(r),f=[],b=0;b<d;b++){var p=r.shift(),y=we(r),m=r.splice(0,y),v=we(r),g=new Uint8Array(r.splice(0,v));f.push({programIdIndex:p,accountKeyIndexes:m,data:g})}for(var k=we(r),w=[],O=0;O<k;O++){var x=new ne(r.splice(0,ee)),S=we(r),I=r.splice(0,S),_=we(r),A=r.splice(0,_);w.push({accountKey:x,writableIndexes:I,readonlyIndexes:A})}return new e({header:o,staticAccountKeys:s,recentBlockhash:h,compiledInstructions:f,addressTableLookups:w})}}]),e}(),_e={deserializeMessageVersion:function(e){var t=e[0],r=t&se;return r===t?"legacy":r},deserialize:function(e){var t=_e.deserializeMessageVersion(e);if("legacy"===t)return Se.from(e);if(0===t)return Ie.deserialize(e);throw new Error("Transaction message version ".concat(t," deserialization is not supported"))}},Ae=function(e){return e[e["BLOCKHEIGHT_EXCEEDED"]=0]="BLOCKHEIGHT_EXCEEDED",e[e["PROCESSED"]=1]="PROCESSED",e[e["TIMED_OUT"]=2]="TIMED_OUT",e[e["NONCE_INVALID"]=3]="NONCE_INVALID",e}({}),Ee=v["Buffer"].alloc(ue).fill(0),Be=function(){function e(t){Object(y["a"])(this,e),this.keys=void 0,this.programId=void 0,this.data=v["Buffer"].alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return Object(m["a"])(e,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:Object(c["a"])(this.data)}}}]),e}(),Me=function(){function e(t){if(Object(y["a"])(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){var r=t.minContextSlot,n=t.nonceInfo;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var i=t.blockhash,a=t.lastValidBlockHeight;this.recentBlockhash=i,this.lastValidBlockHeight=a}else{var o=t.recentBlockhash,s=t.nonceInfo;s&&(this.nonceInfo=s),this.recentBlockhash=o}}return Object(m["a"])(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(e){return e.toJSON()})),signers:this.signatures.map((function(e){var t=e.publicKey;return t.toJSON()}))}}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new Be(t))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat(Object(c["a"])(this.instructions)):this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(var n=0;n<t.length;n++)if(void 0===t[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var i=[],a=[];t.forEach((function(e){e.keys.forEach((function(e){a.push(Object(s["a"])({},e))}));var t=e.programId.toString();i.includes(t)||i.push(t)})),i.forEach((function(e){a.push({pubkey:new ne(e),isSigner:!1,isWritable:!1})}));var o=[];a.forEach((function(e){var t=e.pubkey.toString(),r=o.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?(o[r].isWritable=o[r].isWritable||e.isWritable,o[r].isSigner=o[r].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;var r={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",r)}));var h=o.findIndex((function(e){return e.pubkey.equals(r)}));if(h>-1){var d=o.splice(h,1),f=Object(u["a"])(d,1),b=f[0];b.isSigner=!0,b.isWritable=!0,o.unshift(b)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});var p,y=Object(l["a"])(this.signatures);try{var m=function(){var e=p.value,t=o.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(y.s();!(p=y.n()).done;)m()}catch(I){y.e(I)}finally{y.f()}var v=0,g=0,k=0,w=[],O=[];o.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(w.push(t.toString()),v+=1,n||(g+=1)):(O.push(t.toString()),n||(k+=1))}));var x=w.concat(O),S=t.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:x.indexOf(r.toString()),accounts:e.keys.map((function(e){return x.indexOf(e.pubkey.toString())})),data:j.a.encode(t)}}));return S.forEach((function(e){je(e.programIdIndex>=0),e.accounts.forEach((function(e){return je(e>=0)}))})),new Se({header:{numRequiredSignatures:v,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:k},accountKeys:x,recentBlockhash:e,instructions:S})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){var r=this.signatures.every((function(e,r){return t[r].equals(e.publicKey)}));if(r)return e}return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],a=0,o=t;a<o.length;a++){var s=o[a],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],a=0,o=t;a<o.length;a++){var s=o[a],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];i.forEach((function(e){var n=G(r,e.secretKey);t._addSignature(e.publicKey,Y(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){je(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=v["Buffer"].from(t)}},{key:"verifySignatures",value:function(e){return this._verifySignatures(this.serializeMessage(),void 0===e||e)}},{key:"_verifySignatures",value:function(e,t){var r,n=Object(l["a"])(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.signature,o=i.publicKey;if(null===a){if(t)return!1}else if(!J(a,e,o.toBytes()))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];Oe(r,t.length);var n=r.length+64*t.length+e.length,i=v["Buffer"].alloc(n);return je(t.length<256),v["Buffer"].from(r).copy(i,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(je(64===n.length,"signature has invalid length"),v["Buffer"].from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),je(i.length<=oe,"Transaction too large: ".concat(i.length," > ").concat(oe)),i}},{key:"keys",get:function(){return je(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return je(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return je(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=Object(c["a"])(t),n=we(r),i=[],a=0;a<n;a++){var o=r.slice(0,ue);r=r.slice(ue),i.push(j.a.encode(v["Buffer"].from(o)))}return e.populate(Se.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var i={signature:e==j.a.encode(Ee)?null:j.a.decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new Be({keys:r,programId:t.accountKeys[e.programIdIndex],data:j.a.decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}]),e}(),Pe=function(){function e(t){Object(y["a"])(this,e),this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}return Object(m["a"])(e,[{key:"compileToLegacyMessage",value:function(){return Se.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}},{key:"compileToV0Message",value:function(e){return Ie.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}],[{key:"decompile",value:function(t,r){var n=t.header,i=t.compiledInstructions,a=t.recentBlockhash,o=n.numRequiredSignatures,s=n.numReadonlySignedAccounts,u=n.numReadonlyUnsignedAccounts,c=o-s;je(c>0,"Message header is invalid");var h=t.staticAccountKeys.length-o-u;je(h>=0,"Message header is invalid");var d=t.getAccountKeys(r),f=d.get(0);if(void 0===f)throw new Error("Failed to decompile message because no account keys were found");var b,p=[],y=Object(l["a"])(i);try{for(y.s();!(b=y.n()).done;){var m,v=b.value,g=[],k=Object(l["a"])(v.accountKeyIndexes);try{for(k.s();!(m=k.n()).done;){var w=m.value,O=d.get(w);if(void 0===O)throw new Error("Failed to find key for account key index ".concat(w));var j=w<o,x=void 0;x=j?w<c:w<d.staticAccountKeys.length?w-o<h:w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,g.push({pubkey:O,isSigner:w<n.numRequiredSignatures,isWritable:x})}}catch(I){k.e(I)}finally{k.f()}var S=d.get(v.programIdIndex);if(void 0===S)throw new Error("Failed to find program id for program id index ".concat(v.programIdIndex));p.push(new Be({programId:S,data:Y(v.data),keys:g}))}}catch(I){y.e(I)}finally{y.f()}return new e({payerKey:f,instructions:p,recentBlockhash:a})}}]),e}(),Te=function(){function e(t,r){if(Object(y["a"])(this,e),this.signatures=void 0,this.message=void 0,void 0!==r)je(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{for(var n=[],i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(ue));this.signatures=n}this.message=t}return Object(m["a"])(e,[{key:"version",get:function(){return this.message.version}},{key:"serialize",value:function(){var e=this.message.serialize(),t=Array();Oe(t,this.signatures.length);var r=I["struct"]([I["blob"](t.length,"encodedSignaturesLength"),I["seq"](be(),this.signatures.length,"signatures"),I["blob"](e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}},{key:"sign",value:function(e){var t,r=this,n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures),a=Object(l["a"])(e);try{var o=function(){var e=t.value,a=i.findIndex((function(t){return t.equals(e.publicKey)}));je(a>=0,"Cannot sign with non signer key ".concat(e.publicKey.toBase58())),r.signatures[a]=G(n,e.secretKey)};for(a.s();!(t=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}},{key:"addSignature",value:function(e,t){je(64===t.byteLength,"Signature must be 64 bytes long");var r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures),n=r.findIndex((function(t){return t.equals(e)}));je(n>=0,"Can not add signature; `".concat(e.toBase58(),"` is not required to sign this transaction")),this.signatures[n]=t}}],[{key:"deserialize",value:function(t){for(var r=Object(c["a"])(t),n=[],i=we(r),a=0;a<i;a++)n.push(new Uint8Array(r.splice(0,ue)));var o=_e.deserialize(new Uint8Array(r));return new e(o,n)}}]),e}(),Re=160,Le=64,Ce=Re/Le,ze=1e3/Ce,Ne=new ne("SysvarC1ock11111111111111111111111111111111"),Ke=new ne("SysvarEpochSchedu1e111111111111111111111111"),We=new ne("Sysvar1nstructions1111111111111111111111111"),Ue=new ne("SysvarRecentB1ockHashes11111111111111111111"),qe=new ne("SysvarRent111111111111111111111111111111111"),De=new ne("SysvarRewards111111111111111111111111111111"),Ve=new ne("SysvarS1otHashes111111111111111111111111111"),Fe=new ne("SysvarS1otHistory11111111111111111111111111"),He=new ne("SysvarStakeHistory1111111111111111111111111");function Ge(e,t,r,n){return Je.apply(this,arguments)}function Je(){return Je=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n,i){var a,o,s,u,c;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},e.next=3,t.sendTransaction(r,n,a);case 3:if(o=e.sent,null==r.recentBlockhash||null==r.lastValidBlockHeight){e.next=10;break}return e.next=7,t.confirmTransaction({abortSignal:null===i||void 0===i?void 0:i.abortSignal,signature:o,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:s=e.sent.value,e.next=22;break;case 10:if(null==r.minNonceContextSlot||null==r.nonceInfo){e.next=18;break}return u=r.nonceInfo.nonceInstruction,c=u.keys[0].pubkey,e.next=15,t.confirmTransaction({abortSignal:null===i||void 0===i?void 0:i.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:r.nonceInfo.nonce,signature:o},i&&i.commitment);case 15:s=e.sent.value,e.next=22;break;case 18:return null!=(null===i||void 0===i?void 0:i.abortSignal)&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),e.next=21,t.confirmTransaction(o,i&&i.commitment);case 21:s=e.sent.value;case 22:if(!s.err){e.next=24;break}throw new Error("Transaction ".concat(o," failed (").concat(JSON.stringify(s),")"));case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function Ye(e){return new Promise((function(t){return setTimeout(t,e)}))}function Ze(e,t){var r=e.layout.span>=0?e.layout.span:ke(e,t),n=v["Buffer"].alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function Xe(e,t){var r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error("invalid instruction; instruction index mismatch ".concat(r.instruction," != ").concat(e.index));return r}var Qe=I["nu64"]("lamportsPerSignature"),$e=I["struct"]([I["u32"]("version"),I["u32"]("state"),fe("authorizedPubkey"),fe("nonce"),I["struct"]([Qe],"feeCalculator")]),et=$e.span,tt=function(){function e(t){Object(y["a"])(this,e),this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}return Object(m["a"])(e,null,[{key:"fromAccountData",value:function(t){var r=$e.decode(Y(t),0);return new e({authorizedPubkey:new ne(r.authorizedPubkey),nonce:new ne(r.nonce).toString(),feeCalculator:r.feeCalculator})}}]),e}(),rt=function(e){var t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},nt=function(e){return function(t){var r=Object(I["blob"])(e,t),n=rt(r),i=n.encode,a=n.decode,o=r;return o.decode=function(e,t){var r=a(e,t);return Object(_["toBigIntLE"])(v["Buffer"].from(r))},o.encode=function(t,r,n){var a=Object(_["toBufferLE"])(t,e);return i(a,r,n)},o}},it=nt(8),at=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=I["u32"]("instruction"),n=r.decode(e.data),i=0,a=Object.entries(ot);i<a.length;i++){var o=Object(u["a"])(a[i],2),s=o[0],c=o[1];if(c.index==n){t=s;break}}if(!t)throw new Error("Instruction type incorrect; not a SystemInstruction");return t}},{key:"decodeCreateAccount",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Xe(ot.Create,e.data),r=t.lamports,n=t.space,i=t.programId;return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new ne(i)}}},{key:"decodeTransfer",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Xe(ot.Transfer,e.data),r=t.lamports;return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}},{key:"decodeTransferWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Xe(ot.TransferWithSeed,e.data),r=t.lamports,n=t.seed,i=t.programId;return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new ne(i)}}},{key:"decodeAllocate",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=Xe(ot.Allocate,e.data),r=t.space;return{accountPubkey:e.keys[0].pubkey,space:r}}},{key:"decodeAllocateWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=Xe(ot.AllocateWithSeed,e.data),r=t.base,n=t.seed,i=t.space,a=t.programId;return{accountPubkey:e.keys[0].pubkey,basePubkey:new ne(r),seed:n,space:i,programId:new ne(a)}}},{key:"decodeAssign",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=Xe(ot.Assign,e.data),r=t.programId;return{accountPubkey:e.keys[0].pubkey,programId:new ne(r)}}},{key:"decodeAssignWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=Xe(ot.AssignWithSeed,e.data),r=t.base,n=t.seed,i=t.programId;return{accountPubkey:e.keys[0].pubkey,basePubkey:new ne(r),seed:n,programId:new ne(i)}}},{key:"decodeCreateWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Xe(ot.CreateWithSeed,e.data),r=t.base,n=t.seed,i=t.lamports,a=t.space,o=t.programId;return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ne(r),seed:n,lamports:i,space:a,programId:new ne(o)}}},{key:"decodeNonceInitialize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Xe(ot.InitializeNonceAccount,e.data),r=t.authorized;return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ne(r)}}},{key:"decodeNonceAdvance",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Xe(ot.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}},{key:"decodeNonceWithdraw",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);var t=Xe(ot.WithdrawNonceAccount,e.data),r=t.lamports;return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}},{key:"decodeNonceAuthorize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Xe(ot.AuthorizeNonceAccount,e.data),r=t.authorized;return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ne(r)}}},{key:"checkProgramId",value:function(e){if(!e.equals(st.programId))throw new Error("invalid instruction; programId is not SystemProgram")}},{key:"checkKeyLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),ot=Object.freeze({Create:{index:0,layout:I["struct"]([I["u32"]("instruction"),I["ns64"]("lamports"),I["ns64"]("space"),fe("programId")])},Assign:{index:1,layout:I["struct"]([I["u32"]("instruction"),fe("programId")])},Transfer:{index:2,layout:I["struct"]([I["u32"]("instruction"),it("lamports")])},CreateWithSeed:{index:3,layout:I["struct"]([I["u32"]("instruction"),fe("base"),pe("seed"),I["ns64"]("lamports"),I["ns64"]("space"),fe("programId")])},AdvanceNonceAccount:{index:4,layout:I["struct"]([I["u32"]("instruction")])},WithdrawNonceAccount:{index:5,layout:I["struct"]([I["u32"]("instruction"),I["ns64"]("lamports")])},InitializeNonceAccount:{index:6,layout:I["struct"]([I["u32"]("instruction"),fe("authorized")])},AuthorizeNonceAccount:{index:7,layout:I["struct"]([I["u32"]("instruction"),fe("authorized")])},Allocate:{index:8,layout:I["struct"]([I["u32"]("instruction"),I["ns64"]("space")])},AllocateWithSeed:{index:9,layout:I["struct"]([I["u32"]("instruction"),fe("base"),pe("seed"),I["ns64"]("space"),fe("programId")])},AssignWithSeed:{index:10,layout:I["struct"]([I["u32"]("instruction"),fe("base"),pe("seed"),fe("programId")])},TransferWithSeed:{index:11,layout:I["struct"]([I["u32"]("instruction"),it("lamports"),pe("seed"),fe("programId")])},UpgradeNonceAccount:{index:12,layout:I["struct"]([I["u32"]("instruction")])}}),st=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"createAccount",value:function(e){var t=ot.Create,r=Ze(t,{lamports:e.lamports,space:e.space,programId:Y(e.programId.toBuffer())});return new Be({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}},{key:"transfer",value:function(e){var t,r;if("basePubkey"in e){var n=ot.TransferWithSeed;t=Ze(n,{lamports:BigInt(e.lamports),seed:e.seed,programId:Y(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{var i=ot.Transfer;t=Ze(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Be({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;if("basePubkey"in e){var n=ot.AssignWithSeed;t=Ze(n,{base:Y(e.basePubkey.toBuffer()),seed:e.seed,programId:Y(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{var i=ot.Assign;t=Ze(i,{programId:Y(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Be({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=ot.CreateWithSeed,r=Ze(t,{base:Y(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Y(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Be({keys:n,programId:this.programId,data:r})}},{key:"createNonceAccount",value:function(t){var r=new Me;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:et,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:et,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=ot.InitializeNonceAccount,r=Ze(t,{authorized:Y(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ue,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Be(n)}},{key:"nonceAdvance",value:function(e){var t=ot.AdvanceNonceAccount,r=Ze(t),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ue,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Be(n)}},{key:"nonceWithdraw",value:function(e){var t=ot.WithdrawNonceAccount,r=Ze(t,{lamports:e.lamports});return new Be({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ue,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}},{key:"nonceAuthorize",value:function(e){var t=ot.AuthorizeNonceAccount,r=Ze(t,{authorized:Y(e.newAuthorizedPubkey.toBuffer())});return new Be({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}},{key:"allocate",value:function(e){var t,r;if("basePubkey"in e){var n=ot.AllocateWithSeed;t=Ze(n,{base:Y(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Y(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{var i=ot.Allocate;t=Ze(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Be({keys:r,programId:this.programId,data:t})}}]),e}();st.programId=new ne("11111111111111111111111111111111");var ut=oe-300,ct=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:function(){var t=Object(f["a"])(Object(d["a"])().mark((function t(r,n,i,a,o){var s,u,c,l,h,f,b,p,y,m,g,k,w,O,j,x,S,_,A,E,B;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(o.length);case 2:return s=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(u=t.sent,c=null,null===u){t.next=16;break}if(!u.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:u.data.length!==o.length&&(c=c||new Me,c.add(st.allocate({accountPubkey:i.publicKey,space:o.length}))),u.owner.equals(a)||(c=c||new Me,c.add(st.assign({accountPubkey:i.publicKey,programId:a}))),u.lamports<s&&(c=c||new Me,c.add(st.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:s-u.lamports}))),t.next=17;break;case 16:c=(new Me).add(st.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:s>0?s:1,space:o.length,programId:a}));case 17:if(null===c){t.next=20;break}return t.next=20,Ge(r,c,[n,i],{commitment:"confirmed"});case 20:l=I["struct"]([I["u32"]("instruction"),I["u32"]("offset"),I["u32"]("bytesLength"),I["u32"]("bytesLengthPadding"),I["seq"](I["u8"]("byte"),I["offset"](I["u32"](),-8),"bytes")]),h=e.chunkSize,f=0,b=o,p=[];case 25:if(!(b.length>0)){t.next=39;break}if(y=b.slice(0,h),m=v["Buffer"].alloc(h+16),l.encode({instruction:0,offset:f,bytes:y,bytesLength:0,bytesLengthPadding:0},m),g=(new Me).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:a,data:m}),p.push(Ge(r,g,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return k=4,t.next=35,Ye(1e3/k);case 35:f+=h,b=b.slice(h),t.next=25;break;case 39:return t.next=41,Promise.all(p);case 41:return w=I["struct"]([I["u32"]("instruction")]),O=v["Buffer"].alloc(w.span),w.encode({instruction:1},O),j=(new Me).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1}],programId:a,data:O}),x="processed",t.next=48,r.sendTransaction(j,[n,i],{preflightCommitment:x});case 48:return S=t.sent,t.next=51,r.confirmTransaction({signature:S,lastValidBlockHeight:j.lastValidBlockHeight,blockhash:j.recentBlockhash},x);case 51:if(_=t.sent,A=_.context,E=_.value,!E.err){t.next=56;break}throw new Error("Transaction ".concat(S," failed (").concat(JSON.stringify(E),")"));case 56:return t.prev=57,t.next=60,r.getSlot({commitment:x});case 60:if(B=t.sent,!(B>A.slot)){t.next=63;break}return t.abrupt("break",71);case 63:t.next=67;break;case 65:t.prev=65,t.t0=t["catch"](57);case 67:return t.next=69,new Promise((function(e){return setTimeout(e,Math.round(ze/2))}));case 69:t.next=56;break;case 71:return t.abrupt("return",!0);case 72:case"end":return t.stop()}}),t,null,[[57,65]])})));function r(e,r,n,i,a){return t.apply(this,arguments)}return r}()}]),e}();ct.chunkSize=ut;var lt=new ne("BPFLoader2111111111111111111111111111111111"),ht=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"getMinNumSignatures",value:function(e){return ct.getMinNumSignatures(e)}},{key:"load",value:function(e,t,r,n,i){return ct.load(e,t,r,i,n)}}]),e}();function dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var ft=Object.prototype.toString,bt=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function pt(e,t){var r,n,i,a,s,u,c;if(!0===e)return"true";if(!1===e)return"false";switch(Object(o["a"])(e)){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return pt(e.toJSON(),t);if(c=ft.call(e),"[object Array]"===c){for(i="[",n=e.length-1,r=0;r<n;r++)i+=pt(e[r],!0)+",";return n>-1&&(i+=pt(e[r],!0)),i+"]"}if("[object Object]"===c){a=bt(e).sort(),n=a.length,i="",r=0;while(r<n)s=a[r],u=pt(e[s],!1),void 0!==u&&(i&&(i+=","),i+=JSON.stringify(s)+":"+u),r++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var yt=function(e){var t=pt(e,!1);if(void 0!==t)return""+t},mt=dt(yt),vt=32;function gt(e){var t=0;while(e>1)e/=2,t++;return t}function kt(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}var wt=function(){function e(t,r,n,i,a){Object(y["a"])(this,e),this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=a}return Object(m["a"])(e,[{key:"getEpoch",value:function(e){return this.getEpochAndSlotIndex(e)[0]}},{key:"getEpochAndSlotIndex",value:function(e){if(e<this.firstNormalSlot){var t=gt(kt(e+vt+1))-gt(vt)-1,r=this.getSlotsInEpoch(t),n=e-(r-vt);return[t,n]}var i=e-this.firstNormalSlot,a=Math.floor(i/this.slotsPerEpoch),o=this.firstNormalEpoch+a,s=i%this.slotsPerEpoch;return[o,s]}},{key:"getFirstSlotInEpoch",value:function(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*vt:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}},{key:"getLastSlotInEpoch",value:function(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}},{key:"getSlotsInEpoch",value:function(e){return e<this.firstNormalEpoch?Math.pow(2,e+gt(vt)):this.slotsPerEpoch}}]),e}(),Ot=function(e){Object(b["a"])(r,e);var t=Object(p["a"])(r);function r(e,n){var i;return Object(y["a"])(this,r),i=t.call(this,e),i.logs=void 0,i.logs=n,i}return Object(m["a"])(r)}(Object(h["a"])(Error)),jt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},xt=function(e){Object(b["a"])(r,e);var t=Object(p["a"])(r);function r(e,n){var i,a=e.code,o=e.message,s=e.data;return Object(y["a"])(this,r),i=t.call(this,null!=n?"".concat(n,": ").concat(o):o),i.code=void 0,i.data=void 0,i.code=a,i.data=s,i.name="SolanaJSONRPCError",i}return Object(m["a"])(r)}(Object(h["a"])(Error)),St=globalThis.fetch,It=function(e){Object(b["a"])(r,e);var t=Object(p["a"])(r);function r(e,n,i){var a;Object(y["a"])(this,r);var o=function(e){var t=R()(e,Object(s["a"])({autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3},n));return a.underlyingSocket="socket"in t?t.socket:t,t};return a=t.call(this,o,e,n,i),a.underlyingSocket=void 0,a}return Object(m["a"])(r,[{key:"call",value:function(){for(var e,t,n=null===(e=this.underlyingSocket)||void 0===e?void 0:e.readyState,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return 1===n?(t=Object(i["a"])(Object(a["a"])(r.prototype),"call",this)).call.apply(t,[this].concat(s)):Promise.reject(new Error("Tried to call a JSON-RPC method `"+s[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}},{key:"notify",value:function(){for(var e,t,n=null===(e=this.underlyingSocket)||void 0===e?void 0:e.readyState,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return 1===n?(t=Object(i["a"])(Object(a["a"])(r.prototype),"notify",this)).call.apply(t,[this].concat(s)):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+s[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}]),r}(P.a);function _t(e,t){var r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error("invalid account data; account type mismatch ".concat(r.typeIndex," != ").concat(e.index));return r}var At=56,Et=function(){function e(t){Object(y["a"])(this,e),this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}return Object(m["a"])(e,[{key:"isActive",value:function(){var e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}}],[{key:"deserialize",value:function(e){var t=_t(Bt,e),r=e.length-At;je(r>=0,"lookup table is invalid"),je(r%32===0,"lookup table is invalid");var n=r/32,i=I["struct"]([I["seq"](fe(),n,"addresses")]).decode(e.slice(At)),a=i.addresses;return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new ne(t.authority[0]):void 0,addresses:a.map((function(e){return new ne(e)}))}}}]),e}(),Bt={index:1,layout:I["struct"]([I["u32"]("typeIndex"),it("deactivationSlot"),I["nu64"]("lastExtendedSlot"),I["u8"]("lastExtendedStartIndex"),I["u8"](),I["seq"](fe(),I["offset"](I["u8"](),-1),"authority")])},Mt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Pt(e){var t=e.match(Mt);if(null==t)throw TypeError("Failed to validate endpoint URL `".concat(e,"`"));var r=Object(u["a"])(t,4),n=(r[0],r[1]),i=r[2],a=r[3],o=e.startsWith("https:")?"wss:":"ws:",s=null==i?null:parseInt(i.slice(1),10),c=null==s?"":":".concat(s+1);return"".concat(o,"//").concat(n).concat(c).concat(a)}var Tt=Object(A["coerce"])(Object(A["instance"])(ne),Object(A["string"])(),(function(e){return new ne(e)})),Rt=Object(A["tuple"])([Object(A["string"])(),Object(A["literal"])("base64")]),Lt=Object(A["coerce"])(Object(A["instance"])(v["Buffer"]),Rt,(function(e){return v["Buffer"].from(e[0],"base64")})),Ct=3e4;function zt(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Nt(e){var t,r;if("string"===typeof e)t=e;else if(e){var i=e.commitment,a=Object(n["a"])(e,z);t=i,r=a}return{commitment:t,config:r}}function Kt(e){return Object(A["union"])([Object(A["type"])({jsonrpc:Object(A["literal"])("2.0"),id:Object(A["string"])(),result:e}),Object(A["type"])({jsonrpc:Object(A["literal"])("2.0"),id:Object(A["string"])(),error:Object(A["type"])({code:Object(A["unknown"])(),message:Object(A["string"])(),data:Object(A["optional"])(Object(A["any"])())})})])}var Wt=Kt(Object(A["unknown"])());function Ut(e){return Object(A["coerce"])(Kt(e),Wt,(function(t){return"error"in t?t:Object(s["a"])(Object(s["a"])({},t),{},{result:Object(A["create"])(t.result,e)})}))}function qt(e){return Ut(Object(A["type"])({context:Object(A["type"])({slot:Object(A["number"])()}),value:e}))}function Dt(e){return Object(A["type"])({context:Object(A["type"])({slot:Object(A["number"])()}),value:e})}function Vt(e,t){return 0===e?new Ie({header:t.header,staticAccountKeys:t.accountKeys.map((function(e){return new ne(e)})),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:j.a.decode(e.data)}})),addressTableLookups:t.addressTableLookups}):new Se(t)}var Ft=Object(A["type"])({foundation:Object(A["number"])(),foundationTerm:Object(A["number"])(),initial:Object(A["number"])(),taper:Object(A["number"])(),terminal:Object(A["number"])()}),Ht=Ut(Object(A["array"])(Object(A["nullable"])(Object(A["type"])({epoch:Object(A["number"])(),effectiveSlot:Object(A["number"])(),amount:Object(A["number"])(),postBalance:Object(A["number"])(),commission:Object(A["optional"])(Object(A["nullable"])(Object(A["number"])()))})))),Gt=Object(A["array"])(Object(A["type"])({slot:Object(A["number"])(),prioritizationFee:Object(A["number"])()})),Jt=Object(A["type"])({total:Object(A["number"])(),validator:Object(A["number"])(),foundation:Object(A["number"])(),epoch:Object(A["number"])()}),Yt=Object(A["type"])({epoch:Object(A["number"])(),slotIndex:Object(A["number"])(),slotsInEpoch:Object(A["number"])(),absoluteSlot:Object(A["number"])(),blockHeight:Object(A["optional"])(Object(A["number"])()),transactionCount:Object(A["optional"])(Object(A["number"])())}),Zt=Object(A["type"])({slotsPerEpoch:Object(A["number"])(),leaderScheduleSlotOffset:Object(A["number"])(),warmup:Object(A["boolean"])(),firstNormalEpoch:Object(A["number"])(),firstNormalSlot:Object(A["number"])()}),Xt=Object(A["record"])(Object(A["string"])(),Object(A["array"])(Object(A["number"])())),Qt=Object(A["nullable"])(Object(A["union"])([Object(A["type"])({}),Object(A["string"])()])),$t=Object(A["type"])({err:Qt}),er=Object(A["literal"])("receivedSignature"),tr=Object(A["type"])({"solana-core":Object(A["string"])(),"feature-set":Object(A["optional"])(Object(A["number"])())}),rr=qt(Object(A["type"])({err:Object(A["nullable"])(Object(A["union"])([Object(A["type"])({}),Object(A["string"])()])),logs:Object(A["nullable"])(Object(A["array"])(Object(A["string"])())),accounts:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(Object(A["nullable"])(Object(A["type"])({executable:Object(A["boolean"])(),owner:Object(A["string"])(),lamports:Object(A["number"])(),data:Object(A["array"])(Object(A["string"])()),rentEpoch:Object(A["optional"])(Object(A["number"])())}))))),unitsConsumed:Object(A["optional"])(Object(A["number"])()),returnData:Object(A["optional"])(Object(A["nullable"])(Object(A["type"])({programId:Object(A["string"])(),data:Object(A["tuple"])([Object(A["string"])(),Object(A["literal"])("base64")])})))})),nr=qt(Object(A["type"])({byIdentity:Object(A["record"])(Object(A["string"])(),Object(A["array"])(Object(A["number"])())),range:Object(A["type"])({firstSlot:Object(A["number"])(),lastSlot:Object(A["number"])()})}));function ir(e,t,r,n,i,a){var o,s,u=r||St;null!=a&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(s=function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var i;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){try{n(t,r,(function(t,r){return e([t,r])}))}catch(a){i(a)}}));case 2:return i=e.sent,e.next=5,u.apply(void 0,Object(c["a"])(i));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());var l=new B.a(function(){var r=Object(f["a"])(Object(d["a"])().mark((function r(n,a){var c,l,h,f,b;return Object(d["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:c={method:"POST",body:n,agent:o,headers:Object.assign({"Content-Type":"application/json"},t||{},An)},r.prev=1,l=5,f=500;case 4:if(!s){r.next=10;break}return r.next=7,s(e,c);case 7:h=r.sent,r.next=13;break;case 10:return r.next=12,u(e,c);case 12:h=r.sent;case 13:if(429===h.status){r.next=15;break}return r.abrupt("break",26);case 15:if(!0!==i){r.next=17;break}return r.abrupt("break",26);case 17:if(l-=1,0!==l){r.next=20;break}return r.abrupt("break",26);case 20:return console.log("Server responded with ".concat(h.status," ").concat(h.statusText,".  Retrying after ").concat(f,"ms delay...")),r.next=23,Ye(f);case 23:f*=2;case 24:r.next=4;break;case 26:return r.next=28,h.text();case 28:b=r.sent,h.ok?a(null,b):a(new Error("".concat(h.status," ").concat(h.statusText,": ").concat(b))),r.next=35;break;case 32:r.prev=32,r.t0=r["catch"](1),r.t0 instanceof Error&&a(r.t0);case 35:case"end":return r.stop()}}),r,null,[[1,32]])})));return function(e,t){return r.apply(this,arguments)}}(),{});return l}function ar(e){return function(t,r){return new Promise((function(n,i){e.request(t,r,(function(e,t){e?i(e):n(t)}))}))}}function or(e){return function(t){return new Promise((function(r,n){0===t.length&&r([]);var i=t.map((function(t){return e.request(t.methodName,t.args)}));e.request(i,(function(e,t){e?n(e):r(t)}))}))}}var sr=Ut(Ft),ur=Ut(Jt),cr=Ut(Gt),lr=Ut(Yt),hr=Ut(Zt),dr=Ut(Xt),fr=Ut(Object(A["number"])()),br=qt(Object(A["type"])({total:Object(A["number"])(),circulating:Object(A["number"])(),nonCirculating:Object(A["number"])(),nonCirculatingAccounts:Object(A["array"])(Tt)})),pr=Object(A["type"])({amount:Object(A["string"])(),uiAmount:Object(A["nullable"])(Object(A["number"])()),decimals:Object(A["number"])(),uiAmountString:Object(A["optional"])(Object(A["string"])())}),yr=qt(Object(A["array"])(Object(A["type"])({address:Tt,amount:Object(A["string"])(),uiAmount:Object(A["nullable"])(Object(A["number"])()),decimals:Object(A["number"])(),uiAmountString:Object(A["optional"])(Object(A["string"])())}))),mr=qt(Object(A["array"])(Object(A["type"])({pubkey:Tt,account:Object(A["type"])({executable:Object(A["boolean"])(),owner:Tt,lamports:Object(A["number"])(),data:Lt,rentEpoch:Object(A["number"])()})}))),vr=Object(A["type"])({program:Object(A["string"])(),parsed:Object(A["unknown"])(),space:Object(A["number"])()}),gr=qt(Object(A["array"])(Object(A["type"])({pubkey:Tt,account:Object(A["type"])({executable:Object(A["boolean"])(),owner:Tt,lamports:Object(A["number"])(),data:vr,rentEpoch:Object(A["number"])()})}))),kr=qt(Object(A["array"])(Object(A["type"])({lamports:Object(A["number"])(),address:Tt}))),wr=Object(A["type"])({executable:Object(A["boolean"])(),owner:Tt,lamports:Object(A["number"])(),data:Lt,rentEpoch:Object(A["number"])()}),Or=Object(A["type"])({pubkey:Tt,account:wr}),jr=Object(A["coerce"])(Object(A["union"])([Object(A["instance"])(v["Buffer"]),vr]),Object(A["union"])([Rt,vr]),(function(e){return Array.isArray(e)?Object(A["create"])(e,Lt):e})),xr=Object(A["type"])({executable:Object(A["boolean"])(),owner:Tt,lamports:Object(A["number"])(),data:jr,rentEpoch:Object(A["number"])()}),Sr=Object(A["type"])({pubkey:Tt,account:xr}),Ir=Object(A["type"])({state:Object(A["union"])([Object(A["literal"])("active"),Object(A["literal"])("inactive"),Object(A["literal"])("activating"),Object(A["literal"])("deactivating")]),active:Object(A["number"])(),inactive:Object(A["number"])()}),_r=Ut(Object(A["array"])(Object(A["type"])({signature:Object(A["string"])(),slot:Object(A["number"])(),err:Qt,memo:Object(A["nullable"])(Object(A["string"])()),blockTime:Object(A["optional"])(Object(A["nullable"])(Object(A["number"])()))}))),Ar=Ut(Object(A["array"])(Object(A["type"])({signature:Object(A["string"])(),slot:Object(A["number"])(),err:Qt,memo:Object(A["nullable"])(Object(A["string"])()),blockTime:Object(A["optional"])(Object(A["nullable"])(Object(A["number"])()))}))),Er=Object(A["type"])({subscription:Object(A["number"])(),result:Dt(wr)}),Br=Object(A["type"])({pubkey:Tt,account:wr}),Mr=Object(A["type"])({subscription:Object(A["number"])(),result:Dt(Br)}),Pr=Object(A["type"])({parent:Object(A["number"])(),slot:Object(A["number"])(),root:Object(A["number"])()}),Tr=Object(A["type"])({subscription:Object(A["number"])(),result:Pr}),Rr=Object(A["union"])([Object(A["type"])({type:Object(A["union"])([Object(A["literal"])("firstShredReceived"),Object(A["literal"])("completed"),Object(A["literal"])("optimisticConfirmation"),Object(A["literal"])("root")]),slot:Object(A["number"])(),timestamp:Object(A["number"])()}),Object(A["type"])({type:Object(A["literal"])("createdBank"),parent:Object(A["number"])(),slot:Object(A["number"])(),timestamp:Object(A["number"])()}),Object(A["type"])({type:Object(A["literal"])("frozen"),slot:Object(A["number"])(),timestamp:Object(A["number"])(),stats:Object(A["type"])({numTransactionEntries:Object(A["number"])(),numSuccessfulTransactions:Object(A["number"])(),numFailedTransactions:Object(A["number"])(),maxTransactionsPerEntry:Object(A["number"])()})}),Object(A["type"])({type:Object(A["literal"])("dead"),slot:Object(A["number"])(),timestamp:Object(A["number"])(),err:Object(A["string"])()})]),Lr=Object(A["type"])({subscription:Object(A["number"])(),result:Rr}),Cr=Object(A["type"])({subscription:Object(A["number"])(),result:Dt(Object(A["union"])([$t,er]))}),zr=Object(A["type"])({subscription:Object(A["number"])(),result:Object(A["number"])()}),Nr=Object(A["type"])({pubkey:Object(A["string"])(),gossip:Object(A["nullable"])(Object(A["string"])()),tpu:Object(A["nullable"])(Object(A["string"])()),rpc:Object(A["nullable"])(Object(A["string"])()),version:Object(A["nullable"])(Object(A["string"])())}),Kr=Object(A["type"])({votePubkey:Object(A["string"])(),nodePubkey:Object(A["string"])(),activatedStake:Object(A["number"])(),epochVoteAccount:Object(A["boolean"])(),epochCredits:Object(A["array"])(Object(A["tuple"])([Object(A["number"])(),Object(A["number"])(),Object(A["number"])()])),commission:Object(A["number"])(),lastVote:Object(A["number"])(),rootSlot:Object(A["nullable"])(Object(A["number"])())}),Wr=Ut(Object(A["type"])({current:Object(A["array"])(Kr),delinquent:Object(A["array"])(Kr)})),Ur=Object(A["union"])([Object(A["literal"])("processed"),Object(A["literal"])("confirmed"),Object(A["literal"])("finalized")]),qr=Object(A["type"])({slot:Object(A["number"])(),confirmations:Object(A["nullable"])(Object(A["number"])()),err:Qt,confirmationStatus:Object(A["optional"])(Ur)}),Dr=qt(Object(A["array"])(Object(A["nullable"])(qr))),Vr=Ut(Object(A["number"])()),Fr=Object(A["type"])({accountKey:Tt,writableIndexes:Object(A["array"])(Object(A["number"])()),readonlyIndexes:Object(A["array"])(Object(A["number"])())}),Hr=Object(A["type"])({signatures:Object(A["array"])(Object(A["string"])()),message:Object(A["type"])({accountKeys:Object(A["array"])(Object(A["string"])()),header:Object(A["type"])({numRequiredSignatures:Object(A["number"])(),numReadonlySignedAccounts:Object(A["number"])(),numReadonlyUnsignedAccounts:Object(A["number"])()}),instructions:Object(A["array"])(Object(A["type"])({accounts:Object(A["array"])(Object(A["number"])()),data:Object(A["string"])(),programIdIndex:Object(A["number"])()})),recentBlockhash:Object(A["string"])(),addressTableLookups:Object(A["optional"])(Object(A["array"])(Fr))})}),Gr=Object(A["type"])({pubkey:Tt,signer:Object(A["boolean"])(),writable:Object(A["boolean"])(),source:Object(A["optional"])(Object(A["union"])([Object(A["literal"])("transaction"),Object(A["literal"])("lookupTable")]))}),Jr=Object(A["type"])({accountKeys:Object(A["array"])(Gr),signatures:Object(A["array"])(Object(A["string"])())}),Yr=Object(A["type"])({parsed:Object(A["unknown"])(),program:Object(A["string"])(),programId:Tt}),Zr=Object(A["type"])({accounts:Object(A["array"])(Tt),data:Object(A["string"])(),programId:Tt}),Xr=Object(A["union"])([Zr,Yr]),Qr=Object(A["union"])([Object(A["type"])({parsed:Object(A["unknown"])(),program:Object(A["string"])(),programId:Object(A["string"])()}),Object(A["type"])({accounts:Object(A["array"])(Object(A["string"])()),data:Object(A["string"])(),programId:Object(A["string"])()})]),$r=Object(A["coerce"])(Xr,Qr,(function(e){return"accounts"in e?Object(A["create"])(e,Zr):Object(A["create"])(e,Yr)})),en=Object(A["type"])({signatures:Object(A["array"])(Object(A["string"])()),message:Object(A["type"])({accountKeys:Object(A["array"])(Gr),instructions:Object(A["array"])($r),recentBlockhash:Object(A["string"])(),addressTableLookups:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(Fr)))})}),tn=Object(A["type"])({accountIndex:Object(A["number"])(),mint:Object(A["string"])(),owner:Object(A["optional"])(Object(A["string"])()),uiTokenAmount:pr}),rn=Object(A["type"])({writable:Object(A["array"])(Tt),readonly:Object(A["array"])(Tt)}),nn=Object(A["type"])({err:Qt,fee:Object(A["number"])(),innerInstructions:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(Object(A["type"])({index:Object(A["number"])(),instructions:Object(A["array"])(Object(A["type"])({accounts:Object(A["array"])(Object(A["number"])()),data:Object(A["string"])(),programIdIndex:Object(A["number"])()}))})))),preBalances:Object(A["array"])(Object(A["number"])()),postBalances:Object(A["array"])(Object(A["number"])()),logMessages:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(Object(A["string"])()))),preTokenBalances:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(tn))),postTokenBalances:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(tn))),loadedAddresses:Object(A["optional"])(rn),computeUnitsConsumed:Object(A["optional"])(Object(A["number"])())}),an=Object(A["type"])({err:Qt,fee:Object(A["number"])(),innerInstructions:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(Object(A["type"])({index:Object(A["number"])(),instructions:Object(A["array"])($r)})))),preBalances:Object(A["array"])(Object(A["number"])()),postBalances:Object(A["array"])(Object(A["number"])()),logMessages:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(Object(A["string"])()))),preTokenBalances:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(tn))),postTokenBalances:Object(A["optional"])(Object(A["nullable"])(Object(A["array"])(tn))),loadedAddresses:Object(A["optional"])(rn),computeUnitsConsumed:Object(A["optional"])(Object(A["number"])())}),on=Object(A["union"])([Object(A["literal"])(0),Object(A["literal"])("legacy")]),sn=Object(A["type"])({pubkey:Object(A["string"])(),lamports:Object(A["number"])(),postBalance:Object(A["nullable"])(Object(A["number"])()),rewardType:Object(A["nullable"])(Object(A["string"])()),commission:Object(A["optional"])(Object(A["nullable"])(Object(A["number"])()))}),un=Ut(Object(A["nullable"])(Object(A["type"])({blockhash:Object(A["string"])(),previousBlockhash:Object(A["string"])(),parentSlot:Object(A["number"])(),transactions:Object(A["array"])(Object(A["type"])({transaction:Hr,meta:Object(A["nullable"])(nn),version:Object(A["optional"])(on)})),rewards:Object(A["optional"])(Object(A["array"])(sn)),blockTime:Object(A["nullable"])(Object(A["number"])()),blockHeight:Object(A["nullable"])(Object(A["number"])())}))),cn=Ut(Object(A["nullable"])(Object(A["type"])({blockhash:Object(A["string"])(),previousBlockhash:Object(A["string"])(),parentSlot:Object(A["number"])(),rewards:Object(A["optional"])(Object(A["array"])(sn)),blockTime:Object(A["nullable"])(Object(A["number"])()),blockHeight:Object(A["nullable"])(Object(A["number"])())}))),ln=Ut(Object(A["nullable"])(Object(A["type"])({blockhash:Object(A["string"])(),previousBlockhash:Object(A["string"])(),parentSlot:Object(A["number"])(),transactions:Object(A["array"])(Object(A["type"])({transaction:Jr,meta:Object(A["nullable"])(nn),version:Object(A["optional"])(on)})),rewards:Object(A["optional"])(Object(A["array"])(sn)),blockTime:Object(A["nullable"])(Object(A["number"])()),blockHeight:Object(A["nullable"])(Object(A["number"])())}))),hn=Ut(Object(A["nullable"])(Object(A["type"])({blockhash:Object(A["string"])(),previousBlockhash:Object(A["string"])(),parentSlot:Object(A["number"])(),transactions:Object(A["array"])(Object(A["type"])({transaction:en,meta:Object(A["nullable"])(an),version:Object(A["optional"])(on)})),rewards:Object(A["optional"])(Object(A["array"])(sn)),blockTime:Object(A["nullable"])(Object(A["number"])()),blockHeight:Object(A["nullable"])(Object(A["number"])())}))),dn=Ut(Object(A["nullable"])(Object(A["type"])({blockhash:Object(A["string"])(),previousBlockhash:Object(A["string"])(),parentSlot:Object(A["number"])(),transactions:Object(A["array"])(Object(A["type"])({transaction:Jr,meta:Object(A["nullable"])(an),version:Object(A["optional"])(on)})),rewards:Object(A["optional"])(Object(A["array"])(sn)),blockTime:Object(A["nullable"])(Object(A["number"])()),blockHeight:Object(A["nullable"])(Object(A["number"])())}))),fn=Ut(Object(A["nullable"])(Object(A["type"])({blockhash:Object(A["string"])(),previousBlockhash:Object(A["string"])(),parentSlot:Object(A["number"])(),rewards:Object(A["optional"])(Object(A["array"])(sn)),blockTime:Object(A["nullable"])(Object(A["number"])()),blockHeight:Object(A["nullable"])(Object(A["number"])())}))),bn=Ut(Object(A["nullable"])(Object(A["type"])({blockhash:Object(A["string"])(),previousBlockhash:Object(A["string"])(),parentSlot:Object(A["number"])(),transactions:Object(A["array"])(Object(A["type"])({transaction:Hr,meta:Object(A["nullable"])(nn)})),rewards:Object(A["optional"])(Object(A["array"])(sn)),blockTime:Object(A["nullable"])(Object(A["number"])())}))),pn=Ut(Object(A["nullable"])(Object(A["type"])({blockhash:Object(A["string"])(),previousBlockhash:Object(A["string"])(),parentSlot:Object(A["number"])(),signatures:Object(A["array"])(Object(A["string"])()),blockTime:Object(A["nullable"])(Object(A["number"])())}))),yn=Ut(Object(A["nullable"])(Object(A["type"])({slot:Object(A["number"])(),meta:Object(A["nullable"])(nn),blockTime:Object(A["optional"])(Object(A["nullable"])(Object(A["number"])())),transaction:Hr,version:Object(A["optional"])(on)}))),mn=Ut(Object(A["nullable"])(Object(A["type"])({slot:Object(A["number"])(),transaction:en,meta:Object(A["nullable"])(an),blockTime:Object(A["optional"])(Object(A["nullable"])(Object(A["number"])())),version:Object(A["optional"])(on)}))),vn=qt(Object(A["type"])({blockhash:Object(A["string"])(),feeCalculator:Object(A["type"])({lamportsPerSignature:Object(A["number"])()})})),gn=qt(Object(A["type"])({blockhash:Object(A["string"])(),lastValidBlockHeight:Object(A["number"])()})),kn=qt(Object(A["boolean"])()),wn=Object(A["type"])({slot:Object(A["number"])(),numTransactions:Object(A["number"])(),numSlots:Object(A["number"])(),samplePeriodSecs:Object(A["number"])()}),On=Ut(Object(A["array"])(wn)),jn=qt(Object(A["nullable"])(Object(A["type"])({feeCalculator:Object(A["type"])({lamportsPerSignature:Object(A["number"])()})}))),xn=Ut(Object(A["string"])()),Sn=Ut(Object(A["string"])()),In=Object(A["type"])({err:Qt,logs:Object(A["array"])(Object(A["string"])()),signature:Object(A["string"])()}),_n=Object(A["type"])({result:Dt(In),subscription:Object(A["number"])()}),An={"solana-client":"js/".concat("0.0.0-development")},En=function(){function e(t,r){var n,i,a,o,s,u,c=this;Object(y["a"])(this,e),this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=function(){var e={};return function(){var t=Object(f["a"])(Object(d["a"])().mark((function t(r){var n,i,a,o,s,u;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=Nt(r),a=i.commitment,o=i.config,s=c._buildArgs([],a,void 0,o),u=mt(s),e[u]=null!==(n=e[u])&&void 0!==n?n:Object(f["a"])(Object(d["a"])().mark((function t(){var r,n;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c._rpcRequest("getBlockHeight",s);case 3:if(r=t.sent,n=Object(A["create"])(r,Ut(Object(A["number"])())),!("error"in n)){t.next=7;break}throw new xt(n.error,"failed to get block height information");case 7:return t.abrupt("return",n.result);case 8:return t.prev=8,delete e[u],t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,,8,11]])})))(),t.next=6,e[u];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(),r&&"string"===typeof r?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,a=r.fetch,o=r.fetchMiddleware,s=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=zt(t),this._rpcWsEndpoint=n||Pt(t),this._rpcClient=ir(t,i,a,o,s,u),this._rpcRequest=ar(this._rpcClient),this._rpcBatchRequest=or(this._rpcClient),this._rpcWebSocket=new It(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}return Object(m["a"])(e,[{key:"commitment",get:function(){return this._commitment}},{key:"rpcEndpoint",get:function(){return this._rpcEndpoint}},{key:"getBalanceAndContext",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgs([t.toBase58()],i,void 0,a),e.next=4,this._rpcRequest("getBalance",o);case 4:if(s=e.sent,u=Object(A["create"])(s,qt(Object(A["number"])())),!("error"in u)){e.next=8;break}throw new xt(u.error,"failed to get balance for ".concat(t.toBase58()));case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getBalanceAndContext(t,r).then((function(e){return e.value})).catch((function(e){throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBlockTime",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getBlockTime",[t]);case 2:if(r=e.sent,n=Object(A["create"])(r,Ut(Object(A["nullable"])(Object(A["number"])()))),!("error"in n)){e.next=6;break}throw new xt(n.error,"failed to get block time for slot ".concat(t));case 6:return e.abrupt("return",n.result);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getMinimumLedgerSlot",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("minimumLedgerSlot",[]);case 2:if(t=e.sent,r=Object(A["create"])(t,Ut(Object(A["number"])())),!("error"in r)){e.next=6;break}throw new xt(r.error,"failed to get minimum ledger slot");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFirstAvailableBlock",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getFirstAvailableBlock",[]);case 2:if(t=e.sent,r=Object(A["create"])(t,fr),!("error"in r)){e.next=6;break}throw new xt(r.error,"failed to get first available block");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSupply",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},r="string"===typeof t?{commitment:t}:t?Object(s["a"])(Object(s["a"])({},t),{},{commitment:t&&t.commitment||this.commitment}):{commitment:this.commitment},e.next=4,this._rpcRequest("getSupply",[r]);case 4:if(n=e.sent,i=Object(A["create"])(n,br),!("error"in i)){e.next=8;break}throw new xt(i.error,"failed to get supply");case 8:return e.abrupt("return",i.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenSupply",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenSupply",n);case 3:if(i=e.sent,a=Object(A["create"])(i,qt(pr)),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get token supply");case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTokenAccountBalance",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenAccountBalance",n);case 3:if(i=e.sent,a=Object(A["create"])(i,qt(pr)),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get token account balance");case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTokenAccountsByOwner",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o,s,u,c,l;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Nt(n),a=i.commitment,o=i.config,s=[t.toBase58()],"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()}),u=this._buildArgs(s,a,"base64",o),e.next=6,this._rpcRequest("getTokenAccountsByOwner",u);case 6:if(c=e.sent,l=Object(A["create"])(c,mr),!("error"in l)){e.next=10;break}throw new xt(l.error,"failed to get token accounts owned by account ".concat(t.toBase58()));case 10:return e.abrupt("return",l.result);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getParsedTokenAccountsByOwner",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o,s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=[t.toBase58()],"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()}),a=this._buildArgs(i,n,"jsonParsed"),e.next=5,this._rpcRequest("getTokenAccountsByOwner",a);case 5:if(o=e.sent,s=Object(A["create"])(o,gr),!("error"in s)){e.next=9;break}throw new xt(s.error,"failed to get token accounts owned by account ".concat(t.toBase58()));case 9:return e.abrupt("return",s.result);case 10:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getLargestAccounts",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(s["a"])(Object(s["a"])({},t),{},{commitment:t&&t.commitment||this.commitment}),n=r.filter||r.commitment?[r]:[],e.next=4,this._rpcRequest("getLargestAccounts",n);case 4:if(i=e.sent,a=Object(A["create"])(i,kr),!("error"in a)){e.next=8;break}throw new xt(a.error,"failed to get largest accounts");case 8:return e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenLargestAccounts",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenLargestAccounts",n);case 3:if(i=e.sent,a=Object(A["create"])(i,yr),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get token largest accounts");case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getAccountInfoAndContext",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgs([t.toBase58()],i,"base64",a),e.next=4,this._rpcRequest("getAccountInfo",o);case 4:if(s=e.sent,u=Object(A["create"])(s,qt(Object(A["nullable"])(wr))),!("error"in u)){e.next=8;break}throw new xt(u.error,"failed to get info about account ".concat(t.toBase58()));case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedAccountInfo",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgs([t.toBase58()],i,"jsonParsed",a),e.next=4,this._rpcRequest("getAccountInfo",o);case 4:if(s=e.sent,u=Object(A["create"])(s,qt(Object(A["nullable"])(xr))),!("error"in u)){e.next=8;break}throw new xt(u.error,"failed to get info about account ".concat(t.toBase58()));case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getAccountInfo",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccountInfoAndContext(t,r);case 3:return n=e.sent,e.abrupt("return",n.value);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error("failed to get info about account "+t.toBase58()+": "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMultipleParsedAccounts",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u,c;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=t.map((function(e){return e.toBase58()})),s=this._buildArgs([o],i,"jsonParsed",a),e.next=5,this._rpcRequest("getMultipleAccounts",s);case 5:if(u=e.sent,c=Object(A["create"])(u,qt(Object(A["array"])(Object(A["nullable"])(xr)))),!("error"in c)){e.next=9;break}throw new xt(c.error,"failed to get info for accounts ".concat(o));case 9:return e.abrupt("return",c.result);case 10:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMultipleAccountsInfoAndContext",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u,c;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=t.map((function(e){return e.toBase58()})),s=this._buildArgs([o],i,"base64",a),e.next=5,this._rpcRequest("getMultipleAccounts",s);case 5:if(u=e.sent,c=Object(A["create"])(u,qt(Object(A["array"])(Object(A["nullable"])(wr)))),!("error"in c)){e.next=9;break}throw new xt(c.error,"failed to get info for accounts ".concat(o));case 9:return e.abrupt("return",c.result);case 10:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMultipleAccountsInfo",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMultipleAccountsInfoAndContext(t,r);case 2:return n=e.sent,e.abrupt("return",n.value);case 4:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getStakeActivation",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o,u,c,l;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Nt(r),a=i.commitment,o=i.config,u=this._buildArgs([t.toBase58()],a,void 0,Object(s["a"])(Object(s["a"])({},o),{},{epoch:null!=n?n:null===o||void 0===o?void 0:o.epoch})),e.next=4,this._rpcRequest("getStakeActivation",u);case 4:if(c=e.sent,l=Object(A["create"])(c,Ut(Ir)),!("error"in l)){e.next=8;break}throw new xt(l.error,"failed to get Stake Activation ".concat(t.toBase58()));case 8:return e.abrupt("return",l.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getProgramAccounts",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var i,a,o,s,u,c,l,h,f,b;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Nt(r),a=i.commitment,o=i.config,s=o||{},u=s.encoding,c=Object(n["a"])(s,N),l=this._buildArgs([t.toBase58()],a,u||"base64",c),e.next=5,this._rpcRequest("getProgramAccounts",l);case 5:if(h=e.sent,f=Object(A["array"])(Or),b=!0===c.withContext?Object(A["create"])(h,qt(f)):Object(A["create"])(h,Ut(f)),!("error"in b)){e.next=10;break}throw new xt(b.error,"failed to get accounts owned by program ".concat(t.toBase58()));case 10:return e.abrupt("return",b.result);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedProgramAccounts",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgs([t.toBase58()],i,"jsonParsed",a),e.next=4,this._rpcRequest("getProgramAccounts",o);case 4:if(s=e.sent,u=Object(A["create"])(s,Ut(Object(A["array"])(Sr))),!("error"in u)){e.next=8;break}throw new xt(u.error,"failed to get accounts owned by program ".concat(t.toBase58()));case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"confirmTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=4;break}n=t,e.next=8;break;case 4:if(a=t,null===(i=a.abortSignal)||void 0===i||!i.aborted){e.next=7;break}return e.abrupt("return",Promise.reject(a.abortSignal.reason));case 7:n=a.signature;case 8:e.prev=8,o=j.a.decode(n),e.next=15;break;case 12:throw e.prev=12,e.t0=e["catch"](8),new Error("signature must be base58 encoded: "+n);case 15:if(je(64===o.length,"signature has invalid length"),"string"!==typeof t){e.next=22;break}return e.next=19,this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n});case 19:return e.abrupt("return",e.sent);case 22:if(!("lastValidBlockHeight"in t)){e.next=28;break}return e.next=25,this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t});case 25:return e.abrupt("return",e.sent);case 28:return e.next=30,this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t});case 30:return e.abrupt("return",e.sent);case 31:case"end":return e.stop()}}),e,this,[[8,12]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getCancellationPromise",value:function(e){return new Promise((function(t,r){null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",(function(){r(e.reason)})))}))}},{key:"getTransactionConfirmationPromise",value:function(e){var t,r,n=this,i=e.commitment,a=e.signature,o=!1,s=new Promise((function(e,s){try{t=n.onSignature(a,(function(r,n){t=void 0;var i={context:n,value:r};e({__type:Ae.PROCESSED,response:i})}),i);var u=new Promise((function(e){null==t?e():r=n._onSubscriptionStateChange(t,(function(t){"subscribed"===t&&e()}))}));Object(f["a"])(Object(d["a"])().mark((function t(){var r,c,l;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u;case 2:if(!o){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n.getSignatureStatus(a);case 6:if(r=t.sent,!o){t.next=9;break}return t.abrupt("return");case 9:if(null!=r){t.next=11;break}return t.abrupt("return");case 11:if(c=r.context,l=r.value,null!=l){t.next=14;break}return t.abrupt("return");case 14:if(null===l||void 0===l||!l.err){t.next=18;break}s(l.err),t.next=29;break;case 18:t.t0=i,t.next="confirmed"===t.t0||"single"===t.t0||"singleGossip"===t.t0?21:"finalized"===t.t0||"max"===t.t0||"root"===t.t0?24:("processed"===t.t0||t.t0,27);break;case 21:if("processed"!==l.confirmationStatus){t.next=23;break}return t.abrupt("return");case 23:return t.abrupt("break",27);case 24:if("processed"!==l.confirmationStatus&&"confirmed"!==l.confirmationStatus){t.next=26;break}return t.abrupt("return");case 26:return t.abrupt("break",27);case 27:o=!0,e({__type:Ae.PROCESSED,response:{context:c,value:l}});case 29:case"end":return t.stop()}}),t)})))()}catch(c){s(c)}})),u=function(){r&&(r(),r=void 0),null!=t&&(n.removeSignatureListener(t),t=void 0)};return{abortConfirmation:u,confirmationPromise:s}}},{key:"confirmTransactionUsingBlockHeightExceedanceStrategy",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s,u,c,l,h,b,p,y,m=this;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commitment,n=t.strategy,i=n.abortSignal,a=n.lastValidBlockHeight,o=n.signature,s=!1,u=new Promise((function(e){var t=function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.getBlockHeight(r);case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",-1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(f["a"])(Object(d["a"])().mark((function r(){var n;return Object(d["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t();case 2:if(n=r.sent,!s){r.next=5;break}return r.abrupt("return");case 5:if(!(n<=a)){r.next=17;break}return r.next=8,Ye(1e3);case 8:if(!s){r.next=10;break}return r.abrupt("return");case 10:return r.next=12,t();case 12:if(n=r.sent,!s){r.next=15;break}return r.abrupt("return");case 15:r.next=5;break;case 17:e({__type:Ae.BLOCKHEIGHT_EXCEEDED});case 18:case"end":return r.stop()}}),r)})))()})),c=this.getTransactionConfirmationPromise({commitment:r,signature:o}),l=c.abortConfirmation,h=c.confirmationPromise,b=this.getCancellationPromise(i),e.prev=5,e.next=8,Promise.race([b,h,u]);case 8:if(y=e.sent,y.__type!==Ae.PROCESSED){e.next=13;break}p=y.response,e.next=14;break;case 13:throw new ce(o);case 14:return e.prev=14,s=!0,l(),e.finish(14);case 18:return e.abrupt("return",p);case 19:case"end":return e.stop()}}),e,this,[[5,,14,18]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"confirmTransactionUsingDurableNonceStrategy",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s,u,c,l,h,b,p,y,m,v,g,k,w,O,j,x,S=this;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commitment,n=t.strategy,i=n.abortSignal,a=n.minContextSlot,o=n.nonceAccountPubkey,s=n.nonceValue,u=n.signature,c=!1,l=new Promise((function(e){var t=s,n=null,i=function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var i,s,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.getNonceAndContext(o,{commitment:r,minContextSlot:a});case 3:return i=e.sent,s=i.context,u=i.value,n=s.slot,e.abrupt("return",null===u||void 0===u?void 0:u.nonce);case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(f["a"])(Object(d["a"])().mark((function r(){return Object(d["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,i();case 2:if(t=r.sent,!c){r.next=5;break}return r.abrupt("return");case 5:if(s===t){r.next=9;break}return e({__type:Ae.NONCE_INVALID,slotInWhichNonceDidAdvance:n}),r.abrupt("return");case 9:return r.next=11,Ye(2e3);case 11:if(!c){r.next=13;break}return r.abrupt("return");case 13:return r.next=15,i();case 15:if(t=r.sent,!c){r.next=18;break}return r.abrupt("return");case 18:r.next=5;break;case 20:case"end":return r.stop()}}),r)})))()})),h=this.getTransactionConfirmationPromise({commitment:r,signature:u}),b=h.abortConfirmation,p=h.confirmationPromise,y=this.getCancellationPromise(i),e.prev=5,e.next=8,Promise.race([y,p,l]);case 8:if(v=e.sent,v.__type!==Ae.PROCESSED){e.next=13;break}m=v.response,e.next=47;break;case 13:return e.next=16,this.getSignatureStatus(u);case 16:if(O=e.sent,null!=O){e.next=19;break}return e.abrupt("break",27);case 19:if(!(O.context.slot<(null!==(w=v.slotInWhichNonceDidAdvance)&&void 0!==w?w:a))){e.next=23;break}return e.next=22,Ye(400);case 22:return e.abrupt("continue",13);case 23:return k=O,e.abrupt("break",27);case 27:if(null===(g=k)||void 0===g||!g.value){e.next=46;break}j=r||"finalized",x=k.value.confirmationStatus,e.t0=j,e.next="processed"===e.t0||"recent"===e.t0?33:"confirmed"===e.t0||"single"===e.t0||"singleGossip"===e.t0?36:"finalized"===e.t0||"max"===e.t0||"root"===e.t0?39:42;break;case 33:if("processed"===x||"confirmed"===x||"finalized"===x){e.next=35;break}throw new he(u);case 35:return e.abrupt("break",43);case 36:if("confirmed"===x||"finalized"===x){e.next=38;break}throw new he(u);case 38:return e.abrupt("break",43);case 39:if("finalized"===x){e.next=41;break}throw new he(u);case 41:return e.abrupt("break",43);case 42:case 43:m={context:k.context,value:{err:k.value.err}},e.next=47;break;case 46:throw new he(u);case 47:return e.prev=47,c=!0,b(),e.finish(47);case 51:return e.abrupt("return",m);case 52:case"end":return e.stop()}}),e,this,[[5,,47,51]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"confirmTransactionUsingLegacyTimeoutStrategy",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s,u,c,l,h=this;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commitment,n=t.signature,a=new Promise((function(e){var t=h._confirmTransactionInitialTimeout||6e4;switch(r){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":t=h._confirmTransactionInitialTimeout||3e4;break}i=setTimeout((function(){return e({__type:Ae.TIMED_OUT,timeoutMs:t})}),t)})),o=this.getTransactionConfirmationPromise({commitment:r,signature:n}),s=o.abortConfirmation,u=o.confirmationPromise,e.prev=3,e.next=6,Promise.race([u,a]);case 6:if(l=e.sent,l.__type!==Ae.PROCESSED){e.next=11;break}c=l.response,e.next=12;break;case 11:throw new le(n,l.timeoutMs/1e3);case 12:return e.prev=12,clearTimeout(i),s(),e.finish(12);case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,this,[[3,,12,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getClusterNodes",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getClusterNodes",[]);case 2:if(t=e.sent,r=Object(A["create"])(t,Ut(Object(A["array"])(Nr))),!("error"in r)){e.next=6;break}throw new xt(r.error,"failed to get cluster nodes");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getVoteAccounts",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getVoteAccounts",r);case 3:if(n=e.sent,i=Object(A["create"])(n,Wr),!("error"in i)){e.next=7;break}throw new xt(i.error,"failed to get vote accounts");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSlot",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Nt(t),n=r.commitment,i=r.config,a=this._buildArgs([],n,void 0,i),e.next=4,this._rpcRequest("getSlot",a);case 4:if(o=e.sent,s=Object(A["create"])(o,Ut(Object(A["number"])())),!("error"in s)){e.next=8;break}throw new xt(s.error,"failed to get slot");case 8:return e.abrupt("return",s.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSlotLeader",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Nt(t),n=r.commitment,i=r.config,a=this._buildArgs([],n,void 0,i),e.next=4,this._rpcRequest("getSlotLeader",a);case 4:if(o=e.sent,s=Object(A["create"])(o,Ut(Object(A["string"])())),!("error"in s)){e.next=8;break}throw new xt(s.error,"failed to get slot leader");case 8:return e.abrupt("return",s.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSlotLeaders",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[t,r],e.next=3,this._rpcRequest("getSlotLeaders",n);case 3:if(i=e.sent,a=Object(A["create"])(i,Ut(Object(A["array"])(Tt))),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get slot leaders");case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSignatureStatus",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSignatureStatuses([t],r);case 2:return n=e.sent,i=n.context,a=n.value,je(1===a.length),o=a[0],e.abrupt("return",{context:i,value:o});case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSignatureStatuses",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[t],r&&n.push(r),e.next=4,this._rpcRequest("getSignatureStatuses",n);case 4:if(i=e.sent,a=Object(A["create"])(i,Dr),!("error"in a)){e.next=8;break}throw new xt(a.error,"failed to get signature status");case 8:return e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTransactionCount",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Nt(t),n=r.commitment,i=r.config,a=this._buildArgs([],n,void 0,i),e.next=4,this._rpcRequest("getTransactionCount",a);case 4:if(o=e.sent,s=Object(A["create"])(o,Ut(Object(A["number"])())),!("error"in s)){e.next=8;break}throw new xt(s.error,"failed to get transaction count");case 8:return e.abrupt("return",s.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTotalSupply",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0});case 2:return r=e.sent,e.abrupt("return",r.value.total);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getInflationGovernor",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getInflationGovernor",r);case 3:if(n=e.sent,i=Object(A["create"])(n,sr),!("error"in i)){e.next=7;break}throw new xt(i.error,"failed to get inflation");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getInflationReward",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o,u,c,l;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Nt(n),a=i.commitment,o=i.config,u=this._buildArgs([t.map((function(e){return e.toBase58()}))],a,void 0,Object(s["a"])(Object(s["a"])({},o),{},{epoch:null!=r?r:null===o||void 0===o?void 0:o.epoch})),e.next=4,this._rpcRequest("getInflationReward",u);case 4:if(c=e.sent,l=Object(A["create"])(c,Ht),!("error"in l)){e.next=8;break}throw new xt(l.error,"failed to get inflation reward");case 8:return e.abrupt("return",l.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getInflationRate",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getInflationRate",[]);case 2:if(t=e.sent,r=Object(A["create"])(t,ur),!("error"in r)){e.next=6;break}throw new xt(r.error,"failed to get inflation rate");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getEpochInfo",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Nt(t),n=r.commitment,i=r.config,a=this._buildArgs([],n,void 0,i),e.next=4,this._rpcRequest("getEpochInfo",a);case 4:if(o=e.sent,s=Object(A["create"])(o,lr),!("error"in s)){e.next=8;break}throw new xt(s.error,"failed to get epoch info");case 8:return e.abrupt("return",s.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getEpochSchedule",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r,n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getEpochSchedule",[]);case 2:if(t=e.sent,r=Object(A["create"])(t,hr),!("error"in r)){e.next=6;break}throw new xt(r.error,"failed to get epoch schedule");case 6:return n=r.result,e.abrupt("return",new wt(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLeaderSchedule",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getLeaderSchedule",[]);case 2:if(t=e.sent,r=Object(A["create"])(t,dr),!("error"in r)){e.next=6;break}throw new xt(r.error,"failed to get leader schedule");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMinimumBalanceForRentExemption",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t],r),e.next=3,this._rpcRequest("getMinimumBalanceForRentExemption",n);case 3:if(i=e.sent,a=Object(A["create"])(i,Vr),!("error"in a)){e.next=8;break}return console.warn("Unable to fetch minimum balance for rent exemption"),e.abrupt("return",0);case 8:return e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getRecentBlockhashAndContext",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getRecentBlockhash",r);case 3:if(n=e.sent,i=Object(A["create"])(n,vn),!("error"in i)){e.next=7;break}throw new xt(i.error,"failed to get recent blockhash");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRecentPerformanceSamples",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]);case 2:if(r=e.sent,n=Object(A["create"])(r,On),!("error"in n)){e.next=6;break}throw new xt(n.error,"failed to get recent performance samples");case 6:return e.abrupt("return",n.result);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFeeCalculatorForBlockhash",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t],r),e.next=3,this._rpcRequest("getFeeCalculatorForBlockhash",n);case 3:if(i=e.sent,a=Object(A["create"])(i,jn),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get fee calculator");case 7:return o=a.result,s=o.context,u=o.value,e.abrupt("return",{context:s,value:null!==u?u.feeCalculator:null});case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getFeeForMessage",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Y(t.serialize()).toString("base64"),i=this._buildArgs([n],r),e.next=4,this._rpcRequest("getFeeForMessage",i);case 4:if(a=e.sent,o=Object(A["create"])(a,qt(Object(A["nullable"])(Object(A["number"])()))),!("error"in o)){e.next=8;break}throw new xt(o.error,"failed to get fee for message");case 8:if(null!==o.result){e.next=10;break}throw new Error("invalid blockhash");case 10:return e.abrupt("return",o.result);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getRecentPrioritizationFees",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null===t||void 0===t||null===(r=t.lockedWritableAccounts)||void 0===r?void 0:r.map((function(e){return e.toBase58()})),i=null!==n&&void 0!==n&&n.length?[n]:[],e.next=4,this._rpcRequest("getRecentPrioritizationFees",i);case 4:if(a=e.sent,o=Object(A["create"])(a,cr),!("error"in o)){e.next=8;break}throw new xt(o.error,"failed to get recent prioritization fees");case 8:return e.abrupt("return",o.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRecentBlockhash",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRecentBlockhashAndContext(t);case 3:return r=e.sent,e.abrupt("return",r.value);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error("failed to get recent blockhash: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLatestBlockhash",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getLatestBlockhashAndContext(t);case 3:return r=e.sent,e.abrupt("return",r.value);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error("failed to get recent blockhash: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLatestBlockhashAndContext",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Nt(t),n=r.commitment,i=r.config,a=this._buildArgs([],n,void 0,i),e.next=4,this._rpcRequest("getLatestBlockhash",a);case 4:if(o=e.sent,s=Object(A["create"])(o,gn),!("error"in s)){e.next=8;break}throw new xt(s.error,"failed to get latest blockhash");case 8:return e.abrupt("return",s.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isBlockhashValid",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgs([t],i,void 0,a),e.next=4,this._rpcRequest("isBlockhashValid",o);case 4:if(s=e.sent,u=Object(A["create"])(s,kn),!("error"in u)){e.next=8;break}throw new xt(u.error,"failed to determine if the blockhash `"+t+"`is valid");case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getVersion",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getVersion",[]);case 2:if(t=e.sent,r=Object(A["create"])(t,Ut(tr)),!("error"in r)){e.next=6;break}throw new xt(r.error,"failed to get version");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getGenesisHash",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getGenesisHash",[]);case 2:if(t=e.sent,r=Object(A["create"])(t,Ut(Object(A["string"])())),!("error"in r)){e.next=6;break}throw new xt(r.error,"failed to get genesis hash");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBlock",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,u,c,l,h,f;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgsAtLeastConfirmed([t],i,void 0,a),e.next=4,this._rpcRequest("getBlock",o);case 4:u=e.sent,e.prev=5,e.t0=null===a||void 0===a?void 0:a.transactionDetails,e.next="accounts"===e.t0?9:"none"===e.t0?13:17;break;case 9:if(c=Object(A["create"])(u,ln),!("error"in c)){e.next=12;break}throw c.error;case 12:return e.abrupt("return",c.result);case 13:if(l=Object(A["create"])(u,cn),!("error"in l)){e.next=16;break}throw l.error;case 16:return e.abrupt("return",l.result);case 17:if(h=Object(A["create"])(u,un),!("error"in h)){e.next=20;break}throw h.error;case 20:return f=h.result,e.abrupt("return",f?Object(s["a"])(Object(s["a"])({},f),{},{transactions:f.transactions.map((function(e){var t=e.transaction,r=e.meta,n=e.version;return{meta:r,transaction:Object(s["a"])(Object(s["a"])({},t),{},{message:Vt(n,t.message)}),version:n}}))}):null);case 22:e.next=27;break;case 24:throw e.prev=24,e.t1=e["catch"](5),new xt(e.t1,"failed to get confirmed block");case 27:case"end":return e.stop()}}),e,this,[[5,24]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedBlock",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u,c,l;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",a),e.next=4,this._rpcRequest("getBlock",o);case 4:s=e.sent,e.prev=5,e.t0=null===a||void 0===a?void 0:a.transactionDetails,e.next="accounts"===e.t0?9:"none"===e.t0?13:17;break;case 9:if(u=Object(A["create"])(s,dn),!("error"in u)){e.next=12;break}throw u.error;case 12:return e.abrupt("return",u.result);case 13:if(c=Object(A["create"])(s,fn),!("error"in c)){e.next=16;break}throw c.error;case 16:return e.abrupt("return",c.result);case 17:if(l=Object(A["create"])(s,hn),!("error"in l)){e.next=20;break}throw l.error;case 20:return e.abrupt("return",l.result);case 21:e.next=26;break;case 23:throw e.prev=23,e.t1=e["catch"](5),new xt(e.t1,"failed to get block");case 26:case"end":return e.stop()}}),e,this,[[5,23]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBlockProduction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,i,a,o,s,u,c;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"string"===typeof t?i=t:t&&(a=t.commitment,o=Object(n["a"])(t,K),i=a,r=o),s=this._buildArgs([],i,"base64",r),e.next=4,this._rpcRequest("getBlockProduction",s);case 4:if(u=e.sent,c=Object(A["create"])(u,nr),!("error"in c)){e.next=8;break}throw new xt(c.error,"failed to get block production information");case 8:return e.abrupt("return",c.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,u,c,l;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgsAtLeastConfirmed([t],i,void 0,a),e.next=4,this._rpcRequest("getTransaction",o);case 4:if(u=e.sent,c=Object(A["create"])(u,yn),!("error"in c)){e.next=8;break}throw new xt(c.error,"failed to get transaction");case 8:if(l=c.result,l){e.next=11;break}return e.abrupt("return",l);case 11:return e.abrupt("return",Object(s["a"])(Object(s["a"])({},l),{},{transaction:Object(s["a"])(Object(s["a"])({},l.transaction),{},{message:Vt(l.version,l.transaction.message)})}));case 12:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",a),e.next=4,this._rpcRequest("getTransaction",o);case 4:if(s=e.sent,u=Object(A["create"])(s,mn),!("error"in u)){e.next=8;break}throw new xt(u.error,"failed to get transaction");case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedTransactions",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u,c=this;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=t.map((function(e){var t=c._buildArgsAtLeastConfirmed([e],i,"jsonParsed",a);return{methodName:"getTransaction",args:t}})),e.next=4,this._rpcBatchRequest(o);case 4:return s=e.sent,u=s.map((function(e){var t=Object(A["create"])(e,mn);if("error"in t)throw new xt(t.error,"failed to get transactions");return t.result})),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTransactions",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,u,c,l=this;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Nt(r),i=n.commitment,a=n.config,o=t.map((function(e){var t=l._buildArgsAtLeastConfirmed([e],i,void 0,a);return{methodName:"getTransaction",args:t}})),e.next=4,this._rpcBatchRequest(o);case 4:return u=e.sent,c=u.map((function(e){var t=Object(A["create"])(e,yn);if("error"in t)throw new xt(t.error,"failed to get transactions");var r=t.result;return r?Object(s["a"])(Object(s["a"])({},r),{},{transaction:Object(s["a"])(Object(s["a"])({},r.transaction),{},{message:Vt(r.version,r.transaction.message)})}):r})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getConfirmedBlock",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r),e.next=3,this._rpcRequest("getConfirmedBlock",n);case 3:if(i=e.sent,a=Object(A["create"])(i,bn),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get confirmed block");case 7:if(o=a.result,o){e.next=10;break}throw new Error("Confirmed block "+t+" not found");case 10:return u=Object(s["a"])(Object(s["a"])({},o),{},{transactions:o.transactions.map((function(e){var t=e.transaction,r=e.meta,n=new Se(t.message);return{meta:r,transaction:Object(s["a"])(Object(s["a"])({},t),{},{message:n})}}))}),e.abrupt("return",Object(s["a"])(Object(s["a"])({},u),{},{transactions:u.transactions.map((function(e){var t=e.transaction,r=e.meta;return{meta:r,transaction:Me.populate(t.message,t.signatures)}}))}));case 12:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBlocks",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this._buildArgsAtLeastConfirmed(void 0!==r?[t,r]:[t],n),e.next=3,this._rpcRequest("getBlocks",i);case 3:if(a=e.sent,o=Object(A["create"])(a,Ut(Object(A["array"])(Object(A["number"])()))),!("error"in o)){e.next=7;break}throw new xt(o.error,"failed to get blocks");case 7:return e.abrupt("return",o.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getBlockSignatures",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),e.next=3,this._rpcRequest("getBlock",n);case 3:if(i=e.sent,a=Object(A["create"])(i,pn),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get block");case 7:if(o=a.result,o){e.next=10;break}throw new Error("Block "+t+" not found");case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getConfirmedBlockSignatures",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),e.next=3,this._rpcRequest("getConfirmedBlock",n);case 3:if(i=e.sent,a=Object(A["create"])(i,pn),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get confirmed block");case 7:if(o=a.result,o){e.next=10;break}throw new Error("Confirmed block "+t+" not found");case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getConfirmedTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,u,c;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r),e.next=3,this._rpcRequest("getConfirmedTransaction",n);case 3:if(i=e.sent,a=Object(A["create"])(i,yn),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get transaction");case 7:if(o=a.result,o){e.next=10;break}return e.abrupt("return",o);case 10:return u=new Se(o.transaction.message),c=o.transaction.signatures,e.abrupt("return",Object(s["a"])(Object(s["a"])({},o),{},{transaction:Me.populate(u,c)}));case 13:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedConfirmedTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),e.next=3,this._rpcRequest("getConfirmedTransaction",n);case 3:if(i=e.sent,a=Object(A["create"])(i,mn),!("error"in a)){e.next=7;break}throw new xt(a.error,"failed to get confirmed transaction");case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedConfirmedTransactions",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o=this;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.map((function(e){var t=o._buildArgsAtLeastConfirmed([e],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:t}})),e.next=3,this._rpcBatchRequest(n);case 3:return i=e.sent,a=i.map((function(e){var t=Object(A["create"])(e,mn);if("error"in t)throw new xt(t.error,"failed to get confirmed transactions");return t.result})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getConfirmedSignaturesForAddress",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o,s,u,c;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={},e.next=3,this.getFirstAvailableBlock();case 3:a=e.sent;case 4:if("until"in i){e.next=24;break}if(r--,!(r<=0||r<a)){e.next=8;break}return e.abrupt("break",24);case 8:return e.prev=8,e.next=11,this.getConfirmedBlockSignatures(r,"finalized");case 11:o=e.sent,o.signatures.length>0&&(i.until=o.signatures[o.signatures.length-1].toString()),e.next=22;break;case 15:if(e.prev=15,e.t0=e["catch"](8),!(e.t0 instanceof Error&&e.t0.message.includes("skipped"))){e.next=21;break}return e.abrupt("continue",4);case 21:throw e.t0;case 22:e.next=4;break;case 24:return e.next=26,this.getSlot("finalized");case 26:s=e.sent;case 27:if("before"in i){e.next=47;break}if(n++,!(n>s)){e.next=31;break}return e.abrupt("break",47);case 31:return e.prev=31,e.next=34,this.getConfirmedBlockSignatures(n);case 34:u=e.sent,u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString()),e.next=45;break;case 38:if(e.prev=38,e.t1=e["catch"](31),!(e.t1 instanceof Error&&e.t1.message.includes("skipped"))){e.next=44;break}return e.abrupt("continue",27);case 44:throw e.t1;case 45:e.next=27;break;case 47:return e.next=49,this.getConfirmedSignaturesForAddress2(t,i);case 49:return c=e.sent,e.abrupt("return",c.map((function(e){return e.signature})));case 51:case"end":return e.stop()}}),e,this,[[8,15],[31,38]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getConfirmedSignaturesForAddress2",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),e.next=3,this._rpcRequest("getConfirmedSignaturesForAddress2",i);case 3:if(a=e.sent,o=Object(A["create"])(a,_r),!("error"in o)){e.next=7;break}throw new xt(o.error,"failed to get confirmed signatures for address");case 7:return e.abrupt("return",o.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getSignaturesForAddress",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),e.next=3,this._rpcRequest("getSignaturesForAddress",i);case 3:if(a=e.sent,o=Object(A["create"])(a,Ar),!("error"in o)){e.next=7;break}throw new xt(o.error,"failed to get signatures for address");case 7:return e.abrupt("return",o.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getAddressLookupTable",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountInfoAndContext(t,r);case 2:return n=e.sent,i=n.context,a=n.value,o=null,null!==a&&(o=new Et({key:t,state:Et.deserialize(a.data)})),e.abrupt("return",{context:i,value:o});case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getNonceAndContext",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountInfoAndContext(t,r);case 2:return n=e.sent,i=n.context,a=n.value,o=null,null!==a&&(o=tt.fromAccountData(a.data)),e.abrupt("return",{context:i,value:o});case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getNonce",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getNonceAndContext(t,r).then((function(e){return e.value})).catch((function(e){throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"requestAirdrop",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("requestAirdrop",[t.toBase58(),r]);case 2:if(n=e.sent,i=Object(A["create"])(n,xn),!("error"in i)){e.next=6;break}throw new xt(i.error,"airdrop to ".concat(t.toBase58()," failed"));case 6:return e.abrupt("return",i.result);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_blockhashWithExpiryBlockHeight",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=10;break}case 1:if(!this._pollingBlockhash){e.next=6;break}return e.next=4,Ye(100);case 4:e.next=1;break;case 6:if(r=Date.now()-this._blockhashInfo.lastFetch,n=r>=Ct,null===this._blockhashInfo.latestBlockhash||n){e.next=10;break}return e.abrupt("return",this._blockhashInfo.latestBlockhash);case 10:return e.next=12,this._pollNewBlockhash();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_pollNewBlockhash",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r,n,i,a;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._pollingBlockhash=!0,e.prev=1,t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null,i=0;case 6:if(!(i<50)){e.next=18;break}return e.next=9,this.getLatestBlockhash("finalized");case 9:if(a=e.sent,n===a.blockhash){e.next=13;break}return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e.abrupt("return",a);case 13:return e.next=15,Ye(ze/2);case 15:i++,e.next=6;break;case 18:throw new Error("Unable to obtain a new blockhash after ".concat(Date.now()-t,"ms"));case 19:return e.prev=19,this._pollingBlockhash=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getStakeMinimumDelegation",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var r,n,i,a,o,s;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Nt(t),n=r.commitment,i=r.config,a=this._buildArgs([],n,"base64",i),e.next=4,this._rpcRequest("getStakeMinimumDelegation",a);case 4:if(o=e.sent,s=Object(A["create"])(o,qt(Object(A["number"])())),!("error"in s)){e.next=8;break}throw new xt(s.error,"failed to get stake minimum delegation");case 8:return e.abrupt("return",s.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"simulateTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o,s,u,l,h,f,b,p,y,m,g,k,w,O,j,x,S,I,_,E,B,M,P,T,R;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("message"in t)){e.next=17;break}if(i=t,a=i.serialize(),o=v["Buffer"].from(a).toString("base64"),!Array.isArray(r)&&void 0===n){e.next=6;break}throw new Error("Invalid arguments");case 6:return s=r||{},s.encoding="base64","commitment"in s||(s.commitment=this.commitment),u=[o,s],e.next=12,this._rpcRequest("simulateTransaction",u);case 12:if(l=e.sent,h=Object(A["create"])(l,rr),!("error"in h)){e.next=16;break}throw new Error("failed to simulate transaction: "+h.error.message);case 16:return e.abrupt("return",h.result);case 17:if(t instanceof Me?(b=t,f=new Me,f.feePayer=b.feePayer,f.instructions=t.instructions,f.nonceInfo=b.nonceInfo,f.signatures=b.signatures):(f=Me.populate(t),f._message=f._json=void 0),void 0===r||Array.isArray(r)){e.next=20;break}throw new Error("Invalid arguments");case 20:if(p=r,!f.nonceInfo||!p){e.next=25;break}(y=f).sign.apply(y,Object(c["a"])(p)),e.next=45;break;case 25:m=this._disableBlockhashCaching;case 26:return e.next=28,this._blockhashWithExpiryBlockHeight(m);case 28:if(k=e.sent,f.lastValidBlockHeight=k.lastValidBlockHeight,f.recentBlockhash=k.blockhash,p){e.next=33;break}return e.abrupt("break",45);case 33:if((g=f).sign.apply(g,Object(c["a"])(p)),f.signature){e.next=36;break}throw new Error("!signature");case 36:if(w=f.signature.toString("base64"),this._blockhashInfo.simulatedSignatures.includes(w)||this._blockhashInfo.transactionSignatures.includes(w)){e.next=42;break}return this._blockhashInfo.simulatedSignatures.push(w),e.abrupt("break",45);case 42:m=!0;case 43:e.next=26;break;case 45:return O=f._compile(),j=O.serialize(),x=f._serialize(j),S=x.toString("base64"),I={encoding:"base64",commitment:this.commitment},n&&(_=(Array.isArray(n)?n:O.nonProgramIds()).map((function(e){return e.toBase58()})),I["accounts"]={encoding:"base64",addresses:_}),p&&(I.sigVerify=!0),E=[S,I],e.next=55,this._rpcRequest("simulateTransaction",E);case 55:if(B=e.sent,M=Object(A["create"])(B,rr),!("error"in M)){e.next=60;break}throw"data"in M.error&&(P=M.error.data.logs,P&&Array.isArray(P)&&(T="\n    ",R=T+P.join(T),console.error(M.error.message,R))),new Ot("failed to simulate transaction: "+M.error.message,P);case 60:return e.abrupt("return",M.result);case 61:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"sendTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n){var i,a,o,s,u,l;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("version"in t)){e.next=7;break}if(!r||!Array.isArray(r)){e.next=3;break}throw new Error("Invalid arguments");case 3:return i=t.serialize(),e.next=6,this.sendRawTransaction(i,r);case 6:return e.abrupt("return",e.sent);case 7:if(void 0!==r&&Array.isArray(r)){e.next=9;break}throw new Error("Invalid arguments");case 9:if(a=r,!t.nonceInfo){e.next=14;break}t.sign.apply(t,Object(c["a"])(a)),e.next=32;break;case 14:o=this._disableBlockhashCaching;case 15:return e.next=17,this._blockhashWithExpiryBlockHeight(o);case 17:if(s=e.sent,t.lastValidBlockHeight=s.lastValidBlockHeight,t.recentBlockhash=s.blockhash,t.sign.apply(t,Object(c["a"])(a)),t.signature){e.next=23;break}throw new Error("!signature");case 23:if(u=t.signature.toString("base64"),this._blockhashInfo.transactionSignatures.includes(u)){e.next=29;break}return this._blockhashInfo.transactionSignatures.push(u),e.abrupt("break",32);case 29:o=!0;case 30:e.next=15;break;case 32:return l=t.serialize(),e.next=35,this.sendRawTransaction(l,n);case 35:return e.abrupt("return",e.sent);case 36:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"sendRawTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Y(t).toString("base64"),e.next=3,this.sendEncodedTransaction(n,r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"sendEncodedTransaction",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n,i,a,o,s,u,c;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={encoding:"base64"},i=r&&r.skipPreflight,a=r&&r.preflightCommitment||this.commitment,r&&null!=r.maxRetries&&(n.maxRetries=r.maxRetries),r&&null!=r.minContextSlot&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),a&&(n.preflightCommitment=a),o=[t,n],e.next=10,this._rpcRequest("sendTransaction",o);case 10:if(s=e.sent,u=Object(A["create"])(s,Sn),!("error"in u)){e.next=15;break}throw"data"in u.error&&(c=u.error.data.logs),new Ot("failed to send transaction: "+u.error.message,c);case 15:return e.abrupt("return",u.result);case 16:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_wsOnOpen",value:function(){var e=this;this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((function(){Object(f["a"])(Object(d["a"])().mark((function t(){return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._rpcWebSocket.notify("ping");case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))()}),5e3),this._updateSubscriptions()}},{key:"_wsOnError",value:function(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}},{key:"_wsOnClose",value:function(e){var t=this;this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((function(e){var r=Object(u["a"])(e,2),n=r[0],i=r[1];t._setSubscription(n,Object(s["a"])(Object(s["a"])({},i),{},{state:"pending"}))}))):this._updateSubscriptions()}},{key:"_setSubscription",value:function(e,t){var r,n=null===(r=this._subscriptionsByHash[e])||void 0===r?void 0:r.state;if(this._subscriptionsByHash[e]=t,n!==t.state){var i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach((function(e){try{e(t.state)}catch(r){}}))}}},{key:"_onSubscriptionStateChange",value:function(e,t){var r,n=this,i=this._subscriptionHashByClientSubscriptionId[e];if(null==i)return function(){};var a=(r=this._subscriptionStateChangeCallbacksByHash)[i]||(r[i]=new Set);return a.add(t),function(){a.delete(t),0===a.size&&delete n._subscriptionStateChangeCallbacksByHash[i]}}},{key:"_updateSubscriptions",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(){var t,r,n=this;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==Object.keys(this._subscriptionsByHash).length){e.next=3;break}return this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((function(){n._rpcWebSocketIdleTimeout=null;try{n._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log("Error when closing socket connection: ".concat(e.message))}}),500)),e.abrupt("return");case 3:if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){e.next=7;break}return this._rpcWebSocket.connect(),e.abrupt("return");case 7:return t=this._rpcWebSocketGeneration,r=function(){return t===n._rpcWebSocketGeneration},e.next=11,Promise.all(Object.keys(this._subscriptionsByHash).map(function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){var i;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=n._subscriptionsByHash[t],void 0!==i){e.next=3;break}return e.abrupt("return");case 3:e.t0=i.state,e.next="pending"===e.t0||"unsubscribed"===e.t0?6:"subscribed"===e.t0?15:19;break;case 6:if(0!==i.callbacks.size){e.next=12;break}return delete n._subscriptionsByHash[t],"unsubscribed"===i.state&&delete n._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],e.next=11,n._updateSubscriptions();case 11:return e.abrupt("return");case 12:return e.next=14,Object(f["a"])(Object(d["a"])().mark((function e(){var a,o,u;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=i.args,o=i.method,e.prev=1,n._setSubscription(t,Object(s["a"])(Object(s["a"])({},i),{},{state:"subscribing"})),e.next=5,n._rpcWebSocket.call(o,a);case 5:return u=e.sent,n._setSubscription(t,Object(s["a"])(Object(s["a"])({},i),{},{serverSubscriptionId:u,state:"subscribed"})),n._subscriptionCallbacksByServerSubscriptionId[u]=i.callbacks,e.next=10,n._updateSubscriptions();case 10:e.next=20;break;case 12:if(e.prev=12,e.t0=e["catch"](1),e.t0 instanceof Error&&console.error("".concat(o," error for argument"),a,e.t0.message),r()){e.next=17;break}return e.abrupt("return");case 17:return n._setSubscription(t,Object(s["a"])(Object(s["a"])({},i),{},{state:"pending"})),e.next=20,n._updateSubscriptions();case 20:case"end":return e.stop()}}),e,null,[[1,12]])})))();case 14:return e.abrupt("break",19);case 15:if(0!==i.callbacks.size){e.next=18;break}return e.next=18,Object(f["a"])(Object(d["a"])().mark((function e(){var a,o;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=i.serverSubscriptionId,o=i.unsubscribeMethod,!n._subscriptionsAutoDisposedByRpc.has(a)){e.next=5;break}n._subscriptionsAutoDisposedByRpc.delete(a),e.next=21;break;case 5:return n._setSubscription(t,Object(s["a"])(Object(s["a"])({},i),{},{state:"unsubscribing"})),n._setSubscription(t,Object(s["a"])(Object(s["a"])({},i),{},{state:"unsubscribing"})),e.prev=7,e.next=10,n._rpcWebSocket.call(o,[a]);case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e["catch"](7),e.t0 instanceof Error&&console.error("".concat(o," error:"),e.t0.message),r()){e.next=17;break}return e.abrupt("return");case 17:return n._setSubscription(t,Object(s["a"])(Object(s["a"])({},i),{},{state:"subscribed"})),e.next=20,n._updateSubscriptions();case 20:return e.abrupt("return");case 21:return n._setSubscription(t,Object(s["a"])(Object(s["a"])({},i),{},{state:"unsubscribed"})),e.next=24,n._updateSubscriptions();case 24:case"end":return e.stop()}}),e,null,[[7,12]])})))();case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_handleServerNotification",value:function(e,t){var r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((function(e){try{e.apply(void 0,Object(c["a"])(t))}catch(r){console.error(r)}}))}},{key:"_wsOnAccountNotification",value:function(e){var t=Object(A["create"])(e,Er),r=t.result,n=t.subscription;this._handleServerNotification(n,[r.value,r.context])}},{key:"_makeSubscription",value:function(e,t){var r=this,n=this._nextClientSubscriptionId++,i=mt([e.method,t],!0),a=this._subscriptionsByHash[i];return void 0===a?this._subscriptionsByHash[i]=Object(s["a"])(Object(s["a"])({},e),{},{args:t,callbacks:new Set([e.callback]),state:"pending"}):a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=Object(f["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return delete r._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete r._subscriptionHashByClientSubscriptionId[n],a=r._subscriptionsByHash[i],je(void 0!==a,"Could not find a `Subscription` when tearing down client subscription #".concat(n)),a.callbacks.delete(e.callback),t.next=7,r._updateSubscriptions();case 7:case"end":return t.stop()}}),t)}))),this._updateSubscriptions(),n}},{key:"onAccountChange",value:function(e,t,r){var n=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}},{key:"removeAccountChangeListener",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"account change");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_wsOnProgramAccountNotification",value:function(e){var t=Object(A["create"])(e,Mr),r=t.result,n=t.subscription;this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}},{key:"onProgramAccountChange",value:function(e,t,r,n){var i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}},{key:"removeProgramAccountChangeListener",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"program account change");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onLogs",value:function(e,t,r){var n=this._buildArgs(["object"===Object(o["a"])(e)?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}},{key:"removeOnLogsListener",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"logs");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_wsOnLogsNotification",value:function(e){var t=Object(A["create"])(e,_n),r=t.result,n=t.subscription;this._handleServerNotification(n,[r.value,r.context])}},{key:"_wsOnSlotNotification",value:function(e){var t=Object(A["create"])(e,Tr),r=t.result,n=t.subscription;this._handleServerNotification(n,[r])}},{key:"onSlotChange",value:function(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}},{key:"removeSlotChangeListener",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"slot change");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_wsOnSlotUpdatesNotification",value:function(e){var t=Object(A["create"])(e,Lr),r=t.result,n=t.subscription;this._handleServerNotification(n,[r])}},{key:"onSlotUpdate",value:function(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}},{key:"removeSlotUpdateListener",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"slot update");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_unsubscribeClientSubscription",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t,r){var n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t],!n){e.next=6;break}return e.next=4,n();case 4:e.next=7;break;case 6:console.warn("Ignored unsubscribe request because an active subscription with id "+"`".concat(t,"` for '").concat(r,"' events ")+"could not be found.");case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_buildArgs",value:function(e,t,r,n){var i=t||this._commitment;if(i||r||n){var a={};r&&(a.encoding=r),i&&(a.commitment=i),n&&(a=Object.assign(a,n)),e.push(a)}return e}},{key:"_buildArgsAtLeastConfirmed",value:function(e,t,r,n){var i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}},{key:"_wsOnSignatureNotification",value:function(e){var t=Object(A["create"])(e,Cr),r=t.result,n=t.subscription;"receivedSignature"!==r.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===r.value?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}},{key:"onSignature",value:function(e,t,r){var n=this,i=this._buildArgs([e],r||this._commitment||"finalized"),a=this._makeSubscription({callback:function(e,r){if("status"===e.type){t(e.result,r);try{n.removeSignatureListener(a)}catch(i){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return a}},{key:"onSignatureWithOptions",value:function(e,t,r){var i=this,a=Object(s["a"])(Object(s["a"])({},r),{},{commitment:r&&r.commitment||this._commitment||"finalized"}),o=a.commitment,u=Object(n["a"])(a,W),c=this._buildArgs([e],o,void 0,u),l=this._makeSubscription({callback:function(e,r){t(e,r);try{i.removeSignatureListener(l)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return l}},{key:"removeSignatureListener",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"signature result");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_wsOnRootNotification",value:function(e){var t=Object(A["create"])(e,zr),r=t.result,n=t.subscription;this._handleServerNotification(n,[r])}},{key:"onRootChange",value:function(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}},{key:"removeRootChangeListener",value:function(){var e=Object(f["a"])(Object(d["a"])().mark((function e(t){return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"root change");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Bn=function(){function e(t){Object(y["a"])(this,e),this._keypair=void 0,this._keypair=null!==t&&void 0!==t?t:q()}return Object(m["a"])(e,[{key:"publicKey",get:function(){return new ne(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new e(q())}},{key:"fromSecretKey",value:function(t,r){if(64!==t.byteLength)throw new Error("bad secret key size");var n=t.slice(32,64);if(!r||!r.skipValidation)for(var i=t.slice(0,32),a=D(i),o=0;o<32;o++)if(n[o]!==a[o])throw new Error("provided secretKey is invalid");return new e({publicKey:n,secretKey:t})}},{key:"fromSeed",value:function(t){var r=D(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new e({publicKey:r,secretKey:n})}}]),e}(),Mn=Object.freeze({CreateLookupTable:{index:0,layout:I["struct"]([I["u32"]("instruction"),it("recentSlot"),I["u8"]("bumpSeed")])},FreezeLookupTable:{index:1,layout:I["struct"]([I["u32"]("instruction")])},ExtendLookupTable:{index:2,layout:I["struct"]([I["u32"]("instruction"),it(),I["seq"](fe(),I["offset"](I["u32"](),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:I["struct"]([I["u32"]("instruction")])},CloseLookupTable:{index:4,layout:I["struct"]([I["u32"]("instruction")])}}),Pn=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=I["u32"]("instruction"),n=r.decode(e.data),i=0,a=Object.entries(Mn);i<a.length;i++){var o=Object(u["a"])(a[i],2),s=o[0],c=o[1];if(c.index==n){t=s;break}}if(!t)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return t}},{key:"decodeCreateLookupTable",value:function(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);var t=Xe(Mn.CreateLookupTable,e.data),r=t.recentSlot;return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}},{key:"decodeExtendLookupTable",value:function(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error("invalid instruction; found ".concat(e.keys.length," keys, expected at least 2"));var t=Xe(Mn.ExtendLookupTable,e.data),r=t.addresses;return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map((function(e){return new ne(e)}))}}},{key:"decodeCloseLookupTable",value:function(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}},{key:"decodeFreezeLookupTable",value:function(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}},{key:"decodeDeactivateLookupTable",value:function(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}},{key:"checkProgramId",value:function(e){if(!e.equals(Tn.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}},{key:"checkKeysLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),Tn=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"createLookupTable",value:function(e){var t=ne.findProgramAddressSync([e.authority.toBuffer(),Object(_["toBufferLE"])(BigInt(e.recentSlot),8)],this.programId),r=Object(u["a"])(t,2),n=r[0],i=r[1],a=Mn.CreateLookupTable,o=Ze(a,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:st.programId,isSigner:!1,isWritable:!1}];return[new Be({programId:this.programId,keys:s,data:o}),n]}},{key:"freezeLookupTable",value:function(e){var t=Mn.FreezeLookupTable,r=Ze(t),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Be({programId:this.programId,keys:n,data:r})}},{key:"extendLookupTable",value:function(e){var t=Mn.ExtendLookupTable,r=Ze(t,{addresses:e.addresses.map((function(e){return e.toBytes()}))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:st.programId,isSigner:!1,isWritable:!1}),new Be({programId:this.programId,keys:n,data:r})}},{key:"deactivateLookupTable",value:function(e){var t=Mn.DeactivateLookupTable,r=Ze(t),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Be({programId:this.programId,keys:n,data:r})}},{key:"closeLookupTable",value:function(e){var t=Mn.CloseLookupTable,r=Ze(t),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Be({programId:this.programId,keys:n,data:r})}}]),e}();Tn.programId=new ne("AddressLookupTab1e1111111111111111111111111");var Rn=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=I["u8"]("instruction"),n=r.decode(e.data),i=0,a=Object.entries(Ln);i<a.length;i++){var o=Object(u["a"])(a[i],2),s=o[0],c=o[1];if(c.index==n){t=s;break}}if(!t)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return t}},{key:"decodeRequestUnits",value:function(e){this.checkProgramId(e.programId);var t=Xe(Ln.RequestUnits,e.data),r=t.units,n=t.additionalFee;return{units:r,additionalFee:n}}},{key:"decodeRequestHeapFrame",value:function(e){this.checkProgramId(e.programId);var t=Xe(Ln.RequestHeapFrame,e.data),r=t.bytes;return{bytes:r}}},{key:"decodeSetComputeUnitLimit",value:function(e){this.checkProgramId(e.programId);var t=Xe(Ln.SetComputeUnitLimit,e.data),r=t.units;return{units:r}}},{key:"decodeSetComputeUnitPrice",value:function(e){this.checkProgramId(e.programId);var t=Xe(Ln.SetComputeUnitPrice,e.data),r=t.microLamports;return{microLamports:r}}},{key:"checkProgramId",value:function(e){if(!e.equals(Cn.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}]),e}(),Ln=Object.freeze({RequestUnits:{index:0,layout:I["struct"]([I["u8"]("instruction"),I["u32"]("units"),I["u32"]("additionalFee")])},RequestHeapFrame:{index:1,layout:I["struct"]([I["u8"]("instruction"),I["u32"]("bytes")])},SetComputeUnitLimit:{index:2,layout:I["struct"]([I["u8"]("instruction"),I["u32"]("units")])},SetComputeUnitPrice:{index:3,layout:I["struct"]([I["u8"]("instruction"),it("microLamports")])}}),Cn=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"requestUnits",value:function(e){var t=Ln.RequestUnits,r=Ze(t,e);return new Be({keys:[],programId:this.programId,data:r})}},{key:"requestHeapFrame",value:function(e){var t=Ln.RequestHeapFrame,r=Ze(t,e);return new Be({keys:[],programId:this.programId,data:r})}},{key:"setComputeUnitLimit",value:function(e){var t=Ln.SetComputeUnitLimit,r=Ze(t,e);return new Be({keys:[],programId:this.programId,data:r})}},{key:"setComputeUnitPrice",value:function(e){var t=Ln.SetComputeUnitPrice,r=Ze(t,{microLamports:BigInt(e.microLamports)});return new Be({keys:[],programId:this.programId,data:r})}}]),e}();Cn.programId=new ne("ComputeBudget111111111111111111111111111111");var zn=64,Nn=32,Kn=64,Wn=I["struct"]([I["u8"]("numSignatures"),I["u8"]("padding"),I["u16"]("signatureOffset"),I["u16"]("signatureInstructionIndex"),I["u16"]("publicKeyOffset"),I["u16"]("publicKeyInstructionIndex"),I["u16"]("messageDataOffset"),I["u16"]("messageDataSize"),I["u16"]("messageInstructionIndex")]),Un=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,a=t.instructionIndex;je(r.length===Nn,"Public Key must be ".concat(Nn," bytes but received ").concat(r.length," bytes")),je(i.length===Kn,"Signature must be ".concat(Kn," bytes but received ").concat(i.length," bytes"));var o=Wn.span,s=o+r.length,u=s+i.length,c=1,l=v["Buffer"].alloc(u+n.length),h=null==a?65535:a;return Wn.encode({numSignatures:c,padding:0,signatureOffset:s,signatureInstructionIndex:h,publicKeyOffset:o,publicKeyInstructionIndex:h,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:h},l),l.fill(r,o),l.fill(i,s),l.fill(n,u),new Be({keys:[],programId:e.programId,data:l})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;je(t.length===zn,"Private key must be ".concat(zn," bytes but received ").concat(t.length," bytes"));try{var i=Bn.fromSecretKey(t),a=i.publicKey.toBytes(),o=G(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:o,instructionIndex:n})}catch(s){throw new Error("Error creating instruction; ".concat(s))}}}]),e}();Un.programId=new ne("Ed25519SigVerify111111111111111111111111111");var qn=function(e,t){var r=C["secp256k1"].sign(e,t);return[r.toCompactRawBytes(),r.recovery]};C["secp256k1"].utils.isValidPrivateKey;var Dn,Vn=C["secp256k1"].getPublicKey,Fn=32,Hn=20,Gn=64,Jn=11,Yn=I["struct"]([I["u8"]("numSignatures"),I["u16"]("signatureOffset"),I["u8"]("signatureInstructionIndex"),I["u16"]("ethAddressOffset"),I["u8"]("ethAddressInstructionIndex"),I["u16"]("messageDataOffset"),I["u16"]("messageDataSize"),I["u8"]("messageInstructionIndex"),I["blob"](20,"ethAddress"),I["blob"](64,"signature"),I["u8"]("recoveryId")]),Zn=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"publicKeyToEthAddress",value:function(e){je(e.length===Gn,"Public key must be ".concat(Gn," bytes but received ").concat(e.length," bytes"));try{return v["Buffer"].from(Object(L["keccak_256"])(Y(e))).slice(-Hn)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,a=t.recoveryId,o=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:a,instructionIndex:o})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,a=t.signature,o=t.recoveryId,s=t.instructionIndex,u=void 0===s?0:s;r="string"===typeof n?n.startsWith("0x")?v["Buffer"].from(n.substr(2),"hex"):v["Buffer"].from(n,"hex"):n,je(r.length===Hn,"Address must be ".concat(Hn," bytes but received ").concat(r.length," bytes"));var c=1+Jn,l=c,h=c+r.length,d=h+a.length+1,f=1,b=v["Buffer"].alloc(Yn.span+i.length);return Yn.encode({numSignatures:f,signatureOffset:h,signatureInstructionIndex:u,ethAddressOffset:l,ethAddressInstructionIndex:u,messageDataOffset:d,messageDataSize:i.length,messageInstructionIndex:u,signature:Y(a),ethAddress:Y(r),recoveryId:o},b),b.fill(Y(i),Yn.span),new Be({keys:[],programId:e.programId,data:b})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;je(t.length===Fn,"Private key must be ".concat(Fn," bytes but received ").concat(t.length," bytes"));try{var i=Y(t),a=Vn(i,!1).slice(1),o=v["Buffer"].from(Object(L["keccak_256"])(Y(r))),s=qn(o,i),c=Object(u["a"])(s,2),l=c[0],h=c[1];return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:l,recoveryId:h,instructionIndex:n})}catch(d){throw new Error("Error creating instruction; ".concat(d))}}}]),e}();Zn.programId=new ne("KeccakSecp256k11111111111111111111111111111");var Xn=new ne("StakeConfig11111111111111111111111111111111"),Qn=Object(m["a"])((function e(t,r){Object(y["a"])(this,e),this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=r})),$n=Object(m["a"])((function e(t,r,n){Object(y["a"])(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));Dn=$n,$n.default=new Dn(0,0,ne.default);var ei=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=I["u32"]("instruction"),n=r.decode(e.data),i=0,a=Object.entries(ti);i<a.length;i++){var o=Object(u["a"])(a[i],2),s=o[0],c=o[1];if(c.index==n){t=s;break}}if(!t)throw new Error("Instruction type incorrect; not a StakeInstruction");return t}},{key:"decodeInitialize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Xe(ti.Initialize,e.data),r=t.authorized,n=t.lockup;return{stakePubkey:e.keys[0].pubkey,authorized:new Qn(new ne(r.staker),new ne(r.withdrawer)),lockup:new $n(n.unixTimestamp,n.epoch,new ne(n.custodian))}}},{key:"decodeDelegate",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Xe(ti.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}},{key:"decodeAuthorize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Xe(ti.Authorize,e.data),r=t.newAuthorized,n=t.stakeAuthorizationType,i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ne(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}},{key:"decodeAuthorizeWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Xe(ti.AuthorizeWithSeed,e.data),r=t.newAuthorized,n=t.stakeAuthorizationType,i=t.authoritySeed,a=t.authorityOwner,o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ne(a),newAuthorizedPubkey:new ne(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}},{key:"decodeSplit",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Xe(ti.Split,e.data),r=t.lamports;return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}},{key:"decodeMerge",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Xe(ti.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}},{key:"decodeWithdraw",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);var t=Xe(ti.Withdraw,e.data),r=t.lamports,n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}},{key:"decodeDeactivate",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Xe(ti.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}},{key:"checkProgramId",value:function(e){if(!e.equals(ni.programId))throw new Error("invalid instruction; programId is not StakeProgram")}},{key:"checkKeyLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),ti=Object.freeze({Initialize:{index:0,layout:I["struct"]([I["u32"]("instruction"),ye(),me()])},Authorize:{index:1,layout:I["struct"]([I["u32"]("instruction"),fe("newAuthorized"),I["u32"]("stakeAuthorizationType")])},Delegate:{index:2,layout:I["struct"]([I["u32"]("instruction")])},Split:{index:3,layout:I["struct"]([I["u32"]("instruction"),I["ns64"]("lamports")])},Withdraw:{index:4,layout:I["struct"]([I["u32"]("instruction"),I["ns64"]("lamports")])},Deactivate:{index:5,layout:I["struct"]([I["u32"]("instruction")])},Merge:{index:7,layout:I["struct"]([I["u32"]("instruction")])},AuthorizeWithSeed:{index:8,layout:I["struct"]([I["u32"]("instruction"),fe("newAuthorized"),I["u32"]("stakeAuthorizationType"),pe("authoritySeed"),fe("authorityOwner")])}}),ri=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),ni=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup,i=n||$n.default,a=ti.Initialize,o=Ze(a,{authorized:{staker:Y(r.staker.toBuffer()),withdrawer:Y(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Y(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new Be(s)}},{key:"createAccountWithSeed",value:function(e){var t=new Me;t.add(st.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new Me;t.add(st.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=ti.Delegate,a=Ze(i);return(new Me).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ne,isSigner:!1,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:Xn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,a=e.custodianPubkey,o=ti.Authorize,s=Ze(o,{newAuthorized:Y(n.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Me).add({keys:u,programId:this.programId,data:s})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,a=e.newAuthorizedPubkey,o=e.stakeAuthorizationType,s=e.custodianPubkey,u=ti.AuthorizeWithSeed,c=Ze(u,{newAuthorized:Y(a.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:Y(i.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Ne,isSigner:!1,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Me).add({keys:l,programId:this.programId,data:c})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,a=ti.Split,o=Ze(a,{lamports:i});return new Be({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"split",value:function(e){var t=new Me;return t.add(st.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,a=e.seed,o=e.lamports,s=new Me;return s.add(st.allocate({accountPubkey:n,basePubkey:i,seed:a,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=ti.Merge,a=Ze(i);return(new Me).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,a=e.custodianPubkey,o=ti.Withdraw,s=Ze(o,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Me).add({keys:u,programId:this.programId,data:s})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=ti.Deactivate,i=Ze(n);return(new Me).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}]),e}();ni.programId=new ne("Stake11111111111111111111111111111111111111"),ni.space=200;var ii=Object(m["a"])((function e(t,r,n,i){Object(y["a"])(this,e),this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i})),ai=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=I["u32"]("instruction"),n=r.decode(e.data),i=0,a=Object.entries(oi);i<a.length;i++){var o=Object(u["a"])(a[i],2),s=o[0],c=o[1];if(c.index==n){t=s;break}}if(!t)throw new Error("Instruction type incorrect; not a VoteInstruction");return t}},{key:"decodeInitializeAccount",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);var t=Xe(oi.InitializeAccount,e.data),r=t.voteInit;return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new ii(new ne(r.nodePubkey),new ne(r.authorizedVoter),new ne(r.authorizedWithdrawer),r.commission)}}},{key:"decodeAuthorize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Xe(oi.Authorize,e.data),r=t.newAuthorized,n=t.voteAuthorizationType;return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ne(r),voteAuthorizationType:{index:n}}}},{key:"decodeAuthorizeWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Xe(oi.AuthorizeWithSeed,e.data),r=t.voteAuthorizeWithSeedArgs,n=r.currentAuthorityDerivedKeyOwnerPubkey,i=r.currentAuthorityDerivedKeySeed,a=r.newAuthorized,o=r.voteAuthorizationType;return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ne(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new ne(a),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}},{key:"decodeWithdraw",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Xe(oi.Withdraw,e.data),r=t.lamports;return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}},{key:"checkProgramId",value:function(e){if(!e.equals(ui.programId))throw new Error("invalid instruction; programId is not VoteProgram")}},{key:"checkKeyLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),oi=Object.freeze({InitializeAccount:{index:0,layout:I["struct"]([I["u32"]("instruction"),ve()])},Authorize:{index:1,layout:I["struct"]([I["u32"]("instruction"),fe("newAuthorized"),I["u32"]("voteAuthorizationType")])},Withdraw:{index:3,layout:I["struct"]([I["u32"]("instruction"),I["ns64"]("lamports")])},AuthorizeWithSeed:{index:10,layout:I["struct"]([I["u32"]("instruction"),ge()])}}),si=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ui=function(){function e(){Object(y["a"])(this,e)}return Object(m["a"])(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=oi.InitializeAccount,a=Ze(i,{voteInit:{nodePubkey:Y(n.nodePubkey.toBuffer()),authorizedVoter:Y(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Y(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:Ne,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new Be(o)}},{key:"createAccount",value:function(e){var t=new Me;return t.add(st.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,a=oi.Authorize,o=Ze(a,{newAuthorized:Y(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Me).add({keys:s,programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(e){var t=e.currentAuthorityDerivedKeyBasePubkey,r=e.currentAuthorityDerivedKeyOwnerPubkey,n=e.currentAuthorityDerivedKeySeed,i=e.newAuthorizedPubkey,a=e.voteAuthorizationType,o=e.votePubkey,s=oi.AuthorizeWithSeed,u=Ze(s,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Y(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Y(i.toBuffer()),voteAuthorizationType:a.index}}),c=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new Me).add({keys:c,programId:this.programId,data:u})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,a=oi.Withdraw,o=Ze(a,{lamports:n}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Me).add({keys:s,programId:this.programId,data:o})}},{key:"safeWithdraw",value:function(t,r,n){if(t.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return e.withdraw(t)}}]),e}();ui.programId=new ne("Vote111111111111111111111111111111111111111"),ui.space=3731;var ci=new ne("Va1idator1nfo111111111111111111111111111111"),li=Object(A["type"])({name:Object(A["string"])(),website:Object(A["optional"])(Object(A["string"])()),details:Object(A["optional"])(Object(A["string"])()),keybaseUsername:Object(A["optional"])(Object(A["string"])())}),hi=function(){function e(t,r){Object(y["a"])(this,e),this.key=void 0,this.info=void 0,this.key=t,this.info=r}return Object(m["a"])(e,null,[{key:"fromConfigData",value:function(t){var r=Object(c["a"])(t),n=we(r);if(2!==n)return null;for(var i=[],a=0;a<2;a++){var o=new ne(r.slice(0,ee));r=r.slice(ee);var s=1===r.slice(0,1)[0];r=r.slice(1),i.push({publicKey:o,isSigner:s})}if(i[0].publicKey.equals(ci)&&i[1].isSigner){var u=pe().decode(v["Buffer"].from(r)),l=JSON.parse(u);return Object(A["assert"])(l,li),new e(i[1].publicKey,l)}return null}}]),e}(),di=new ne("Vote111111111111111111111111111111111111111"),fi=I["struct"]([fe("nodePubkey"),fe("authorizedWithdrawer"),I["u8"]("commission"),I["nu64"](),I["seq"](I["struct"]([I["nu64"]("slot"),I["u32"]("confirmationCount")]),I["offset"](I["u32"](),-8),"votes"),I["u8"]("rootSlotValid"),I["nu64"]("rootSlot"),I["nu64"](),I["seq"](I["struct"]([I["nu64"]("epoch"),fe("authorizedVoter")]),I["offset"](I["u32"](),-8),"authorizedVoters"),I["struct"]([I["seq"](I["struct"]([fe("authorizedPubkey"),I["nu64"]("epochOfLastAuthorizedSwitch"),I["nu64"]("targetEpoch")]),32,"buf"),I["nu64"]("idx"),I["u8"]("isEmpty")],"priorVoters"),I["nu64"](),I["seq"](I["struct"]([I["nu64"]("epoch"),I["nu64"]("credits"),I["nu64"]("prevCredits")]),I["offset"](I["u32"](),-8),"epochCredits"),I["struct"]([I["nu64"]("slot"),I["nu64"]("timestamp")],"lastTimestamp")]),bi=function(){function e(t){Object(y["a"])(this,e),this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}return Object(m["a"])(e,null,[{key:"fromAccountData",value:function(t){var r=4,n=fi.decode(Y(t),r),i=n.rootSlot;return n.rootSlotValid||(i=null),new e({nodePubkey:new ne(n.nodePubkey),authorizedWithdrawer:new ne(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(pi),priorVoters:mi(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}]),e}();function pi(e){var t=e.authorizedVoter,r=e.epoch;return{epoch:r,authorizedVoter:new ne(t)}}function yi(e){var t=e.authorizedPubkey,r=e.epochOfLastAuthorizedSwitch,n=e.targetEpoch;return{authorizedPubkey:new ne(t),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function mi(e){var t=e.buf,r=e.idx,n=e.isEmpty;return n?[]:[].concat(Object(c["a"])(t.slice(r+1).map(yi)),Object(c["a"])(t.slice(0,r).map(yi)))}var vi={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function gi(e,t){var r=!1===t?"http":"https";if(!e)return vi[r]["devnet"];var n=vi[r][e];if(!n)throw new Error("Unknown ".concat(r," cluster: ").concat(e));return n}function ki(e,t,r,n){return wi.apply(this,arguments)}function wi(){return wi=Object(f["a"])(Object(d["a"])().mark((function e(t,r,n,i){var a,o,s,u,c,l,h;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(a=n,o=i):o=n,s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},e.next=4,t.sendRawTransaction(r,s);case 4:return u=e.sent,c=o&&o.commitment,l=a?t.confirmTransaction(a,c):t.confirmTransaction(u,c),e.next=9,l;case 9:if(h=e.sent.value,!h.err){e.next=12;break}throw new Error("Raw transaction ".concat(u," failed (").concat(JSON.stringify(h),")"));case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}var Oi=1e9},"67d0":function(e,t,r){"use strict";var n=r("970b").default,i=r("5bc3").default,a=r("7037").default,o=r("ded3").default;r("dca8"),r("d9e2"),r("99af"),r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("d81d"),r("fb6a"),r("ace4"),r("5cc6"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("986a"),r("1d02"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("6ce5"),r("2834"),r("72f7"),r("4ea1"),Object.defineProperty(t,"__esModule",{value:!0}),t.twistedEdwards=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var s=r("4a19"),u=r("1a9a"),c=r("1a9a"),l=r("ae16"),h=BigInt(0),d=BigInt(1),f=BigInt(2),b=BigInt(8),p={zip215:!0};function y(e){var t=(0,l.validateBasic)(e);return u.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze(o({},t))}function m(e){var t=y(e),r=t.Fp,o=t.n,m=t.prehash,v=t.hash,g=t.randomBytes,k=t.nByteLength,w=t.h,O=f<<BigInt(8*k)-d,j=r.create,x=t.uvRatio||function(e,t){try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(n){return{isValid:!1,value:h}}},S=t.adjustScalarBytes||function(e){return e},I=t.domain||function(e,t,r){if(t.length||r)throw new Error("Contexts/pre-hash are not supported");return e},_=function(e){return"bigint"===typeof e&&h<e},A=function(e,t){return _(e)&&_(t)&&e<t},E=function(e){return e===h||A(e,O)};function B(e,t){if(A(e,t))return e;throw new Error("Expected valid scalar < ".concat(t,", got ").concat(a(e)," ").concat(e))}function M(e){return e===h?e:B(e,o)}var P=new Map;function T(e){if(!(e instanceof R))throw new Error("ExtendedPoint expected")}var R=function(){function e(t,r,i,a){if(n(this,e),this.ex=t,this.ey=r,this.ez=i,this.et=a,!E(t))throw new Error("x required");if(!E(r))throw new Error("y required");if(!E(i))throw new Error("z required");if(!E(a))throw new Error("t required")}return i(e,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"_setWindowSize",value:function(e){this._WINDOW_SIZE=e,P.delete(this)}},{key:"assertValidity",value:function(){var e=t.a,r=t.d;if(this.is0())throw new Error("bad point: ZERO");var n=this.ex,i=this.ey,a=this.ez,o=this.et,s=j(n*n),u=j(i*i),c=j(a*a),l=j(c*c),h=j(s*e),d=j(c*j(h+u)),f=j(l+j(r*j(s*u)));if(d!==f)throw new Error("bad point: equation left != right (1)");var b=j(n*i),p=j(a*o);if(b!==p)throw new Error("bad point: equation left != right (2)")}},{key:"equals",value:function(e){T(e);var t=this.ex,r=this.ey,n=this.ez,i=e.ex,a=e.ey,o=e.ez,s=j(t*o),u=j(i*n),c=j(r*o),l=j(a*n);return s===u&&c===l}},{key:"is0",value:function(){return this.equals(e.ZERO)}},{key:"negate",value:function(){return new e(j(-this.ex),this.ey,this.ez,j(-this.et))}},{key:"double",value:function(){var r=t.a,n=this.ex,i=this.ey,a=this.ez,o=j(n*n),s=j(i*i),u=j(f*j(a*a)),c=j(r*o),l=n+i,h=j(j(l*l)-o-s),d=c+s,b=d-u,p=c-s,y=j(h*b),m=j(d*p),v=j(h*p),g=j(b*d);return new e(y,m,g,v)}},{key:"add",value:function(r){T(r);var n=t.a,i=t.d,a=this.ex,o=this.ey,s=this.ez,u=this.et,c=r.ex,l=r.ey,d=r.ez,b=r.et;if(n===BigInt(-1)){var p=j((o-a)*(l+c)),y=j((o+a)*(l-c)),m=j(y-p);if(m===h)return this.double();var v=j(s*f*b),g=j(u*f*d),k=g+v,w=y+p,O=g-v,x=j(k*m),S=j(w*O),I=j(k*O),_=j(m*w);return new e(x,S,_,I)}var A=j(a*c),E=j(o*l),B=j(u*i*b),M=j(s*d),P=j((a+o)*(c+l)-A-E),R=M-B,L=M+B,C=j(E-n*A),z=j(P*R),N=j(L*C),K=j(P*C),W=j(R*L);return new e(z,N,W,K)}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"wNAF",value:function(t){return z.wNAFCached(this,P,t,e.normalizeZ)}},{key:"multiply",value:function(t){var r=this.wNAF(B(t,o)),n=r.p,i=r.f;return e.normalizeZ([n,i])[0]}},{key:"multiplyUnsafe",value:function(e){var t=M(e);return t===h?C:this.equals(C)||t===d?this:this.equals(L)?this.wNAF(t).p:z.unsafeLadder(this,t)}},{key:"isSmallOrder",value:function(){return this.multiplyUnsafe(w).is0()}},{key:"isTorsionFree",value:function(){return z.unsafeLadder(this,o).is0()}},{key:"toAffine",value:function(e){var t=this.ex,n=this.ey,i=this.ez,a=this.is0();null==e&&(e=a?b:r.inv(i));var o=j(t*e),s=j(n*e),u=j(i*e);if(a)return{x:h,y:d};if(u!==d)throw new Error("invZ was invalid");return{x:o,y:s}}},{key:"clearCofactor",value:function(){var e=t.h;return e===d?this:this.multiplyUnsafe(e)}},{key:"toRawBytes",value:function(){var e=this.toAffine(),t=e.x,n=e.y,i=u.numberToBytesLE(n,r.BYTES);return i[i.length-1]|=t&d?128:0,i}},{key:"toHex",value:function(){return u.bytesToHex(this.toRawBytes())}}],[{key:"fromAffine",value:function(t){if(t instanceof e)throw new Error("extended point not allowed");var r=t||{},n=r.x,i=r.y;if(!E(n)||!E(i))throw new Error("invalid affine point");return new e(n,i,d,j(n*i))}},{key:"normalizeZ",value:function(t){var n=r.invertBatch(t.map((function(e){return e.ez})));return t.map((function(e,t){return e.toAffine(n[t])})).map(e.fromAffine)}},{key:"fromHex",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.d,o=t.a,s=r.BYTES;n=(0,c.ensureBytes)("pointHex",n,s);var l=n.slice(),f=n[s-1];l[s-1]=-129&f;var b=u.bytesToNumberLE(l);b===h||B(b,i?O:r.ORDER);var p=j(b*b),y=j(p-d),m=j(a*p-o),v=x(y,m),g=v.isValid,k=v.value;if(!g)throw new Error("Point.fromHex: invalid y coordinate");var w=(k&d)===d,S=0!==(128&f);if(!i&&k===h&&S)throw new Error("Point.fromHex: x=0 and x_0=1");return S!==w&&(k=j(-k)),e.fromAffine({x:k,y:b})}},{key:"fromPrivateKey",value:function(e){return W(e).point}}]),e}();R.BASE=new R(t.Gx,t.Gy,d,j(t.Gx*t.Gy)),R.ZERO=new R(h,d,d,h);var L=R.BASE,C=R.ZERO,z=(0,l.wNAF)(R,8*k);function N(e){return(0,s.mod)(e,o)}function K(e){return N(u.bytesToNumberLE(e))}function W(e){var t=k;e=(0,c.ensureBytes)("private key",e,t);var r=(0,c.ensureBytes)("hashed private key",v(e),2*t),n=S(r.slice(0,t)),i=r.slice(t,2*t),a=K(n),o=L.multiply(a),s=o.toRawBytes();return{head:n,prefix:i,scalar:a,point:o,pointBytes:s}}function U(e){return W(e).pointBytes}function q(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=u.concatBytes.apply(u,r);return K(v(I(i,(0,c.ensureBytes)("context",e),!!m)))}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=(0,c.ensureBytes)("message",e),m&&(e=m(e));var i=W(t),a=i.prefix,o=i.scalar,s=i.pointBytes,l=q(n.context,a,e),h=L.multiply(l).toRawBytes(),d=q(n.context,h,s,e),f=N(l+d*o);M(f);var b=u.concatBytes(h,u.numberToBytesLE(f,r.BYTES));return(0,c.ensureBytes)("result",b,2*k)}var V=p;function F(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V,a=i.context,o=i.zip215,s=r.BYTES;e=(0,c.ensureBytes)("signature",e,2*s),t=(0,c.ensureBytes)("message",t),m&&(t=m(t));var l,h,d,f=u.bytesToNumberLE(e.slice(s,2*s));try{l=R.fromHex(n,o),h=R.fromHex(e.slice(0,s),o),d=L.multiplyUnsafe(f)}catch(y){return!1}if(!o&&l.isSmallOrder())return!1;var b=q(a,h.toRawBytes(),l.toRawBytes(),t),p=h.add(l.multiplyUnsafe(b));return p.subtract(d).clearCofactor().equals(R.ZERO)}L._setWindowSize(8);var H={getExtendedPublicKey:W,randomPrivateKey:function(){return g(r.BYTES)},precompute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};return{CURVE:t,getPublicKey:U,sign:D,verify:F,ExtendedPoint:R,utils:H}}t.twistedEdwards=m},"8ab6":function(e,t,r){var n=r("42a7"),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.exports=n(i)},"8df2":function(e,t,r){"use strict";
/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */Object.defineProperty(t,"__esModule",{value:!0}),t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;const n=r("1c35");function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function a(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=i,t.uint8ArrayToBuffer=a;class o{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function s(e,t){return t.property?e+"["+t.property+"]":e}function u(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof o))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value(e,r){return t.decode(e,r)},writable:!0})}t.Layout=o,t.nameWithProperty=s,t.bindConstructorLayout=u;class c extends o{isCount(){throw new Error("ExternalLayout is abstract")}}t.ExternalLayout=c;class l extends c{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){i(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}t.GreedyCount=l;class h extends c{constructor(e,t=0,r){if(!(e instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof f}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}t.OffsetLayout=h;class d extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readUIntLE(t,this.span)}encode(e,t,r=0){return a(t).writeUIntLE(e,r,this.span),this.span}}t.UInt=d;class f extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readUIntBE(t,this.span)}encode(e,t,r=0){return a(t).writeUIntBE(e,r,this.span),this.span}}t.UIntBE=f;class b extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readIntLE(t,this.span)}encode(e,t,r=0){return a(t).writeIntLE(e,r,this.span),this.span}}t.Int=b;class p extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readIntBE(t,this.span)}encode(e,t,r=0){return a(t).writeIntBE(e,r,this.span),this.span}}t.IntBE=p;const y=Math.pow(2,32);function m(e){const t=Math.floor(e/y),r=e-t*y;return{hi32:t,lo32:r}}function v(e,t){return e*y+t}class g extends o{constructor(e){super(8,e)}decode(e,t=0){const r=a(e),n=r.readUInt32LE(t),i=r.readUInt32LE(t+4);return v(i,n)}encode(e,t,r=0){const n=m(e),i=a(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}t.NearUInt64=g;class k extends o{constructor(e){super(8,e)}decode(e,t=0){const r=a(e),n=r.readUInt32BE(t),i=r.readUInt32BE(t+4);return v(n,i)}encode(e,t,r=0){const n=m(e),i=a(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}t.NearUInt64BE=k;class w extends o{constructor(e){super(8,e)}decode(e,t=0){const r=a(e),n=r.readUInt32LE(t),i=r.readInt32LE(t+4);return v(i,n)}encode(e,t,r=0){const n=m(e),i=a(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}t.NearInt64=w;class O extends o{constructor(e){super(8,e)}decode(e,t=0){const r=a(e),n=r.readInt32BE(t),i=r.readUInt32BE(t+4);return v(n,i)}encode(e,t,r=0){const n=m(e),i=a(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}t.NearInt64BE=O;class j extends o{constructor(e){super(4,e)}decode(e,t=0){return a(e).readFloatLE(t)}encode(e,t,r=0){return a(t).writeFloatLE(e,r),4}}t.Float=j;class x extends o{constructor(e){super(4,e)}decode(e,t=0){return a(e).readFloatBE(t)}encode(e,t,r=0){return a(t).writeFloatBE(e,r),4}}t.FloatBE=x;class S extends o{constructor(e){super(8,e)}decode(e,t=0){return a(e).readDoubleLE(t)}encode(e,t,r=0){return a(t).writeDoubleLE(e,r),8}}t.Double=S;class I extends o{constructor(e){super(8,e)}decode(e,t=0){return a(e).readDoubleBE(t)}encode(e,t,r=0){return a(t).writeDoubleBE(e,r),8}}t.DoubleBE=I;class _ extends o{constructor(e,t,r){if(!(e instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof c)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;while(i<n)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){const r=[];let n=0,i=this.count;i instanceof c&&(i=i.decode(e,t));while(n<i)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){const n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof c&&this.count.encode(e.length,t,r),i}}t.Sequence=_;class A extends o{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce((e,t)=>e&&t instanceof o,!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===r&&(r=t,t=void 0);for(const a of e)if(0>a.span&&void 0===a.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(i){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i},0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e,t=0){i(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const n=r;let i=0,a=0;for(const o of this.fields){let n=o.span;if(a=0<n?n:0,void 0!==o.property){const i=e[o.property];void 0!==i&&(a=o.encode(i,t,r),0>n&&(n=o.getSpan(t,r)))}i=r,r+=n}return i+a-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}t.Structure=A;class E{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}t.UnionDiscriminator=E;class B extends E{constructor(e,t){if(!(e instanceof c&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}t.UnionLayoutDiscriminator=B;class M extends o{constructor(e,t,r){let n;if(e instanceof d||e instanceof f)n=new B(new h(e));else if(e instanceof c&&e.isCount())n=new B(e);else{if(!(e instanceof E))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof o))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof d||e instanceof f)&&(i+=n.layout.span)),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof d||e instanceof f,this.defaultLayout=t,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return a(e)},this.configGetSourceVariant=function(e){a=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const n=this.discriminator,i=n.decode(e,t),a=this.registry[i];if(void 0===a){const a=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[a.property]=a.decode(e,t+o)}else r=a.decode(e,t);return r}encode(e,t,r=0){const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=n.layout.span),n.encode(e[n.property],t,r),a+i.encode(e[i.property],t,r+a)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new P(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}t.Union=M;class P extends o{constructor(e,t,r,n){if(!(e instanceof M))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof o))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function T(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=P;class R extends o{constructor(e,t,r){if(!(e instanceof d||e instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=T(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const i of this.fields)void 0!==i.property&&(r[i.property]=i.decode(e));return r}encode(e,t,r=0){const n=this.word.decode(t,r);this._packedSetValue(n);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new L(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new C(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}t.BitStructure=R;class L{constructor(e,t,r){if(!(e instanceof R))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=T(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue(),n=T(r&this.wordMask),i=n>>>this.start;return i}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==T(e&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=T(e<<this.start);this.container._packedSetValue(T(t&~this.wordMask)|r)}}t.BitField=L;class C extends L{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}t.Boolean=C;class z extends o{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof c||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),a(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const i=a(e);return a(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n}}t.Blob=z;class N extends o{constructor(e){super(-1,e)}getSpan(e,t=0){i(e);let r=t;while(r<e.length&&0!==e[r])r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return a(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!==typeof e&&(e=String(e));const i=n.Buffer.from(e,"utf8"),o=i.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");const s=a(t);return i.copy(s,r),s[r+o]=0,o+1}}t.CString=N;class K extends o{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return i(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return a(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!==typeof e&&(e=String(e));const i=n.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(a(t),r),o}}t.UTF8=K;class W extends o{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}t.Constant=W,t.greedy=(e,t)=>new l(e,t),t.offset=(e,t,r)=>new h(e,t,r),t.u8=e=>new d(1,e),t.u16=e=>new d(2,e),t.u24=e=>new d(3,e),t.u32=e=>new d(4,e),t.u40=e=>new d(5,e),t.u48=e=>new d(6,e),t.nu64=e=>new g(e),t.u16be=e=>new f(2,e),t.u24be=e=>new f(3,e),t.u32be=e=>new f(4,e),t.u40be=e=>new f(5,e),t.u48be=e=>new f(6,e),t.nu64be=e=>new k(e),t.s8=e=>new b(1,e),t.s16=e=>new b(2,e),t.s24=e=>new b(3,e),t.s32=e=>new b(4,e),t.s40=e=>new b(5,e),t.s48=e=>new b(6,e),t.ns64=e=>new w(e),t.s16be=e=>new p(2,e),t.s24be=e=>new p(3,e),t.s32be=e=>new p(4,e),t.s40be=e=>new p(5,e),t.s48be=e=>new p(6,e),t.ns64be=e=>new O(e),t.f32=e=>new j(e),t.f32be=e=>new x(e),t.f64=e=>new S(e),t.f64be=e=>new I(e),t.struct=(e,t,r)=>new A(e,t,r),t.bits=(e,t,r)=>new R(e,t,r),t.seq=(e,t,r)=>new _(e,t,r),t.union=(e,t,r)=>new M(e,t,r),t.unionLayoutDiscriminator=(e,t)=>new B(e,t),t.blob=(e,t)=>new z(e,t),t.cstr=e=>new N(e),t.utf8=(e,t)=>new K(e,t),t.constant=(e,t)=>new W(e,t)},"9ea2":function(e,t,r){"use strict";(function(e){function r(t){{const r=e.from(t);r.reverse();const n=r.toString("hex");return 0===n.length?BigInt(0):BigInt("0x"+n)}}function n(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt("0x"+t)}}function i(t,r){{const n=t.toString(16),i=e.from(n.padStart(2*r,"0").slice(0,2*r),"hex");return i.reverse(),i}}function a(t,r){{const n=t.toString(16);return e.from(n.padStart(2*r,"0").slice(0,2*r),"hex")}}Object.defineProperty(t,"__esModule",{value:!0}),t.toBigIntLE=r,t.toBigIntBE=n,t.toBufferLE=i,t.toBufferBE=a}).call(this,r("1c35").Buffer)},aecc:function(e,t,r){"use strict";var n=r("970b").default,i=r("5bc3").default,a=r("ded3").default;r("d9e2"),r("ace4"),r("d3b7"),r("5cc6"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("986a"),r("1d02"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("6ce5"),r("2834"),r("72f7"),r("4ea1"),r("4c53"),r("fb6a"),Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomeryPriv=t.edwardsToMontgomery=t.edwardsToMontgomeryPub=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var o=r("281f"),s=r("531d"),u=r("67d0"),c=r("dd3b"),l=r("4a19"),h=r("1a9a"),d=r("b11a"),f=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),b=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),p=BigInt(0),y=BigInt(1),m=BigInt(2),v=BigInt(5),g=BigInt(10),k=BigInt(20),w=BigInt(40),O=BigInt(80);function j(e){var t=f,r=e*e%t,n=r*e%t,i=(0,l.pow2)(n,m,t)*n%t,a=(0,l.pow2)(i,y,t)*e%t,o=(0,l.pow2)(a,v,t)*a%t,s=(0,l.pow2)(o,g,t)*o%t,u=(0,l.pow2)(s,k,t)*s%t,c=(0,l.pow2)(u,w,t)*u%t,h=(0,l.pow2)(c,O,t)*c%t,d=(0,l.pow2)(h,O,t)*c%t,b=(0,l.pow2)(d,g,t)*o%t,p=(0,l.pow2)(b,m,t)*e%t;return{pow_p_5_8:p,b2:n}}function x(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function S(e,t){var r=f,n=(0,l.mod)(t*t*t,r),i=(0,l.mod)(n*n*t,r),a=j(e*i).pow_p_5_8,o=(0,l.mod)(e*n*a,r),s=(0,l.mod)(t*o*o,r),u=o,c=(0,l.mod)(o*b,r),h=s===e,d=s===(0,l.mod)(-e,r),p=s===(0,l.mod)(-e*b,r);return h&&(o=u),(d||p)&&(o=c),(0,l.isNegativeLE)(o,r)&&(o=(0,l.mod)(-o,r)),{isValid:h||d,value:o}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var I=(0,l.Field)(f,void 0,!0),_={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:I,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:o.sha512,randomBytes:s.randomBytes,adjustScalarBytes:x,uvRatio:S};function A(e,t,r){if(t.length>255)throw new Error("Context is too big");return(0,s.concatBytes)((0,s.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}function E(e){var r=t.ed25519.ExtendedPoint.fromHex(e),n=r.y,i=BigInt(1);return I.toBytes(I.create((i+n)*I.inv(i-n)))}function B(e){var t=_.hash(e.subarray(0,32));return _.adjustScalarBytes(t).subarray(0,32)}t.ed25519=(0,u.twistedEdwards)(_),t.ed25519ctx=(0,u.twistedEdwards)(a(a({},_),{},{domain:A})),t.ed25519ph=(0,u.twistedEdwards)(a(a({},_),{},{domain:A,prehash:o.sha512})),t.x25519=function(){return(0,c.montgomery)({P:f,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:function(e){var t=f,r=j(e),n=r.pow_p_5_8,i=r.b2;return(0,l.mod)((0,l.pow2)(n,BigInt(3),t)*i,t)},adjustScalarBytes:x,randomBytes:s.randomBytes})}(),t.edwardsToMontgomeryPub=E,t.edwardsToMontgomery=E,t.edwardsToMontgomeryPriv=B;var M=(I.ORDER+BigInt(3))/BigInt(8),P=I.pow(m,M),T=I.sqrt(I.neg(I.ONE)),R=(I.ORDER-BigInt(5))/BigInt(8),L=BigInt(486662);function C(e){var t=I.sqr(e);t=I.mul(t,m);var r=I.add(t,I.ONE),n=I.neg(L),i=I.sqr(r),a=I.mul(i,r),o=I.mul(t,L);o=I.mul(o,n),o=I.add(o,i),o=I.mul(o,n);var s=I.sqr(a);i=I.sqr(s),s=I.mul(s,a),s=I.mul(s,o),i=I.mul(i,s);var u=I.pow(i,R);u=I.mul(u,s);var c=I.mul(u,T);i=I.sqr(u),i=I.mul(i,a);var l=I.eql(i,o),h=I.cmov(c,u,l),d=I.mul(n,t),f=I.mul(u,e);f=I.mul(f,P);var b=I.mul(f,T),p=I.mul(o,t);i=I.sqr(f),i=I.mul(i,a);var v=I.eql(i,p),g=I.cmov(b,f,v);i=I.sqr(h),i=I.mul(i,a);var k=I.eql(i,o),w=I.cmov(d,n,k),O=I.cmov(g,h,k),j=I.isOdd(O);return O=I.cmov(O,I.neg(O),k!==j),{xMn:w,xMd:r,yMn:O,yMd:y}}var z=(0,l.FpSqrtEven)(I,I.neg(BigInt(486664)));function N(e){var t=C(e),r=t.xMn,n=t.xMd,i=t.yMn,a=t.yMd,o=I.mul(r,a);o=I.mul(o,z);var s=I.mul(n,i),u=I.sub(r,n),c=I.add(r,n),l=I.mul(s,c),h=I.eql(l,I.ZERO);o=I.cmov(o,I.ZERO,h),s=I.cmov(s,I.ONE,h),u=I.cmov(u,I.ONE,h),c=I.cmov(c,I.ONE,h);var d=I.invertBatch([s,c]);return{x:I.mul(o,d[0]),y:I.mul(u,d[1])}}var K=function(){return(0,d.createHasher)(t.ed25519.ExtendedPoint,(function(e){return N(e[0])}),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:I.ORDER,m:1,k:128,expand:"xmd",hash:o.sha512})}();function W(e){if(!(e instanceof Z))throw new Error("RistrettoPoint expected")}t.hashToCurve=function(){return K.hashToCurve}(),t.encodeToCurve=function(){return K.encodeToCurve}();var U=b,q=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),V=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),F=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),H=function(e){return S(y,e)},G=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),J=function(e){return t.ed25519.CURVE.Fp.create((0,h.bytesToNumberLE)(e)&G)};function Y(e){var r=t.ed25519.CURVE.d,n=t.ed25519.CURVE.Fp.ORDER,i=t.ed25519.CURVE.Fp.create,a=i(U*e*e),o=i((a+y)*V),s=BigInt(-1),u=i((s-r*a)*i(a+r)),c=S(o,u),h=c.isValid,d=c.value,f=i(d*e);(0,l.isNegativeLE)(f,n)||(f=i(-f)),h||(d=f),h||(s=a);var b=i(s*(a-y)*F-u),p=d*d,m=i((d+d)*u),v=i(b*q),g=i(y-p),k=i(y+p);return new t.ed25519.ExtendedPoint(i(m*k),i(g*v),i(v*k),i(m*g))}var Z=function(){function e(t){n(this,e),this.ep=t}return i(e,[{key:"toRawBytes",value:function(){var e,r=this.ep,n=r.ex,i=r.ey,a=r.ez,o=r.et,s=t.ed25519.CURVE.Fp.ORDER,u=t.ed25519.CURVE.Fp.create,c=u(u(a+i)*u(a-i)),d=u(n*i),f=u(d*d),b=H(u(c*f)),p=b.value,y=u(p*c),m=u(p*d),v=u(y*m*o);if((0,l.isNegativeLE)(o*v,s)){var g=u(i*U),k=u(n*U);n=g,i=k,e=u(y*D)}else e=m;(0,l.isNegativeLE)(n*v,s)&&(i=u(-i));var w=u((a-i)*e);return(0,l.isNegativeLE)(w,s)&&(w=u(-w)),(0,h.numberToBytesLE)(w,32)}},{key:"toHex",value:function(){return(0,h.bytesToHex)(this.toRawBytes())}},{key:"toString",value:function(){return this.toHex()}},{key:"equals",value:function(e){W(e);var r=this.ep,n=r.ex,i=r.ey,a=e.ep,o=a.ex,s=a.ey,u=t.ed25519.CURVE.Fp.create,c=u(n*s)===u(i*o),l=u(i*s)===u(n*o);return c||l}},{key:"add",value:function(t){return W(t),new e(this.ep.add(t.ep))}},{key:"subtract",value:function(t){return W(t),new e(this.ep.subtract(t.ep))}},{key:"multiply",value:function(t){return new e(this.ep.multiply(t))}},{key:"multiplyUnsafe",value:function(t){return new e(this.ep.multiplyUnsafe(t))}},{key:"double",value:function(){return new e(this.ep.double())}},{key:"negate",value:function(){return new e(this.ep.negate())}}],[{key:"fromAffine",value:function(r){return new e(t.ed25519.ExtendedPoint.fromAffine(r))}},{key:"hashToCurve",value:function(t){t=(0,h.ensureBytes)("ristrettoHash",t,64);var r=J(t.slice(0,32)),n=Y(r),i=J(t.slice(32,64)),a=Y(i);return new e(n.add(a))}},{key:"fromHex",value:function(r){r=(0,h.ensureBytes)("ristrettoHex",r,32);var n=t.ed25519.CURVE,i=n.a,a=n.d,o=t.ed25519.CURVE.Fp.ORDER,s=t.ed25519.CURVE.Fp.create,u="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",c=J(r);if(!(0,h.equalBytes)((0,h.numberToBytesLE)(c,32),r)||(0,l.isNegativeLE)(c,o))throw new Error(u);var d=s(c*c),f=s(y+i*d),b=s(y-i*d),m=s(f*f),v=s(b*b),g=s(i*a*m-v),k=H(s(g*v)),w=k.isValid,O=k.value,j=s(O*b),x=s(O*j*g),S=s((c+c)*j);(0,l.isNegativeLE)(S,o)&&(S=s(-S));var I=s(f*x),_=s(S*I);if(!w||(0,l.isNegativeLE)(_,o)||I===p)throw new Error(u);return new e(new t.ed25519.ExtendedPoint(S,I,y,_))}}]),e}();t.RistrettoPoint=function(){return Z.BASE||(Z.BASE=new Z(t.ed25519.ExtendedPoint.BASE)),Z.ZERO||(Z.ZERO=new Z(t.ed25519.ExtendedPoint.ZERO)),Z}();var X=function(e,t){var r=t.DST,n="string"===typeof r?(0,s.utf8ToBytes)(r):r,i=(0,d.expand_message_xmd)(e,n,64,o.sha512),a=Z.hashToCurve(i);return a};t.hashToRistretto255=X,t.hash_to_ristretto255=t.hashToRistretto255},b4b6:function(e,t,r){"use strict";r.r(t),r.d(t,"TextEncoder",(function(){return y})),r.d(t,"TextDecoder",(function(){return p}));var n=r("53ca");r("d9e2"),r("14d9"),r("fb6a"),r("c19f"),r("ace4"),r("d3b7"),r("5cc6"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("986a"),r("1d02"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("6ce5"),r("2834"),r("72f7"),r("4ea1");function i(e,t,r){return t<=e&&e<=r}function a(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function o(e){var t=String(e),r=t.length,n=0,i=[];while(n<r){var a=t.charCodeAt(n);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(n===r-1)i.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var s=1023&a,u=1023&o;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}n+=1}return i}function s(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}var u=-1;function c(e){this.tokens=[].slice.call(e)}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():u},prepend:function(e){if(Array.isArray(e)){var t=e;while(t.length)this.tokens.unshift(t.pop())}else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e)){var t=e;while(t.length)this.tokens.push(t.shift())}else this.tokens.push(e)}};var l=-1;function h(e,t){if(e)throw TypeError("Decoder error");return t||65533}function d(){}function f(){}d.prototype={handler:function(e,t){}},f.prototype={handler:function(e,t){}};var b="utf-8";function p(e,t){if(!(this instanceof p))return new p(e,t);if(e=void 0!==e?String(e).toLowerCase():b,e!==b)throw new Error("Encoding not supported. Only utf-8 is supported");t=a(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t["fatal"]),this._ignoreBOM=Boolean(t["ignoreBOM"]),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function y(e,t){if(!(this instanceof y))return new y(e,t);if(e=void 0!==e?String(e).toLowerCase():b,e!==b)throw new Error("Encoding not supported. Only utf-8 is supported");t=a(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t["fatal"])},Object.defineProperty(this,"encoding",{value:"utf-8"})}function m(e){var t=e.fatal,r=0,n=0,a=0,o=128,s=191;this.handler=function(e,c){if(c===u&&0!==a)return a=0,h(t);if(c===u)return l;if(0===a){if(i(c,0,127))return c;if(i(c,194,223))a=1,r=c-192;else if(i(c,224,239))224===c&&(o=160),237===c&&(s=159),a=2,r=c-224;else{if(!i(c,240,244))return h(t);240===c&&(o=144),244===c&&(s=143),a=3,r=c-240}return r<<=6*a,null}if(!i(c,o,s))return r=a=n=0,o=128,s=191,e.prepend(c),h(t);if(o=128,s=191,n+=1,r+=c-128<<6*(a-n),n!==a)return null;var d=r;return r=a=n=0,d}}function v(e){e.fatal;this.handler=function(e,t){if(t===u)return l;if(i(t,0,127))return t;var r,n;i(t,128,2047)?(r=1,n=192):i(t,2048,65535)?(r=2,n=224):i(t,65536,1114111)&&(r=3,n=240);var a=[(t>>6*r)+n];while(r>0){var o=t>>6*(r-1);a.push(128|63&o),r-=1}return a}}p.prototype={decode:function(e,t){var r;r="object"===Object(n["a"])(e)&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===Object(n["a"])(e)&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=a(t),this._streaming||(this._decoder=new m({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t["stream"]);var i,o=new c(r),u=[];while(!o.endOfStream()){if(i=this._decoder.handler(o,o.read()),i===l)break;null!==i&&(Array.isArray(i)?u.push.apply(u,i):u.push(i))}if(!this._streaming){do{if(i=this._decoder.handler(o,o.read()),i===l)break;null!==i&&(Array.isArray(i)?u.push.apply(u,i):u.push(i))}while(!o.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),s(u)}},y.prototype={encode:function(e,t){e=e?String(e):"",t=a(t),this._streaming||(this._encoder=new v(this._options)),this._streaming=Boolean(t["stream"]);var r,n=[],i=new c(o(e));while(!i.endOfStream()){if(r=this._encoder.handler(i,i.read()),r===l)break;Array.isArray(r)?n.push.apply(n,r):n.push(r)}if(!this._streaming){while(1){if(r=this._encoder.handler(i,i.read()),r===l)break;Array.isArray(r)?n.push.apply(n,r):n.push(r)}this._encoder=null}return new Uint8Array(n)}}},bc01:function(e,t,r){"use strict";var n=r("23e7"),i=r("d039"),a=Math.imul,o=i((function(){return-5!==a(4294967295,5)||2!==a.length}));n({target:"Math",stat:!0,forced:o},{imul:function(e,t){var r=65535,n=+e,i=+t,a=r&n,o=r&i;return 0|a*o+((r&n>>>16)*o+a*(r&i>>>16)<<16>>>0)}})},dd3b:function(e,t,r){"use strict";var n=r("ded3").default;r("dca8"),r("d9e2"),r("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.montgomery=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var i=r("4a19"),a=r("1a9a"),o=BigInt(0),s=BigInt(1);function u(e){return(0,a.validateObject)(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze(n({},e))}function c(e){var t=u(e),r=t.P,n=function(e){return(0,i.mod)(e,r)},c=t.montgomeryBits,l=Math.ceil(c/8),h=t.nByteLength,d=t.adjustScalarBytes||function(e){return e},f=t.powPminus2||function(e){return(0,i.pow)(e,r-BigInt(2),r)};function b(e,t,r){var i=n(e*(t-r));return t=n(t-i),r=n(r+i),[t,r]}function p(e){if("bigint"===typeof e&&o<=e&&e<r)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}var y=(t.a-BigInt(2))/BigInt(4);function m(e,t){for(var r,i=p(e),a=p(t),u=i,l=s,h=o,d=i,m=s,v=o,g=BigInt(c-1);g>=o;g--){var k=a>>g&s;v^=k,r=b(v,l,d),l=r[0],d=r[1],r=b(v,h,m),h=r[0],m=r[1],v=k;var w=l+h,O=n(w*w),j=l-h,x=n(j*j),S=O-x,I=d+m,_=d-m,A=n(_*w),E=n(I*j),B=A+E,M=A-E;d=n(B*B),m=n(u*n(M*M)),l=n(O*x),h=n(S*(O+n(y*S)))}r=b(v,l,d),l=r[0],d=r[1],r=b(v,h,m),h=r[0],m=r[1];var P=f(h);return n(l*P)}function v(e){return(0,a.numberToBytesLE)(n(e),l)}function g(e){var t=(0,a.ensureBytes)("u coordinate",e,l);return 32===h&&(t[31]&=127),(0,a.bytesToNumberLE)(t)}function k(e){var t=(0,a.ensureBytes)("scalar",e),r=t.length;if(r!==l&&r!==h)throw new Error("Expected ".concat(l," or ").concat(h," bytes, got ").concat(r));return(0,a.bytesToNumberLE)(d(t))}function w(e,t){var r=g(t),n=k(e),i=m(r,n);if(i===o)throw new Error("Invalid private or public key received");return v(i)}var O=v(t.Gu);function j(e){return w(e,O)}return{scalarMult:w,scalarMultBase:j,getSharedSecret:function(e,t){return w(e,t)},getPublicKey:function(e){return j(e)},utils:{randomPrivateKey:function(){return t.randomBytes(t.nByteLength)}},GuBytes:O}}t.montgomery=c}}]);