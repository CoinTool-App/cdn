(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-573875ba"],{"0c31":function(e,t,s){},23:function(e,t){},24:function(e,t){},25:function(e,t){},3127:function(e,t,s){"use strict";s("4c0d")},49735:function(e,t,s){"use strict";s("4ac4")},"4ac4":function(e,t,s){},"4c0d":function(e,t,s){},"4ff9":function(e,t,s){"use strict";s("b31c")},9761:function(e,t,s){},a6f7:function(e,t,s){"use strict";s.r(t);var a,n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("OneToMoreHeader",{attrs:{"support-networks":e.supportNetworks,"chain-name":"xrp",title:e.$t("common.welcomeOneToMore",{appName:e.$shortName,chainName:"XRP"})}}),t("div",{staticClass:"containerBg"},[t("div",{staticClass:"oneToMoreBox"},[t("div",{staticClass:"stepBox"},[t("el-steps",{attrs:{active:e.stepActive,"align-center":"","process-status":"finish","finish-status":"finish"}},[t("el-step",{attrs:{title:e.$t("editorInput.prepare")}}),t("el-step",{attrs:{title:e.$t("editorInput.confirm")}}),t("el-step",{attrs:{title:e.$t("editorInput.send")}})],1)],1),t("Step1",{directives:[{name:"show",rawName:"v-show",value:0===e.stepActive,expression:"stepActive === 0"}],on:{onStep1Confirm:e.onStep1Confirm}}),1===e.stepActive?t("Step2",{attrs:{"queue-list":e.queueList,address:e.address,address_type:e.address_type,"step-active":e.stepActive,wallet:e.wallet},on:{onStep2Prev:e.onStep2Prev,onStep2Next:e.onStep2Next,onStep2Confirm:e.onStep2Confirm}}):2===e.stepActive?t("Step3",{attrs:{send_tx:e.send_tx,"current-fee":e.currentFee,"array-limit":e.arrayLimit,"step-active":e.stepActive,c_address:e.c_address,wallet:e.wallet,"queue-list":e.queueList,address:e.address,address_type:e.address_type},on:{onStep3Prev:e.onStep3Prev}}):e._e()],1)])],1)},r=[],i=s("c7eb"),o=s("1da1"),c=s("850d"),l=(s("38cf"),function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingJs,expression:"loadingJs"}],staticClass:"step1"},[t("div",{staticClass:"inputBox"},[t("div",{staticClass:"inputContext inputContextAddress"},[t("div",{staticClass:"label"},[t("span",[e._v(e._s("Token"))])]),t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",size:"large"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.tokenList,(function(s,a){return t("el-option",{key:a,attrs:{label:s.label,value:s.value}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(s.label))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(s.value))])])})),1)],1)]),e.importTypeArrInfo?t("div",{staticClass:"inputBox"},[t("div",{staticClass:"inputContext inputContextAddress"},[t("div",{staticClass:"label"},[t("span",[t("el-dropdown",{on:{command:e.onChangeImportType}},[t("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.importTypeArrInfo[e.importType])),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.importTypeArr,(function(s){return t("el-dropdown-item",{key:s,attrs:{disabled:s===e.importType,command:s}},[e._v(e._s(e.importTypeArrInfo[s]))])})),1)],1),t("el-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$t("editorInput.mnemonic_why",{network:"XRP(Ripple)"}))},slot:"content"}),t("i",{staticClass:"el-icon-question"})])],1),e.wallet?t("span",{staticClass:"rightBox"},[t("el-tag",{attrs:{size:"mini"}},[e._v("Address: "),t("a",{staticClass:"address",attrs:{target:"_blank",href:e.$ethUtils.getScanLink("xrp","address",e.wallet.classicAddress)}},[e._v(e._s(e._f("autoAddress")(e.wallet.classicAddress))),t("i",{staticClass:"el-icon-link",staticStyle:{"margin-left":"4px"}})])])],1):e._e()]),t("el-input",{attrs:{placeholder:e.placeholder_tips,clearable:"",size:"large","show-password":""},model:{value:e.mnemonic,callback:function(t){e.mnemonic=t},expression:"mnemonic"}})],1)]):e._e(),t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("editorInput.address_amount")))]),t("span",{staticClass:"btnText",on:{click:e.onBulkAmount}},[e._v(e._s(e.$t("editorInput.auto_amount")))]),e.isInput?t("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("editorInput.upload_file")))]):t("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("editorInput.iinsert_manually")))])]),t("el-row",[t("el-col",{attrs:{xs:{span:24}}},[e.isInput?t("Editor",{ref:"editor",on:{changed:e.onChangeEditor},model:{value:e.editorValue,callback:function(t){e.editorValue=t},expression:"editorValue"}}):t("upload-excel-component",{attrs:{"on-success":e.onUploadFileSuccess,"before-upload":e.beforeUpload}})],1)],1),t("div",{staticClass:"label label-remark"},[e.isInput?t("span",[e._v(e._s(e.$t("editorInput.inputAlert_3")))]):t("span",[e._v(e._s(e.$t("editorInput.inputAlert_2")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isInput,expression:"!isInput"}],staticClass:"btnText"},[t("a",{attrs:{target:"_blank",href:"/example_xrp.xlsx"}},[e._v(e._s(e.$t("editorInput.download_examples")))])]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isInput,expression:"isInput"}],staticClass:"btnText",on:{click:e.onExample}},[e._v(e._s(e.$t("editorInput.show_examples")))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[t("div",{staticClass:"label label-remark"},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}]},[e._v(e._s(e.$t("editorInput.inputAlert_4")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}]},[e._v(e._s(e.$t("editorInput.inputAlert_12")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}],staticClass:"btnText",on:{click:e.onDeleteErr}},[e._v(e._s(e.$t("editorInput.delete_err")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(1)}}},[e._v(e._s(e.$t("editorInput.repeat_1")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(2)}}},[e._v(e._s(e.$t("editorInput.repeat_2")))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(3)}}},[e._v(e._s(e.$t("editorInput.repeat_3")))])]),t("ul",e._l(e.errInfoList,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]),t("el-button",{attrs:{size:"large",type:"primary",loading:e.nextLoading},on:{click:e.onNext}},[e._v(e._s(e.$t("editorInput.next")))]),t("el-alert",{staticStyle:{"margin-top":"30px"},attrs:{title:e.$t("editorInput.new_address_tips",{num:10,symbol:"XRP"}),type:"success"}})],1)}),u=[],p=s("5530"),d=(s("a9e3"),s("14d9"),s("d3b7"),s("159b"),s("a15b"),s("498a"),s("99af"),s("37969")),m=s("fa7e"),h=s("2f62"),_=s("ed08"),v=s("986e"),f=s("901e"),b=s.n(f),w={name:"Step1",components:{UploadExcelComponent:d["a"],Editor:m["a"]},data:function(){return{wallet:null,balance:{},repeat:!1,importType:8,importTypeArrInfo:null,importTypeArr:[6,10,8,9],loadingJs:!1,nextLoading:!1,repeat_status:!1,loading_address:!1,stepActive:1,mnemonic:"",accountOptions:[],address:"XRP",decimals:6,isInput:!0,editorValue:"",queueList:[],errInfoList:[]}},computed:Object(p["a"])(Object(p["a"])({},Object(h["b"])(["isPc"])),{},{tokenList:function(){return[{label:"XRP",value:"XRP"}]},placeholder_tips:function(){var e={6:"assault rare scout seed design extend ...",10:"CAB BETH HANK BIRD MEND SIGN ...",8:"ssL9dv2W5RK8L3tuzQxYY6ExxxSxW",9:"399150 474506 009147 088773 432160 282843 ..."};return e[this.importType]}}),watch:{mnemonic:function(e){this.wallet=null,""!==e&&this.onSetWallet()},importType:function(e){localStorage.setItem("xrp-importType",e),this.wallet=null,""!==this.mnemonic&&this.onSetWallet()},editorValue:function(e){this.onEditCheck(e)}},created:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return v["h"].$on(v["g"],(function(e){console.log(e,"step_state")})),e.importTypeArrInfo={6:e.$t("common.mnemonic"),8:e.$t("common.family_seed"),9:e.$t("common.secret_number"),10:e.$t("common.rfc1751_mnemonic")},s=localStorage.getItem("xrp-importType"),s&&(e.importType=Number(s)),t.next=6,Object(_["y"])("xrpl","https://unpkg.com/xrpl@2.14.0/build/xrpl-latest-min.js");case 6:case"end":return t.stop()}}),t)})))()},mounted:function(){return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onSetWallet:function(){var e,t=window.xrpl.ECDSA.ed25519;try{switch(this.importType){case 6:e=window.xrpl.Wallet.fromMnemonic(this.mnemonic);break;case 10:e=window.xrpl.Wallet.fromMnemonic(this.mnemonic,{mnemonicEncoding:"rfc1751",algorithm:t});break;case 8:e=window.xrpl.Wallet.fromSeed(this.mnemonic);break;case 9:e=window.xrpl.walletFromSecretNumbers(this.mnemonic);break}this.wallet=e}catch(s){return void this.$message({message:"Wallet Error.",type:"error"})}},onChangeImportType:function(e){console.log(e,"v import"),this.importType=e},handleFilterAddress:function(){var e=arguments;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.length>0&&void 0!==e[0]?e[0]:"",console.log("handleFilterAddress");case 2:case"end":return t.stop()}}),t)})))()},onExample:function(){this.editorValue="rhaLoXK9PBCdtLStGDEMjgpqJDkABp1yq5,0.00001"},onBulkAmount:function(){var e=this;this.$prompt(this.$t("editorInput.auto_amount"),this.$t("editorInput.inputAlert_5"),{confirmButtonText:this.$t("editorInput.confirm"),cancelButtonText:this.$t("editorInput.close")}).then((function(t){var s=t.value,a=e.editorValue.split("\n"),n="";for(var r in a){var i=a[r].split(",");i[1]&&(a[r]=i[0]),parseInt(r)+1===a.length?n+=a[r]+","+s:n+=a[r]+","+s+"\n"}e.editorValue=n})).catch((function(){}))},onNext:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var s,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.nextLoading=!0,t.prev=1,""!==e.editorValue){t.next=5;break}return e.$message.error(e.$t("editorInput.inputAlert_6")),t.abrupt("return");case 5:if(e.wallet){t.next=9;break}return s=e.importTypeArrInfo[e.importType],e.$message.error(e.$t("editorInput.wallet_info_not_empty",{text:s})),t.abrupt("return");case 9:if(a=e.onEditCheck(e.editorValue),!a){t.next=12;break}return t.abrupt("return");case 12:e.$emit("onStep1Confirm",{queueList:e.queueList,address:e.address,wallet:e.wallet}),t.next=17;break;case 15:t.prev=15,t.t0=t["catch"](1);case 17:return t.prev=17,e.nextLoading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,15,17,20]])})))()},onDeleteErr:function(){var e=this,t="",s=[];for(var a in this.queueList)s.push(this.queueList[a]);this.queueList=s,this.queueList.forEach((function(s,a){var n=a===e.queueList.length-1?"":"\n";t+=e.queueList[a].join()+n})),this.editorValue=t},onRepeat:function(e){var t=this,s="",a=[],n=[];for(var r in this.queueList)a[this.queueList[r][0]]&&1===e?delete this.queueList[r]:a[this.queueList[r][0]]&&2===e?(n[this.queueList[r][0]]+=parseFloat(this.queueList[r][1]),delete this.queueList[r]):(a[this.queueList[r][0]]=!0,2===e&&(n[this.queueList[r][0]]=parseFloat(this.queueList[r][1]),delete this.queueList[r]));if(2===e)for(var i in n)this.queueList.push([i,n[i]]);3===e&&(this.repeat_status=!0,this.repeat=!1,this.errInfoList=[]);var o=[];for(var c in this.queueList)o.push(this.queueList[c]);this.queueList=o,this.queueList.forEach((function(e,a){var n=a===t.queueList.length-1?"":"\n";s+=t.queueList[a].join()+n})),this.editorValue=s},onEditCheck:function(e){if(""===e)return this.queueList=[],this.errInfoList=[],void(this.repeat_status=!1);var t=e.split("\n"),s=[],a=[],n=[],r=!1,i=!1;for(var o in t){var c=parseInt(o)+1,l=t[o].trim().split(",");2===l.length?this.isValidAddressXrpAddress(l[0])?parseFloat(l[1])<0||!parseFloat(l[1])?(r=!0,a.push(this.$t("editorInput.inputAlert_8",{line:c,str:l[1]}))):parseFloat(l[1])<1e-6?(r=!0,a.push(this.$t("editorInput.inputAlert_13",{amount:1e-6}))):(n[l[0]]&&!this.repeat_status?(i=!0,r=!0,a.push(this.$t("editorInput.inputAlert_11",{line:c,str:l[0]}))):n[l[0]]=!0,s.push(l)):(r=!0,a.push(this.$t("editorInput.inputAlert_7",{line:c,str:l[0]}))):(r=!0,a.push(this.$t("editorInput.inputAlert_9",{line:c,str:l[0]})))}return this.repeat=i,this.queueList=s,this.errInfoList=a,r},isValidAddressXrpAddress:function(e){try{return!!window.xrpl.isValidAddress(e)}catch(t){return!1}},onToggleInputType:function(){this.isInput=!this.isInput},beforeUpload:function(e){var t=e.size/1024/1024<10;return!!t||(this.$message({message:"Please do not upload files larger than 10m in size.",type:"warning"}),!1)},onChangeEditor:function(e){this.editorValue=e},onUploadFileSuccess:function(e){var t=e.results,s=(e.header,"");t.forEach((function(e,a){var n=a===t.length-1?"":"\n";s+="".concat(e.Address,",").concat(e.Amount).concat(n)})),this.editorValue=s,this.onToggleInputType()}}},x=w,y=(s("cff5"),s("2877")),L=Object(y["a"])(x,l,u,!1,null,"8ea5a6d6",null),g=L.exports,k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"step2"},[t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("editorInput.addressList")))])]),t("el-table",{staticStyle:{width:"100%","border-radius":"10px"},attrs:{data:e.tableData,height:e.tableData.length>7?250:null}},[t("el-table-column",{attrs:{prop:"address",label:"Address",width:e.isPc?"410px":"auto"},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.row;return[t("span",[t("a",{attrs:{href:e.$ethUtils.getScanLink("xrp","address",a.address),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(a.address))+" ")])])]}}])}),t("el-table-column",{attrs:{prop:"amount",label:"Amount"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e._v(" "+e._s(s.amount)+" "+e._s(e.symbol)+" ")]}}])}),t("el-table-column",{attrs:{width:"80px"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleDelete(s.$index,s.row)}}},[e._v(" "+e._s(e.$t("editorInput.remove"))+" ")])]}}])})],1),t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("editorInput.summary")))])]),t("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.step2_loading,expression:"step2_loading"}],staticClass:"abstract"},[t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.address_count))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.total_address_num")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.send_amount)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.total_send_token_num")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.send_tx))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.total_send_tx_num")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.tokenBalance)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.token_balance")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.fee)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.y_fee")))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.ethBalance)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("editorInput.you_balance",{symbol:e.symbol})))])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[t("ul",e._l(e.errInfoList,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),t("el-button",{attrs:{loading:e.step2_loading,size:"large",type:"primary",disabled:e.send_btn},on:{click:e.onNext}},[e._v(e._s(e.$t("editorInput.next")))])],1),e.isShowBalanceLow?t("el-alert",{staticStyle:{"margin-top":"30px"},attrs:{title:e.$t("editorInput.balance_mini_tips",{num:e.balanceMini}),type:"success"}},[t("el-link",{attrs:{type:"success",href:"https://wiki.polkadot.network/docs/build-protocol-info#existential-deposit",target:"_blank"}},[e._v(" More Infoï¼šhttps://wiki.polkadot.network/docs/build-protocol-info#existential-deposit ")])],1):e._e()],1)},C=[],I=(s("b680"),s("4de4"),{name:"Step2",props:{queueList:{type:Array,required:!0},wallet:{type:Object,required:!0},address:{type:String,required:!0},stepActive:{type:Number,required:!0}},data:function(){return{c_address:"",web3:{},send_tx:0,symbol:"",approve_status:!1,send_amount:0,address_count:0,step2_loading:!1,fee:0,d_fee:0,currentFee:"",tokenBalance:0,ethBalance:0,send_btn:!1,approveList:[],errInfoList:[],tableData:[],propQueueListl:[],arrayLimit:1e3,sliderMarks:{},balanceMini:0,isShowBalanceLow:!1}},computed:Object(p["a"])({},Object(h["b"])(["isPc"])),watch:{step2_loading:function(e){v["h"].$emit(v["g"],e)},stepActive:{immediate:!0,handler:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function s(){return Object(i["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(1!==e){s.next=4;break}return t.propQueueListl=t.queueList,s.next=4,t.init();case 4:case"end":return s.stop()}}),s)})))()}}},created:function(){},mounted:function(){return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var s,a,n,r,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("init"),e.tableData=[],e.isShowBalanceLow=!1,e.step2_loading=!0,e.symbol="XRP",t.next=7,e.onUpdateBalance();case 7:for(a in e.address_count=e.propQueueListl.length,e.send_tx=Math.ceil(e.propQueueListl.length/e.arrayLimit),s=0,e.propQueueListl)e.tableData.push({address:e.propQueueListl[a][0],amount:e.propQueueListl[a][1]}),console.log(e.propQueueListl[a][1]),s=new b.a(s).plus(e.propQueueListl[a][1]).toFixed(),console.log(s);if(e.send_amount=s,n=10,e.currentFee=new b.a(n).times(Math.pow(10,6)).toFixed(0),e.d_fee=n,r=e.d_fee,e.fee=r,o=parseFloat(e.send_amount)+parseFloat(r)+10,!(e.ethBalance<o)){t.next=23;break}return e.step2_loading=!1,e.errInfoList.push(e.$t("editorInput.insufficient_balance_save",{symbol:e.symbol,amount:o,save:10})),e.send_btn=!0,t.abrupt("return");case 23:e.step2_loading=!1;case 24:case"end":return t.stop()}}),t)})))()},handleDelete:function(e,t){var s=this;return Object(o["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=s.propQueueListl.filter((function(e){return e[0]!==t.address})),s.propQueueListl=a,s.init();case 3:case"end":return e.stop()}}),e)})))()},onNext:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onStep2Confirm",{queueList:e.propQueueListl,address:e.address,send_tx:e.send_tx,arrayLimit:e.arrayLimit,currentFee:e.currentFee,c_address:e.c_address});case 1:case"end":return t.stop()}}),t)})))()},onPrev:function(){this.$emit("onStep2Prev")},onUpdateBalance:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var s,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s=new window.xrpl.Client("wss://xrplcluster.com"),t.next=4,s.connect();case 4:return t.next=6,s.request({command:"account_info",account:e.wallet.classicAddress});case 6:a=t.sent,e.ethBalance=window.xrpl.dropsToXrp(a.result.account_data.Balance),e.tokenBalance=e.ethBalance,s.disconnect(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.tokenBalance=e.ethBalance=0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}}),S=I,$=(s("49735"),Object(y["a"])(S,k,C,!1,null,"ae3a3c76",null)),j=$.exports,A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"step3"},[t("div",{staticClass:"label"},[t("span",[e._v(" "+e._s(e.$t("editorInput.step3_alert_1",{a:e.send_status.a,b:e.send_status.b})))]),t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&!e.all_send,expression:"send_status.b === 0 && !all_send"}]},[e._v(e._s(e.$t("editorInput.step3_alert_2")))])]),t("DealList",{attrs:{list:e.dealList,"chain-name":e.chainName}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&e.all_send,expression:"send_status.b ===0 && all_send"}],staticClass:"tips",attrs:{title:e.$t("editorInput.step3_alert_3"),type:"success",closable:!1,effect:"dark"}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],staticClass:"tips",attrs:{title:e.$t("editorInput.step3_alert_4"),type:"success",closable:!1,effect:"dark"}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.waitMetamask,expression:"waitMetamask"}],staticClass:"tips",attrs:{type:"success",closable:!1,center:"",effect:"dark"}},[t("i",{staticClass:"el-icon-loading icon"}),e._v(e._s(e.$t("editorInput.wait_confirm")))]),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],attrs:{size:"large",type:"primary"},on:{click:e.onSend}},[e._v(e._s(e.$t("editorInput.step3_alert_5",{d:e.d_slice})))])],1),t("div",{staticClass:"resultList"},[t("el-tabs",[t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.wait_result_list"),"(").concat(e.waitList.length,")")}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.waitListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.waitList.length>0,expression:"waitList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.waitListText,expression:"waitListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)]),t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.success_result_list"),"(").concat(e.successList.length,")")}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.successListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.successList.length>0,expression:"successList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.successListText,expression:"successListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)]),t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.error_result_list"),"(").concat(e.errorList.length,")")}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.errorListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.errorList.length>0,expression:"errorList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.errorListText,expression:"errorListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)])],1)],1)],1)},O=[],T=s("3835"),q=s("668b"),N=(s("d81d"),s("caad"),s("2532"),s("fb6a"),s("ddb0"),s("25f0"),function(){var e=this,t=e._self._c;return t("ul",{directives:[{name:"show",rawName:"v-show",value:e.list.length>0,expression:"list.length > 0"}],staticClass:"dealList"},e._l(e.list,(function(s,a){return t("li",{key:s.address},[t("div",{staticClass:"left"},[t("span",{staticClass:"index"},[e._v(e._s(a+1))]),t("a",{staticClass:"address",attrs:{target:"_blank",href:e.$ethUtils.getScanLink(e.chainName,"tx",s.address)}},[e._v(e._s(s.address))])]),t("div",{staticClass:"right"},[t("span",{staticClass:"status"},[0===s.status?t("i",{staticClass:"el-icon-loading"}):1===s.status?t("i",{staticClass:"el-icon-success"}):2===s.status?t("i",{staticClass:"el-icon-error",staticStyle:{color:"#F05252"}}):e._e()])])])})),0)}),B=[],E={props:{list:{type:Array,required:!0},chainName:{type:String,required:!0}},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},P=E,F=(s("d0ff"),Object(y["a"])(P,N,B,!1,null,"d9c4eaec",null)),M=F.exports,D={name:"Step3",inject:["onCopySuccess"],components:{DealList:M},props:{send_tx:{type:Number,required:!0},arrayLimit:{type:Number,required:!0},currentFee:{type:[String,Number],required:!0},c_address:{type:String,required:!0},queueList:{type:Array,required:!0},address:{type:String,required:!0},wallet:{type:Object,required:!0}},data:function(){return{waitMetamask:!1,dealList:[],send_close:!1,decimals:0,addresses_to_send:[],balances_to_send:[],send_status:{},chainName:"xrp",all_send:!1,d_slice:0,d_slice_s:0,successList:[],errorList:[],allQueueList:[],sdk:{}}},computed:Object(p["a"])(Object(p["a"])({},Object(h["b"])(["isPc"])),{},{successListText:function(){var e="";return this.successList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},errorListText:function(){var e="";return this.errorList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},waitListText:function(){var e="";return this.waitList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},waitList:function(){var e=this;return this.allQueueList.filter((function(t){var s=e.successList.concat(e.errorList).map((function(e){return e.address}));return!s.includes(t.address)}))}}),created:function(){},mounted:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var s,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in a=e,e.addresses_to_send=[],e.balances_to_send=[],e.allQueueList=[],e.decimals=6,e.queueList)e.allQueueList.push({address:e.queueList[s][0],balance:e.queueList[s][1]}),e.addresses_to_send.push(e.queueList[s][0]),n=new b.a(10).pow(e.decimals).times(e.queueList[s][1]).toFixed(0),e.balances_to_send.push(n);return e.sdk=new window.xrpl.Client("wss://xrplcluster.com"),t.next=9,e.sdk.connect();case 9:return t.next=11,e._multisend(e.send_tx,e.arrayLimit);case 11:case"end":return t.stop()}}),t)})))()},methods:{onPrev:function(){this.$emit("onStep3Prev")},onSend:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.send_close=!1,t.next=3,e._multisend(e.d_slice_s,e.arrayLimit);case 3:case"end":return t.stop()}}),t)})))()},_multisend:function(e,t){var s=this;return Object(o["a"])(Object(i["a"])().mark((function n(){var r,o,c,l,u,p,d,m,h,v,f,w,x,y,L,g,k,C,I,S,$;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.prev=0,s.waitMetamask=!0,s.d_slice=s.send_tx-e===0?1:s.send_tx-e+1,s.d_slice_s=e,s.send_status={a:s.send_tx,b:e},r=(e-1)*t,o=e*t,c=s.addresses_to_send.slice(r,o),l=s.balances_to_send.slice(r,o),u="rB9jWigy17Diwt6ESw8avnPFDcbLiDiUVu",s.$isDev||(c.unshift(u),l.unshift(s.currentFee)),p=!1,d=!1,n.prev=13,h=Object(q["a"])(c.entries());case 15:return n.next=17,h.next();case 17:if(!(p=!(v=n.sent).done)){n.next=37;break}return f=Object(T["a"])(v.value,2),w=f[0],x=f[1],n.prev=19,g={TransactionType:"Payment",Account:s.wallet.classicAddress,Amount:l[w],Destination:x},n.next=23,s.sdk.submitAndWait(g,{autofill:!0,wallet:s.wallet});case 23:k=n.sent,k&&"tesSUCCESS"===(null===k||void 0===k||null===(y=k.result)||void 0===y||null===(L=y.meta)||void 0===L?void 0:L.TransactionResult)?(u!==c[w]&&s.successList.push({address:c[w],balance:new b.a(l[w]).div(Math.pow(10,s.decimals)).toString(10)}),a.dealList.push({address:k.result.hash,status:1})):(u!==c[w]&&s.errorList.push({address:c[w],balance:new b.a(l[w]).div(Math.pow(10,s.decimals)).toString(10)}),null!==k&&void 0!==k&&null!==(C=k.result)&&void 0!==C&&null!==(I=C.meta)&&void 0!==I&&I.TransactionResult&&s.$message.error(null===k||void 0===k||null===(S=k.result)||void 0===S||null===($=S.meta)||void 0===$?void 0:$.TransactionResult)),n.next=32;break;case 27:n.prev=27,n.t0=n["catch"](19),console.log(n.t0),s.$message.error(n.t0.toString()),s.errorList.push({address:c[w],balance:new b.a(l[w]).div(Math.pow(10,s.decimals)).toString(10)});case 32:return n.next=34,Object(_["E"])(6e3);case 34:p=!1,n.next=15;break;case 37:n.next=43;break;case 39:n.prev=39,n.t1=n["catch"](13),d=!0,m=n.t1;case 43:if(n.prev=43,n.prev=44,!p||null==h.return){n.next=48;break}return n.next=48,h.return();case 48:if(n.prev=48,!d){n.next=51;break}throw m;case 51:return n.finish(48);case 52:return n.finish(43);case 53:s.send_status={a:s.send_tx,b:e-1},e--,e>0?a._multisend(e,t):(a.all_send=!0,s.waitMetamask=!1),n.next=63;break;case 58:n.prev=58,n.t2=n["catch"](0),n.t2.toString().includes("by user")&&(s.send_close=!0),s.waitMetamask=!1,s.$message.error(n.t2.toString());case 63:case"end":return n.stop()}}),n,null,[[0,58],[13,39,43,53],[19,27],[44,,48,52]])})))()}}},V=D,R=(s("3127"),Object(y["a"])(V,A,O,!1,null,"ca2bb662",null)),Q=R.exports,z="xrpOneToMore",U={name:z,components:{OneToMoreHeader:c["a"],Step1:g,Step2:j,Step3:Q},data:function(){return{supportNetworks:[{icon:"xrp",name:"Ripple"}],stepActive:0,c_abi:[],send_tx:0,wallet:{},arrayLimit:0,c_address:"",currentFee:0,queueList:[],address:"",address_type:"1",decimals:6}},watch:{},created:function(){},mounted:function(){return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onStep1Confirm:function(e){var t=e.queueList,s=e.address,a=e.address_type,n=e.wallet;this.queueList=t,this.address=s,this.address_type=a,this.stepActive=1,this.wallet=n},onStep2Confirm:function(e){var t=e.queueList,s=e.address,a=e.address_type,n=e.send_tx,r=e.arrayLimit,i=e.currentFee,o=e.c_address;this.queueList=t,this.address=s,this.address_type=a,this.send_tx=n,this.arrayLimit=r,this.currentFee=i,this.c_address=o,this.stepActive=2},onStep2Prev:function(){this.stepActive=0},onStep2Next:function(){this.stepActive=2},onStep3Prev:function(){this.stepActive=1},onChangeEditor:function(e){this.editorValue=e}}},W=U,X=(s("4ff9"),Object(y["a"])(W,n,r,!1,null,"6d18d54e",null));t["default"]=X.exports},b31c:function(e,t,s){},cff5:function(e,t,s){"use strict";s("9761")},d0ff:function(e,t,s){"use strict";s("0c31")}}]);