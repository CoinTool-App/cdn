(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb973072"],{"62f6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));a("99af"),a("a9e3"),a("b680");var n=function(e,t){var a=(100*(e/t-1)).toFixed(2);return Number(a)},i=function(e){if(e){var t=e>0?"+":"";return"".concat(t).concat(e.toFixed(2),"%")}}},"6b2d":function(e,t,a){"use strict";a("e5f4")},a69a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"main"},[a("div",[a("ul",{staticClass:"timeRange"},e._l(e.timeRange,(function(t){return a("li",{key:t.value,class:{on:e.defaultTimeRange===t.value},on:{click:function(a){return e.onChangeTimeRange(t.value)}}},[e._v(e._s(t.lable))])})),0)]),a("div",{staticClass:"coinInfo"},[e._v("BTC INfo ")]),a("div",{staticClass:"kline"},[a("line-chart",{attrs:{"chart-data":e.lineChartData}})],1),a("div",{staticClass:"ball"},[e._v(" ball ")]),e._m(1)])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("ul",{staticClass:"timeRange"},[a("li",[e._v("BTC/USDT")]),a("li",[e._v("ETH/USDT")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pjz"},[a("h5",[e._v("时间轴平均价")]),a("p",[e._v("table")])])}],o=(a("ace4"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("5530")),s=a("2f62"),r={zh:{demo:{}},en:{demo:{}}},l=a("c1df"),c=a.n(l),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},u=[],h=(a("99af"),a("b0c0"),a("ddb0"),a("313e")),m=a.n(h),f=a("ed08"),b={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(f["c"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d");var v="#ec0000",p="#8A0000",y="#00da3c",g="#008F28",_={mixins:[b],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.initChart()}}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=m.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.values,a=e.categoryData;function n(e){for(var a=[],n=0,i=t.length;n<i;n++)if(n<e)a.push("-");else{for(var o=0,s=0;s<e;s++)o+=t[n-s][1];a.push(o/e)}return a}this.chart.setOption({backgroundColor:"transparent",tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(e){var t=e[0],a="\n              ".concat(t.name,"<br/>\n              开盘:").concat(t.data[1],"<br/>\n              收盘:").concat(t.data[2],"<br/>\n              最高:").concat(t.data[4],"<br/>\n              最低:").concat(t.data[3],"<br/>\n              ");return a}},legend:{data:["日K","MA5","MA10","MA20","MA30"]},grid:{left:"10%",right:"10%",bottom:"20%"},xAxis:{type:"category",data:a,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisLabel:{showMaxLabel:!0}},yAxis:{scale:!0,splitArea:{show:!0},axisTick:{show:!1}},dataZoom:[{type:"inside",start:50,end:100},{show:!0,type:"slider",top:"90%",start:50,end:100}],series:[{name:"日K",type:"candlestick",data:t,itemStyle:{color:v,color0:y,borderColor:p,borderColor0:g},markPoint:{label:{normal:{formatter:function(e){return null!=e?Math.round(e.value):""}}},data:[{name:"XX标点",coord:["2013/5/31",2300],value:2300,itemStyle:{color:"rgb(41,60,85)"}},{name:"highest value",type:"max",valueDim:"highest"},{name:"lowest value",type:"min",valueDim:"lowest"},{name:"average value on close",type:"average",valueDim:"close"}],tooltip:{formatter:function(e){return e.name+"<br>"+(e.data.coord||"")}}},markLine:{symbol:["none","none"],data:[[{name:"from lowest to highest",type:"min",valueDim:"lowest",symbol:"circle",symbolSize:10,label:{show:!1},emphasis:{label:{show:!1}}},{type:"max",valueDim:"highest",symbol:"circle",symbolSize:10,label:{show:!1},emphasis:{label:{show:!1}}}],{name:"min line on close",type:"min",valueDim:"close"},{name:"max line on close",type:"max",valueDim:"close"}]}},{name:"MA5",type:"line",data:n(5),smooth:!0,lineStyle:{opacity:.5}},{name:"MA10",type:"line",data:n(10),smooth:!0,lineStyle:{opacity:.5}},{name:"MA20",type:"line",data:n(20),smooth:!0,lineStyle:{opacity:.5}},{name:"MA30",type:"line",data:n(30),smooth:!0,lineStyle:{opacity:.5}}]})}}},w=_,M=a("2877"),$=Object(M["a"])(w,d,u,!1,null,null,null),z=$.exports,C=(a("62f6"),a("d7ac")),E=a.n(C),R="band",D=null,S={name:"Band",inject:["onCheckConnect"],components:{LineChart:z},data:function(){return{timeRange:[{lable:"1 min",value:"1min",time:60},{lable:"5 min",value:"5min",time:300},{lable:"15 min",value:"15min",time:900},{lable:"30 min",value:"30min",time:1800},{lable:"1 hour",value:"1hour",time:3600},{lable:"2 hour",value:"2hour",time:7200},{lable:"4 hour",value:"4hour",time:14400},{lable:"12 hour",value:"12hour",time:43200},{lable:"1 day",value:"1day",time:86400},{lable:"1 week",value:"1week",time:604800}],defaultTimeRange:"1min",lineChartData:{},a:1}},computed:Object(o["a"])({},Object(s["b"])(["isConnect","account","isPc","language"])),created:function(){this.$i18n.getLocaleMessage("en")[R]||(this.$i18n.mergeLocaleMessage("en",r.en),this.$i18n.mergeLocaleMessage("zh",r.zh))},mounted:function(){this.lineChartData={categoryData:[1614009840,1614009900,1614009960,1614010020,1614010080,1614010140,1614010200,1614010260,1614010320,1614010380],values:[[53104.45,52875.74,52858.21,53104.45],[52875.75,53009.45,52761.19,53012.42],[53001.99,52975.47,52914.19,53176.47],[52973.7,52993.17,52934.69,53088.14],[52993.18,53022.57,52993.18,53141],[53022.57,53107.03,53003.26,53160.55],[53107.03,53274.19,53043.42,53356.17],[53266.99,53458.81,53249.4,53474.67],[53458.82,53514.08,53454.39,53533.65],[53514.09,53549.07,53405.77,53549.08]]},this.onConnectWebSocket()},deactivated:function(){D.close()},methods:{onChangeTimeRange:function(e){this.defaultTimeRange=e},onConnectWebSocket:function(){var e=this,t="wss://api.hadax.com/ws",a={req:"market.btcusdt.kline.1min",id:"btcusdt",from:Math.round((new Date).getTime()/1e3)-600,to:Math.round((new Date).getTime()/1e3)};function n(t){var a=JSON.parse(t);a.ping?i(a.ping):"ok"===a.status?e.lineChartData=o(a):console.log(a,"数据体")}function i(e){D.send(JSON.stringify({pong:e}))}function o(t){for(var a={"1min":"YYYY-MM-DD hh:mm:ss","3min":"hh:mm","5min":"hh:mm","15min":"hh:mm","30min":"hh:mm","1day":"MM-dd","3day":"MM-dd","1week":"yyyy-MM-dd","1hour":"MM-dd hh:mm","2hour":"MM-dd hh:mm","4hour":"MM-dd hh:mm","6hour":"MM-dd hh:mm","12hour":"MM-dd hh:mm"},n=a[e.defaultTimeRange],i=[],o=[],s=0;s<t.data.length;s++)i.push(c()(1e3*t.data[s].id).format(n)),o.push([t.data[s].open,t.data[s].close,t.data[s].low,t.data[s].high]);return{categoryData:i,values:o}}D=new WebSocket(t),D.onopen=function(){console.log("connection establish"),D.send(JSON.stringify(a))},D.onmessage=function(e){var t=e.data,a=new FileReader;a.onload=function(e){var t=new Uint8Array(e.target.result),a=E.a.inflate(t,{to:"string"});n(a)},a.readAsArrayBuffer(t,"utf-8")},D.onclose=function(){console.log("connection closed")}}}},x=S,k=(a("6b2d"),Object(M["a"])(x,n,i,!1,null,"d3e40f12",null));t["default"]=k.exports},e5f4:function(e,t,a){}}]);