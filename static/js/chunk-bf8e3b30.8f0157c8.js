(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf8e3b30"],{"3e72":function(t,e,a){},"7aaa":function(t,e,a){"use strict";a("3e72")},a62a:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("5319"),a("99af");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"containerCenter"},[e("div",{staticClass:"header"},[e("svg-icon",{staticClass:"uniswapIcon",attrs:{"icon-class":t.icon}}),e("div",{staticClass:"inputBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"input",attrs:{placeholder:"Please enter..."},domProps:{value:t.searchInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.searchInput=e.target.value)}}})])],1),e("el-row",{staticClass:"cardList",attrs:{gutter:20}},t._l(t.resList,(function(a,n){return e("el-col",{key:n,attrs:{lg:12,xs:24}},[e("div",{staticClass:"card"},[e("div",{staticClass:"coinInfo"},[e("div",{staticClass:"imgBox"},[e("el-image",{staticClass:"img img1",attrs:{src:t.logo_link.replace("#address#",a.token1)}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])]),e("el-image",{staticClass:"img img2",attrs:{src:t.logo_link.replace("#address#",a.token2)}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])])],1),e("div",{staticClass:"sybmol"},[e("a",{attrs:{href:"/defi/token?platform=".concat(t.platform,"&address=").concat(a.token1),target:"_blank"}},[t._v(t._s(a.token1Sybmol))]),t._v(" /"),e("a",{attrs:{href:"/defi/token?platform=".concat(t.platform,"&address=").concat(a.token2),target:"_blank"}},[t._v(t._s(a.token2Sybmol))])])]),e("ul",[e("li",[e("i",{staticClass:"el-icon-time icon"}),e("p",[e("span",{staticClass:"key"},[t._v("Date:")]),t._v(t._s(a.timestamp))])]),e("li",[e("i",{staticClass:"el-icon-tickets icon"}),e("p",[e("span",{staticClass:"key"},[t._v("Pair:")]),e("a",{attrs:{href:"/defi/pair?platform=".concat(t.platform,"&address=").concat(a.pair),target:"_blank"}},[t._v(t._s(a.pair))])])]),e("li",[e("i",{staticClass:"el-icon-menu icon"}),e("p",[e("span",{staticClass:"key"},[t._v("Liquidity:")]),e("a",{attrs:{href:"/defi/pair?platform=".concat(t.platform,"&address=").concat(a.pair),target:"_balnk"}},[t._v(t._s(t._f("autoFixed")(a.liquidity1))+" "+t._s(a.token1Sybmol))]),t._v(" / "),e("a",{attrs:{href:"/defi/pair?platform=".concat(t.platform,"&address=").concat(a.pair),target:"_balnk"}},[t._v(t._s(t._f("autoFixed")(a.liquidity2))+" "+t._s(a.token2Sybmol))])])])])])])})),1)],1)])},s=[],r=a("c7eb"),c=a("1da1"),o=(a("b0c0"),a("d3b7"),a("25f0"),a("14d9"),{zh:{uniswap:{title:"Uniswap最新交易对"}},en:{uniswap:{title:"Uniswap latest trading pairs"}}}),i=a("5ba3"),l=a("c039"),p=a.n(l),d=a("b893"),u="defi",m={name:"Defi",data:function(){return{searchInput:"",resList:[],rpc_node:"",factory_address:"",platform:"",logo_link:"",icon:""}},created:function(){this.$i18n.getLocaleMessage("en")[u]||(this.$i18n.mergeLocaleMessage("en",o.en),this.$i18n.mergeLocaleMessage("zh",o.zh))},mounted:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var a,n,s,c,o,i,l,d,u,m,f,h,b,k;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.platform=t.icon=t.$route.name,"uniswap"===t.platform&&(t.rpc_node="https://mainnet-eth.compound.finance/",t.blockscan="https://etherscan.io",t.logo_link="https://tokens.1inch.exchange/#address#.png",t.factory_address="0x5c69bee701ef814a2b6a3edd4b1652cb9cc5aa6f"),"mdex"===t.platform&&(t.rpc_node="https://heconode.ifoobar.com/",t.blockscan="https://hecoinfo.com",t.factory_address="0xb0b670fc1F7724119963018DB0BfA86aDb22d941",t.logo_link="https://raw.githubusercontent.com/mdexSwap/token-icons/main/heco/#address#.png"),"pancakeswap"===t.platform&&(t.rpc_node="https://bsc-dataseed1.binance.org/",t.blockscan="https://bscscan.com",t.factory_address="0xca143ce32fe78f1f7019d7d551a6402fc5350c73",t.logo_link="https://tokens.1inch.exchange/#address#.png"),e.next=6,t.Data();case 6:a=e.sent,n=[],s=1,c=a.length-1;case 10:if(!(c>=0)){e.next=44;break}if(!(s>=80)){e.next=13;break}return e.abrupt("break",44);case 13:if(console.log(a[c]),o=a[c].data.replace("0x000000000000000000000000","0x").substring(0,42),i=a[c].topics[1].replace("000000000000000000000000",""),l=a[c].topics[2].replace("000000000000000000000000",""),n[i]){e.next=21;break}return e.next=20,t.getTokenInfo(i);case 20:n[i]=e.sent;case 21:if(n[l]){e.next=25;break}return e.next=24,t.getTokenInfo(l);case 24:n[l]=e.sent;case 25:return d=n[i].symbol,u=n[l].symbol,e.t0=p.a.abi,e.t1=["uint112","uint112","uint32"],e.next=31,t.Liquidity(o);case 31:return e.t2=e.sent,m=e.t0.decodeParams.call(e.t0,e.t1,e.t2),f=parseInt("0x"+m[0].toString(16))/Math.pow(10,n[i].decimal),h=parseInt("0x"+m[1].toString(16))/Math.pow(10,n[l].decimal),e.next=37,t.BlockByHash(a[c].blockHash);case 37:b=e.sent,k=new Date(1e3*parseInt(b.timestamp)).toLocaleString(),t.resList.push({token1:i,token2:l,token1Sybmol:d,token2Sybmol:u,liquidity1:f,liquidity2:h,pair:o,timestamp:k}),s++;case 41:c--,e.next=10;break;case 44:case"end":return e.stop()}}),e)})))()},methods:{onSearch:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getTokenInfo(t.searchInput);case 3:a=e.sent,"UNI-V2"===a.symbol||"HMDX"===a.symbol||"Cake-LP"===a.symbol?t.$router.push({name:"Pair",query:{platform:t.platform,address:t.searchInput}}):t.$router.push({name:"Token",query:{platform:t.platform,address:t.searchInput}}),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},Data:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=t.rpc_node,e.t2=t.factory_address,e.t3=["0x0d3648bd0f6ba80134a33ba9275ac585d9d315f0ad8355cddefde31afa28d0e9"],e.t4=i["toHex"],e.next=7,t.blockNumber();case 7:return e.t5=e.sent,e.t6=e.t5-4999,e.t7=(0,e.t4)(e.t6),e.t8={address:e.t2,topics:e.t3,fromBlock:e.t7,toBlock:"latest"},e.t9=[e.t8],e.t10={jsonrpc:"2.0",id:1,method:"eth_getLogs",params:e.t9},e.t11={url:e.t1,method:"post",data:e.t10},e.next=16,e.t0.$ajax.call(e.t0,e.t11);case 16:return a=e.sent,e.abrupt("return",a.result);case 18:case"end":return e.stop()}}),e)})))()},blockNumber:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax({url:t.rpc_node,method:"post",data:{jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:83}});case 2:return a=e.sent,e.abrupt("return",parseInt(a.result));case 4:case"end":return e.stop()}}),e)})))()},Liquidity:function(t){var e=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$ajax({url:e.rpc_node,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:t,data:"0x0902f1ac"},"latest"]}});case 2:return n=a.sent,a.abrupt("return",n.result);case 4:case"end":return a.stop()}}),a)})))()},BlockByHash:function(t){var e=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$ajax({url:e.rpc_node,method:"post",data:{jsonrpc:"2.0",method:"eth_getBlockByHash",params:[t,!1],id:1}});case 2:return n=a.sent,a.abrupt("return",n.result);case 4:case"end":return a.stop()}}),a)})))()},getTokenInfo:function(t){var e=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var n,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$ajax({url:e.rpc_node,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:t,data:"0x95d89b41"},"latest"]}});case 2:return n=a.sent,a.next=5,e.$ajax({url:e.rpc_node,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:t,data:"0x313ce567"},"latest"]}});case 5:return s=a.sent,a.abrupt("return",{symbol:d["a"].cleanAsciiText(p.a.toAscii(n.result).toString()),decimal:parseInt(s.result)});case 7:case"end":return a.stop()}}),a)})))()}}},f=m,h=(a("7aaa"),a("2877")),b=Object(h["a"])(f,n,s,!1,null,"70cb0fed",null);e["default"]=b.exports}}]);