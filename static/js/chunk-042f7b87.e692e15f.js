(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-042f7b87"],{"1f67":function(e,t,s){"use strict";s("a5050")},22:function(e,t){},"22d7":function(e,t,s){},23:function(e,t){},24:function(e,t){},"28ff":function(e,t,s){"use strict";s("acbb")},"3acb1":function(e,t,s){},"3cac":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("OneToMoreHeader",{attrs:{"chain-name":"sol","support-networks":e.supportNetworks,title:e.$t("".concat(e.viewName,".welcome"),{appName:"CoinTool"})}}),t("div",{staticClass:"containerBg"},[t("div",{staticClass:"oneToMoreBox"},[t("div",{staticClass:"stepBox"},[t("el-steps",{attrs:{active:e.stepActive,"align-center":"","process-status":"finish","finish-status":"finish"}},[t("el-step",{attrs:{title:e.$t("".concat(e.viewName,".prepare"))}}),t("el-step",{attrs:{title:e.$t("".concat(e.viewName,".confirm"))}}),t("el-step",{attrs:{title:e.$t("".concat(e.viewName,".send"))}})],1)],1),t("Step1",{directives:[{name:"show",rawName:"v-show",value:0===e.stepActive,expression:"stepActive === 0"}],on:{onStep1Confirm:e.onStep1Confirm}}),1===e.stepActive?t("Step2",{attrs:{"queue-list":e.queueList,address:e.address,decimals:e.decimals},on:{onStep2Prev:e.onStep2Prev,onStep2Next:e.onStep2Next,onStep2Confirm:e.onStep2Confirm}}):e._e(),2===e.stepActive?t("Step3",{attrs:{send_tx:e.send_tx,"current-fee":e.currentFee,"array-limit":e.arrayLimit,c_address:e.c_address,"queue-list":e.queueList,address:e.address,is2022:e.is2022,gas:e.gas,decimals:e.decimals},on:{"update:send_tx":function(t){e.send_tx=t},"update:arrayLimit":function(t){e.arrayLimit=t},"update:array-limit":function(t){e.arrayLimit=t},onStep3Prev:e.onStep3Prev}}):e._e()],1)])],1)},n=[],r=s("c7eb"),i=s("1da1"),o={zh:{solOneToMore:{token:"代币",welcome:"欢迎使用{appName} SOLANA批量发送",token_address_err:"代币地址错误",address_amount:"收款地址和数量",auto_amount:"自动添加数量",upload_file:"上传文件",iinsert_manually:"手动输入",download_examples:"下载例子",show_examples:"查看例子",delete_err:"删除无效地址",next:"下一步",address:"地址",slow:"慢",standard:"快",instant:"极速",inputAlert_1:"输入代币地址自动添加",inputAlert_2:"支持文件类型： CSV / Excel / Txt",inputAlert_3:"每一行应包括地址和数量，逗号分隔",inputAlert_4:"以下地址或金额不能发送",inputAlert_5:"可自动在每个地址后面添加数量",inputAlert_6:"请至少输入一条地址信息",inputAlert_7:"第 {line} 行: {str} 无效的钱包地址",inputAlert_8:"第 {line} 行: {str} 无效的数量",inputAlert_9:"第 {line} 行: {str} 请输入正确的格式，地址和数量以逗号分隔。例: address,number",inputAlert_10:"授信成功，请点击下一步！",inputAlert_11:"第 {line} 行: {str} 重复的地址",inputAlert_12:"发现重复地址",decimals_error:"第 {line} 行: {number} 发送数量中的小数点位数错误",new_account_number_tips:"第 {line} 行: {number} 发送数量无效，最小发送数量为 0.00089088 SOL，以激活此新账户",old_account_number_tips:"",repeat_1:"保留第一个",repeat_2:"合并重复地址",repeat_3:"保留重复地址",step3_alert_1:"总共需要发送 {a} 次,还需要发送 {b} 次",step3_alert_2:"交易已全部发出，请等待交易被确认。",step3_alert_3:"祝贺，您的代币全部发送成功！",step3_alert_4:"您手动取消了交易，如需继续，请点击发送",step3_alert_5:"继续第 {d} 次交易",decimals:"位数",wallet_select_mainnet:"您的TRON钱包已选择 Mainnet网络",wallet_select_shasta:"您的TRON钱包已选择 Shasta网络",wallet_select:"请把您钱包的网络切换为 Mainnet 或者 Shasta网络",summary:"摘要",total_address_num:"地址总数",total_send_token_num:"代币发送总数",total_send_tx_num:"交易总数",token_balance:"代币余额",y_fee:"预估费用",priority_fee:"小费",priority_fee_tips:"如果SOL网络非常拥堵的话，建议你增加小费提高交易执行速度。否则大概率上不了链<br>小费是对应TX，不是对应地址，每笔TX只收一次小费。 请知悉<br>如何看 SOL 网络是不是拥堵？访问 https://solscan.io/ 拉到最下面 ",you_balance:"你的 {symbol} 余额",d_allowance_b:"当前授信额度",y_allowance_b:"需授信额度",approve_amount:"授权额度",send_amount:"发送数量({amount} {symbol})",send_amount_b:"代币余额({amount} {symbol})",insufficient_balance:"{symbol} 余额不足",prepare:"准备",confirm:"确认",close:"关闭",send:"发送",batch_send_all_solana_tokens:"📣 现已支持Solana所有Token的批量发送",recheck_tips:"如果你认为错误列表检测不准确，请点击重新检测",recheck:"重新检查",send_fail_tips:"如果发送失败，发送的所有金额都会自动返回到你的钱包，你不会损失，重新发送就行。"}},en:{solOneToMore:{token:"Token",welcome:"Welcome to {appName} SOLANA Bulk Sender",token_address_err:"Token address error",address_amount:"Addresses with Amounts",auto_amount:"Auto add amounts",upload_file:"Upload file",iinsert_manually:"Insert manually",download_examples:"Download examples",show_examples:"Show examples",delete_err:"Delete them",next:"Next",address:"Address",slow:"Slow",standard:"Fast",instant:"Instant",inputAlert_1:"Input token address to add automatically",inputAlert_2:"Accepted: CSV / Excel / Txt",inputAlert_3:"The address and amount are separated by commas",inputAlert_4:"The below addresses cannot be processed",inputAlert_5:"Amount can be automatically added after each address",inputAlert_6:"Please enter at least one address information",inputAlert_7:"Line {line} : {str}  is a invalid wallet address",inputAlert_8:"Line {line} : {str}  is a invalid wrong amount",inputAlert_9:"Line {line} : {str}  is a invalid wallet address and wrong amount. E.g:address,number",inputAlert_10:"Request approve succeeded ! Please click next",inputAlert_11:"Line {line}: {str} is duplicate address",inputAlert_12:"Duplicated wallet addresses",new_account_number_tips:"Line {line} : {number} send quantity is invalid, the minimum send quantity is 0.00089088 SOL to activate this new account",old_account_number_tips:"",decimals_error:"Line {line} : {number} wrong decimal amount",repeat_1:"Keep the first one",repeat_2:"Merge balances",repeat_3:"Keep duplicate addresses",step3_alert_1:"A total of {a} needs to be sent,You need to send {b} more times",step3_alert_2:"All transactions have been sent out. Please wait for the transaction to be confirmed.",step3_alert_3:"Congratulations, all your tokens have been sent successfully!",step3_alert_4:"You have manually cancelled the transaction, to continue, please click send",step3_alert_5:"Continue with the {d} first transaction",decimals:"Decimals",summary:"Summary",wallet_select_mainnet:"Your TRON wallet has selected the Mainnet network",wallet_select_shasta:"Your TRON wallet has selected the Shasta network",wallet_select:"Please switch your wallet network to Mainnet or Shasta network",total_address_num:"Total number of addresses",total_send_token_num:"Total number of tokens to be sent",total_send_tx_num:"Total number of transactions needed",token_balance:"Your token balance",y_fee:"Approximate cost of operation",priority_fee:"Priority Fee",priority_fee_tips:"If the SOL network is very congested,<br> it is recommended that you increase the Priority Fee to increase the speed of transaction execution. <br>Otherwise there is a high probability that you will not be able to successfully pack<br>Priority Fee corresponds to the TX, not the wallet, and each TX is charged Priority Fee only once. <br> How do I see if the SOL network is congested? Visit https://solscan.io/ at the bottom of the page",you_balance:"Your {symbol} balance",d_allowance_b:"Your current allowance",y_allowance_b:"Request approve amount",prepare:"Prepare",approve_amount:"Amount to approve",send_amount:"Exact amount to be sent ({amount} {symbol})",send_amount_b:"Your token balance({amount} {symbol})",insufficient_balance:"Insufficient {symbol} balance",confirm:"Confirm",close:"Close",send:"Send",batch_send_all_solana_tokens:"📣 Now Supports Batch Sending of All Solana Tokens",recheck_tips:"Click to Recheck if you think failure list detection is inaccurate",recheck:"Recheck",send_fail_tips:"If the send fails, all the amount sent is automatically returned to your wallet, just resend it."}}},c=s("850d"),l=(s("38cf"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"step1"},[t("LogoView",{attrs:{logo:e.logo}}),t("div",{staticClass:"inputBox"},[t("div",{staticClass:"inputContext inputContextAddress"},[t("div",{staticClass:"label"},[t("span",[e._v(" "+e._s(e.$t("".concat(e.viewName,".token")))+" "),e.selectTokenInfo&&"SOL"!==e.address?t("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"mini"}},[t("a",{attrs:{target:"_blank",href:e.$ethUtils.getScanLink("sol","token",e.address)}},[e._v(e._s(e.selectTokenInfo.label||"Token Link"))])]):e._e()],1)]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("".concat(e.viewName,".inputAlert_1")),placement:(e.isPc,"top")}},[t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",size:"large",filterable:!0},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},e._l(e.addressOptions,(function(s,a){return t("el-option",{key:a,attrs:{label:s.label,value:s.value}},[t("span",{staticStyle:{float:"left"}},[s.label&&"SOL"!==s.value?[e._v(" "+e._s(s.label)+" - ")]:e._e(),e._v(" "+e._s(e._f("autoAddress")(s.value)))],2),"SOL"!==s.value?t("span",{staticStyle:{float:"right",color:"#8492a6","margin-left":"20px","font-size":"13px"}},[s.is2022?t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("SPL 2022")]):e._e(),e._v(" Balance : "+e._s(s.tokenBalance))],1):e._e()])})),1)],1)],1),t("div",{staticClass:"inputContext inputContextDecimals"},[t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".decimals"))))])]),t("el-input",{attrs:{size:"large",oninput:"value=value.replace(/[^\\d]/g,'')","max-length":"9"},model:{value:e.decimals,callback:function(t){e.decimals=t},expression:"decimals"}})],1)]),t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".address_amount"))))]),t("span",{staticClass:"btnText",on:{click:e.onBulkAmount}},[e._v(e._s(e.$t("".concat(e.viewName,".auto_amount"))))]),e.isInput?t("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("".concat(e.viewName,".upload_file"))))]):t("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("".concat(e.viewName,".iinsert_manually"))))])]),t("el-row",[t("el-col",{attrs:{xs:{span:24}}},[e.isInput?t("Editor",{ref:"editor",on:{changed:e.onChangeEditor},model:{value:e.editorValue,callback:function(t){e.editorValue=t},expression:"editorValue"}}):t("upload-excel-component",{attrs:{"on-success":e.onUploadFileSuccess,"before-upload":e.beforeUpload}})],1)],1),t("div",{staticClass:"label label-remark"},[e.isInput?t("span",[e._v(e._s(e.$t("".concat(e.viewName,".inputAlert_3"))))]):t("span",[e._v(e._s(e.$t("".concat(e.viewName,".inputAlert_2"))))]),t("span",{staticClass:"btnText",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.onOpenNewTab({path:"/holderScan/token/sol"})}}},[e._v(e._s(e.$t("common.get_holder",{type:"Token"})))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isInput,expression:"!isInput"}],staticClass:"btnText"},[t("a",{attrs:{target:"_blank",href:"/example/sol.xlsx"}},[e._v(e._s(e.$t("".concat(e.viewName,".download_examples"))))])]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isInput,expression:"isInput"}],staticClass:"btnText",on:{click:e.onExample}},[e._v(e._s(e.$t("".concat(e.viewName,".show_examples"))))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[t("div",{staticClass:"label label-remark"},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}]},[e._v(e._s(e.$t("".concat(e.viewName,".inputAlert_4"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}]},[e._v(e._s(e.$t("".concat(e.viewName,".inputAlert_12"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}],staticClass:"btnText",on:{click:e.onDeleteErr}},[e._v(e._s(e.$t("".concat(e.viewName,".delete_err"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(1)}}},[e._v(e._s(e.$t("".concat(e.viewName,".repeat_1"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(2)}}},[e._v(e._s(e.$t("".concat(e.viewName,".repeat_2"))))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(3)}}},[e._v(e._s(e.$t("".concat(e.viewName,".repeat_3"))))])]),t("ul",e._l(e.errInfoList,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",loading:e.nextLoading,type:"primary"},on:{click:e.onNext}},[e._v(e._s(e.$t("".concat(e.viewName,".next"))))]),t("div",{staticClass:"btnRight"},[t("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(t){return e.onOpenNewTab({path:"/nft/multiSender/sol"})}}},[e._v(e._s(e.$t("route.solNftOneToMore")))]),t("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(t){return e.onOpenNewTab({path:"/batchSwap/sol"})}}},[e._v("Solana "+e._s(e.$t("route.batchSwap")))]),e.isPc?t("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(t){return e.onOpenNewTab({path:"/batchCollection/sol"})}}},[e._v("SOL "+e._s(e.$t("route.batchCollection")))]):e._e(),e.isZh?e._e():t("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(t){return e.onOpenNewTab({path:"/createToken/sol"})}}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),e._v(" SOL "+e._s(e.$t("route.createToken")))],1)],1)],1),t("div",{staticClass:"alertBox"},[t("el-alert",{attrs:{title:e.$t("sol.transfer_fee_desc"),type:"success"}},[t("div",{staticClass:"linkBox"},[t("el-link",{staticClass:"linka",attrs:{type:"success",href:"https://solana.com/docs/core/accounts#rent",target:"_blank"}},[t("i",{staticClass:"el-icon-link"}),e._v(" "+e._s(e.$t("sol.learn_more"))+" ")]),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/sol/claimyoursol"),target:"_blank"}},[t("i",{staticClass:"el-icon-link"}),e._v(" "+e._s(e.$t("sol.claim_rent"))+" ")])],1)])],1)],1)}),u=[],d=s("5530"),p=(s("7db0"),s("d3b7"),s("a9e3"),s("159b"),s("14d9"),s("99af"),s("a15b"),s("498a"),s("d9e2"),s("ab9c")),m=s("37969"),_=function(){var e=this,t=e._self._c;return e.logo&&e.isPc?t("div",{staticClass:"px1Box"},[t("div",{staticClass:"bgPicBox bgPicBoxLeft"},[t("img",{staticClass:"tokenLogo",attrs:{src:e.logo,alt:""}})]),t("div",{staticClass:"bgPicBox bgPicBoxRight"},[t("img",{staticClass:"tokenLogo",attrs:{src:e.logo,alt:""}})])]):e._e()},b=[],h=s("2f62"),f={inject:[],components:{},props:{logo:{type:String,default:""}},data:function(){return{}},computed:Object(d["a"])({},Object(h["b"])(["account","isPc","language"])),created:function(){},mounted:function(){return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{}},v=f,w=(s("1f67"),s("2877")),g=Object(w["a"])(v,_,b,!1,null,"0a1238e1",null),x=g.exports,k=s("fa7e"),y=s("64b9"),L={name:"Step1",inject:["solwalletStateTest","viewName","onOpenNewTab"],components:{LogoView:x,UploadExcelComponent:m["a"],Editor:k["a"]},data:function(){return{initData:!1,balance:{},repeat:!1,repeat_status:!1,loading_address:!1,stepActive:1,addressOptions:[],address:"SOL",logo:"",decimals:9,is2022:!1,selectTokenInfo:null,isInput:!0,editorValue:"",queueList:[],errInfoList:[],nextLoading:!1,allTokenList:[]}},computed:Object(d["a"])({},Object(h["b"])(["isPc","isZh","solNetwork","solAddressList","solAccount"])),watch:{solAccount:{immediate:!0,handler:function(e){""!==e&&this.init()}},address:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){var a,n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if("SOL"!==e&&null!=e){s.next=5;break}t.decimals=9,t.logo="",s.next=17;break;case 5:if(a=t.addressOptions.find((function(t){return t.value.toLowerCase()===e.toLowerCase()})),console.log(a,"coinInfo"),!a){s.next=17;break}return console.log(a.is2022,"coinInfo.is2022"),t.decimals=Number(a.decimals),t.is2022=a.is2022,s.next=13,Object(p["s"])(e);case 13:n=s.sent,t.logo=n.logo,window.solLabel=a.label,t.selectTokenInfo=a;case 17:case"end":return s.stop()}}),s)})))()},addressOptions:function(e){this.$store.dispatch("sol/setSolAddressList",e)},editorValue:function(e){this.onEditCheck(e)},decimals:function(){this.onEditCheck(this.editorValue)}},created:function(){window.solLabel="SPL"},mounted:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading_address=!0,e.solAddressList.length>0&&(e.addressOptions=e.solAddressList,e.loading_address=!1);case 2:case"end":return t.stop()}}),t)})))()},methods:{onToBatchCollection:function(){var e=this.$router.resolve({path:"/batchCollection/sol"});window.open(e.href,"_blank")},onUpdateDecimals:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){var a;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e||"SOL"===e||""===e){s.next=10;break}return s.prev=1,s.next=4,window.solConnection.getTokenAccountBalance(new y["PublicKey"](e));case 4:a=s.sent,t.decimals=Number(a.value.decimals),s.next=10;break;case 8:s.prev=8,s.t0=s["catch"](1);case 10:case"end":return s.stop()}}),s,null,[[1,8]])})))()},init:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("init"),e.initData=!0,s=p["f"][e.solNetwork],window.solConnection=new y["Connection"](s,"confirmed"),t.next=6,e.getAllSolTokenInfo(e.solAccount);case 6:e.addressOptions=t.sent,e.initData=!1,e.loading_address=!1;case 9:case"end":return t.stop()}}),t)})))()},onExample:function(){this.editorValue="HNhKPG1edbhJomsCDTCLD2PxBX6H1GBVUc11PkbWB3dA,0.001\nHpPRCUzqMJrC3PswLnShybNE3YgqLZKFtZtwYq8rwYfL,1\nFWCoxjasYQjgHEN4EBB1sbJvoNC6KGmUKARhyyCQfB1j,3.45"},onBulkAmount:function(){var e=this;this.$prompt(this.$t("solOneToMore.auto_amount"),this.$t("solOneToMore.inputAlert_5"),{confirmButtonText:this.$t("solOneToMore.confirm"),cancelButtonText:this.$t("solOneToMore.close")}).then((function(t){var s=t.value,a=e.editorValue.split("\n"),n="";for(var r in a){var i=a[r].split(",");i[1]&&(a[r]=i[0]),parseInt(r)+1===a.length?n+=a[r]+","+s:n+=a[r]+","+s+"\n"}e.editorValue=n})).catch((function(){}))},onNext:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.solwalletStateTest();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:if(""!==e.editorValue){t.next=7;break}return e.$message.error(e.$t("solOneToMore.inputAlert_6")),t.abrupt("return");case 7:if(s=e.onEditCheck(e.editorValue),!s){t.next=10;break}return t.abrupt("return");case 10:e.$emit("onStep1Confirm",{queueList:e.queueList,address:e.address,decimals:e.decimals,is2022:e.is2022});case 11:case"end":return t.stop()}}),t)})))()},getAllSolTokenInfo:function(e){return Object(i["a"])(Object(r["a"])().mark((function t(){var s,a,n,i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=[{value:"SOL",label:"SOL",decimals:9}],a=0,n=3;case 3:if(!(a<n)){t.next=20;break}return t.prev=4,t.next=7,Object(p["x"])(e);case 7:return i=t.sent,i.forEach((function(e){s.push(Object(d["a"])(Object(d["a"])({is2022:e.is2022,value:e.token,label:e.symbol},e),{},{mintAddress:new y["PublicKey"](e.mintAddress)}))})),t.abrupt("return",s);case 12:if(t.prev=12,t.t0=t["catch"](4),a+=1,console.error("Attempt ".concat(a," failed: ").concat(t.t0.message)),!(a>=n)){t.next=18;break}return t.abrupt("return",s);case 18:t.next=3;break;case 20:case"end":return t.stop()}}),t,null,[[4,12]])})))()},onDeleteErr:function(){var e=this,t="",s=[];for(var a in this.queueList)s.push(this.queueList[a]);this.queueList=s,this.queueList.forEach((function(s,a){var n=a===e.queueList.length-1?"":"\n";t+=e.queueList[a].join()+n})),this.editorValue=t},onRepeat:function(e){var t=this,s="",a=[],n=[];for(var r in this.queueList)a[this.queueList[r][0]]&&1===e?delete this.queueList[r]:a[this.queueList[r][0]]&&2===e?(n[this.queueList[r][0]]+=parseFloat(this.queueList[r][1]),delete this.queueList[r]):(a[this.queueList[r][0]]=!0,2===e&&(n[this.queueList[r][0]]=parseFloat(this.queueList[r][1]),delete this.queueList[r]));if(2===e)for(var i in n)this.queueList.push([i,n[i]]);3===e&&(this.repeat_status=!0,this.repeat=!1,this.errInfoList=[]);var o=[];for(var c in this.queueList)o.push(this.queueList[c]);this.queueList=o,this.queueList.forEach((function(e,a){var n=a===t.queueList.length-1?"":"\n";s+=t.queueList[a].join()+n})),this.editorValue=s},onEditCheck:function(e){if(""===e)return this.queueList=[],this.errInfoList=[],void(this.repeat_status=!1);var t=e.split("\n"),s=[],a=[],n=[],r=!1,i=!1;for(var o in t){var c=parseInt(o)+1,l=t[o].trim().split(",");if(2===l.length)if(this.isValidSolAddress(l[0]))if(parseFloat(l[1])<0||!parseFloat(l[1]))r=!0,a.push(this.$t("solOneToMore.inputAlert_8",{line:c,str:l[1]}));else if(l[1]<89088e-8&&"SOL"===this.address)r=!0,a.push(this.$t("solOneToMore.new_account_number_tips",{line:c,number:l[1]}));else{var u=String(l[1]).split(".");2===u.length&&String(l[1]).split(".")[1].length>this.decimals?(r=!0,a.push(this.$t("solOneToMore.decimals_error",{line:c,number:l[1]}))):(n[l[0]]&&!this.repeat_status?(i=!0,r=!0,a.push(this.$t("solOneToMore.inputAlert_11",{line:c,str:l[0]}))):n[l[0]]=!0,s.push(l))}else r=!0,a.push(this.$t("solOneToMore.inputAlert_7",{line:c,str:l[0]}));else r=!0,a.push(this.$t("solOneToMore.inputAlert_9",{line:c,str:l[0]}))}return this.repeat=i,this.queueList=s,this.errInfoList=a,r},handleFilterAddress:function(){var e=arguments,t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){var a,n,i,o,c,l,u;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:"",s.next=3,t.solwalletStateTest();case 3:if(s.sent){s.next=5;break}return s.abrupt("return");case 5:if(t.loading_address=!0,a=a.trim(),t.isValidSolAddress(a)){s.next=10;break}return t.loading_address=!1,s.abrupt("return");case 10:if(n=t.addressOptions.find((function(e){return e.value.toLowerCase()===a.toLowerCase()})),!n){s.next=15;break}return t.address=a,t.loading_address=!1,s.abrupt("return");case 15:if(s.prev=15,i="",o="",c="",l="",!t.isValidSolAddress(a)){s.next=27;break}return s.next=23,Object(p["s"])(a);case 23:u=s.sent,u?(i=u.symbol,o=u.decimals,c=u.logo,l=new y["PublicKey"](a)):(t.$message.error(t.$t("solOneToMore.token_address_err")),t.loading_address=!1),s.next=28;break;case 27:return s.abrupt("return");case 28:t.addressOptions.push({value:a,label:i,decimals:o,logo:c,mintAddress:l}),t.address=a,t.is2022=!1,window.solLabel=i,t.decimals=Number(o),s.next=38;break;case 35:s.prev=35,s.t0=s["catch"](15),t.$message.error(t.$t("solOneToMore.token_address_err"));case 38:t.loading_address=!1;case 39:case"end":return s.stop()}}),s,null,[[15,35]])})))()},isValidSolAddress:function(e){try{var t=new y["PublicKey"](e);if(!t)throw new Error("Invalid public key");return!0}catch(s){return!1}},onToggleInputType:function(){this.isInput=!this.isInput},beforeUpload:function(e){var t=e.size/1024/1024<100;return!!t||(this.$message({message:"Please do not upload files larger than 100m in size.",type:"warning"}),!1)},onChangeEditor:function(e){this.editorValue=e},onUploadFileSuccess:function(e){var t=e.results,s=(e.header,"");t.forEach((function(e,a){var n=a===t.length-1?"":"\n";s+="".concat(e.Address,",").concat(e.Amount).concat(n)})),this.editorValue=s,this.onToggleInputType()}}},C=L,O=(s("4008"),Object(w["a"])(C,l,u,!1,null,"749b2fe5",null)),T=O.exports,S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"step2"},[t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".priority_fee")))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$t("".concat(e.viewName,".priority_fee_tips")))},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("ul",{staticClass:"gasBox"},[e.gasList.fast?t("li",{class:{gasList:!0,gasListTrue:"fast"===e.gasType},on:{click:function(t){return e.onChangeGasType("fast")}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("common.fast")))]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gasList.fast))]),t("span",{staticClass:"unit"},[e._v("SOL")])])]):e._e(),e.gasList.normal?t("li",{class:{gasList:!0,gasListTrue:"normal"===e.gasType},on:{click:function(t){return e.onChangeGasType("normal")}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("common.normal")))]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gasList.normal))]),t("span",{staticClass:"unit"},[e._v("SOL")])])]):e._e(),e.gasList.slow?t("li",{class:{gasList:!0,gasListTrue:"slow"===e.gasType},on:{click:function(t){return e.onChangeGasType("slow")}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("common.slow")))]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gasList.slow))]),t("span",{staticClass:"unit"},[e._v("SOL")])])]):e._e(),t("li",{class:{gasList:!0,gasListTrue:"custom"===e.gasType},on:{click:function(t){return e.onChangeGasType("custom")}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("common.custom")))]),t("span",{staticClass:"inputBox"},[t("el-input",{staticClass:"inputText",attrs:{type:"text",oninput:"value=value.replace(/[^\\d\\.]/g,'')",size:"mini"},model:{value:e.gasList.custom,callback:function(t){e.$set(e.gasList,"custom",t)},expression:"gasList.custom"}}),t("span",{staticClass:"unit"},[e._v("SOL")])],1)])]),t("div",{staticClass:"label"},[t("span",[e._v(e._s(e.$t("".concat(e.viewName,".summary"))))])]),t("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.step2_loading,expression:"step2_loading"}],staticClass:"abstract"},[t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.address_count))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".total_address_num"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.send_amount)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".total_send_token_num"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.send_tx))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".total_send_tx_num"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.tokenBalance)+" "+e._s(e.symbol))]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".token_balance"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.fee)+" SOL")]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".y_fee"))))])]),t("li",[t("span",{staticClass:"number"},[e._v(e._s(e.ethBalance)+" SOL")]),t("span",{staticClass:"remark"},[e._v(e._s(e.$t("".concat(e.viewName,".you_balance"),{symbol:"SOL"})))])])]),t("DealList",{attrs:{list:e.approveList}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.approve_status,expression:"approve_status"}],staticClass:"tips",attrs:{title:e.$t("".concat(e.viewName,".inputAlert_10")),type:"success",closable:!1,effect:"dark"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[t("ul",e._l(e.errInfoList,(function(s){return t("li",{key:s},[e._v(e._s(s))])})),0)]),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),t("el-button",{attrs:{loading:e.step2_loading,size:"large",type:"primary",disabled:e.send_btn},on:{click:e.onNext}},[e._v(e._s(e.$t("".concat(e.viewName,".next"))))])],1)],1)},N=[],j=(s("b680"),s("25f0"),s("955d")),A=s("901e"),$=s.n(A),P=s("986e"),q={name:"Step2",inject:["viewName"],components:{DealList:j["a"]},props:{queueList:{type:Array,required:!0},address:{type:String,required:!0},decimals:{type:Number,required:!0}},data:function(){return{gasType:"custom",gasList:{fast:"0.001",normal:"0.0001",slow:"0.00001",custom:"0"},c_address:"",web3:{},send_tx:0,symbol:"SOL",approve_status:!1,send_amount:0,address_count:0,step2_loading:!1,fee:0,d_fee:0,allowance_select:2,currentFee:"",tokenBalance:0,tokenDecimals:"",ethBalance:0,send_btn:!1,approveList:[],errInfoList:[],arrayLimit:200,sliderMarks:{}}},computed:Object(d["a"])(Object(d["a"])({},Object(h["b"])(["isPc","solAccount","solClient"])),{},{gas:function(){return Number(this.gasList[this.gasType])}}),watch:{step2_loading:function(e){P["h"].$emit(P["g"],e)},"gasList.custom":function(e){localStorage.setItem("sol-multiSender-gasType-custom",e)}},created:function(){var e=localStorage.getItem("sol-multiSender-gasType"),t=localStorage.getItem("sol-multiSender-gasType-custom");e&&(this.gasType=e),t&&(this.gasList.custom=t)},mounted:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var s,a,n,i,o,c;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.step2_loading=!0,e.c_address=Object(p["n"])("MULTI_SENDER"),t.next=4,e.onUpdateBalance(e.address);case 4:for(a in e.address_count=e.queueList.length,"SOL"===e.address?e.arrayLimit=20:e.arrayLimit=9,e.send_tx=Math.ceil(e.queueList.length/e.arrayLimit),s=0,e.queueList)s=new $.a(s).plus(e.queueList[a][1]).toFixed();if(e.send_amount=s,n=Object(p["w"])("MULTI_SENDER"),"7atgF8KQo4wJrD5ATGX7t1V2zVvykPJbFfNeVf1icFv1"===e.address&&(n=.008),e.currentFee=parseFloat(n.toString()),console.log("currentFee",e.currentFee),i=e.currentFee,e.d_fee=parseFloat(i),o=e.d_fee,e.fee=o,c=parseFloat(e.send_amount)+parseFloat(o),"SOL"!==e.address){t.next=27;break}if(!(Number(e.ethBalance)<Number(c))){t.next=25;break}return e.step2_loading=!1,e.errInfoList.push(e.$t("solOneToMore.insufficient_balance",{symbol:"SOL"})),e.send_btn=!0,t.abrupt("return");case 25:t.next=38;break;case 27:if(e.symbol=window.solLabel,!(Number(e.ethBalance)<Number(o))){t.next=33;break}return e.step2_loading=!1,e.errInfoList.push(e.$t("solOneToMore.insufficient_balance",{symbol:"SOL"})),e.send_btn=!0,t.abrupt("return");case 33:if(!(Number(e.tokenBalance)<Number(s))){t.next=38;break}return e.step2_loading=!1,e.errInfoList.push(e.$t("solOneToMore.insufficient_balance",{symbol:e.symbol})),e.send_btn=!0,t.abrupt("return");case 38:e.step2_loading=!1;case 39:case"end":return t.stop()}}),t)})))()},methods:{onChangeGasType:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:localStorage.setItem("sol-multiSender-gasType",e),t.gasType=e;case 2:case"end":return s.stop()}}),s)})))()},onNext:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onStep2Confirm",{queueList:e.queueList,address:e.address,decimals:e.decimals,send_tx:e.send_tx,arrayLimit:e.arrayLimit,currentFee:e.currentFee,c_address:e.c_address,gas:e.gas});case 1:case"end":return t.stop()}}),t)})))()},onPrev:function(){this.$emit("onStep2Prev")},getTokenBalance:function(e,t){return Object(i["a"])(Object(r["a"])().mark((function s(){var a,n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,window.solConnection.getParsedTokenAccountsByOwner(new y["PublicKey"](t),{mint:new y["PublicKey"](e)});case 2:if(a=s.sent,!(a.value.length>0)){s.next=8;break}return n=a.value[0].account.data.parsed.info,s.abrupt("return",n.tokenAmount.uiAmountString);case 8:return s.abrupt("return",0);case 9:case"end":return s.stop()}}),s)})))()},onUpdateBalance:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function s(){var a,n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,window.solConnection.getBalance(t.solClient.publicKey);case 2:if(a=s.sent,t.ethBalance=parseFloat(a/Math.pow(10,9)),"SOL"===e){s.next=17;break}return s.prev=5,s.next=8,t.getTokenBalance(e,t.solClient.publicKey.toBase58());case 8:n=s.sent,t.tokenBalance=Number(n),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](5),console.log(s.t0,"e");case 15:s.next=18;break;case 17:t.tokenBalance=Number(t.ethBalance);case 18:case"end":return s.stop()}}),s,null,[[5,12]])})))()}}},I=q,B=(s("6920"),Object(w["a"])(I,S,N,!1,null,"47fda2d8",null)),M=B.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"step3"},[t("div",{staticClass:"label"},[t("span",[e._v(" "+e._s(e.$t("".concat(e.viewName,".step3_alert_1"),{a:e.send_status.a,b:e.send_status.b})))]),t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&!e.all_send,expression:"send_status.b === 0 && !all_send"}]},[e._v(e._s(e.$t("".concat(e.viewName,".step3_alert_2"))))])]),t("DealList",{attrs:{list:e.dealList}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&e.all_send,expression:"send_status.b ===0 && all_send"}],staticClass:"tips",attrs:{title:e.$t("".concat(e.viewName,".step3_alert_3")),type:"success",closable:!1,effect:"dark"}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],staticClass:"tips",attrs:{title:e.$t("".concat(e.viewName,".step3_alert_4")),type:"success",closable:!1,effect:"dark"}}),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],attrs:{size:"large",type:"primary"},on:{click:e.onSend}},[e._v(e._s(e.$t("".concat(e.viewName,".step3_alert_5"),{d:e.d_slice})))])],1),t("div",{staticClass:"resultList"},[t("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.wait_result_list"),"(").concat(e.waitList.length,")"),name:"wait"}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.waitListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.waitList.length>0,expression:"waitList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.waitListText,expression:"waitListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)]),t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.success_result_list"),"(").concat(e.successList.length,")"),name:"success"}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.successListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.successList.length>0,expression:"successList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.successListText,expression:"successListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)]),t("el-tab-pane",{attrs:{label:"".concat(e.$t("editorInput.error_result_list"),"(").concat(e.errorList.length,")"),name:"error"}},[t("div",{staticClass:"listBox"},[t("el-input",{attrs:{value:e.errorListText,type:"textarea",rows:7}}),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.errorList.length>0,expression:"errorList.length > 0"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.errorListText,expression:"errorListText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"btn",attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)])],1)],1),e.errorList.length>0?t("el-alert",{staticStyle:{"line-height":"18px"},attrs:{title:e.$t("solOneToMore.send_fail_tips"),type:"error"}}):e._e(),e.errorList.length>0?t("div",{staticClass:"actionBox"},[t("span",{staticClass:"text"},[e._v(e._s(e.$t("solOneToMore.recheck_tips")))]),t("el-button",{staticClass:"btn",attrs:{type:"danger",size:"mini",plain:""},on:{click:e.onRecheckError}},[e._v(" "+e._s(e.$t("solOneToMore.recheck"))+" ")])],1):e._e()],1)},F=[],K=s("c946"),V=K["a"],z=(s("7ad0"),Object(w["a"])(V,E,F,!1,null,"4e5772d8",null)),R=z.exports,D="solOneToMore",U="multiSender",H={name:U,provide:function(){return{viewName:D}},components:{OneToMoreHeader:c["a"],Step1:T,Step2:M,Step3:R},data:function(){return{viewName:D,supportNetworks:[{icon:"coin-sol",name:"Mainnet"},{icon:"coin-debug2",name:"Devnet"}],stepActive:0,send_tx:0,arrayLimit:0,is2022:!1,c_address:"",currentFee:0,gas:0,queueList:[],logo:"",address:"SOL",decimals:9}},watch:{},created:function(){this.$i18n.getLocaleMessage("en")[D]||(this.$i18n.mergeLocaleMessage("en",o.en),this.$i18n.mergeLocaleMessage("zh",o.zh))},mounted:function(){return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onStep1Confirm:function(e){var t=e.queueList,s=e.address,a=e.decimals,n=e.is2022;this.queueList=t,this.address=s,this.decimals=a,this.is2022=n,this.stepActive=1},onStep2Confirm:function(e){var t=e.queueList,s=e.address,a=e.decimals,n=e.send_tx,r=e.arrayLimit,i=e.currentFee,o=e.c_address,c=e.gas;this.queueList=t,this.address=s,this.decimals=a,this.send_tx=n,this.arrayLimit=r,this.currentFee=i,this.c_address=o,this.stepActive=2,this.gas=c},onStep2Prev:function(){this.stepActive=0},onStep2Next:function(){this.stepActive=2},onStep3Prev:function(){this.stepActive=1},onChangeEditor:function(e){this.editorValue=e}}},G=H,Q=(s("28ff"),Object(w["a"])(G,a,n,!1,null,"30da8ce3",null));t["default"]=Q.exports},4008:function(e,t,s){"use strict";s("762e")},6920:function(e,t,s){"use strict";s("3acb1")},"762e":function(e,t,s){},"7ad0":function(e,t,s){"use strict";s("d43a")},"955d":function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("ul",{directives:[{name:"show",rawName:"v-show",value:e.list.length>0,expression:"list.length > 0"}],staticClass:"dealList"},e._l(e.list,(function(s,a){return t("li",{key:s.address},[t("div",{staticClass:"left"},[t("span",{staticClass:"index"},[e._v(e._s(a+1))]),t("a",{staticClass:"address",attrs:{target:"_blank",href:e.getScanUrl("tx",s.address)}},[e._v(e._s(s.address))])]),t("div",{staticClass:"right"},[t("span",{staticClass:"status"},[0===s.status?t("i",{staticClass:"el-icon-loading"}):1===s.status?t("i",{staticClass:"el-icon-success"}):2===s.status?t("i",{staticClass:"el-icon-error",staticStyle:{color:"#F05252"}}):e._e()])])])})),0)},n=[],r=s("5530"),i=s("ab9c"),o=s("2f62"),c={props:{list:{type:Array,required:!0}},data:function(){return{blockTxurl:""}},computed:Object(r["a"])({},Object(o["b"])(["isPc","solNetwork"])),created:function(){},mounted:function(){},methods:{getScanUrl:i["p"]}},l=c,u=(s("af774"),s("2877")),d=Object(u["a"])(l,a,n,!1,null,"6fc066b0",null);t["a"]=d.exports},a5050:function(e,t,s){},acbb:function(e,t,s){},af774:function(e,t,s){"use strict";s("22d7")},c946:function(e,t,s){"use strict";(function(e){var a,n=s("b85c"),r=s("3835"),i=s("c7eb"),o=s("1da1"),c=s("5530"),l=(s("a9e3"),s("d3b7"),s("159b"),s("99af"),s("4de4"),s("d81d"),s("caad"),s("2532"),s("14d9"),s("b680"),s("d9e2"),s("3ca3"),s("ddb0"),s("7db0"),s("fb6a"),s("25f0"),s("955d")),u=s("901e"),d=s.n(u),p=s("2f24"),m=s("3e44"),_=s("2f62"),b=s("ed08"),h=s("8df2"),f=s("633a"),v=s("ab9c"),w=s("64b9"),g=m["TOKEN_PROGRAM_ID"];t["a"]={name:"Step3",inject:["viewName","onCopySuccess"],components:{DealList:l["a"]},props:{send_tx:{type:Number,required:!0},arrayLimit:{type:Number,required:!0},currentFee:{type:[String,Number],required:!0},c_address:{type:String,required:!0},gas:{type:Number,required:!0},queueList:{type:Array,required:!0},address:{type:String,required:!0},is2022:{type:Boolean,required:!0},decimals:{type:Number,required:!0}},data:function(){return{dealList:[],send_close:!1,addresses_to_send:[],balances_to_send:[],send_status:{},all_send:!1,activeTab:"wait",d_slice:0,d_slice_s:0,successList:[],errorList:[],allQueueList:[],allTxHashInfo:{},web3:{},taskQueue:null}},computed:Object(c["a"])(Object(c["a"])({},Object(_["b"])(["solClient","isPc","solAddressList"])),{},{successListText:function(){var e="";return this.successList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},errorListText:function(){var e="";return this.errorList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},waitListText:function(){var e="";return this.waitList.forEach((function(t){e+="".concat(t.address,",").concat(t.balance,"\n")})),e},waitList:function(){var e=this;return this.allQueueList.filter((function(t){var s=e.successList.concat(e.errorList).map((function(e){return e.address}));return!s.includes(t.address)}))}}),created:function(){this.initQueue()},mounted:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in e.is2022&&(g=new w["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")),a=e,e.addresses_to_send=[],e.balances_to_send=[],e.allQueueList=[],e.queueList)e.allQueueList.push({address:e.queueList[s][0],balance:e.queueList[s][1]}),e.addresses_to_send.push(e.queueList[s][0]),e.balances_to_send.push(new d.a(10).pow(e.decimals).times(e.queueList[s][1]).toFixed(0));return t.next=8,e._multisend(e.send_tx,e.arrayLimit);case 8:case"end":return t.stop()}}),t)})))()},methods:{initQueue:function(){var e=this;this.taskQueue=p["a"].queue(function(){var t=Object(o["a"])(Object(i["a"])().mark((function t(s,a){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.onCheckTx(s);case 3:try{a()}catch(n){console.log(n)}t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0);try{a()}catch(n){console.log(n)}case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,s){return t.apply(this,arguments)}}(),3)},confirmTransaction:function(e,t){var s=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var n,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.$ajax({url:window.solConnection._rpcEndpoint,timeout:1e4,method:"post",data:{jsonrpc:"2.0",id:1,method:"getSignatureStatuses",params:[[e],{searchTransactionHistory:!0}]}});case 3:if(r=a.sent,!(r.result&&r.result.value&&r.result.value[0]&&null!==(n=r.result.value[0])&&void 0!==n&&n.confirmationStatus)){a.next=6;break}return a.abrupt("return",!0);case 6:throw Error("err");case 9:if(a.prev=9,a.t0=a["catch"](0),!(t>1)){a.next=17;break}return a.next=14,Object(b["G"])(6e3);case 14:return a.next=16,s.confirmTransaction(e,t-1);case 16:return a.abrupt("return",a.sent);case 17:return a.abrupt("return",!1);case 18:case"end":return a.stop()}}),a,null,[[0,9]])})))()},onRecheckError:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=[],e.dealList.forEach((function(e){2===e.status&&s.push(e.address)})),e.dealList=e.dealList.map((function(e){return s.includes(e.address)?{address:e.address,status:0}:e})),s.forEach((function(t){e.taskQueue.push({txHash:t,addresses_to_send:e.allTxHashInfo[t].addresses_to_send,balances_to_send:e.allTxHashInfo[t].balances_to_send})}));case 4:case"end":return t.stop()}}),t)})))()},onCheckTx:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function s(){var a,n,r,o,c,l;return Object(i["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(b["G"])(8e3);case 2:return a=e.addresses_to_send,n=e.balances_to_send,r=e.txHash,s.next=5,t.confirmTransaction(r,5);case 5:if(o=s.sent,console.log(t.dealList,"this.dealList"),t.dealList=t.dealList.map((function(e){return e.address===r?{address:e.address,status:o?1:2}:e})),o){s.next=16;break}c=Object(i["a"])().mark((function e(s){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.c_address!==a[s]&&t.errorList.push({address:a[s],balance:new d.a(n[s]).div(Math.pow(10,t.decimals)).toFixed()}),t.successList=t.successList.filter((function(e){return e.address!==a[s]}));case 2:case"end":return e.stop()}}),e)})),s.t0=Object(i["a"])().keys(a);case 11:if((s.t1=s.t0()).done){s.next=16;break}return l=s.t1.value,s.delegateYield(c(l),"t2",14);case 14:s.next=11;break;case 16:case"end":return s.stop()}}),s)})))()},createSolTransferTransaction:function(e,t){var s=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var n,r,o,c;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(o in n=new w["Transaction"],s.gas>0&&(r=w["ComputeBudgetProgram"].setComputeUnitPrice({microLamports:Number(new d.a(s.gas).times(Math.pow(10,9)).toFixed(0))}),n.add(r),n.add(w["ComputeBudgetProgram"].setComputeUnitLimit({units:14e5}))),e)n.add(w["SystemProgram"].transfer({fromPubkey:s.solClient.publicKey,toPubkey:new w["PublicKey"](e[o]),lamports:t[o]}));return n.add(w["SystemProgram"].transfer({fromPubkey:s.solClient.publicKey,toPubkey:new w["PublicKey"](s.c_address),lamports:s.currentFee*Math.pow(10,9)})),n.feePayer=s.solClient.publicKey,c=n,a.next=8,window.solConnection.getRecentBlockhash();case 8:c.recentBlockhash=a.sent.blockhash;try{delete n.lastValidBlockHeight,delete n._json,delete n._message}catch(i){}return a.abrupt("return",n);case 11:case"end":return a.stop()}}),a)})))()},createSolTokenTransferTransaction:function(e,t){var s=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var n,o,c,l,u,p,_,b,h,f,v,x,k,y,L,C,O,T,S;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=s.solAddressList.find((function(e){return e.value===s.address})),o=n.mintAddress?n.mintAddress:"",c=new w["PublicKey"](o),l=new m["Token"](window.solConnection,c,g,s.solClient.publicKey),u=function(e,t,s,a){var n=w["PublicKey"].findProgramAddressSync([t.toBuffer(),s.toBuffer(),e.toBuffer()],a),i=Object(r["a"])(n,1),o=i[0];return o},_=new w["PublicKey"]("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),!s.is2022){a.next=10;break}p=u(c,s.solClient.publicKey,g,_),a.next=13;break;case 10:return a.next=12,l.getOrCreateAssociatedAccountInfo(s.solClient.publicKey);case 12:p=a.sent;case 13:b=new w["Transaction"],s.gas>0&&(h=w["ComputeBudgetProgram"].setComputeUnitPrice({microLamports:Number(new d.a(s.gas).times(Math.pow(10,9)).toFixed(0))}),b.add(h),b.add(w["ComputeBudgetProgram"].setComputeUnitLimit({units:14e5}))),f=!1,v=0,a.t0=Object(i["a"])().keys(e);case 18:if((a.t1=a.t0()).done){a.next=38;break}if(x=a.t1.value,k=new w["PublicKey"](e[x]),y=void 0,!s.is2022){a.next=26;break}y=u(c,k,g,_),a.next=29;break;case 26:return a.next=28,m["Token"].getAssociatedTokenAddress(l.associatedProgramId,l.programId,c,k,!0);case 28:y=a.sent;case 29:return a.next=31,window.solConnection.getAccountInfo(y);case 31:L=a.sent,C=[],null===L&&(f=!0,v=new d.a(v).plus(.00203928),C.push(m["Token"].createAssociatedTokenAccountInstruction(l.associatedProgramId,l.programId,c,y,k,s.solClient.publicKey))),s.is2022?C.push(s.createTransferCheckedInstruction(p,c,y,s.solClient.publicKey,t[x],s.decimals,[],g)):C.push(m["Token"].createTransferInstruction(g,null!==(O=p)&&void 0!==O&&O.address?null===(T=p)||void 0===T?void 0:T.address:p,y,s.solClient.publicKey,[],t[x])),b.add.apply(b,C),a.next=18;break;case 38:if(b.add(w["SystemProgram"].transfer({fromPubkey:s.solClient.publicKey,toPubkey:new w["PublicKey"](s.c_address),lamports:s.currentFee*Math.pow(10,9)})),!f){a.next=45;break}return a.next=42,window.solConnection.getBalance(s.solClient.publicKey);case 42:if(S=a.sent,!new d.a(S).div(Math.pow(10,9)).lt(v.plus(s.currentFee).plus(s.gas>0?s.gas:0))){a.next=45;break}throw new Error("balance buzu");case 45:return b.feePayer=s.solClient.publicKey,a.next=48,window.solConnection.getRecentBlockhash();case 48:return b.recentBlockhash=a.sent.blockhash,a.abrupt("return",b);case 50:case"end":return a.stop()}}),a)})))()},createTransferCheckedInstruction:function(t,s,a,r,i,o,c,l){var u=Object(h["struct"])([Object(h["u8"])("instruction"),Object(f["u64"])("amount"),Object(h["u8"])("decimals")]),d=function(e,t,s){if(s.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});var a,r=Object(n["a"])(s);try{for(r.s();!(a=r.n()).done;){var i=a.value;e.push({pubkey:i instanceof w["PublicKey"]?i:i.publicKey,isSigner:!0,isWritable:!1})}}catch(o){r.e(o)}finally{r.f()}}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e},p=d([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0}],r,c),m=e.alloc(u.span);return u.encode({instruction:12,amount:BigInt(i),decimals:o},m),new w["TransactionInstruction"]({keys:p,programId:l,data:m})},onPrev:function(){this.$emit("onStep3Prev")},onSend:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.send_close=!1,t.next=3,e._multisend(e.d_slice_s,e.arrayLimit);case 3:case"end":return t.stop()}}),t)})))()},flips:function(e,t){return Number(e)-Number(t)},_multisend:function(e,t){var s=this;return Object(o["a"])(Object(i["a"])().mark((function n(){var r,o,c,l,u,p,m,_,h,f,w,g,x;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,s.d_slice=s.send_tx-e===0?1:s.send_tx-e+1,s.d_slice_s=e,s.send_status={a:s.send_tx,b:e},r=s.flips(s.send_tx,e)*t,o=s.flips(s.send_tx,e-1)*t,c=s.addresses_to_send.slice(r,o),l=s.balances_to_send.slice(r,o),"SOL"!==s.address){n.next=14;break}return n.next=11,s.createSolTransferTransaction(c,l);case 11:u=n.sent,n.next=17;break;case 14:return n.next=16,s.createSolTokenTransferTransaction(c,l);case 16:u=n.sent;case 17:return n.next=19,s.solClient.signTransaction(u);case 19:return p=n.sent,m=p.serialize(),n.next=23,window.solConnection.sendRawTransaction(m,{skipPreflight:!1,preflightCommitment:"single"});case 23:for(h in _=n.sent,Object(v["A"])(m),console.log(_,"txHash"),c)s.c_address!==c[h]&&s.successList.push({address:c[h],balance:new d.a(l[h]).div(Math.pow(10,s.decimals)).toFixed()});return a.dealList.push({address:_,status:0}),a.send_status={a:s.send_tx,b:e-1},n.next=31,Object(b["G"])(1e3);case 31:s.allTxHashInfo[_]={addresses_to_send:c,balances_to_send:l},s.taskQueue.push({txHash:_,addresses_to_send:c,balances_to_send:l}),e--,e>0?s._multisend(e,t):s.all_send=!0,n.next=45;break;case 37:if(n.prev=37,n.t0=n["catch"](0),w=null!==(f=null===n.t0||void 0===n.t0?void 0:n.t0.message)&&void 0!==f?f:n.t0.toString(),!w.includes("balance buzu")){n.next=44;break}return s.$message({showClose:!0,message:"The current multiple receiving address is a new account and the current balance is less than the rent on the new account, so please make sure the current account has sufficient SOL!",duration:0,type:"error"}),s.send_close=!0,n.abrupt("return");case 44:w.includes("Transaction too large:")?(console.log("tx limit > 1232"),g=s.arrayLimit-1,x=Math.ceil(s.queueList.length/g),s.$emit("update:arrayLimit",g),s.$emit("update:send_tx",x),s.$nextTick((function(){s._multisend(x,g)}))):(w.includes("rejected")||w.includes("Approval Denied")||s.$message({showClose:!0,message:w,duration:0,type:"error"}),s.send_close=!0);case 45:case"end":return n.stop()}}),n,null,[[0,37]])})))()}}}}).call(this,s("1c35").Buffer)},d43a:function(e,t,s){}}]);