(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-550d1d15"],{1515:function(e,t,a){"use strict";a("8809")},"40c1":function(e,t,a){"use strict";a.r(t);a("99af");var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("SuccessDialog",{ref:"SuccessDialog",attrs:{tx:e.tx}}),t("div",{staticClass:"flexBox"},[t("div",{staticClass:"content"},[t("div",{staticClass:"checkAll"},[t("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:e.onCheckAllApprove}},[t("svg-icon",{attrs:{"icon-class":"certified"}}),e._v(" "+e._s(e.$t("customApprove.check_all"))+" "),t("i",{staticClass:"el-icon-right"})],1)],1),t("div",{staticClass:"headerBox"},[t("div",{staticClass:"bgIcon"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"certified"}})],1),t("h1",{staticClass:"title"},[e._v(e._s("".concat(e.customApproveType," ").concat(e.$t("route.customApprove"))))])]),t("el-form",{attrs:{"label-position":"top","label-suffix":":"}},[t("el-form-item",{staticClass:"item"},[t("el-radio-group",{model:{value:e.customApproveType,callback:function(t){e.customApproveType=t},expression:"customApproveType"}},[t("el-radio",{attrs:{label:"Token",border:""}},[e._v("Token")]),t("el-radio",{attrs:{label:"NFT",border:""}},[e._v("NFT")])],1)],1),t("el-form-item",{staticClass:"item",attrs:{label:"Chain"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{value:e.chainName,filterable:!0,size:"large"},on:{change:e.onChangeChain}},[t("div",{staticClass:"selectPrefixBox",attrs:{slot:"prefix"},slot:"prefix"},[t("svg-icon",{style:"color: ".concat(e.$coinInfo[e.chainName].color),attrs:{"icon-class":e.$coinInfo[e.chainName].icon}})],1),e._l(e.chainList,(function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"16px"}},[t("svg-icon",{staticClass:"icon",style:"color:".concat(e.$coinInfo[a.value].color),attrs:{"icon-class":e.$coinInfo[a.value].icon}})],1)])}))],2)],1),t("el-form-item",{staticClass:"item",attrs:{label:"Action"}},[t("el-radio-group",{model:{value:e.approval_type,callback:function(t){e.approval_type=t},expression:"approval_type"}},[t("el-radio-button",{attrs:{border:"",label:0}},[e._v(e._s(e.$t("customApprove.approval")))]),t("el-radio-button",{attrs:{border:"",label:1}},[e._v(e._s(e.$t("customApprove.cancel_approval")))])],1)],1)],1),"Token"===e.customApproveType?t("el-form",{ref:"tokenForm",attrs:{rules:e.tokenFormRules,model:e.tokenForm,"label-position":"top","label-suffix":":"}},[t("el-form-item",{staticClass:"item",attrs:{label:e.$t("customApprove.token_address"),prop:"token_address"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.tokenForm.token_address,callback:function(t){e.$set(e.tokenForm,"token_address",t)},expression:"tokenForm.token_address"}})],1),t("el-form-item",{staticClass:"item",attrs:{prop:"approve_contract"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("customApprove.approve_contract"))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$t("customApprove.safety_tips"))},slot:"content"}),t("i",{staticClass:"el-icon-warning"})])],1)]),t("el-input",{staticStyle:{width:"100%"},model:{value:e.tokenForm.approve_contract,callback:function(t){e.$set(e.tokenForm,"approve_contract",t)},expression:"tokenForm.approve_contract"}})],1)],1):t("el-form",{ref:"nftForm",attrs:{model:e.nftForm,rules:e.nftFormRules,"label-position":"top","label-suffix":":"}},[t("el-form-item",{staticClass:"item",attrs:{label:e.$t("customApprove.nft_address"),prop:"nft_address"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.nftForm.nft_address,callback:function(t){e.$set(e.nftForm,"nft_address",t)},expression:"nftForm.nft_address"}})],1),t("el-form-item",{staticClass:"item",attrs:{prop:"approve_contract"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("customApprove.approve_contract"))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$t("customApprove.safety_tips"))},slot:"content"}),t("i",{staticClass:"el-icon-warning"})])],1)]),t("el-input",{staticStyle:{width:"100%"},model:{value:e.nftForm.approve_contract,callback:function(t){e.$set(e.nftForm,"approve_contract",t)},expression:"nftForm.approve_contract"}})],1)],1),t("el-form",{attrs:{"label-position":"top","label-suffix":":"}},[t("el-form-item",{staticClass:"item",attrs:{label:e.$t("customApprove.now_approve_status")}},[t("div",{staticClass:"statusBox"},[""!==e.approve_status?t("el-tag",{staticClass:"tags"},[e._v(e._s(-1===e.approve_status?e.$t("customApprove.unlimited"):e.approve_status))]):e._e(),t("el-button",{attrs:{type:"success",icon:"el-icon-search",plain:"",size:"mini",loading:e.checkApproveLoading},on:{click:e.onCheckApprove}},[e._v(" "+e._s(e.$t("customApprove.check_approve_status"))+"2 ")])],1)])],1),t("div",{staticClass:"btnBox"},[t("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.buttonLoad},on:{click:e.onConfirm}},[e._v(e._s("Confirm"))])],1)],1),t("div",{staticClass:"infoBox"},[t("ul",{staticClass:"list"},e._l(e.renderList,(function(a,o){return t("li",{key:o},[t("div",{staticClass:"leftBox"},[t("div",{staticClass:"topBox smallBox"},[t("div",{staticClass:"imgBox"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":a.approve_icon}})],1),t("span",{staticClass:"name"},[e._v(e._s(a.approve_name))])]),a.token_contract?t("div",{staticClass:"bottomBox smallBox"},[t("div",{staticClass:"imgBox"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":a.token_icon}})],1),t("span",{staticClass:"name"},[e._v(e._s(a.token_name))])]):e._e()]),t("div",{staticClass:"rightBox"},[t("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return e.onSetInfo(a)}}},[e._v("GET")])],1)])})),0)])])],1)},s=[],r=a("c7eb"),c=a("1da1"),n=a("5530"),i=(a("14d9"),a("ac1f"),a("5319"),a("ed08")),p={zh:{customApprove:{desc:"工具说明：检查您的钱包地址授权过哪些合约，请及时取消不信任的合约授权，保证你钱包的安全性！",smart_contract:"授权智能合约",token:"被授权Token",amount:"授权数量",donation:"请CoinTool 喝一杯 ☕️ 咖啡({amount}{sybmol})",alert_text:"当您向某项合约授权无限额度的权限，该项目有权支配您所有的资产，此类授权危险系数极大，建议您及时收回授权.",action:"操作",decline:"取消授权",decline_ok:"成功取消授权",addressError:"查询地址错误",unlock:"取消授权请先解锁钱包",privareaddress:"注意:这是私人钱包，请立即取消授权!",addressZero:"你没有授权代币给合约过，很棒!",unlimited:"无限",sleep:"查询过程缓慢，请耐心等待!",inputPlaceholder:"请输入你要检查的地址",dangerLevel:"危险等级",high:"高",low:"低",search_error:"当前查询频率高峰，请10秒后尝试",timeout_tips:"RPC查询超时，请重试",batchCancel:"取消所有授权",stopScan:"取消扫描",history_record:"历史授权记录",approve_contract:"授信合约(如Uniswap、pancakeswap)",nft_address:"NFT合约地址",approval:"授信",cancel_approval:"取消授信",approve_checker:"授信检查",approve_number:"授权数量",token_address:"Token 地址",transferSuccess:"交易成功",safety_tips:"请确定授信合约安全！如遇到恶意合约请及时取消！",now_approve_status:"当前授权状态",check_all:"检测所有授权",check_approve_status:"检查授权状态"}},en:{customApprove:{desc:"Tips: check your wallet address authorized those contracts, please cancel the authorization of the contracts do not trust, to ensure the security of your wallet!",smart_contract:"Contract",token:"Token",amount:"Allowance",sleep:"The query process is slow, please be patient!",donation:"please CoinTool - CT.App  Have a cup of coffee ({amount}{sybmol})",alert_text:"When you authorize an unlimited amount of access to a contract, the program has the right to control all of your assets, this type of authorization is extremely dangerous and you are advised to withdraw it in time.",action:"Action",decline:"Revoke",decline_ok:"Successfully Decline",addressError:"Address Error",addressZero:"You don't have an allowance token for a contract. It's great!",unlimited:"Unlimited",unlock:"Please unlock wallet",privareaddress:"Attention:This is a private wallet, please cancel authorization now!",inputPlaceholder:"Please enter the address you want to check",dangerLevel:"Danger level",high:"High",low:"Low",search_error:"Current query peak, please try 10 seconds later",timeout_tips:"RPC query timed out. Please try again",batchCancel:"All Revoke",stopScan:"Stop Scan",history_record:"Historical record",approve_contract:"Approve Contract",nft_address:" NFT address",approval:"Approval",cancel_approval:"Cancel Approval",approve_checker:"Approve Checker",approve_number:"Approve Number",token_address:"Token Address",transferSuccess:"Transfer Success",safety_tips:"Please confirm the Approve contract is safe! <br> If encounter malicious contract, please cancel in time!",now_approve_status:"Approve Status",check_all:"Check All Approve",check_approve_status:"Check Approve Status"}}},l=a("2f62"),f=a("a835"),u=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{width:e.isPc?"600px":"90%",title:e.$t("customApprove.transferSuccess"),"modal-append-to-body":!1,visible:e.isShowDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("el-alert",{staticClass:"smaillBox",attrs:{title:"TX",type:"success",closable:!1,"show-icon":""}},[t("el-link",{staticClass:"link",attrs:{type:"success",target:"_blank",href:"".concat(e.blockTxurl,"/tx/").concat(e.tx)}},[e._v(e._s("".concat(e.blockTxurl,"/tx/").concat(e.tx))+" ")])],1),t("div",{staticClass:"btnBox"},[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"".concat(e.blockTxurl,"/tx/").concat(e.tx),expression:"`${blockTxurl}/tx/${tx}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"primary"}},[e._v(" "+e._s(e.$t("common.copy"))+" ")])],1)],1)])},d=[],v={inject:["onCheckConnect","onCopySuccess"],components:{},props:{tx:{type:String,require:!0}},data:function(){return{isShowDialog:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["isPc"])),{},{blockTxurl:function(){return f["a"].resolveLinkOnEtherscan()}}),watch:{},created:function(){},mounted:function(){},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},m=v,_=(a("1515"),a("2877")),h=Object(_["a"])(m,u,d,!1,null,"1afba4b0",null),b=h.exports,k=a("5ba3"),x="customApprove",g=Object(n["a"])(Object(n["a"])({name:x,inject:["onCheckConnect"],components:{SuccessDialog:b},props:{}},Object(l["b"])(["isPc"])),{},{data:function(){return{checkApproveLoading:!1,buttonLoad:!1,customApproveType:"Token",approval_type:0,chainName:"eth",loading:!1,tokenFormRules:{},nftFormRules:{},tokenForm:{token_address:"",approve_contract:""},nftForm:{nft_address:"",approve_contract:""},tx:"",chainList:[],approve_status:"",tokenList:[{approve_icon:"uniswap",approve_contract:"0x7a250d5630b4cf539739df2c5dacb4c659f2488d",approve_name:"UNISWAP V2"},{approve_icon:"uniswap",approve_contract:"0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45",approve_name:"UNISWAP V3"},{token_icon:"eth1",token_contract:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",token_name:"WETH",approve_icon:"opensea",approve_contract:"0x1E0049783F008A0085193E00003D00cd54003c71",approve_name:"OPENSEA offer"},{token_icon:"eth1",token_contract:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",token_name:"WETH",approve_icon:"opensea",approve_contract:"0xe5c783ee536cf5e63e792988335c4255169be4e1",approve_name:"OPENSEA(old Wyvern) offer"},{approve_icon:"pancakeswap",approve_contract:"0x10ed43c718714eb63d5aa57b78b54704e256024e",approve_name:"PancakeSwap V2"},{approve_icon:"pancakeswap",approve_contract:"0x13f4ea83d0bd40e75c8222255bc855a974568dd4",approve_name:"PancakeSwap V3"},{approve_icon:"pancakeswap",approve_contract:"0xb300000b72deaeb607a12d5f54773d1c19c7028d",approve_name:"Binance Swap Dex Proxy"}],nftList:[{approve_icon:"opensea",approve_contract:"0x1E0049783F008A0085193E00003D00cd54003c71",approve_name:"OpenSea Listing"},{approve_icon:"x2y2",approve_contract:"0xF849de01B080aDC3A814FaBE1E2087475cF2E354",approve_name:"X2Y2: ERC721 Delegate"}]}},computed:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["isPc","account"])),{},{renderList:function(){return"NFT"===this.customApproveType?this.nftList:this.tokenList}}),watch:{account:function(e){this.tokenForm.address=e.toLowerCase(),this.tokenForm.web3Address=e.toLowerCase()},$route:{immediate:!0,handler:function(e){}}},created:function(){this.$i18n.getLocaleMessage("en")[x]||(this.$i18n.mergeLocaleMessage("en",p.en),this.$i18n.mergeLocaleMessage("zh",p.zh));var e=this.$route.meta.chainName;this.chainList=Object(i["s"])(x),this.chainName=e,this.tokenFormRules={token_address:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],approve_contract:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}]},this.nftFormRules={nft_address:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],approve_contract:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}]}},mounted:function(){},methods:{onCheckAllApprove:function(){this.$router.push({path:"/approve/".concat(this.chainName)})},onSetInfo:function(e){"NFT"===this.customApproveType?this.nftForm={nft_address:e.token_contract,approve_contract:e.approve_contract}:(e.approve_contract&&(this.tokenForm.approve_contract=e.approve_contract),e.token_contract&&(this.tokenForm.token_address=e.token_contract))},onChangeChain:function(e){this.$router.replace({path:"/".concat(x,"/").concat(e),query:this.$route.query})},onCheckApprove:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function t(){var a,o,s,c,n,i,p;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Token"!==e.customApproveType){t.next=5;break}return t.next=3,e.$refs["tokenForm"].validate();case 3:t.next=7;break;case 5:return t.next=7,e.$refs["nftForm"].validate();case 7:if(e.checkApproveLoading=!0,t.prev=8,"Token"!==e.customApproveType){t.next=23;break}return a="0xdd62ed3e000000000000000000000000".concat(f["a"].getAccount().substring(2,50),"000000000000000000000000").concat(e.tokenForm.approve_contract.substring(2,50)),t.next=13,f["a"].sendEthcall({from:f["a"].getAccount(),to:e.tokenForm.token_address,data:a});case 13:return o=t.sent,t.next=16,f["a"].sendEthcall({from:f["a"].getAccount(),to:e.tokenForm.token_address,data:"0x313ce567"});case 16:s=t.sent,c=parseInt(o)/Math.pow(10,parseInt(s)),console.log(o),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"===o&&(c=-1),e.approve_status=c,t.next=29;break;case 23:return n="0xe985e9c5000000000000000000000000".concat(f["a"].getAccount().substring(2,50),"000000000000000000000000").concat(e.nftForm.approve_contract.substring(2,50)),t.next=26,f["a"].sendEthcall({from:f["a"].getAccount(),to:e.nftForm.nft_address,data:n});case 26:i=t.sent,p=1===parseInt(i)?"Already Approve":"No Approve",e.approve_status=p;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](8),console.log(t.t0);case 34:return t.prev=34,e.checkApproveLoading=!1,t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[8,31,34,37]])})))()},onConfirm:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function t(){var a,o,s,c,n,i,p;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Token"!==e.customApproveType){t.next=5;break}return t.next=3,e.$refs["tokenForm"].validate();case 3:t.next=7;break;case 5:return t.next=7,e.$refs["nftForm"].validate();case 7:if(e.onCheckConnect()){t.next=9;break}return t.abrupt("return");case 9:return e.buttonLoad=!0,"Token"===e.customApproveType?(a=e.tokenForm.token_address,o=1===e.approval_type?"0x095ea7b3000000000000000000000000"+e.tokenForm.approve_contract.replace("0x","").toLowerCase()+"0000000000000000000000000000000000000000000000000000000000000000":"0x095ea7b3000000000000000000000000"+e.tokenForm.approve_contract.replace("0x","").toLowerCase()+"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"):(a=e.nftForm.nft_address,o=1===e.approval_type?"0xa22cb465000000000000000000000000"+e.nftForm.approve_contract.replace("0x","")+"0000000000000000000000000000000000000000000000000000000000000000":"0xa22cb465000000000000000000000000"+e.nftForm.approve_contract.replace("0x","")+"0000000000000000000000000000000000000000000000000000000000000001"),s={from:f["a"].getAccount(),to:a,value:"0x0",data:o},t.prev=12,t.next=15,f["a"].sendEthestimateGas(s);case 15:c=t.sent,n=parseInt(c)+.3*parseInt(c),s.gas=Object(k["toHex"])(parseInt(n)),t.next=22;break;case 20:t.prev=20,t.t0=t["catch"](12);case 22:return t.prev=22,t.next=25,f["a"].sendTransaction(s);case 25:return i=t.sent,console.log("7"),e.buttonLoad=!1,e.tx=i,e.$refs.SuccessDialog.show(),t.next=32,f["a"].getTransactionSuccess(i);case 32:p=t.sent,console.log(p,"resres"),200===p.code&&console.log("200"),t.next=43;break;case 37:return t.prev=37,t.t1=t["catch"](22),console.log(t.t1,"error1"),e.$message({message:e.$t("common.transactionError")+": "+(null===t.t1||void 0===t.t1?void 0:t.t1.message)||t.t1,type:"error"}),e.buttonLoad=!1,t.abrupt("return");case 43:case"end":return t.stop()}}),t,null,[[12,20],[22,37]])})))()}}}),C=g,y=(a("421a"),Object(_["a"])(C,o,s,!1,null,"8a3864e2",null));t["default"]=y.exports},"421a":function(e,t,a){"use strict";a("4c9b")},"4c9b":function(e,t,a){},8809:function(e,t,a){}}]);