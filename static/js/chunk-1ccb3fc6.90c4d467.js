(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ccb3fc6"],{10:function(e,t){},11:function(e,t){},12:function(e,t){},"169c":function(e,t,n){"use strict";n("3797")},25:function(e,t){},2727:function(e,t,n){},"2c0b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("OneToMoreHeader",{attrs:{"support-networks":e.supportNetworks,title:e.oneToMoreHeaderTitle,"chain-name":"atom"}}),n("div",{staticClass:"containerBg"},[n("div",{staticClass:"oneToMoreBox"},[n("div",{staticClass:"stepBox"},[n("el-steps",{attrs:{active:e.stepActive,"align-center":"","process-status":"finish","finish-status":"finish"}},[n("el-step",{attrs:{title:e.$t("atomOneToMore.prepare")}}),n("el-step",{attrs:{title:e.$t("atomOneToMore.confirm")}}),n("el-step",{attrs:{title:e.$t("atomOneToMore.send")}})],1)],1),n("Step1",{directives:[{name:"show",rawName:"v-show",value:0===e.stepActive,expression:"stepActive === 0"}],on:{onStep1Confirm:e.onStep1Confirm}}),n("Step2",{directives:[{name:"show",rawName:"v-show",value:1===e.stepActive,expression:"stepActive === 1"}],attrs:{"queue-list":e.queueList,"step-active":e.stepActive,decimals:e.decimals},on:{onStep2Prev:e.onStep2Prev,onStep2Next:e.onStep2Next,onStep2Confirm:e.onStep2Confirm}}),n("Step3",{directives:[{name:"show",rawName:"v-show",value:2===e.stepActive,expression:"stepActive === 2"}],attrs:{send_tx:e.send_tx,"step-active":e.stepActive,"current-fee":e.currentFee,"array-limit":e.arrayLimit,c_address:e.c_address,"queue-list":e.queueList,decimals:e.decimals},on:{onStep3Prev:e.onStep3Prev}})],1)])],1)},s=[],r=n("4833"),o=n("efe2"),i=(n("6a61"),n("5502"),n("a9b5"),{zh:{atomOneToMore:{token:"代币",token_address_err:"代币地址错误",address_amount:"收款地址和数量",auto_amount:"自动添加数量",upload_file:"上传文件",iinsert_manually:"手动输入",download_examples:"下载例子",show_examples:"查看例子",delete_err:"删除无效地址",next:"下一步",address:"地址",slow:"慢",standard:"快",instant:"极速",inputAlert_1:"输入代币地址自动添加",inputAlert_2:"支持文件类型： CSV / Excel / Txt",inputAlert_3:"每一行应包括地址和数量，逗号分隔",inputAlert_4:"以下地址或金额不能发送",inputAlert_5:"可自动在每个地址后面添加数量",inputAlert_6:"请至少输入一条地址信息",inputAlert_7:"第 {line} 行: {str} 无效的钱包地址",inputAlert_8:"第 {line} 行: {str} 无效的数量",inputAlert_9:"第 {line} 行: {str} 请输入正确的格式，地址和数量以逗号分隔。例: address,number",inputAlert_10:"授信成功，请点击下一步！",inputAlert_11:"第 {line} 行: {str} 重复的地址",inputAlert_12:"发现重复地址",repeat_1:"保留第一个",repeat_2:"合并重复地址",repeat_3:"保留重复地址",step3_alert_1:"总共需要发送 {a} 次,还需要发送 {b} 次",step3_alert_2:"交易已全部发出，请等待交易被确认。",step3_alert_3:"祝贺，您的代币全部发送成功！",step3_alert_4:"您手动取消了交易，如需继续，请点击发送",step3_alert_5:"继续第 {d} 次交易",decimals:"位数",wallet_select_mainnet:"您的TRON钱包已选择 Mainnet网络",wallet_select_shasta:"您的TRON钱包已选择 Shasta网络",wallet_select:"请把您钱包的网络切换为 Mainnet 或者 Shasta网络",summary:"摘要",total_address_num:"地址总数",total_send_token_num:"代币发送总数",total_send_tx_num:"交易总数",token_balance:"代币余额",y_fee:"预估费用",you_balance:"你的 {symbol} 余额",d_allowance_b:"当前授信额度",y_allowance_b:"需授信额度",approve_amount:"授权额度",send_amount:"发送数量({amount} {symbol})",send_amount_b:"代币余额({amount} {symbol})",prepare:"准备",confirm:"确认",close:"关闭",send:"发送",wait_confirm:"等待确认交易...",addressList:"接收地址名单",remove:"移除",insufficient_balance:"{symbol} 余额不足，至少需要{amount} {symbol}"}},en:{atomOneToMore:{token:"Token",token_address_err:"Token address error",address_amount:"Addresses with Amounts",auto_amount:"Auto add amounts",upload_file:"Upload file",iinsert_manually:"Insert manually",download_examples:"Download examples",show_examples:"Show examples",delete_err:"Delete them",next:"Next",address:"Address",slow:"Slow",standard:"Fast",instant:"Instant",inputAlert_1:"Input token address to add automatically",inputAlert_2:"Accepted: CSV / Excel / Txt",inputAlert_3:"The address and amount are separated by commas",inputAlert_4:"The below addresses cannot be processed",inputAlert_5:"Amount can be automatically added after each address",inputAlert_6:"Please enter at least one address information",inputAlert_7:"Line {line} : {str}  is a invalid wallet address",inputAlert_8:"Line {line} : {str}  is a invalid wrong amount",inputAlert_9:"Line {line} : {str}  is a invalid wallet address and wrong amount. E.g:address,number",inputAlert_10:"Request approve succeeded ! Please click next",inputAlert_11:"Line {line}: {str} is duplicate address",inputAlert_12:"Duplicated wallet addresses",repeat_1:"Keep the first one",repeat_2:"Merge balances",repeat_3:"Keep duplicate addresses",step3_alert_1:"A total of {a} needs to be sent,You need to send {b} more times",step3_alert_2:"All transactions have been sent out. Please wait for the transaction to be confirmed.",step3_alert_3:"Congratulations, all your tokens have been sent successfully!",step3_alert_4:"You have manually cancelled the transaction, to continue, please click send",step3_alert_5:"Continue with the {d} first transaction",decimals:"Decimals",summary:"Summary",wallet_select_mainnet:"Your TRON wallet has selected the Mainnet network",wallet_select_shasta:"Your TRON wallet has selected the Shasta network",wallet_select:"Please switch your wallet network to Mainnet or Shasta network",total_address_num:"Total number of addresses",total_send_token_num:"Total number of tokens to be sent",total_send_tx_num:"Total number of transactions needed",token_balance:"Your token balance",y_fee:"Approximate cost of operation",you_balance:"Your {symbol} balance",d_allowance_b:"Your current allowance",y_allowance_b:"Request approve amount",prepare:"Prepare",approve_amount:"Amount to approve",send_amount:"Exact amount to be sent ({amount} {symbol})",send_amount_b:"Your token balance({amount} {symbol})",confirm:"Confirm",close:"Close",send:"Send",wait_confirm:"Pending confirmation of transaction",addressList:"List of recipients",remove:"Remove",insufficient_balance:"Insufficient {symbol} balance, Please have at least {amount} {symbol}"}}}),l=n("52c1"),c=n("850d"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"step1"},[n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputContext inputContextAddress"},[n("div",{staticClass:"label"},[n("span",[e._v(e._s("Chain"))])]),n("el-select",{staticStyle:{width:"100%"},attrs:{value:e.atomNetwork,size:"large","filter-method":e.handleFilterAddress},on:{change:e.onSelectChangeChain}},e._l(e.chainArr,(function(t){return n("el-option",{key:t,attrs:{label:e.chainMap[t].label,value:t}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(e.chainMap[t].label))])])})),1)],1)]),n("div",{staticClass:"label"},[n("span",[e._v(e._s(e.$t("atomOneToMore.address_amount")))]),n("span",{staticClass:"btnText",on:{click:e.onBulkAmount}},[e._v(e._s(e.$t("atomOneToMore.auto_amount")))]),e.isInput?n("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("atomOneToMore.upload_file")))]):n("span",{staticClass:"btnText",on:{click:e.onToggleInputType}},[e._v(e._s(e.$t("atomOneToMore.iinsert_manually")))])]),n("el-row",[n("el-col",{attrs:{xs:{span:24}}},[e.isInput?n("Editor",{ref:"editor",on:{changed:e.onChangeEditor},model:{value:e.editorValue,callback:function(t){e.editorValue=t},expression:"editorValue"}}):n("upload-excel-component",{attrs:{"on-success":e.onUploadFileSuccess,"before-upload":e.beforeUpload}})],1)],1),n("div",{staticClass:"label label-remark"},[e.isInput?n("span",[e._v(e._s(e.$t("atomOneToMore.inputAlert_3")))]):n("span",[e._v(e._s(e.$t("atomOneToMore.inputAlert_2")))]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isInput,expression:"!isInput"}],staticClass:"btnText"},[n("a",{attrs:{target:"_blank",href:"/example_trx.xlsx"}},[e._v(e._s(e.$t("atomOneToMore.download_examples")))])]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.isInput,expression:"isInput"}],staticClass:"btnText",on:{click:e.onExample}},[e._v(e._s(e.$t("atomOneToMore.show_examples")))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[n("div",{staticClass:"label label-remark"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}]},[e._v(e._s(e.$t("atomOneToMore.inputAlert_4")))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}]},[e._v(e._s(e.$t("atomOneToMore.inputAlert_12")))]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.repeat,expression:"!repeat"}],staticClass:"btnText",on:{click:e.onDeleteErr}},[e._v(e._s(e.$t("atomOneToMore.delete_err")))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(1)}}},[e._v(e._s(e.$t("atomOneToMore.repeat_1")))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(2)}}},[e._v(e._s(e.$t("atomOneToMore.repeat_2")))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"btnText",on:{click:function(t){return e.onRepeat(3)}}},[e._v(e._s(e.$t("atomOneToMore.repeat_3")))])]),n("ul",e._l(e.errInfoList,(function(t){return n("li",{key:t},[e._v(e._s(t))])})),0)]),n("el-button",{attrs:{size:"large",type:"primary"},on:{click:e.onNext}},[e._v(e._s(e.$t("atomOneToMore.next")))])],1)},d=[],p=(n("8b79"),n("37de"),n("22f9"),n("f597"),n("476c"),n("c9f2"),n("96e6"),n("3796")),m=n("fa7e"),_=n("986e"),h=n("8057"),f=n("a4ac"),v={name:"Step1",inject:["atomWalletStateTest"],components:{UploadExcelComponent:p["a"],Editor:m["a"]},data:function(){return{chainMap:f["c"],chainArr:[],balance:{},repeat:!1,repeat_status:!1,loading_address:!1,stepActive:1,addressOptions:[],decimals:6,isInput:!0,editorValue:"",queueList:[],errInfoList:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["isPc","atomAccount","atomNetwork"])),{},{chainInfo:function(){return f["c"][this.atomNetwork]}}),watch:{editorValue:function(e){this.onEditCheck(e)}},created:function(){_["h"].$on(_["g"],(function(e){console.log(e,"step_state")})),this.chainArr=Object.keys(f["c"])},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.atomWalletStateTest();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:case"end":return t.stop()}}),t)})))()},methods:{onSelectChangeChain:function(e){var t;this.$router.push({path:"/multiSender/cosmos/".concat((null===(t=this.chainMap[e])||void 0===t?void 0:t.symbol).toLowerCase())})},onExample:function(){this.editorValue="".concat(this.chainInfo.c_address,",").concat(this.chainInfo.fees)},onBulkAmount:function(){var e=this;this.$prompt(this.$t("atomOneToMore.auto_amount"),this.$t("atomOneToMore.inputAlert_5"),{confirmButtonText:this.$t("atomOneToMore.confirm"),cancelButtonText:this.$t("atomOneToMore.close")}).then((function(t){var n=t.value,a=e.editorValue.split("\n"),s="";for(var r in a){var o=a[r].split(",");o[1]&&(a[r]=o[0]),parseInt(r)+1===a.length?s+=a[r]+","+n:s+=a[r]+","+n+"\n"}e.editorValue=s})).catch((function(){}))},onNext:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.atomWalletStateTest();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:if(""!==e.editorValue){t.next=7;break}return e.$message.error(e.$t("atomOneToMore.inputAlert_6")),t.abrupt("return");case 7:if(n=e.onEditCheck(e.editorValue),!n){t.next=10;break}return t.abrupt("return");case 10:e.$emit("onStep1Confirm",{queueList:e.queueList,decimals:e.decimals});case 11:case"end":return t.stop()}}),t)})))()},onDeleteErr:function(){var e=this,t="",n=[];for(var a in this.queueList)n.push(this.queueList[a]);this.queueList=n,this.queueList.forEach((function(n,a){var s=a===e.queueList.length-1?"":"\n";t+=e.queueList[a].join()+s})),this.editorValue=t},onRepeat:function(e){var t=this,n="",a=[],s=[];for(var r in this.queueList)a[this.queueList[r][0]]&&1===e?delete this.queueList[r]:a[this.queueList[r][0]]&&2===e?(s[this.queueList[r][0]]+=parseFloat(this.queueList[r][1]),delete this.queueList[r]):(a[this.queueList[r][0]]=!0,2===e&&(s[this.queueList[r][0]]=parseFloat(this.queueList[r][1]),delete this.queueList[r]));if(2===e)for(var o in s)this.queueList.push([o,s[o]]);3===e&&(this.repeat_status=!0,this.repeat=!1,this.errInfoList=[]);var i=[];for(var l in this.queueList)i.push(this.queueList[l]);this.queueList=i,this.queueList.forEach((function(e,a){var s=a===t.queueList.length-1?"":"\n";n+=t.queueList[a].join()+s})),this.editorValue=n},onEditCheck:function(e){if(""===e)return this.queueList=[],this.errInfoList=[],void(this.repeat_status=!1);var t=e.split("\n"),n=[],a=[],s=[],r=!1,o=!1;for(var i in t){var l=parseInt(i)+1,c=t[i].trim().split(",");if(2===c.length){try{h["Bech32"].decode(c[0],0)}catch(u){r=!0,a.push(this.$t("atomOneToMore.inputAlert_7",{line:l,str:c[0]}));continue}parseFloat(c[1])<0||!parseFloat(c[1])?(r=!0,a.push(this.$t("atomOneToMore.inputAlert_8",{line:l,str:c[1]}))):(s[c[0]]&&!this.repeat_status?(o=!0,r=!0,a.push(this.$t("atomOneToMore.inputAlert_11",{line:l,str:c[0]}))):s[c[0]]=!0,n.push(c))}else r=!0,a.push(this.$t("atomOneToMore.inputAlert_9",{line:l,str:c[0]}))}return this.repeat=o,this.queueList=n,this.errInfoList=a,r},handleFilterAddress:function(e){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},onToggleInputType:function(){this.isInput=!this.isInput},beforeUpload:function(e){var t=e.size/1024/1024<10;return!!t||(this.$message({message:"Please do not upload files larger than 10m in size.",type:"warning"}),!1)},onChangeEditor:function(e){this.editorValue=e},onUploadFileSuccess:function(e){var t=e.results,n=(e.header,"");t.forEach((function(e,a){var s=a===t.length-1?"":"\n";n+="".concat(e.Address,",").concat(e.Amount).concat(s)})),this.editorValue=n,this.onToggleInputType()}}},b=v,w=(n("c2d7"),n("5d22")),x=Object(w["a"])(b,u,d,!1,null,"5d74b56f",null),g=x.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.chainInfo?n("div",{staticClass:"step2"},[n("div",{staticClass:"label"},[n("span",[e._v(e._s(e.$t("atomOneToMore.addressList")))])]),n("el-table",{staticStyle:{width:"100%","border-radius":"10px"},attrs:{data:e.tableData,height:e.tableData.length>7?250:null}},[n("el-table-column",{attrs:{prop:"address",label:"Address",width:e.isPc?"410px":"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e.isPc?n("span",[n("a",{attrs:{href:"###",target:"_blank"}},[e._v(" "+e._s(a.address)+" ")])]):n("span",[n("a",{attrs:{href:"###",target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(a.address))+" ")])])]}}],null,!1,4070611167)}),n("el-table-column",{attrs:{prop:"amount",label:"Amount"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.amount)+" "+e._s(e.symbol)+" ")]}}],null,!1,3874627032)}),n("el-table-column",{attrs:{width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v(" "+e._s(e.$t("atomOneToMore.remove"))+" ")])]}}],null,!1,4100940405)})],1),n("div",{staticClass:"label"},[n("span",[e._v(e._s(e.$t("atomOneToMore.summary")))])]),n("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.step2_loading,expression:"step2_loading"}],staticClass:"abstract"},[n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.address_count))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("atomOneToMore.total_address_num")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.send_amount)+" "+e._s(e.chainInfo.symbol))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("atomOneToMore.total_send_token_num")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.send_tx))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("atomOneToMore.total_send_tx_num")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.tokenBalance)+" "+e._s(e.chainInfo.symbol))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("atomOneToMore.token_balance")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.chainInfo.fees)+" "+e._s(e.chainInfo.symbol))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("atomOneToMore.y_fee")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.ethBalance)+" "+e._s(e.chainInfo.symbol))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("atomOneToMore.you_balance",{symbol:e.chainInfo.symbol})))])])]),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.approve_status,expression:"approve_status"}],staticClass:"tips",attrs:{title:e.$t("atomOneToMore.inputAlert_10"),type:"success",closable:!1,effect:"dark"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.errInfoList.length>0,expression:"errInfoList.length > 0"}],staticClass:"errInfoBox"},[n("ul",e._l(e.errInfoList,(function(t){return n("li",{key:t},[e._v(e._s(t))])})),0)]),n("div",{staticClass:"btnBox"},[n("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),n("el-button",{attrs:{loading:e.step2_loading,size:"large",type:"primary",disabled:e.isDisabledSend},on:{click:e.onNext}},[e._v(e._s(e.$t("atomOneToMore.next")))])],1)],1):e._e()},y=[],A=(n("65f0"),n("fdea"),n("05d6"),n("d804")),L=n("b893"),O={name:"Step2",components:{},props:{queueList:{type:Array,required:!0},stepActive:{type:Number,required:!0},decimals:{type:Number,required:!0}},data:function(){return{c_address:"",web3:{},send_tx:0,symbol:"ATOM",approve_status:!1,send_amount:0,address_count:0,step2_loading:!1,fee:0,d_fee:0,allowance_select:2,tokenBalance:0,ethBalance:0,isDisabledSend:!1,errInfoList:[],allowance_a:0,allowance_b:0,arrayLimit:200,tableData:[],sliderMarks:{}}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["atomAccount","atomNetwork","isPc"])),{},{chainInfo:function(){return f["c"][this.atomNetwork]}}),watch:{step2_loading:function(e){_["h"].$emit(_["g"],e)},stepActive:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==e){n.next=4;break}return t.propQueueListl=t.queueList,n.next=4,t.init();case 4:case"end":return n.stop()}}),n)})))()}},created:function(){},mounted:function(){},methods:{handleDelete:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=n.propQueueListl.filter((function(e){return e[0]!==t.address})),n.propQueueListl=a,n.init();case 3:case"end":return e.stop()}}),e)})))()},init:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.errInfoList=[],e.tableData=[],e.step2_loading=!0,e.c_address="cosmos1aj6mz5apdmslx4p29pqvjk2zm6cstvzqpc7qca",t.next=6,e.onUpdateBalance();case 6:for(n in e.propQueueListl)e.tableData.push({address:e.propQueueListl[n][0],amount:e.propQueueListl[n][1]});for(s in e.address_count=e.propQueueListl.length,e.send_tx=Math.ceil(e.propQueueListl.length/e.arrayLimit),a=0,e.propQueueListl)a=L["a"].numAdd(a,e.propQueueListl[s][1]);e.send_amount=a,e.step2_loading=!1,e.ethBalance<e.send_amount+e.chainInfo.fees&&(e.isDisabledSend=!0,e.errInfoList.push(e.$t("atomOneToMore.insufficient_balance",{symbol:e.chainInfo.symbol,amount:e.send_amount+e.chainInfo.fees})));case 14:case"end":return t.stop()}}),t)})))()},onNext:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onStep2Confirm",{queueList:e.propQueueListl,decimals:e.decimals,send_tx:e.send_tx,arrayLimit:e.arrayLimit,c_address:e.c_address});case 1:case"end":return t.stop()}}),t)})))()},onPrev:function(){this.$emit("onStep2Prev")},onUpdateBalance:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=window.getOfflineSigner(e.atomNetwork),t.next=3,A["SigningStargateClient"].connectWithSigner(e.chainInfo.rpc,n);case 3:return a=t.sent,t.next=6,a.getBalance(e.atomAccount,e.chainInfo.denom);case 6:s=t.sent,s&&(r=(s.amount/Math.pow(10,e.chainInfo.exponent)).toFixed(3),e.tokenBalance=r,e.ethBalance=r);case 8:case"end":return t.stop()}}),t)})))()}}},T=O,C=(n("b797"),Object(w["a"])(T,k,y,!1,null,"3cdf8050",null)),M=C.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"step3"},[n("div",{staticClass:"label"},[n("span",[e._v(" "+e._s(e.$t("atomOneToMore.step3_alert_1",{a:e.send_status.a,b:e.send_status.b})))]),n("span",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&!e.all_send,expression:"send_status.b === 0 && !all_send"}]},[e._v(e._s(e.$t("atomOneToMore.step3_alert_2")))])]),n("DealList",{attrs:{list:e.dealList,"chain-info":e.chainInfo}}),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:0===e.send_status.b&&e.all_send,expression:"send_status.b === 0 && all_send"}],staticClass:"tips",attrs:{title:e.$t("atomOneToMore.step3_alert_3"),type:"success",closable:!1,effect:"dark"}}),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.waitMetamask,expression:"waitMetamask"}],staticClass:"tips",attrs:{type:"success",closable:!1,center:"",effect:"dark"}},[n("i",{staticClass:"el-icon-loading icon"}),e._v(e._s(e.$t("atomOneToMore.wait_confirm")))]),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],staticClass:"tips",attrs:{title:e.$t("atomOneToMore.step3_alert_4"),type:"success",closable:!1,effect:"dark"}}),n("div",{staticClass:"btnBox"},[n("el-button",{attrs:{size:"large",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.onPrev}}),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.send_close,expression:"send_close"}],attrs:{size:"large",type:"primary"},on:{click:e.onSend}},[e._v(e._s(e.$t("atomOneToMore.step3_alert_5",{d:e.d_slice})))])],1)],1)},I=[],$=n("a892"),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{directives:[{name:"show",rawName:"v-show",value:e.list.length>0,expression:"list.length > 0"}],staticClass:"dealList"},e._l(e.list,(function(t,a){return n("li",{key:t.address},[n("div",{staticClass:"left"},[n("span",{staticClass:"index"},[e._v(e._s(a+1))]),n("a",{staticClass:"address",attrs:{target:"_blank",href:"https://www.mintscan.io/"+e.chainInfo.name+"/txs/"+t.address}},[e._v(e._s(t.address))])]),n("div",{staticClass:"right"},[n("span",{staticClass:"status"},[0===t.status?n("i",{staticClass:"el-icon-loading"}):1===t.status?n("i",{staticClass:"el-icon-success"}):2===t.status?n("i",{staticClass:"el-icon-error",staticStyle:{color:"#F05252"}}):e._e()])])])})),0)},N=[],j={props:{list:{type:Array,required:!0},chainInfo:{type:Object,required:!1}},data:function(){return{blockTxurl:""}},created:function(){},mounted:function(){},methods:{}},R=j,E=(n("33a8"),Object(w["a"])(R,q,N,!1,null,"2898e6af",null)),P=E.exports,B=n("6938"),D={name:"Step3",components:{DealList:P},props:{send_tx:{type:Number,required:!0},arrayLimit:{type:Number,required:!0},c_address:{type:String,required:!0},queueList:{type:Array,required:!0},decimals:{type:Number,required:!0},stepActive:{type:Number,required:!0}},data:function(){return{dealList:[],send_close:!1,addresses_to_send:[],balances_to_send:[],send_status:{a:1,b:1},all_send:!1,d_slice:1,d_slice_s:0,web3:{},waitMetamask:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["atomAccount","atomNetwork"])),{},{chainInfo:function(){return f["c"][this.atomNetwork]}}),watch:{stepActive:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(2!==e){n.next=3;break}return n.next=3,t.init();case 3:case"end":return n.stop()}}),n)})))()}},created:function(){},mounted:function(){},methods:{init:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("this.queueList",e.queueList),t.next=3,e._multisend();case 3:case"end":return t.stop()}}),t)})))()},onPrev:function(){this.send_close=!1,this.$emit("onStep3Prev")},onSend:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.send_close=!1,t.next=3,e._multisend();case 3:case"end":return t.stop()}}),t)})))()},_multisend:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o,i,l,c,u,d,p,m,_;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.queueList,a=e.atomNetwork,t.next=4,window.keplr.enable(a);case 4:return s=window.getOfflineSigner(a),t.next=7,A["SigningStargateClient"].connectWithSigner(e.chainInfo.rpc,s);case 7:r=t.sent,o=e.chainInfo.gas*n.length,i={amount:[{denom:e.chainInfo.denom,amount:e.chainInfo.min_tx_fee}],gas:""+o},l=[],c=Object($["a"])(n);try{for(c.s();!(u=c.n()).done;)d=u.value,p=d[1]*Math.pow(10,e.chainInfo.exponent),l.push({typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:e.atomAccount,toAddress:d[0],amount:Object(B["coins"])(p,e.chainInfo.denom)}})}catch(h){c.e(h)}finally{c.f()}return m=e.chainInfo.fees*Math.pow(10,e.chainInfo.exponent),l.push({typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:e.atomAccount,toAddress:e.chainInfo.c_address,amount:Object(B["coins"])(m,e.chainInfo.denom)}}),t.prev=14,e.waitMetamask=!0,t.next=18,r.signAndBroadcast(e.atomAccount,l,i,"");case 18:_=t.sent,console.log(_,"resultresultresult"),void 0!==_.code&&0!==_.code?e.$message.error("Failed to send tx: ".concat(_.log||_.rawLog)):(e.dealList.push({address:_.transactionHash,status:1}),e.all_send=!0,e.send_status.b=0),t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](14),"Request rejected"===t.t0.message&&(e.send_close=!0),e.$message.error(t.t0.message);case 27:return t.prev=27,e.waitMetamask=!1,t.finish(27);case 30:case"end":return t.stop()}}),t,null,[[14,23,27,30]])})))()}}},V=D,F=(n("169c"),Object(w["a"])(V,S,I,!1,null,"68c1f4d0",null)),z=F.exports,Q="atomOneToMore",U={name:Q,components:{OneToMoreHeader:c["a"],Step1:g,Step2:M,Step3:z},data:function(){return{stepActive:0,send_tx:0,arrayLimit:0,c_address:"",currentFee:0,queueList:[],decimals:6}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["isPc","atomAccount","atomNetwork"])),{},{oneToMoreHeaderTitle:function(){return this.$t("common.welcomeOneToMore",{appName:this.$shortName,chainName:this.chainInfo.label})},chainInfo:function(){return f["c"][this.atomNetwork]},supportNetworks:function(){var e=Object.keys(f["c"]);return e.map((function(e){return{icon:"",name:f["c"][e].label,symbol:f["c"][e].symbol.toLowerCase(),value:e}}))}}),watch:{},created:function(){this.$i18n.getLocaleMessage("en")[Q]||(this.$i18n.mergeLocaleMessage("en",i.en),this.$i18n.mergeLocaleMessage("zh",i.zh))},mounted:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onStep1Confirm:function(e){var t=e.queueList,n=e.decimals;this.queueList=t,this.decimals=n,this.stepActive=1},onStep2Confirm:function(e){var t=e.queueList,n=e.decimals,a=e.send_tx,s=e.arrayLimit,r=e.currentFee,o=e.c_address;this.queueList=t,this.decimals=n,this.send_tx=a,this.arrayLimit=s,this.currentFee=r,this.c_address=o,this.stepActive=2},onStep2Prev:function(){this.stepActive=0},onStep2Next:function(){this.stepActive=2},onStep3Prev:function(){this.stepActive=1},onChangeEditor:function(e){this.editorValue=e}}},Y=U,H=(n("430d8"),Object(w["a"])(Y,a,s,!1,null,"63b4d13a",null));t["default"]=H.exports},"33a8":function(e,t,n){"use strict";n("a524")},3797:function(e,t,n){},"3bb2":function(e,t,n){},"430d8":function(e,t,n){"use strict";n("3bb2")},9434:function(e,t,n){},a524:function(e,t,n){},b797:function(e,t,n){"use strict";n("9434")},c2d7:function(e,t,n){"use strict";n("2727")}}]);