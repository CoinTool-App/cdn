(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3603f208"],{"0171":function(t,e,i){t.exports=i.p+"static/img/elon.71779025.jpg"},"1aa6":function(t,e,i){"use strict";i("57d1")},"1e7e":function(t,e,i){t.exports=i.p+"static/img/5.56779b1b.png"},"1fe4":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[t.isPc?e("div",{staticClass:"linkBox"},[e("a",{staticClass:"green",attrs:{href:"".concat(t.$origin,"/tools/create-avatars"),target:"_blank"}},[e("i",{staticClass:"el-icon-link",staticStyle:{"margin-right":"4px"}}),e("span",[t._v(t._s(t.$t("route.create-avatars")))])])]):t._e(),e("div",{staticClass:"topBox"},[e("div",{staticClass:"leftBox"},[e("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.$t("cryptoEyes.title"))}}),e("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.$t("cryptoEyes.desc"))}}),e("div",{staticClass:"btnBox",on:{click:t.handleUploadClick}},[e("button",[e("i",{staticClass:"el-icon-camera-solid icon"}),e("span",[t._v(t._s(t.$t("cryptoEyes.pickPhoto")))])]),e("input",{ref:"inputUpload",staticStyle:{display:"none"},attrs:{type:"file",multiple:"",accept:"image/*"},on:{change:t.handleImgUploadChange}})]),e("div",{staticClass:"mode"},[e("el-radio-group",{attrs:{size:"mini",fill:"#42b983"},on:{change:t.changeMaskColor},model:{value:t.maskColor,callback:function(e){t.maskColor=e},expression:"maskColor"}},t._l(t.maskColorList,(function(i){return e("el-radio-button",{key:i.value,attrs:{label:i.value}},[t._v(" "+t._s(i.label)+" ")])})),1)],1)]),e("div",{staticClass:"rightBox"},[e("div",{staticClass:"rightBoxSize"}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowNewAvatar,expression:"!isShowNewAvatar"}],staticClass:"board"},[e("div",{ref:"bgImg",staticClass:"imgBox",style:t.bgImg.style},t._l(t.maskList,(function(i,n){return e("vue-draggable-resizable",{key:n,attrs:{w:i.width,h:i.height,x:i.x,y:i.y,"min-width":50,"min-height":50,handles:["tl","tm","mr","br","bm","bl","ml"],"class-name":"dragBox"},on:{dragging:t.onDrag,resizing:t.onResize,activated:function(e){return t.onActivated(n)}}},[e("div",{staticClass:"closeBox",on:{click:function(e){return t.onRemoveMask(n)}}},[e("i",{staticClass:"el-icon-error icon"})]),e("div",{staticClass:"maskBox"},[e("img",{attrs:{src:i.imgUrl,alt:"img err"}})])])})),1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowBgImg,expression:"!isShowBgImg"}],staticClass:"imgTips"},[t._v(" "+t._s(t.$t("cryptoEyes.selectTips"))+" ")]),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowNewAvatar,expression:"isShowNewAvatar"}],staticClass:"new-avatar",attrs:{src:t.newAvatar.imgUrl}}),e("div",{staticClass:"opBox"},[e("div",{staticClass:"iconBtn",on:{click:t.onShare}},[e("i",{staticClass:"el-icon-share icon"}),e("span",{staticClass:"label"},[t._v(t._s(t.$t("cryptoEyes.share")))])]),e("div",{staticClass:"iconBtn",on:{click:t.onDownload}},[e("i",{staticClass:"el-icon-download icon"}),e("span",{staticClass:"label"},[t._v(t._s(t.$t("cryptoEyes.download")))])])])])]),e("MaskTab",{attrs:{"active-tab":t.activeTab},on:{onChangeList:t.onChangeList}}),e("MaskList",{attrs:{list:t.tabsMaskList},on:{onAddMask:t.onAddMask}}),e("p",{staticClass:"copyright"},[e("el-link",{attrs:{type:"success",target:"_blank",href:this.$origin}},[t._v(t._s(t.$appName))])],1)],1)])},a=[],r=i("c7eb"),o=i("1da1"),s=i("5530"),c=(i("d3b7"),i("b0c0"),i("ac1f"),i("00b4"),i("a434"),i("14d9"),i("159b"),i("2f62")),h={zh:{cryptoEyes:{red_mask:"红色滤镜",none_mask:"无滤镜",title:"CREATE<br>CRYPTO EYES",desc:"你是一个真正的加密货币爱好者吗?<br>选择你的激光眼，告诉全世界!",pickPhoto:"选择图片",selectTips:"请选择图片",share:"分享",download:"下载",placeUploadImg:"请先上传图片",isShowNewAvatarTips:"已生成，请重新选择图片",phoneSave:"生成图片成功，请长按图片保存",pcSave:"图片下载成功",christmasHat:"圣诞帽子",eyes:"激光眼"}},en:{cryptoEyes:{red_mask:"Red",none_mask:"None",title:"CREATE<br>CRYPTO EYES",desc:"Are you a true Crypto enthusiast? <br>Choose your laser eyes and tell the world!",pickPhoto:"Pick Photo",selectTips:"Please select picture",share:"Share",download:"Download",placeUploadImg:"Please pick a picture first",isShowNewAvatarTips:"Already generated, please re-select the image",phoneSave:"Image generated successful. please hold down the image to save",pcSave:"Download Success",christmasHat:"Christmas hat",eyes:"Eyes"}}},u=i("624b"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"maskList"},[e("ul",{staticClass:"ul"},t._l(t.list,(function(i,n){return e("li",{key:n,staticClass:"li",style:{backgroundImage:"url(".concat(i.imgUrl,")")},on:{click:function(e){return t.handleSelectClick(i.imgUrl)}}})})),0)])},d=[],f={props:{list:{require:!0,type:Array}},data:function(){return{}},created:function(){},methods:{handleSelectClick:function(t){this.$emit("onAddMask",t)}}},g=f,p=(i("6bc1"),i("2877")),m=Object(p["a"])(g,l,d,!1,null,"d9fbd4ac",null),v=m.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"maskTab"},[e("ul",{staticClass:"ul"},t._l(t.list,(function(i,n){return e("li",{key:n,class:"li ".concat(i.key===t.activeTab?"on":""),on:{click:function(e){return t.onChangeTab(i.key)}}},[t._v(" "+t._s(i.label)+" ")])})),0)])},y=[],w=(i("d81d"),i("5e28")),x=i.n(w),k=i("6b01"),C=i.n(k),_=i("5455"),j=i.n(_),O=i("b24a"),I=i.n(O),S=i("1e7e"),A=i.n(S),M=i("763b"),P=i.n(M),L=i("8252"),T=i.n(L),E=i("aa1b"),U=i.n(E),R=(i("daf6"),i("42c1")),N=i.n(R),$=i("91b1"),B=i.n($),D=i("cb20"),q=i.n(D),z=i("ecac"),W=i.n(z),H=i("45bb"),F=i.n(H),Y={data:function(){return{activeTab:"eyes",christmasList:[{name:"christmas1",imgUrl:x.a},{name:"christmas2",imgUrl:C.a},{name:"christmas3",imgUrl:j.a},{name:"christmas4",imgUrl:I.a},{name:"christmas5",imgUrl:A.a}],eyesList:[{name:"light-hit-0",imgUrl:P.a},{name:"light-hit-1",imgUrl:T.a},{name:"light-hit-2",imgUrl:U.a},{name:"light-hit-4",imgUrl:N.a},{name:"light-hit-5",imgUrl:B.a},{name:"light-hit-6",imgUrl:q.a},{name:"light-hit-7",imgUrl:W.a},{name:"light-hit-8",imgUrl:F.a}],list:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["language"])),{},{coinList:function(){var t=["btc","eth","bnb","sol","shib","ht","doge","trx","ftm","pol","avax","celo","kcc","movr"];return t.map((function(t){return{name:t,imgUrl:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/token/".concat(t,".png")}}))}}),watch:{language:{handler:function(t){this.list=[{key:"eyes",label:this.$t("cryptoEyes.eyes")},{key:"hat",label:this.$t("cryptoEyes.christmasHat")},{key:"coin",label:"Coin"}]},immediate:!0}},created:function(){this.onChangeTab("eyes")},methods:{onChangeTab:function(t){this.activeTab=t;var e={eyes:this.eyesList,hat:this.christmasList,coin:this.coinList};this.$emit("onChangeList",e[t])}}},G=Y,J=(i("6ff8"),Object(p["a"])(G,b,y,!1,null,"f3a23cd2",null)),X=J.exports,V=i("fb19"),Z=i.n(V),K=i("7961"),Q=i.n(K),tt=(i("278f"),i("0171")),et=i.n(tt),it="cryptoEyes",nt={name:it,inject:["onCheckConnect","onShare"],components:{VueDraggableResizable:Z.a,MaskList:v,MaskTab:X},data:function(){return{const_e:null,fileName:"",activeTab:"eyes",isShowBgImg:!1,bgImg:{width:360,height:360,imgUrl:null,style:null},isShowNewAvatar:!1,newAvatar:{imgUrl:"",width:360,height:360},maskColor:"none",maskListActiveIndex:0,maskList:[],tabsMaskList:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["isConnect","account","isPc","language","isAndroid"])),{},{maskColorList:function(){return[{label:this.$t("cryptoEyes.red_mask"),value:"red"},{label:this.$t("cryptoEyes.none_mask"),value:"none"}]},scaleNumber:function(){return this.isPc?1:2}}),created:function(){this.$i18n.getLocaleMessage("en")[it]||(this.$i18n.mergeLocaleMessage("en",h.en),this.$i18n.mergeLocaleMessage("zh",h.zh))},mounted:function(){this.onViewDemo()},methods:{changeMaskColor:function(){console.log("changeMaskColor"),this.handleImgUploadChange(this.const_e)},onViewDemo:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["b"])(et.a,"elon");case 2:return i=e.sent,e.next=5,t.handleImgUploadChange(i,!0);case 5:t.isPc&&(t.maskList=[{width:75,height:75,x:114,y:90,imgUrl:q.a},{width:75,height:75,x:155,y:90,imgUrl:q.a},{width:56,height:56,x:280,y:20,imgUrl:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/token/doge.png"}]);case 6:case"end":return e.stop()}}),e)})))()},onChangeList:function(t){this.tabsMaskList=t},onReupload:function(){this.isShowNewAvatar=!1,this.isShowBgImg=!1,this.maskList=[]},drawImageWithOverlay:function(t){var e=this.$refs.canvas,i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),i.drawImage(t,0,0,e.width,e.height),i.fillStyle="rgba(193, 0, 0, 0.6)",i.fillRect(0,0,e.width,e.height)},handleImgUploadChange:function(t){var e=arguments,i=this;return Object(o["a"])(Object(r["a"])().mark((function n(){var a;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>1&&void 0!==e[1]&&e[1],i.const_e=t,n.prev=2,n.abrupt("return",new Promise((function(e){var n=null;n=a||!t.target?t:t.target.files[0],i.fileName!==n.name&&i.onReupload(),i.fileName=n.name;var r=new FileReader;if(i.isShowNewAvatar&&(i.isShowNewAvatar=!1),!/image.*/.test(n.type))return e(),!1;r.readAsDataURL(n),r.onload=function(t){var n=new Image;n.src=t.target.result,n.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d");t.width=n.width,t.height=n.height,a.drawImage(n,0,0);var r=a.getImageData(0,0,t.width,t.height),o=r.data;if(console.log(i.maskColor,"maskColor"),"red"===i.maskColor)for(var s=0;s<o.length;s+=4){var c=1.2*o[s],h=.2*o[s+1],u=.2*o[s+2];c=1.5*(c-128)+128,h=1.5*(h-128)+128,u=1.5*(u-128)+128,o[s]=c,o[s+1]=h,o[s+2]=u}a.putImageData(r,0,0);var l=new Image;l.src=t.toDataURL(),l.onload=function(){var t=l.height*(i.$refs.bgImg.offsetWidth/l.width);i.bgImg.height=t*i.scaleNumber,i.bgImg.width=i.$refs.bgImg.offsetWidth*i.scaleNumber,i.bgImg.imgUrl=l.src,i.bgImg.style={backgroundImage:"url(".concat(l.src,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",height:"".concat(t,"px")},i.isShowBgImg=!0,e()}}}})));case 6:return n.prev=6,n.t0=n["catch"](2),console.error(n.t0),n.abrupt("return",!1);case 10:case"end":return n.stop()}}),n,null,[[2,6]])})))()},handleUploadClick:function(){this.$refs["inputUpload"].click()},onResize:function(t,e,i,n){var a=Object(s["a"])(Object(s["a"])({},this.maskList[this.maskListActiveIndex]),{},{x:t,y:e,width:i,height:n});this.$set(this.maskList,this.maskListActiveIndex,a)},onRemoveMask:function(t){this.maskList.splice(t,1)},onActivated:function(t){this.maskListActiveIndex=t},onDrag:function(t,e){var i=Object(s["a"])(Object(s["a"])({},this.maskList[this.maskListActiveIndex]),{},{x:t,y:e});this.$set(this.maskList,this.maskListActiveIndex,i)},onAddMask:function(t){if(this.isShowBgImg)if(this.isShowNewAvatar)this.$message.error(this.$t("cryptoEyes.isShowNewAvatarTips"));else if(0===this.maskList.length)this.maskList.push({width:75,height:75,x:this.isPc?100:20,y:this.isPc?100:40,imgUrl:t});else{var e=this.maskList[this.maskList.length-1];this.maskList.push(Object(s["a"])(Object(s["a"])({},e),{},{x:70,imgUrl:t}))}else this.$message.error(this.$t("cryptoEyes.placeUploadImg"))},onDownloadImg:function(){var t=document.createElement("a");t.download="crypto-eyes.png",t.style.display="none",t.href=this.newAvatar.imgUrl,document.body.appendChild(t),t.click(),document.body.removeChild(t)},onDownload:function(){var t=this;if(this.isShowBgImg){var e=new Q.a({width:this.bgImg.width,height:this.bgImg.height}),i=e.background(this.bgImg.imgUrl,{left:0,top:0,type:"contain"});this.maskList.forEach((function(e){i=i.add(e.imgUrl,{width:e.width*t.scaleNumber,height:e.height*t.scaleNumber,pos:{x:e.x*t.scaleNumber,y:e.y*t.scaleNumber}})})),i.draw({type:"png",quality:1,success:function(e){t.newAvatar.imgUrl=e,t.newAvatar.width=t.bgImg.width,t.newAvatar.height=t.bgImg.height,t.isShowNewAvatar=!0,t.isPc||t.isAndroid?(t.onDownloadImg(),t.$message.success(t.$t("cryptoEyes.pcSave"))):t.$message.success(t.$t("cryptoEyes.phoneSave"))}})}else this.$message.error(this.$t("cryptoEyes.placeUploadImg"))}}},at=nt,rt=(i("1aa6"),Object(p["a"])(at,n,a,!1,null,"4724a8b4",null));e["default"]=rt.exports},"42c1":function(t,e,i){t.exports=i.p+"static/img/light-hit-4.048c5de9.png"},"45bb":function(t,e,i){t.exports=i.p+"static/img/light-hit-8.ecd3a90b.png"},5455:function(t,e,i){t.exports=i.p+"static/img/3.e5f6ab6a.png"},"57d1":function(t,e,i){},"5e28":function(t,e,i){t.exports=i.p+"static/img/1.6481b56c.png"},"624b":function(t,e,i){"use strict";i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return d})),i.d(e,"a",(function(){return f}));var n=i("c7eb"),a=i("1da1"),r=(i("ac1f"),i("466d"),i("81b2"),i("0eb6"),i("b7ef"),i("8bd4"),i("ace4"),i("d3b7"),i("5cc6"),i("907a"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("986a"),i("1d02"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("6ce5"),i("2834"),i("72f7"),i("4ea1"),i("a9e3"),i("c0e9")),o=i.n(r),s=i("8baf3"),c=function(t,e){var i=document.createElement("canvas"),n=i.getContext("2d"),a=new Image;a.crossOrigin="Anonymous",a.onload=function(){i.height=a.height,i.width=a.width,n.drawImage(a,0,0);var t=i.toDataURL("image/png");e(t),i=null},a.src=t},h=function(t,e){var i=t.split(","),n=i[0].match(/:(.*?);/)[1],a=atob(i[1]),r=a.length,o=new Uint8Array(r);while(r--)o[r]=a.charCodeAt(r);return new File([o],e,{type:n})},u=function(){var t=Object(a["a"])(Object(n["a"])().mark((function t(e){var i,a=arguments;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=a.length>1&&void 0!==a[1]?a[1]:"imgName",t.abrupt("return",new Promise((function(t){c(e,(function(e){var n=h(e,i);t(n)}))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number(new Date),i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",e);var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!0,!1,0,null),i.dispatchEvent(n)},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#pdfDom",e=document.querySelector(t);if(e){var i=e.querySelectorAll("svg");[].forEach.call(i,(function(t){var e=t.parentNode,i=new Image;i.src="data:image/svg+xml,".concat(encodeURIComponent((new XMLSerializer).serializeToString(t))),i.crossOrigin="anonymous",i.onload=function(){var n=t.getBoundingClientRect().width,a=t.getBoundingClientRect().height,r=document.createElement("canvas");r.width=n,r.height=a;var o=r.getContext("2d");o.drawImage(i,0,0,n,a),e.appendChild(r),e.removeChild(t),e.removeChild(i)},e.append(i)}))}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#pdfDom",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CoinTool",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};o()(document.querySelector(t),{allowTaint:!0,useCORS:!0}).then((function(t){var n=t.width,a=t.height,r=n/592.28*841.89,o=a,c=0,h=595.28,u=592.28/n*a,l=t.toDataURL("image/jpeg",1),d=new s["a"]("","pt","a4");if(o<r)d.addImage(l,"JPEG",0,0,h,u);else while(o>0)d.addImage(l,"JPEG",0,c,h,u),o-=r,c-=841.89,o>0&&d.addPage();d.save(e+".pdf"),i()})).catch((function(t){console.log(t,"error"),i()}))}},"6b01":function(t,e,i){t.exports=i.p+"static/img/2.2fd4051f.png"},"6bc1":function(t,e,i){"use strict";i("ebc9")},"6ff8":function(t,e,i){"use strict";i("fc12")},"763b":function(t,e,i){t.exports=i.p+"static/img/light-hit-0.fbbc2cba.png"},7961:function(t,e,i){!function(e,i){t.exports=i()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){"use strict";i.d(e,"g",(function(){return n.a})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s})),i.d(e,"e",(function(){return c})),i.d(e,"f",(function(){return h})),i.d(e,"k",(function(){return u})),i.d(e,"d",(function(){return l})),i.d(e,"i",(function(){return d})),i.d(e,"j",(function(){return f})),i.d(e,"h",(function(){return p}));var n=i(1);function a(t){var e={},i=e.toString,n=e.hasOwnProperty,a=n.toString,r=a.call(Object);if(!t||"[object Object]"!==i.call(t))return!1;var o=Object.getPrototypeOf(t);if(!o)return!0;var s=n.call(o,"constructor")&&o.constructor;return"function"==typeof s&&a.call(s)===r}function r(){for(var t,e,i,n,o,s,c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var u=arguments[0]||{},l=1,d=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[l]||{},l++),"object"!=typeof u&&"function"!=typeof u&&(u={}),l===d&&(u=this,l--);l<d;l++)if(null!==(t=arguments[l]))for(e in t)if(t.hasOwnProperty(e)){if(o=u[e],u===(n=t[e]))continue;f&&n&&(a(n)||(s=Array.isArray(n)))?(s?(s=!1,i=o&&Array.isArray(o)?o:[]):i=o&&a(o)?o:{},u[e]=r(f,i,n)):void 0!==n&&(u[e]=n)}return u}function o(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}function s(){var t=window.navigator.userAgent.toLowerCase(),e=/(iPhone|iPad|iPod|iOS)/gi.test(t),i=/(iPad)/gi.test(t);if(e){var n=i?t.match(/cpu os (\d*)/):t.match(/iphone os (\d*)/);return!!(n&&+n[1]<9)}return!1}function c(t){return"IMG"===t.tagName?{iw:t.naturalWidth,ih:t.naturalHeight}:{iw:t.width,ih:t.height}}function h(t,e){return t.indexOf&&-1!==t.indexOf(e)}function u(t,e,i,a){var r=i;if(n.a.str(i))if(h(i,":")&&"pos"===a){var o=i.split(":"),s=o[0],c=o[1];switch(s){case"left":case"top":r=+c.replace("px","");break;case"right":case"bottom":r=t-+c.replace("px","")-e}}else r=h(i,"px")?+i.replace("px",""):h(i,"%")?("crop"===a?e:t)*+i.replace("%","")/100:h(["top","left"],i)?0:h(["bottom","right"],i)?t-e:"center"===i?(t-e)/2:"origin"===i?e:+i;return Math.round(r)}function l(t,e){var i=e;return n.a.str(e)&&(i=h(e,"px")?+e.replace("px",""):h(e,"%")?t*+e.replace("%","")/100:"center"===e?t/2:+e),Math.round(i)}function d(t){throw new Error("[MCanvas ERROR]: "+t)}function f(t){throw new Error("[MCanvas WARN]: "+t)}function g(t){return!!/[\ |\s*(.*?)\s+$|\~|\`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\-|\_|\+|\=|\||\\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\，|\。|\“|\”|\‘|\’|\¥|\？|\（|\）|\；|\：|\、|\！|\<|\.|\>|\/|\?]/g.test(t)}function p(t){if(!n.a.str(t))return[];var e,i=[],a=t.length,r="";for(e=0;e<a;e++){var o=t[e];/^[A-Za-z]+$/g.test(o)?(r+=o,g(t[e+1])&&(i.push(r),r="")):i.push(o)}return i}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n={};function a(t){var e=n.toString.call(t);return null===t?t+"":Number.isNaN(t)?"NaN":"object"==typeof t||"function"==typeof t?n[e]||"object":typeof t}"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach((function(t){n["[object "+t+"]"]=t.toLowerCase()}));var r={primitive:function(t){return["string","number"].includes(a(t))},array:function(t){return"array"===a(t)},str:function(t){return"string"===a(t)},obj:function(t){return"object"===a(t)},arr:function(t){return"array"===a(t)},num:function(t){return"number"===a(t)},fn:function(t){return"function"===a(t)},undef:function(t){return"undefined"===a(t)},def:function(t){return!r.undef(t)},null:function(t){return"null"===a(t)},empty:function(t){switch(a(t)){case"object":return 0===Object.keys(t).length;case"array":return 0===t.length;case"string":return!t.trim();case"undefined":case"null":case"NaN":case"boolean":return!0;default:return!1}},Nil:function(t){return["null","undefined"].includes(a(t))},NaN:function(t){return"NaN"===a(t)},promise:function(t){return!!t&&(r.obj(t)||r.fn(t))&&r.fn(t.then)}}},function(t,e,i){t.exports=i(4)},function(t,e,i){"use strict";i.r(e),i.d(e,"_Canvas",(function(){return a}));var n=i(0),a={name:"WebCanvas",create:function(t,e){void 0===t&&(t=500),void 0===e&&(e=500);var i=document.createElement("canvas"),a=i.getContext("2d");return n.g.num(t)&&(i.width=t),n.g.num(e)&&(i.height=e),[i,a]},loadImage:function(t){return new Promise((function(e,i){var n=new Image;0===t.indexOf("http")&&(n.crossOrigin="*"),n.onload=function(){return e(n)},n.onerror=function(){return i("img load error.url: "+t)},n.src=t}))}}},function(t,e,i){"use strict";i.r(e),i.d(e,"MCanvas",(function(){return c})),i.d(e,"MImage",(function(){return j}));var n=i(0),a=i(3)._Canvas,r={getImage:function(t){return"string"==typeof t?o.loadImage(t):"object"==typeof t?Promise.resolve(t):Promise.reject("getImage error, src="+t)},drawRoundRectPath:function(t,e,i,n){t.beginPath(),t.arc(e-n,i-n,n,0,Math.PI/2),t.lineTo(n,i),t.arc(n,i-n,n,Math.PI/2,Math.PI),t.lineTo(0,n),t.arc(n,n,n,Math.PI,3*Math.PI/2),t.lineTo(e-n,0),t.arc(e-n,n,n,3*Math.PI/2,2*Math.PI),t.lineTo(e,i-n),t.closePath()},drawRoundRect:function(t,e,i,n,a,o,s,c,h){void 0===o&&(o=0),void 0===s&&(s="#fff"),void 0===c&&(c=0),void 0===h&&(h="#000");var u=Math.min(n,a);2*o>u&&(o=u/2),t.save(),t.translate(e,i),r.drawRoundRectPath(t,n,a,o),t.fillStyle=s,t.fill(),t.lineWidth=c,t.strokeStyle=h,t.stroke(),t.restore()}},o=Object(n.b)(!0,a,r);function s(t,e){var i=Object(n.e)(t),a=i.iw,r=i.ih,s=Object(n.b)(!0,{x:0,y:0,width:"100%",height:"100%",radius:0},e),c=s.width,h=s.height,u=s.x,l=s.y,d=s.radius;(c=Object(n.d)(a,c))>a&&(c=a),(h=Object(n.d)(r,h))>r&&(h=r),u=Object(n.k)(a,c,u,"pos"),l=Object(n.k)(r,h,l,"pos"),d=Object(n.d)(a,d);var f=o.create(c,h),g=f[0],p=f[1];return g.width=c,g.height=h,o.drawRoundRect(p,0,0,c,h,d),p.globalCompositeOperation="source-in",p.drawImage(t,-u,-l,a,r),{cvs:g,ctx:p}}var c=function(){function t(t){void 0===t&&(t={}),this.queue=[],this.fn={success:function(){},error:function(t){}},this.data={textId:0,text:{},bgConfig:null},this._defaultFontFamily="helvetica neue,hiragino sans gb,Microsoft YaHei,arial,tahoma,sans-serif",this.ops=Object(n.b)({width:500,height:500,backgroundColor:""},t),this._init()}return t.prototype._init=function(){var t,e=this.ops,i=e.width,n=e.height,a=e.backgroundColor;t=o.create(i,n),this.cvs=t[0],this.ctx=t[1],a&&this._setBgColor(a)},t.prototype.background=function(t,e){var i=this;return void 0===e&&(e={type:"origin"}),t||this.data.bgConfig?(t?(e.image=t,this.data.bgConfig=e):this.data.bgConfig&&(e=this.data.bgConfig),this.queue.push((function(){e.color&&i._setBgColor(e.color),o.getImage(e.image).then((function(t){return i._background(t,e)})).catch(i.fn.error)})),this):(Object(n.i)("the init background must has a image."),this)},t.prototype._setBgColor=function(t){this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.cvs.width,this.cvs.height)},t.prototype._getBgAlign=function(t,e,i,a){var r;return n.g.str(t)?"50%"===t||"center"===t?r=Math.abs((e-i/a)/2):"100%"===t?r=Math.abs(e-i/a):"0%"===t&&(r=0):r=n.g.num(t)?t:0,r},t.prototype._background=function(t,e){var i,a,r,o,s,c,h,u,l,d=Object(n.e)(t),f=d.iw,g=d.ih,p=f/g,m=this.cvs.width/this.cvs.height;switch(e.type){case"crop":p>m?(r=g*m,o=g,l=this.cvs.height/g):(o=(r=f)/m,l=this.cvs.width/f),i=this._getBgAlign(e.left,f,this.cvs.width,l),a=this._getBgAlign(e.top,g,this.cvs.height,l),c=s=0,u=this.cvs.height,h=this.cvs.width;break;case"contain":a=i=0,r=f,o=g,p>m?(u=(h=this.cvs.width)/p,s=e.left||0,c=e.top||0===e.top?e.top:(this.cvs.height-u)/2):(h=(u=this.cvs.height)*p,c=e.top||0,s=e.left||0===e.left?e.left:(this.cvs.width-h)/2);break;case"origin":this.cvs.width=f,this.cvs.height=g,i=a=0,r=f,o=g,s=c=0,h=this.cvs.width,u=this.cvs.height;break;default:return void Object(n.i)("background type error!")}this.ctx.drawImage(t,i,a,r,o,s,c,h,u),this._next()},t.prototype.rect=function(t){var e=this;return void 0===t&&(t={}),this.queue.push((function(){var i=e.cvs,a=i.width,r=i.height,s=t.fillColor,c=void 0===s?"#fff":s,h=t.strokeColor,u=void 0===h?c:h,l=t.strokeWidth,d=void 0===l?0:l,f=t.radius,g=void 0===f?0:f,p=t.width,m=void 0===p?100:p,v=t.height,b=void 0===v?100:v,y=t.x,w=void 0===y?0:y,x=t.y,k=void 0===x?0:x;m=Object(n.k)(a,0,m,"pos")-2*d,b=Object(n.k)(r,0,b,"pos")-2*d,w=Object(n.k)(a,m,w,"pos")+(Object(n.f)(w,"right")?-d:d),k=Object(n.k)(r,b,k,"pos")+(Object(n.f)(k,"bottom")?-d:d),o.drawRoundRect(e.ctx,w,k,m,b,g,c,d,u),e._resetCtx()._next()})),this},t.prototype.circle=function(t){var e=this;return void 0===t&&(t={}),this.queue.push((function(){var i=t.fillColor,a=void 0===i?"#fff":i,r=t.strokeColor,o=void 0===r?a:r,s=t.strokeWidth,c=void 0===s?0:s,h=e.cvs,u=h.width,l=h.height,d=t.x,f=void 0===d?0:d,g=t.y,p=void 0===g?0:g,m=t.radius,v=void 0===m?100:m,b=Object(n.k)(u,0,v,"pos")-2*c;f=Object(n.k)(u,2*b,f,"pos")+b+(Object(n.f)(f,"right")?-c:c),p=Object(n.k)(l,2*b,p,"pos")+b+(Object(n.f)(p,"bottom")?-c:c),e.ctx.beginPath(),e.ctx.arc(f,p,b,0,2*Math.PI,!1),e.ctx.fillStyle=a,e.ctx.fill(),e.ctx.strokeStyle=o,e.ctx.lineWidth=c,e.ctx.stroke(),e.ctx.closePath(),e._resetCtx()._next()})),this},t.prototype._resetCtx=function(){return this.ctx.setTransform(1,0,0,1,0,0),this},t.prototype.watermark=function(t,e){if(void 0===e&&(e={}),!t)return Object(n.i)("there is not image of watermark."),this;var i=e.width,a=void 0===i?"40%":i,r=e.pos,o=void 0===r?"rightbottom":r,s=e.margin,c=void 0===s?20:s,h={x:0,y:0,scale:1,rotate:0};switch(o){case"leftTop":h.x="left:"+c,h.y="top:"+c;break;case"leftBottom":h.x="left:"+c,h.y="bottom:"+c;break;case"rightTop":h.x="right:"+c,h.y="top:"+c;break;case"rightBottom":h.x="right:"+c,h.y="bottom:"+c}return this.add(t,{width:a,pos:h}),this},t.prototype.add=function(t,e){var i=this,a={width:"100%",crop:{x:0,y:0,width:"100%",height:"100%",radius:0},pos:{x:0,y:0,scale:1,rotate:0}};return(n.g.arr(t)?t:[{image:t,options:e}]).map((function(t){var e=t.image,r=t.options;i.queue.push((function(){o.getImage(e).then((function(t){i._add(t,i._handleOps(t,Object(n.b)(!0,a,r)))})).catch(i.fn.error)}))})),this},t.prototype._add=function(t,e){var i,a=e.crop,r=e.pos,c=e.width;0===c&&Object(n.j)("the width of mc-element is zero");var h,u,l,d,f=Object(n.e)(t),g=f.iw,p=f.ih,m=a.width,v=a.height,b=a.radius;(m!==g||v!==p||b>0)&&(t=s(t,a).cvs);var y,w,x,k,C,_,j=m/v,O=g>p?g/p:p/g,I=1.4*O>5?5:1.4*O,S=o.create(Math.round(m*I),Math.round(v*I)),A=S[0],M=S[1],P=Object(n.a)()&&(A.width>2096||A.height>2096)?2096:4096,L=j>1?P/A.width:P/A.height;y=-Math.round(m/2),w=-Math.round(v/2),x=m,k=Math.round(m/j),(A.width>P||A.height>P)&&L&&(i=[A.width,A.height,y,w,x,k].map((function(t){return Math.round(t*L)})),A.width=i[0],A.height=i[1],y=i[2],w=i[3],x=i[4],k=i[5]),M.translate(A.width/2,A.height/2),M.rotate(r.rotate),M.drawImage(t,y,w,x,k),l=Math.round(c*I),d=Math.round(l/j),_=(C=(I-1)*c/2)/j,h=Math.round(r.x+l*(1-r.scale)/2-C),u=Math.round(r.y+d*(1-r.scale)/2-_),l*=r.scale,d*=r.scale,this.ctx.drawImage(A,h,u,l,d),this._next()},t.prototype._getRotate=function(t){return n.g.str(t)?parseFloat(t)*Math.PI/180:n.g.num(t)?t*Math.PI/180:0},t.prototype._handleOps=function(t,e){var i,a,r=this.cvs,o=r.width,s=r.height,c=Object(n.e)(t),h=c.iw,u=c.ih,l=h/u,d=Object(n.k)(o,h,e.width,"pos"),f=Object(n.k)(o,h,e.crop.width,"crop"),g=Object(n.k)(s,u,e.crop.height,"crop"),p={width:f,height:g,x:Object(n.k)(h,f,e.crop.x,"crop"),y:Object(n.k)(u,g,e.crop.y,"crop"),radius:Object(n.d)(f,e.crop.radius)};p.x>h&&(p.x=h),p.y>u&&(p.y=u),i=h-p.x,a=u-p.y,p.width>i&&(p.width=i),p.height>a&&(p.height=a);var m=e.pos,v=m.x,b=m.y,y=m.rotate,w=m.scale,x=void 0===w?1:w;return{width:d,crop:p,pos:{x:Object(n.k)(o,d,v,"pos"),y:Object(n.k)(s,d/l,b,"pos"),scale:x,rotate:this._getRotate(y)}}},t.prototype._createStyle=function(t,e){return{font:t+"px "+this._defaultFontFamily,lineHeight:e,color:"#000",type:"fill",lineWidth:1,wordBreak:!0,shadow:{color:null,blur:0,offsetX:0,offsetY:0}}},t.prototype.text=function(t,e){var i=this;void 0===e&&(e={});var a=this.cvs.width/20;return this.queue.push((function(){var r,o=Object(n.b)(!0,{width:300,align:"left",smallStyle:i._createStyle(.8*a,.9*a),normalStyle:i._createStyle(a,1.1*a),largeStyle:i._createStyle(1.3*a,1.4*a),pos:{x:0,y:0,rotate:0}},e),s=i._parse(String(t)),c=0;s.map((function(t){t.size>c&&(c=t.size,r=t.type)}));var h=parseInt(o[r+"Style"].font);h&&o.width<h&&(o.width=h),i._text(s,o),i._resetCtx()._next()})),this},t.prototype._parse=function(t){for(var e=t.split(/<s>|<b>/),i=[],n=0;n<e.length;n++){var a=e[n];if(/<\/s>|<\/b>/.test(a)){var r=/<\/s>/.test(a)?"</s>":"</b>",o=/<\/s>/.test(a)?"small":"large",s=e[n].split(r);i.push({type:o,text:s[0],size:"small"===o?0:2}),s[1]&&i.push({type:"normal",text:s[1],size:1})}else e[n]&&i.push({text:e[n],type:"normal",size:1})}return i},t.prototype._text=function(t,e){var i=this;this.data.textId++,this.data.text[this.data.textId]={};var a,r=e.width=Object(n.k)(this.cvs.width,0,e.width,"pos"),s=1,c=0,h=this._getLineHeight(t,e),u=Object(n.k)(this.cvs.width,r,0,"pos"),l=Object(n.k)(this.cvs.height,0,0,"pos")+h;this.data.text[this.data.textId][s]={data:[],lineWidth:0},t.map((function(t){a=e[t.type+"Style"],i.ctx.font=a.font;var o=i.ctx.measureText(t.text).width,d=t.text.replace(/<br>/g,"|");if(c+o>r||Object(n.f)(d,"|")){a.wordBreak||(d=Object(n.h)(d));for(var f=0,g=d.length;f<g;f++){var p=d[f];o=i.ctx.measureText(p).width,(c+o>r||"|"===p)&&(u=c=0,l+=h,s+=1,i.data.text[i.data.textId][s]={data:[],lineWidth:0},"|"===p)||((m=i.data.text[i.data.textId][s]).data.push({context:p,x:u,y:l,style:a,width:o}),u+=o,m.lineWidth=c+=o)}}else{var m;(m=i.data.text[i.data.textId][s]).data.push({context:d,x:u,y:l,style:a,width:o}),u+=o,m.lineWidth=c+=o}}));var d=o.create(r,this._getTextRectHeight(s)),f=d[0],g=d[1],p=f.height,m=f.width,v=Object(n.k)(this.cvs.width,m,e.pos.x,"pos"),b=Object(n.k)(this.cvs.height,p,e.pos.y,"pos");Object(n.c)(this.data.text[this.data.textId],(function(t,n){var a=0;n.lineWidth<r&&("center"===e.align?a=(r-n.lineWidth)/2:"right"===e.align&&(a=r-n.lineWidth)),n.data.map((function(t){t.x+=a,i._fillText(g,t)}))})),this.ctx.translate(v+m/2,b+p/2),this.ctx.rotate(this._getRotate(e.pos.rotate)),this.ctx.drawImage(f,-m/2,-p/2,m,p)},t.prototype._getLineHeight=function(t,e){var i,n=0;return t.map((function(t){(i=e[t.type+"Style"].lineHeight)>n&&(n=i)})),n},t.prototype._fillText=function(t,e){var i=e.context,a=e.x,r=e.y,o=e.style,s=o.align,c=o.lineWidth,h=o.shadow,u=o.font,l=o.gradient,d=o.lineHeight,f=h.color,g=h.blur,p=h.offsetX,m=h.offsetY;if(t.font=u,t.textAlign=s,t.textBaseline="alphabetic",t.lineWidth=c,t.shadowColor=f,t.shadowBlur=g,t.shadowOffsetX=p,t.shadowOffsetY=m,l){var v=l.type,b=l.colorStop,y=void 0,w=void 0,x=void 0,k=void 0;1===v?(y=a,w=r,x=a+e.width,k=r):(y=a,w=r-d,x=a,k=r);var C=t.createLinearGradient(y,w,x,k),_=b.length||0;Object(n.c)(b,(function(t,e){C.addColorStop(1/_*(+t+1),e)})),t[o.type+"Style"]=C}else t[o.type+"Style"]=o.color;t[o.type+"Text"](i,a,r),this._resetCtx()},t.prototype._getTextRectHeight=function(t){var e=this.data.text[this.data.textId][t].data[0];return e.y+e.style.lineHeight},t.prototype.draw=function(t){var e=this;return void 0===t&&(t={}),new Promise((function(i,a){var r={type:"jpeg",quality:.9,exportType:"base64",success:function(t){},error:function(t){}};n.g.fn(t)?r.success=t:"jpg"===(r=Object(n.b)(!0,r,t)).type&&(r.type="jpeg"),e.fn.error=function(t){r.error(t),a(t)},e.fn.success=function(){"canvas"===r.exportType?(r.success(e.cvs),i(e.cvs)):setTimeout((function(){var t=e.cvs.toDataURL("image/"+r.type,r.quality);r.success(t),i(t)}),0)},e._next()}))},t.prototype._next=function(){if(this.queue.length>0){this.ctx.save();var t=this.queue.shift();t&&t(),this.ctx.restore()}else this.fn.success()},t.prototype.clear=function(){return this.ctx.clearRect(0,0,this.cvs.width,this.cvs.height),this},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function h(t,e,i,n){return new(i||(i=Promise))((function(a,r){function o(t){try{c(n.next(t))}catch(t){r(t)}}function s(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,s)}c((n=n.apply(t,e||[])).next())}))}function u(t,e){var i,n,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(a=2&r[0]?n.return:r[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,r[1])).done)return a;switch(n=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!((a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],n=0}finally{i=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function l(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<i;e++)for(var r=arguments[e],o=0,s=r.length;o<s;o++,a++)n[a]=r[o];return n}Object.create,Object.create;var d=i(1),f=function(){function t(t){var e=this;this.isFirst=!0,this.queue=[],this._next=function(t){if(e.isFirst||(t=e.after(t)),e.queue.length>0){var i=e.queue.shift();i&&(t=e.before(t),i(e._next,t),e.isFirst=!1)}else e.end(t),e.queue=[]};var i=t||{},n=i.before,a=void 0===n?function(t){return t}:n,r=i.after,o=void 0===r?function(t){return t}:r;this.before=a,this.after=o}return t.prototype.push=function(t){d.a.fn(t)&&this.queue.push(t)},t.prototype.perform=function(t,e){this.end=t,this._next(e)},t}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){function t(){this._queue=new f}t.prototype.line=function(t){var e=this;return this._queue.push((function(i,n){setTimeout((function(){return h(e,void 0,void 0,(function(){var e;return u(this,(function(a){return e=t(n),d.a.promise(e)?e.then(i):i(e),[2]}))}))}),0)})),this},t.prototype.start=function(t,e){this._queue.perform(t,e)}}();var p=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],m=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function v(t,e,i,n,a){if("string"==typeof t&&(t=document.getElementById(t)),!t||"object"!==g(t)||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var r=t.getContext("2d");try{return r.getImageData(e,i,n,a)}catch(t){throw new Error("unable to access image data: "+t)}}function b(t,e,i,n,a,r){if(!(isNaN(r)||r<1)){r|=0;var o=v(t,e,i,n,a);o=function(t,e,i,n,a,r){var o,s,c,h,u,l,d,f,g,v,b,w,x,k,C,_,j,O,I,S,A,M,P,L,T,E=t.data,U=2*r+1,R=n-1,N=a-1,$=r+1,B=$*($+1)/2,D=new y,q=D;for(c=1;c<U;c++)q=q.next=new y,c===$&&(T=q);q.next=D;var z=null,W=null;d=l=0;var H=p[r],F=m[r];for(s=0;s<a;s++){for(_=j=O=I=f=g=v=b=0,w=$*(S=E[l]),x=$*(A=E[l+1]),k=$*(M=E[l+2]),C=$*(P=E[l+3]),f+=B*S,g+=B*A,v+=B*M,b+=B*P,q=D,c=0;c<$;c++)q.r=S,q.g=A,q.b=M,q.a=P,q=q.next;for(c=1;c<$;c++)h=l+((R<c?R:c)<<2),f+=(q.r=S=E[h])*(L=$-c),g+=(q.g=A=E[h+1])*L,v+=(q.b=M=E[h+2])*L,b+=(q.a=P=E[h+3])*L,_+=S,j+=A,O+=M,I+=P,q=q.next;for(z=D,W=T,o=0;o<n;o++)E[l+3]=P=b*H>>F,0!==P?(P=255/P,E[l]=(f*H>>F)*P,E[l+1]=(g*H>>F)*P,E[l+2]=(v*H>>F)*P):E[l]=E[l+1]=E[l+2]=0,f-=w,g-=x,v-=k,b-=C,w-=z.r,x-=z.g,k-=z.b,C-=z.a,h=d+((h=o+r+1)<R?h:R)<<2,_+=z.r=E[h],j+=z.g=E[h+1],O+=z.b=E[h+2],I+=z.a=E[h+3],f+=_,g+=j,v+=O,b+=I,z=z.next,w+=S=W.r,x+=A=W.g,k+=M=W.b,C+=P=W.a,_-=S,j-=A,O-=M,I-=P,W=W.next,l+=4;d+=n}for(o=0;o<n;o++){for(j=O=I=_=g=v=b=f=0,w=$*(S=E[l=o<<2]),x=$*(A=E[l+1]),k=$*(M=E[l+2]),C=$*(P=E[l+3]),f+=B*S,g+=B*A,v+=B*M,b+=B*P,q=D,c=0;c<$;c++)q.r=S,q.g=A,q.b=M,q.a=P,q=q.next;for(u=n,c=1;c<=r;c++)l=u+o<<2,f+=(q.r=S=E[l])*(L=$-c),g+=(q.g=A=E[l+1])*L,v+=(q.b=M=E[l+2])*L,b+=(q.a=P=E[l+3])*L,_+=S,j+=A,O+=M,I+=P,q=q.next,c<N&&(u+=n);for(l=o,z=D,W=T,s=0;s<a;s++)E[3+(h=l<<2)]=P=b*H>>F,P>0?(P=255/P,E[h]=(f*H>>F)*P,E[h+1]=(g*H>>F)*P,E[h+2]=(v*H>>F)*P):E[h]=E[h+1]=E[h+2]=0,f-=w,g-=x,v-=k,b-=C,w-=z.r,x-=z.g,k-=z.b,C-=z.a,h=o+((h=s+$)<N?h:N)*n<<2,f+=_+=z.r=E[h],g+=j+=z.g=E[h+1],v+=O+=z.b=E[h+2],b+=I+=z.a=E[h+3],z=z.next,w+=S=W.r,x+=A=W.g,k+=M=W.b,C+=P=W.a,_-=S,j-=A,O-=M,I-=P,W=W.next,l+=n}return t}(o,0,0,n,a,r),t.getContext("2d").putImageData(o,e,i)}}var y=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function w(t,e){void 0===e&&(e=20);var i=t.width,n=t.height,a=t.getContext("2d");return b(t,0,0,i,n,e),[t,a]}function x(t,e){void 0===e&&(e="hor");var i,n,a,r,o=t.width,s=t.height,c=t.getContext("2d"),h=c.getImageData(0,0,o,s).data,u=c.createImageData(o,s),l=u.data;for(i=0;i<s;i++)for(n=0;n<o;n++)a=4*(i*o+n),l[r="hor"===e?4*(i*o+(o-n-1)):4*((s-i-1)*o+n)]=h[a],l[r+1]=h[a+1],l[r+2]=h[a+2],l[r+3]=h[a+3];return c.putImageData(u,0,0),[t,c]}function k(t){var e,i,n=t.width,a=t.height,r=t.getContext("2d"),o=r.getImageData(0,0,n,a).data,s=r.createImageData(n,a),c=s.data;for(e=0;e<o.length;e+=4)i=.3*o[e]+.59*o[e+1]+.11*o[e+2],c[e]=c[e+1]=c[e+2]=i,c[e+3]=o[e+3];return r.putImageData(s,0,0),[t,r]}function C(t,e){void 0===e&&(e=10);var i,n,a,r,o,s,c,h,u,l,d,f,g,p,m,v=t.width,b=t.height,y=t.getContext("2d"),w=y.getImageData(0,0,v,b).data,x=y.createImageData(v,b),k=x.data,C=Math.ceil(v/e),_=Math.ceil(b/e);for(i=0;i<_;i++)for((s=(o=i*e)+e)>b&&(s=b),n=0;n<C;n++){for((r=(a=n*e)+e)>v&&(r=v),f=g=p=m=0,d=(r-a)*(s-o),h=o;h<s;h+=1)for(u=h*v,c=a;c<r;c+=1)f+=w[l=u+c<<2],g+=w[l+1],p+=w[l+2],m+=w[l+3];for(f=f/d+.5|0,g=g/d+.5|0,p=p/d+.5|0,m=m/d+.5|0,h=o;h<s;h++)for(u=h*v,c=a;c<r;c++)k[l=u+c<<2]=f,k[l+1]=g,k[l+2]=p,k[l+3]=m}return y.putImageData(x,0,0),[t,y]}function _(t,e,i){void 0===e&&(e=2),void 0===i&&(i=32);var n,a,r,o,s,c,h,u,l,d,f,g,p,m,v,b,y,w,x=t.width,k=t.height,C=t.getContext("2d"),_=C.getImageData(0,0,x,k).data,j=C.createImageData(x,k),O=j.data,I=[],S=[],A=[],M=[],P=[],L=[],T=0;for(c=0;c<k;c++)for(s=0;s<x;s++){for(h=0;h<i;h++)I[h]=S[h]=A[h]=M[h]=P[h]=L[h]=0;for(u=-e;u<=e;u++)if(!((n=c+u)<0||n>=k))for(r=n*x,l=-e;l<=e;l++)(a=s+l)<0||a>=x||(d=_[o=r+a<<2],m=(f=_[o+1])*i>>8,v=(g=_[o+2])*i>>8,M[p=d*i>>8]+=d,P[m]+=f,L[v]+=g,I[p]+=1,S[m]+=1,A[v]+=1);for(b=y=w=0,h=1;h<i;h++)I[h]>I[b]&&(b=h),S[h]>S[y]&&(y=h),A[h]>A[w]&&(w=h);O[T]=M[b]/I[b]|0,O[T+1]=P[y]/S[y]|0,O[T+2]=L[w]/A[w]|0,O[T+3]=_[T+3],T+=4}return C.putImageData(j,0,0),[t,C]}var j=function(){function t(t){this._image=t,this._queue=new f,this.clear()}return t.prototype.clear=function(){return this._getImage()._drawCanvas(),this},t.prototype._drawCanvas=function(){return this._run((function(t){var e=Object(n.e)(t),i=e.iw,a=e.ih,r=o.create(i,a),s=r[0],c=r[1];return c.drawImage(t,0,0,i,a),{cvs:s,ctx:c}}))},t.prototype._getImage=function(){var t=this;return this._run((function(){return new Promise((function(e){return h(t,void 0,void 0,(function(){var t=this;return u(this,(function(i){return n.g.str(this._image)?o.getImage(this._image).then((function(i){return e(t._image=i)})).catch(this._error):e(this._image),[2]}))}))}))}))},t.prototype._run=function(t){var e=this;return this._queue.push((function(i,a){setTimeout((function(){return h(e,void 0,void 0,(function(){var e;return u(this,(function(r){return e=t(a),n.g.promise(e)?e.then(i):i(e),[2]}))}))}),0)})),this},t.prototype.draw=function(t){var e=this;return void 0===t&&(t={}),new Promise((function(i,a){var r={type:"jpeg",quality:1,exportType:"base64",success:function(t){},error:function(t){}};n.g.fn(t)?r.success=t:"jpg"===(r=Object(n.b)(!0,r,t)).type&&(r.type="jpeg");var o=r.exportType,s=r.type,c=r.quality,h=r.success,u=r.error,l=function(t){h(t),i(t),e.clear()};e._error=function(t){u(t),a(t)},e._queue.perform((function(t){var e=t.cvs,i=t.quality;"canvas"===o?l(e):setTimeout((function(){var t=e.toDataURL("image/"+s,i||c);l(t)}),0)}))}))},t.prototype.crop=function(t){return void 0===t&&(t={}),this._run((function(e){return s(e.cvs,t)}))},t.prototype.compress=function(t){return void 0===t&&(t={}),this._run((function(e){var i=e.cvs,a=e.ctx,r=t.quality,s=t.width,c=t.height,h=i.width/i.height;if(!n.g.num(s)&&!n.g.num(c))return{cvs:i,ctx:a,quality:r};n.g.num(s)||(s=c*h),n.g.num(c)||(c=s/h);var u=o.create(s,c),l=u[0],d=u[1];return d.drawImage(i,0,0,s,c),{cvs:l,ctx:d,quality:r}}))},t.prototype.filter=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this._run((function(i){var n,a,r,o,s,c=i.cvs,h=c,u=i.ctx;switch(t){case"blur":h=(n=w.apply(void 0,l([c],e)))[0],u=n[1];break;case"flip":h=(a=x.apply(void 0,l([c],e)))[0],u=a[1];break;case"gray":h=(r=k(c))[0],u=r[1];break;case"mosaic":h=(o=C.apply(void 0,l([c],e)))[0],u=o[1];break;case"oil":h=(s=_.apply(void 0,l([c],e)))[0],u=s[1]}return{cvs:h,ctx:u}}))},t}();e.default=c}])}))},8252:function(t,e,i){t.exports=i.p+"static/img/light-hit-1.808de3e1.png"},"91b1":function(t,e,i){t.exports=i.p+"static/img/light-hit-5.8047e00b.png"},aa1b:function(t,e,i){t.exports=i.p+"static/img/light-hit-2.35b3bce3.png"},b24a:function(t,e,i){t.exports=i.p+"static/img/4.4339c1cb.png"},cb20:function(t,e,i){t.exports=i.p+"static/img/light-hit-6.d5d80367.png"},daf6:function(t,e,i){t.exports=i.p+"static/img/light-hit-3.c4f099c3.png"},ebc9:function(t,e,i){},ecac:function(t,e,i){t.exports=i.p+"static/img/light-hit-7.4d971ba1.png"},fc12:function(t,e,i){}}]);