(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ece75606"],{"014f":function(e,t,n){"use strict";(function(e){var a=n("bee2"),r=n("d4ec"),s=n("2909"),i=n("c7eb"),c=n("b85c"),u=n("1da1"),o=n("5530"),p=(n("a9e3"),n("d3b7"),n("159b"),n("b680"),n("4de4"),n("d81d"),n("99af"),n("b0c0"),n("4ec9"),n("3ca3"),n("ddb0"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("5319"),n("14d9"),n("2f62")),l=n("d208"),d=n("3e44"),f=n("64b9"),m=n("fa13"),b=n("0774"),y=n.n(b),h=n("d334"),w=n("df00"),v=n("59da"),x=n("408b3"),g=n.n(x),k=n("901e"),j=n.n(k),O=(n("feaa"),"demo");t["a"]={name:O,inject:[],components:{},data:function(){return{}},computed:Object(o["a"])({},Object(p["b"])(["isConnect","account","chainId","isPc","language"])),created:function(){this.$i18n.getLocaleMessage("en")[O]||(this.$i18n.mergeLocaleMessage("en",l["a"].en),this.$i18n.mergeLocaleMessage("zh",l["a"].zh))},mounted:function(){var t=this;return Object(u["a"])(Object(i["a"])().mark((function n(){var o,p,l,b,x,k,O,A,M,U,P,S,B,E,F,z,q,N,V,C,_,R,H,T,I,K,W,J,L,$,D,Q,G,Y,Z,X,ee,te,ne,ae,re,se,ie,ce,ue,oe,pe,le,de,fe,me;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return pe=function(){return pe=Object(u["a"])(Object(i["a"])().mark((function t(n){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce([e.from(se),ue(re).toBuffer(),ue(n).toBuffer()],ue(re));case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)}))),pe.apply(this,arguments)},oe=function(e){return pe.apply(this,arguments)},"undefined"!==typeof window.unisat&&console.log("UniSat Wallet is installed!"),n.prev=3,n.next=6,window.unisat.requestAccounts();case 6:o=n.sent,console.log("connect success",o),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),console.log("connect failed");case 13:return n.prev=13,n.next=16,window.unisat.getAccounts();case 16:l=n.sent,p=l[0],console.log(l),n.next=24;break;case 21:n.prev=21,n.t1=n["catch"](13),console.log(n.t1);case 24:return b=[{address:"tb1qtg2nw5pmud0fkzsjsndyfrxf6nuk7vpsqhyv63",value:g.a.toSatoshi(Number(1e-6))},{address:"tb1q66jturfwej9uyzsnwhsrsg58epne5nnuusfccd",value:g.a.toSatoshi(Number(1e-6))},{address:"tb1qecj4nwecl54t82ywcxz8k4ugywnjjqsn7alttt",value:g.a.toSatoshi(Number(1e-6))}],x=0,k=0,b.forEach((function(e){x=new j.a(x).plus(e.value).toNumber(),k++})),n.next=30,t.$ajax({url:"https://mempool.space/testnet/api/address/".concat(p,"/utxo"),method:"get"});case 30:O=n.sent,A=new v["Psbt"]({network:v["networks"].testnet}),A.setVersion(1),A.setLocktime(0),M=0,U=0,P=Object(c["a"])(O),n.prev=37,P.s();case 39:if((S=P.n()).done){n.next=53;break}if(E=S.value,null!==E&&void 0!==E&&null!==(B=E.status)&&void 0!==B&&B.confirmed){n.next=43;break}return n.abrupt("continue",51);case 43:return M=new j.a(M).plus(E.value).toNumber(),n.next=46,t.$ajax({url:"https://mempool.space/testnet/api/tx/".concat(E.txid,"/hex"),method:"get"});case 46:if(F=n.sent,A.addInput({hash:E.txid,index:E.vout,nonWitnessUtxo:e.from(F,"hex")}),U++,!(M>x)){n.next=51;break}return n.abrupt("continue",51);case 51:n.next=39;break;case 53:n.next=58;break;case 55:n.prev=55,n.t2=n["catch"](37),P.e(n.t2);case 58:return n.prev=58,P.f(),n.finish(58);case 61:if(b.forEach((function(e){A.addOutput({address:e.address,value:e.value})})),!(M<x)){n.next=65;break}return console.log("输入总额不足以支付输出总额"),n.abrupt("return");case 65:return z=1,A.setMaximumFeeRate(z),q=146*U+33*(k+1)+10,console.log(q),N=new j.a(q).times(z).toFixed(0),console.log(N),A.addOutput({address:p,value:new j.a(M).minus(x).minus(N).toNumber()}),n.prev=72,n.next=75,window.unisat.signPsbt(A.toHex());case 75:return V=n.sent,console.log(V),n.next=79,window.unisat.pushPsbt(V);case 79:C=n.sent,console.log(C),n.next=86;break;case 83:n.prev=83,n.t3=n["catch"](72),console.log(n.t3);case 86:return n.abrupt("return");case 92:return _=n.sent,console.log(_),n.abrupt("return");case 99:return H=n.sent,console.log(H),console.log(H.account.execute),H.enable(),T="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",I=new w["c"](R,T,H.account),n.next=107,I.balanceOf(H.selectedAddress);case 107:return K=n.sent,n.next=110,I.decimals();case 110:return W=n.sent,console.log(K,W),J=new w["b"]([{name:"Uint256",size:2,type:"struct",members:[{name:"low",type:"felt",offset:0},{name:"high",type:"felt",offset:1}]},{data:[{name:"from_",type:"felt"},{name:"to",type:"felt"},{name:"value",type:"Uint256"}],keys:[],name:"Transfer",type:"event"},{data:[{name:"owner",type:"felt"},{name:"spender",type:"felt"},{name:"value",type:"Uint256"}],keys:[],name:"Approval",type:"event"},{data:[{name:"previousOwner",type:"felt"},{name:"newOwner",type:"felt"}],keys:[],name:"OwnershipTransferred",type:"event"},{name:"constructor",type:"constructor",inputs:[{name:"name",type:"felt"},{name:"symbol",type:"felt"},{name:"decimals",type:"felt"},{name:"initial_supply",type:"Uint256"},{name:"recipient",type:"felt"},{name:"owner",type:"felt"}],outputs:[]},{name:"name",type:"function",inputs:[],outputs:[{name:"name",type:"felt"}],stateMutability:"view"},{name:"symbol",type:"function",inputs:[],outputs:[{name:"symbol",type:"felt"}],stateMutability:"view"},{name:"totalSupply",type:"function",inputs:[],outputs:[{name:"totalSupply",type:"Uint256"}],stateMutability:"view"},{name:"decimals",type:"function",inputs:[],outputs:[{name:"decimals",type:"felt"}],stateMutability:"view"},{name:"balanceOf",type:"function",inputs:[{name:"account",type:"felt"}],outputs:[{name:"balance",type:"Uint256"}],stateMutability:"view"},{name:"allowance",type:"function",inputs:[{name:"owner",type:"felt"},{name:"spender",type:"felt"}],outputs:[{name:"remaining",type:"Uint256"}],stateMutability:"view"},{name:"owner",type:"function",inputs:[],outputs:[{name:"owner",type:"felt"}],stateMutability:"view"},{name:"transfer",type:"function",inputs:[{name:"recipient",type:"felt"},{name:"amount",type:"Uint256"}],outputs:[{name:"success",type:"felt"}]},{name:"transferFrom",type:"function",inputs:[{name:"sender",type:"felt"},{name:"recipient",type:"felt"},{name:"amount",type:"Uint256"}],outputs:[{name:"success",type:"felt"}]},{name:"approve",type:"function",inputs:[{name:"spender",type:"felt"},{name:"amount",type:"Uint256"}],outputs:[{name:"success",type:"felt"}]},{name:"increaseAllowance",type:"function",inputs:[{name:"spender",type:"felt"},{name:"added_value",type:"Uint256"}],outputs:[{name:"success",type:"felt"}]},{name:"decreaseAllowance",type:"function",inputs:[{name:"spender",type:"felt"},{name:"subtracted_value",type:"Uint256"}],outputs:[{name:"success",type:"felt"}]},{name:"mint",type:"function",inputs:[{name:"to",type:"felt"},{name:"amount",type:"Uint256"}],outputs:[]},{name:"burnFrom",type:"function",inputs:[{name:"sender",type:"felt"},{name:"amount",type:"Uint256"}],outputs:[]},{name:"transferOwnership",type:"function",inputs:[{name:"newOwner",type:"felt"}],outputs:[]},{name:"renounceOwnership",type:"function",inputs:[],outputs:[]}]),L=w["f"].uint256(21e3),$=J.compile("constructor",{name:"niceToken",symbol:"NIT",decimals:18,initial_supply:L,recipient:H.selectedAddress,owner:H.selectedAddress}),D={contractAddress:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",entrypoint:"transfer",calldata:w["b"].compile({recipient:"0x00E5fe44958d29A91449cad2fA4a4082509616db690909A6a322DeAd9c81139c",amount:w["f"].uint256(1e-7*Math.pow(10,18))})},Q={classHash:"0x02797c4997ea0ca14401188bf6cbd4d89f0e632bd088088ab6cabf63c2056fc8",constructorCalldata:$},G=[].concat(Q).map((function(e){var t=e.classHash,n=e.salt,a=e.unique,r=void 0===a||a,i=e.constructorCalldata,c=void 0===i?[]:i,u=w["b"].compile(c),o=null!==n&&void 0!==n?n:w["m"].randomAddress();return{call:{contractAddress:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",entrypoint:"deployContract",calldata:[t,o,w["j"].toCairoBool(r),u.length].concat(Object(s["a"])(u))},address:w["i"].calculateContractAddressFromHash(r?w["g"].starkCurve.pedersen(H.selectedAddress,o):o,t,u,r?"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf":0)}})),Y=G.map((function(e){return e.call})),Z=G.map((function(e){return e.address})),console.log(Y),n.next=123,H.account.execute([D,Y[0]]);case 123:return n.sent,console.log(Z),n.next=127,Object(h["b"])({clearLastWallet:!0});case 127:(function(e){e[e["Uninitialized"]=0]="Uninitialized",e[e["MetadataV1"]=4]="MetadataV1",e[e["EditionV1"]=1]="EditionV1",e[e["MasterEditionV1"]=2]="MasterEditionV1",e[e["MasterEditionV2"]=6]="MasterEditionV2",e[e["EditionMarker"]=7]="EditionMarker"})(X||(X={})),ee=Object(a["a"])((function e(t){Object(r["a"])(this,e),this.name=t.name,this.symbol=t.symbol,this.uri=t.uri,this.sellerFeeBasisPoints=t.sellerFeeBasisPoints,this.creators=t.creators})),te=Object(a["a"])((function e(t){Object(r["a"])(this,e),this.key=X.MetadataV1,this.updateAuthority=t.updateAuthority,this.mint=t.mint,this.data=t.data,this.primarySaleHappened=t.primarySaleHappened,this.isMutable=t.isMutable,this.editionNonce=t.editionNonce})),ne=Object(a["a"])((function e(t){Object(r["a"])(this,e),this.address=t.address,this.verified=t.verified,this.share=t.share})),ae=new Map([[ee,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[ne]}]]}],[ne,{kind:"struct",fields:[["address","pubkeyAsString"],["verified","u8"],["share","u8"]]}],[te,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",ee],["primarySaleHappened","u8"],["isMutable","u8"]]}]]),re="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",se="metadata",ie=new Map,m["BinaryReader"].prototype.readPubkey=function(){var e=this,t=e.readFixedArray(32);return new f["PublicKey"](t)},m["BinaryWriter"].prototype.writePubkey=function(e){var t=this;t.writeFixedArray(e.toBuffer())},m["BinaryReader"].prototype.readPubkeyAsString=function(){var e=this,t=e.readFixedArray(32);return y.a.encode(t)},m["BinaryWriter"].prototype.writePubkeyAsString=function(e){var t=this;t.writeFixedArray(y.a.decode(e))},ce=function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t,n){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["PublicKey"].findProgramAddress(t,n);case 2:return a=e.sent,e.abrupt("return",[a[0].toBase58(),a[1]]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(e){if("string"!==typeof e)return e;var t=ie.get(e);return t||(t=new f["PublicKey"](e),ie.set(e,t)),t},le=new RegExp("\0","g"),de=function(e){try{var t=Object(m["deserializeUnchecked"])(ae,te,e);return t.data.name=t.data.name.replace(le,""),t.data.uri=t.data.uri.replace(le,""),t.data.symbol=t.data.symbol.replace(le,""),t}catch(n){console.log(n)}},fe=function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var n,a,r,s,c,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("working"),n=new f["Connection"]("https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ","confirmed"),e.next=4,n.getParsedTokenAccountsByOwner(t,{programId:d["TOKEN_PROGRAM_ID"]});case 4:return a=e.sent,e.next=7,Promise.all(a.value.filter((function(e){return 1===e.account.data.parsed.info.tokenAmount.uiAmount})).map((function(e){return oe(e.account.data.parsed.info.mint)})));case 7:return r=e.sent,s=r.map((function(e){return new f["PublicKey"](e)})),e.next=11,n.getMultipleAccountsInfo(s);case 11:return c=e.sent,u=c.filter((function(e){return null!==e})).map((function(e){return de(e.data)})),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var n,a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fe(t);case 2:n=e.sent,a={},n.map(function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a[t.updateAuthority]||(a[t.updateAuthority]=[]),n={name:t.data.name,symbol:t.data.symbol,mint:t.mint},a[t.updateAuthority].push(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me(new f["PublicKey"]("HQQPeFqTCrsr9taqDgx5tzxzbUednJUapZnruvGRJk5b"));case 146:case"end":return n.stop()}}),n,null,[[3,10],[13,21],[37,55,58,61],[72,83]])})))()}}}).call(this,n("1c35").Buffer)},3682:function(e,t,n){},"46a4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e._v(" 1 ")])},r=[],s=n("014f"),i=s["a"],c=(n("b751"),n("2877")),u=Object(c["a"])(i,a,r,!1,null,"1964afca",null);t["default"]=u.exports},b751:function(e,t,n){"use strict";n("3682")},d208:function(e,t,n){"use strict";t["a"]={zh:{rpcServer:{}},en:{rpcServer:{}}}}}]);