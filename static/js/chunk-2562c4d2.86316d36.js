(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2562c4d2"],{"1d1ab":function(t,e,a){},"40c1":function(t,e,a){"use strict";a.r(e);a("99af");var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("SuccessDialog",{ref:"SuccessDialog",attrs:{tx:t.tx}}),e("div",{staticClass:"flexBox"},[e("div",{staticClass:"infoBox"},[e("ul",{staticClass:"list"},t._l(t.renderList,(function(a,o){return e("li",{key:o},[e("div",{staticClass:"leftBox"},[e("div",{staticClass:"topBox smallBox"},[e("div",{staticClass:"imgBox"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":a.approve_icon}})],1),e("span",{staticClass:"name"},[t._v(t._s(a.approve_name))])]),a.token_contract?e("div",{staticClass:"bottomBox smallBox"},[e("div",{staticClass:"imgBox"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":a.token_icon}})],1),e("span",{staticClass:"name"},[t._v(t._s(a.token_name))])]):t._e()]),e("div",{staticClass:"rightBox"},[e("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.onSetInfo(a)}}},[t._v("GET")])],1)])})),0)]),e("div",{staticClass:"content"},[e("div",{staticClass:"checkAll"},[e("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:t.onCheckAllApprove}},[e("svg-icon",{attrs:{"icon-class":"certified"}}),t._v(" "+t._s(t.$t("customApprove.check_all"))+" "),e("i",{staticClass:"el-icon-right"})],1)],1),e("div",{staticClass:"headerBox"},[e("div",{staticClass:"bgIcon"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"certified"}})],1),e("h1",{staticClass:"title"},[t._v(t._s("".concat(t.customApproveType," ").concat(t.$t("route.customApprove"))))])]),e("el-form",{attrs:{"label-position":"top","label-suffix":":"}},[e("el-form-item",{staticClass:"item"},[e("el-radio-group",{model:{value:t.customApproveType,callback:function(e){t.customApproveType=e},expression:"customApproveType"}},[e("el-radio",{attrs:{label:"Token",border:""}},[t._v("Token")]),e("el-radio",{attrs:{label:"NFT",border:""}},[t._v("NFT")])],1)],1),e("el-form-item",{staticClass:"item",attrs:{label:"Chain"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{value:t.chainName,filterable:!0,size:"large"},on:{change:t.onChangeChain}},[e("div",{staticClass:"selectPrefixBox",attrs:{slot:"prefix"},slot:"prefix"},[e("svg-icon",{style:"color: ".concat(t.$coinInfo[t.chainName].color),attrs:{"icon-class":t.$coinInfo[t.chainName].icon}})],1),t._l(t.chainList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(a.label))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"16px"}},[e("svg-icon",{staticClass:"icon",style:"color:".concat(t.$coinInfo[a.value].color),attrs:{"icon-class":t.$coinInfo[a.value].icon}})],1)])}))],2)],1),e("el-form-item",{staticClass:"item",attrs:{label:"Action"}},[e("el-radio-group",{model:{value:t.approval_type,callback:function(e){t.approval_type=e},expression:"approval_type"}},[e("el-radio-button",{attrs:{border:"",label:0}},[t._v(t._s(t.$t("customApprove.approval")))]),e("el-radio-button",{attrs:{border:"",label:1}},[t._v(t._s(t.$t("customApprove.cancel_approval")))])],1)],1)],1),"Token"===t.customApproveType?e("el-form",{ref:"tokenForm",attrs:{rules:t.tokenFormRules,model:t.tokenForm,"label-position":"top","label-suffix":":"}},[e("el-form-item",{staticClass:"item",attrs:{label:t.$t("customApprove.token_address"),prop:"token_address"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.tokenForm.token_address,callback:function(e){t.$set(t.tokenForm,"token_address",e)},expression:"tokenForm.token_address"}})],1),e("el-form-item",{staticClass:"item",attrs:{prop:"approve_contract"}},[e("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[e("span",{staticClass:"label"},[t._v(t._s(t.$t("customApprove.approve_contract"))+" "),e("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[e("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.$t("customApprove.safety_tips"))},slot:"content"}),e("i",{staticClass:"el-icon-warning"})])],1)]),e("el-input",{staticStyle:{width:"100%"},model:{value:t.tokenForm.approve_contract,callback:function(e){t.$set(t.tokenForm,"approve_contract",e)},expression:"tokenForm.approve_contract"}})],1)],1):e("el-form",{ref:"nftForm",attrs:{model:t.nftForm,rules:t.nftFormRules,"label-position":"top","label-suffix":":"}},[e("el-form-item",{staticClass:"item",attrs:{label:t.$t("customApprove.nft_address"),prop:"nft_address"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.nftForm.nft_address,callback:function(e){t.$set(t.nftForm,"nft_address",e)},expression:"nftForm.nft_address"}})],1),e("el-form-item",{staticClass:"item",attrs:{prop:"approve_contract"}},[e("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[e("span",{staticClass:"label"},[t._v(t._s(t.$t("customApprove.approve_contract"))+" "),e("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[e("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.$t("customApprove.safety_tips"))},slot:"content"}),e("i",{staticClass:"el-icon-warning"})])],1)]),e("el-input",{staticStyle:{width:"100%"},model:{value:t.nftForm.approve_contract,callback:function(e){t.$set(t.nftForm,"approve_contract",e)},expression:"nftForm.approve_contract"}})],1)],1),e("el-form",{attrs:{"label-position":"top","label-suffix":":"}},[e("el-form-item",{staticClass:"item",attrs:{label:t.$t("customApprove.now_approve_status")}},[e("div",{staticClass:"statusBox"},[""!==t.approve_status?e("el-tag",{staticClass:"tags"},[t._v(t._s(-1===t.approve_status?t.$t("customApprove.unlimited"):t.approve_status))]):t._e(),e("el-button",{attrs:{type:"success",plain:"",size:"mini",loading:t.checkApproveLoading},on:{click:t.onCheckApprove}},[e("svg-icon",{attrs:{"icon-class":"certified"}}),t._v(t._s(t.$t("customApprove.check_approve_status"))+" ")],1)],1)])],1),e("div",{staticClass:"btnBox"},[e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.buttonLoad},on:{click:t.onConfirm}},[t._v(t._s("Confirm"))])],1)],1)])],1)},s=[],r=a("c7eb"),c=a("1da1"),n=a("5530"),i=(a("14d9"),a("ac1f"),a("5319"),a("ed08")),p={zh:{customApprove:{desc:"工具说明：检查您的钱包地址授权过哪些合约，请及时取消不信任的合约授权，保证你钱包的安全性！",smart_contract:"授权智能合约",token:"被授权Token",amount:"授权数量",donation:"请CoinTool 喝一杯 ☕️ 咖啡({amount}{sybmol})",alert_text:"当您向某项合约授权无限额度的权限，该项目有权支配您所有的资产，此类授权危险系数极大，建议您及时收回授权.",action:"操作",decline:"取消授权",decline_ok:"成功取消授权",addressError:"查询地址错误",unlock:"取消授权请先解锁钱包",privareaddress:"注意:这是私人钱包，请立即取消授权!",addressZero:"你没有授权代币给合约过，很棒!",unlimited:"无限",sleep:"查询过程缓慢，请耐心等待!",inputPlaceholder:"请输入你要检查的地址",dangerLevel:"危险等级",high:"高",low:"低",search_error:"当前查询频率高峰，请10秒后尝试",timeout_tips:"RPC查询超时，请重试",batchCancel:"取消所有授权",stopScan:"取消扫描",history_record:"历史授权记录",approve_contract:"授信合约(如Uniswap、pancakeswap)",nft_address:"NFT合约地址",approval:"授信",cancel_approval:"取消授信",approve_checker:"授信检查",approve_number:"授权数量",token_address:"Token 地址",transferSuccess:"交易成功",safety_tips:"请确定授信合约安全！如遇到恶意合约请及时取消！",now_approve_status:"当前授权状态",check_all:"检测所有授权",check_approve_status:"检查授权状态"}},en:{customApprove:{desc:"Tips: check your wallet address authorized those contracts, please cancel the authorization of the contracts do not trust, to ensure the security of your wallet!",smart_contract:"Contract",token:"Token",amount:"Allowance",sleep:"The query process is slow, please be patient!",donation:"please CoinTool - CT.App  Have a cup of coffee ({amount}{sybmol})",alert_text:"When you authorize an unlimited amount of access to a contract, the program has the right to control all of your assets, this type of authorization is extremely dangerous and you are advised to withdraw it in time.",action:"Action",decline:"Revoke",decline_ok:"Successfully Decline",addressError:"Address Error",addressZero:"You don't have an allowance token for a contract. It's great!",unlimited:"Unlimited",unlock:"Please unlock wallet",privareaddress:"Attention:This is a private wallet, please cancel authorization now!",inputPlaceholder:"Please enter the address you want to check",dangerLevel:"Danger level",high:"High",low:"Low",search_error:"Current query peak, please try 10 seconds later",timeout_tips:"RPC query timed out. Please try again",batchCancel:"All Revoke",stopScan:"Stop Scan",history_record:"Historical record",approve_contract:"Approve Contract",nft_address:" NFT address",approval:"Approval",cancel_approval:"Cancel Approval",approve_checker:"Approve Checker",approve_number:"Approve Number",token_address:"Token Address",transferSuccess:"Transfer Success",safety_tips:"Please confirm the Approve contract is safe! <br> If encounter malicious contract, please cancel in time!",now_approve_status:"Approve Status",check_all:"Check All Approve",check_approve_status:"Check Approve Status"}}},l=a("2f62"),f=a("a835"),u=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{width:t.isPc?"600px":"90%",title:t.$t("customApprove.transferSuccess"),"modal-append-to-body":!1,visible:t.isShowDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e}}},[e("div",{staticClass:"dialogBox"},[e("el-alert",{staticClass:"smaillBox",attrs:{title:"TX",type:"success",closable:!1,"show-icon":""}},[e("el-link",{staticClass:"link",attrs:{type:"success",target:"_blank",href:"".concat(t.blockTxurl,"/tx/").concat(t.tx)}},[t._v(t._s("".concat(t.blockTxurl,"/tx/").concat(t.tx))+" ")])],1),e("div",{staticClass:"btnBox"},[e("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"".concat(t.blockTxurl,"/tx/").concat(t.tx),expression:"`${blockTxurl}/tx/${tx}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("common.copy"))+" ")])],1)],1)])},d=[],v={inject:["onCheckConnect","onCopySuccess"],components:{},props:{tx:{type:String,require:!0}},data:function(){return{blockTxurl:"",isShowDialog:!1}},computed:Object(n["a"])({},Object(l["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){this.blockTxurl=f["a"].resolveLinkOnEtherscan()},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},m=v,_=(a("eacf"),a("2877")),h=Object(_["a"])(m,u,d,!1,null,"a693c6b0",null),b=h.exports,k=a("5ba3"),x="customApprove",g=Object(n["a"])(Object(n["a"])({name:x,inject:["onCheckConnect"],components:{SuccessDialog:b},props:{}},Object(l["b"])(["isPc"])),{},{data:function(){return{checkApproveLoading:!1,buttonLoad:!1,customApproveType:"Token",approval_type:0,chainName:"eth",loading:!1,tokenFormRules:{},nftFormRules:{},tokenForm:{token_address:"",approve_contract:""},nftForm:{nft_address:"",approve_contract:""},tx:"",chainList:[],approve_status:"",tokenList:[{approve_icon:"uniswap",approve_contract:"0x7a250d5630b4cf539739df2c5dacb4c659f2488d",approve_name:"UNISWAP V2"},{approve_icon:"uniswap",approve_contract:"0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45",approve_name:"UNISWAP V3"},{token_icon:"eth1",token_contract:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",token_name:"WETH",approve_icon:"opensea",approve_contract:"0x1E0049783F008A0085193E00003D00cd54003c71",approve_name:"OPENSEA offer"},{token_icon:"eth1",token_contract:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",token_name:"WETH",approve_icon:"opensea",approve_contract:"0xe5c783ee536cf5e63e792988335c4255169be4e1",approve_name:"OPENSEA(old Wyvern) offer"},{approve_icon:"pancakeswap",approve_contract:"0x10ed43c718714eb63d5aa57b78b54704e256024e",approve_name:"PancakeSwap"}],nftList:[{approve_icon:"opensea",approve_contract:"0x1E0049783F008A0085193E00003D00cd54003c71",approve_name:"OpenSea Listing"},{approve_icon:"x2y2",approve_contract:"0xF849de01B080aDC3A814FaBE1E2087475cF2E354",approve_name:"X2Y2: ERC721 Delegate"}]}},computed:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["isPc","account"])),{},{renderList:function(){return"NFT"===this.customApproveType?this.nftList:this.tokenList}}),watch:{account:function(t){this.tokenForm.address=t.toLowerCase(),this.tokenForm.web3Address=t.toLowerCase()},$route:{immediate:!0,handler:function(t){}}},created:function(){this.$i18n.getLocaleMessage("en")[x]||(this.$i18n.mergeLocaleMessage("en",p.en),this.$i18n.mergeLocaleMessage("zh",p.zh));var t=this.$route.meta.chainName;this.chainList=Object(i["s"])(x),this.chainName=t,this.tokenFormRules={token_address:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],approve_contract:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}]},this.nftFormRules={nft_address:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}],approve_contract:[{required:!0,message:this.$t("common.not_empty"),trigger:"change"}]}},mounted:function(){},methods:{onCheckAllApprove:function(){this.$router.push({path:"/approve/".concat(this.chainName)})},onSetInfo:function(t){"NFT"===this.customApproveType?this.nftForm={nft_address:t.token_contract,approve_contract:t.approve_contract}:this.tokenForm={token_address:t.token_contract,approve_contract:t.approve_contract}},onChangeChain:function(t){this.$router.replace({path:"/".concat(x,"/").concat(t),query:this.$route.query})},onCheckApprove:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var a,o,s,c,n,i,p;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Token"!==t.customApproveType){e.next=5;break}return e.next=3,t.$refs["tokenForm"].validate();case 3:e.next=7;break;case 5:return e.next=7,t.$refs["nftForm"].validate();case 7:if(t.checkApproveLoading=!0,e.prev=8,"Token"!==t.customApproveType){e.next=23;break}return a="0xdd62ed3e000000000000000000000000".concat(f["a"].getAccount().substring(2,50),"000000000000000000000000").concat(t.tokenForm.approve_contract.substring(2,50)),e.next=13,f["a"].sendEthcall({from:f["a"].getAccount(),to:t.tokenForm.token_address,data:a});case 13:return o=e.sent,e.next=16,f["a"].sendEthcall({from:f["a"].getAccount(),to:t.tokenForm.token_address,data:"0x313ce567"});case 16:s=e.sent,c=parseInt(o)/Math.pow(10,parseInt(s)),console.log(o),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"===o&&(c=-1),t.approve_status=c,e.next=29;break;case 23:return n="0xe985e9c5000000000000000000000000".concat(f["a"].getAccount().substring(2,50),"000000000000000000000000").concat(t.nftForm.approve_contract.substring(2,50)),e.next=26,f["a"].sendEthcall({from:f["a"].getAccount(),to:t.nftForm.nft_address,data:n});case 26:i=e.sent,p=1===parseInt(i)?"Already Approve":"No Approve",t.approve_status=p;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e["catch"](8),console.log(e.t0);case 34:return e.prev=34,t.checkApproveLoading=!1,e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[8,31,34,37]])})))()},onConfirm:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var a,o,s,c,n,i,p,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Token"!==t.customApproveType){e.next=5;break}return e.next=3,t.$refs["tokenForm"].validate();case 3:e.next=7;break;case 5:return e.next=7,t.$refs["nftForm"].validate();case 7:if(t.onCheckConnect()){e.next=9;break}return e.abrupt("return");case 9:return t.buttonLoad=!0,"Token"===t.customApproveType?(a=t.tokenForm.token_address,o=1===t.approval_type?"0x095ea7b3000000000000000000000000"+t.tokenForm.approve_contract.replace("0x","").toLowerCase()+"0000000000000000000000000000000000000000000000000000000000000000":"0x095ea7b3000000000000000000000000"+t.tokenForm.approve_contract.replace("0x","").toLowerCase()+"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"):(a=t.nftForm.nft_address,o=1===t.approval_type?"0xa22cb465000000000000000000000000"+t.nftForm.approve_contract.replace("0x","")+"0000000000000000000000000000000000000000000000000000000000000000":"0xa22cb465000000000000000000000000"+t.nftForm.approve_contract.replace("0x","")+"0000000000000000000000000000000000000000000000000000000000000001"),s={from:f["a"].getAccount(),to:a,value:"0x0",data:o},e.prev=12,e.next=15,f["a"].sendEthestimateGas(s);case 15:c=e.sent,n=parseInt(c)+.3*parseInt(c),s.gas=Object(k["toHex"])(parseInt(n)),e.next=22;break;case 20:e.prev=20,e.t0=e["catch"](12);case 22:return i=t,e.prev=23,e.next=26,f["a"].sendTransaction(s);case 26:return p=e.sent,e.next=29,f["a"].getTransactionSuccess(p);case 29:l=e.sent,200===l.code&&(i.buttonLoad=!1),t.tx=p,t.$refs.SuccessDialog.show(),e.next=40;break;case 35:return e.prev=35,e.t1=e["catch"](23),t.$message({message:i.$t("common.transactionError")+": "+e.t1,type:"error"}),t.buttonLoad=!1,e.abrupt("return");case 40:case"end":return e.stop()}}),e,null,[[12,20],[23,35]])})))()}}}),C=g,y=(a("6afd"),Object(_["a"])(C,o,s,!1,null,"fb05440e",null));e["default"]=y.exports},"6afd":function(t,e,a){"use strict";a("eab4")},eab4:function(t,e,a){},eacf:function(t,e,a){"use strict";a("1d1ab")}}]);