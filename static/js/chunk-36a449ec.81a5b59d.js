(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36a449ec"],{"0f9f":function(e,t,o){"use strict";o("5091")},5091:function(e,t,o){},"5cf3":function(e,t,o){"use strict";o.r(t);o("99af");var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"container"},[t("CreateSuccessDialog",{ref:"CreateSuccessDialog",attrs:{"view-name":e.viewName,amm_id:e.amm_id}}),t("div",{class:"flexBox"},[t("div",{staticClass:"header"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"solana"}}),t("span",{staticClass:"headerTitle"},[e._v(" "+e._s("Solana Token "+e.$t("route.sol-liquidity"))+" ")])],1),e.isPc?t("div",{staticClass:"otherLink"},[t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/multiSender/").concat(e.chainName),target:"_blank"}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),e._v(" "+e._s(e.$t("route.multiSenderSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")],1),e.isZh?e._e():t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/createToken/").concat(e.chainName),target:"_blank"}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),e._v(" "+e._s(e.$t("route.createTokenSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")],1),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/batchCollection/").concat(e.chainName),target:"_blank"}},[e._v(" "+e._s(e.$t("route.batchCollectionSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")]),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/createWallet/").concat(e.chainName),target:"_blank"}},[e._v(" "+e._s(e.$coinInfo[e.chainName].symbol)+" "+e._s(e.$t("route.createWallet"))+" ")])],1):e._e(),t("div",{staticClass:"content"},[t("div",{staticClass:"listTitle"},[t("span",{staticClass:"left"},[t("svg-icon",{attrs:{"icon-class":"tools"}}),e._v(" "+e._s("CoinTool.App")+" ")],1)]),t("div",{staticClass:"checkAll",on:{click:e.onShare}},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"share"}})],1),t("CoinToolTab",{attrs:{list:e.tabList,active:e.tabActive},on:{"update:active":function(t){e.tabActive=t}}}),t("el-form",{ref:"form",attrs:{rules:e.formRules,model:e.form,"label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"baseToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".baseToken")))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("The token you have created and has no value yet.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",filterable:!0},model:{value:e.form.baseToken,callback:function(t){e.$set(e.form,"baseToken",t)},expression:"form.baseToken"}},e._l(e.addressOptions,(function(o,a){return t("el-option",{key:a,attrs:{label:"".concat(o.label?"".concat(o.label," - "):"").concat(e.getMiniAddress(o.value)),value:o.value}},[t("span",{staticStyle:{float:"left"}},[o.label&&"SOL"!==o.value?[e._v(" "+e._s(o.label)+" - ")]:e._e(),e._v(e._s(e._f("autoAddress")(o.value)))],2),"SOL"!==o.value?t("span",{staticStyle:{float:"right","margin-left":"20px",color:"#8492a6","font-size":"13px"}},[o.is2022?t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("SPL 2022")]):e._e(),e._v(" Balance : "+e._s(o.tokenBalance))],1):e._e()])})),1)],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"quoteToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".quoteToken")))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("A token with market value. Usually SOL or USDC.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",filterable:!0},model:{value:e.form.quoteToken,callback:function(t){e.$set(e.form,"quoteToken",t)},expression:"form.quoteToken"}},e._l(e.quoteTokenList,(function(o,a){return t("el-option",{key:a,attrs:{label:"".concat(o.label?"".concat(o.label," - "):"").concat(e.getMiniAddress(o.value)),value:o.value}},[t("span",{staticStyle:{float:"left"}},[o.label&&"SOL"!==o.value?[e._v(" "+e._s(o.label)+" - ")]:e._e(),e._v(e._s(e._f("autoAddress")(o.value)))],2),"SOL"!==o.value?t("span",{staticStyle:{float:"right","margin-left":"20px",color:"#8492a6","font-size":"13px"}},[o.is2022?t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("SPL 2022")]):e._e(),e._v(" Balance : "+e._s(o.tokenBalance))],1):e._e()])})),1)],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"baseTokenInitialLiquidity"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".baseTokenInitialLiquidity")))),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:""!==e.form.baseTokenName,expression:"form.baseTokenName!==''"}],staticStyle:{margin:"0 4px"},attrs:{size:"mini"}},[e._v(e._s(e.form.baseTokenName))]),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("tips???")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,clearable:""},model:{value:e.form.baseTokenInitialLiquidity,callback:function(t){e.$set(e.form,"baseTokenInitialLiquidity",t)},expression:"form.baseTokenInitialLiquidity"}}),t("div",{staticClass:"tokenInfoBox"},[t("div",{staticClass:"leftBox"},[t("span",[e._v("Balance: "+e._s(e.form.baseTokenBalance))])]),t("div",{staticClass:"rightBox"},[t("el-tag",{staticClass:"tags",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.onSetBalance("baseToken",50)}}},[e._v("HALF")]),t("el-tag",{staticClass:"tags",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.onSetBalance("baseToken",100)}}},[e._v("MAX")])],1)])],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"quoteTokenInitialLiquidity"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".quoteTokenInitialLiquidity")))),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:""!==e.form.quoteTokenName,expression:"form.quoteTokenName!==''"}],staticStyle:{margin:"0 4px"},attrs:{size:"mini"}},[e._v(e._s(e.form.quoteTokenName))]),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("1111")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,clearable:""},model:{value:e.form.quoteTokenInitialLiquidity,callback:function(t){e.$set(e.form,"quoteTokenInitialLiquidity",t)},expression:"form.quoteTokenInitialLiquidity"}}),t("div",{staticClass:"tokenInfoBox"},[t("div",{staticClass:"leftBox"},[t("span",[e._v("Balance: "+e._s(e.form.quoteTokenBalance))])]),t("div",{staticClass:"rightBox"},[t("el-tag",{staticClass:"tags",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.onSetBalance("quoteToken",50)}}},[e._v("HALF")]),t("el-tag",{staticClass:"tags",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.onSetBalance("quoteToken",100)}}},[e._v("MAX")])],1)])],1)],1),t("el-col",{attrs:{span:24,xs:{span:24}}},[t("el-form-item",{staticClass:"item"},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s("MARKET ID")+" ")]),e._v(" "),t("el-button",{attrs:{type:"success",loading:e.isFindMkLoading,plain:""},on:{click:function(t){return e.getMarketIdList()}}},[e._v("Find Market Id")])],1),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("".concat(e.viewName,".market_list_placeholder"))},model:{value:e.form.market_id,callback:function(t){e.$set(e.form,"market_id",t)},expression:"form.market_id"}},e._l(e.marketIdList,(function(o,a){return t("el-option",{key:a,attrs:{label:o.label,value:o.value}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(o.label))])])})),1)],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"startTime"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s("Start time (Optional):")+" ")])]),t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item"},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s("Price:")+" ")])]),t("el-tag",{staticStyle:{"margin-right":"10px"},attrs:{type:"success",size:"mini"}},[e._v(e._s(e.form.quoteTokenName)+" = "+e._s(e.quoteBuybasePrice)+" "+e._s(e.form.baseTokenName))]),t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("1 "+e._s(e.form.baseTokenName)+" = "+e._s(e.baseBuyquotePrice)+" "+e._s(e.form.quoteTokenName))])],1)],1)],1)],1),t("div",{staticClass:"tipsBox"},[t("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"Need to create a market ID here and then add liquidity.",type:"info"}},[t("div",{staticClass:"linkBox"},[t("a",{attrs:{href:"https://raydium.io/liquidity/create/",target:"_black"}},[e._v("Create pool "),t("i",{staticClass:"el-icon-link linkIcon"})])])]),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.form.baseTokenIs2022||e.form.quoteTokenIs2022,expression:"form.baseTokenIs2022 || form.quoteTokenIs2022"}],staticStyle:{"margin-bottom":"20px"},attrs:{title:"Token 2022 Add liquidity pool:Raydium does not support Amm pools, only CLMM pools",type:"info"}},[t("div",{staticClass:"linkBox"},[t("a",{attrs:{href:"https://docs.raydium.io/raydium/updates/token-2022-support",target:"_black"}},[e._v("raydium token2022 "),t("i",{staticClass:"el-icon-link linkIcon"})]),t("a",{attrs:{href:"https://docs.raydium.io/raydium/pool-creation/creating-a-clmm-pool-and-farm",target:"_black"}},[e._v("Create clmm pool doc "),t("i",{staticClass:"el-icon-link linkIcon"})]),t("a",{attrs:{href:"https://raydium.io/clmm/create-pool/",target:"_black"}},[e._v("Create clmm pool "),t("i",{staticClass:"el-icon-link linkIcon"})])])])],1),t("div",{staticClass:"btnBox"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"btn",attrs:{type:"danger"},on:{click:e.onStop}},[e._v("STOP")]),"create"===e.tabActive?t("el-button",{staticClass:"btn",attrs:{type:"success",loading:e.isLoading},on:{click:e.onCreateLp}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".create_liquidity")))+" ")]):e._e(),"add"===e.tabActive?t("el-button",{staticClass:"btn",attrs:{type:"success",loading:e.isLoading},on:{click:e.onAddLP}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".add_liquidity")))+" ")]):e._e(),"remove"===e.tabActive?t("el-button",{staticClass:"btn",attrs:{type:"success",loading:e.isLoading},on:{click:e.onRemoveLp}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".remove_liquidity")))+" ")]):e._e(),e.createFee>0?t("p",{staticClass:"feeTips"},[e._v("Fees = Tool "+e._s(e.createFee)+" SOL + Market creation cost")]):e._e()],1),e._m(0)],1)])],1)},n=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"fqaBox"},[t("h4",[e._v(" Pool creation requires the creation of a market ID and a base token to have freeze authority disabled. ")])])}],i=o("c7eb"),s=o("1da1"),c=o("2909"),r=o("5530"),l=(o("a434"),o("b680"),o("7db0"),o("d3b7"),o("a9e3"),o("d81d"),o("159b"),o("14d9"),o("25f0"),o("ed08")),u=o("2f62"),d=o("ab9c"),b={zh:{"sol-liquidity":{baseTokenInitialLiquidity:"Base Token Initial Liquidity:",quoteTokenInitialLiquidity:"Quote Token Initial Liquidity:",baseToken:"Base Token",quoteToken:"Quote Token",minOrderSize:"Min Order Size (Minimum Buy)",tickSize:"Tick Size (Minimum Price Change)",advancedOptions:"Advanced Options",eventQueueLength:"Event Queue Length",requestQueueLength:"Request Queue Length",orderbookLength:"Orderbook Length",editTips:"Please don’t modify these lenghts if you don’t know",howWorks:"how the OpenBook works.",create_market_id:"Create MARKET ID",create_liquidity:"Create Liquidity",remove_liquidity:"Remove Liquidity",add_liquidity:"Add Liquidity",market_tips:"请保存好你创建的 MARKET ID 这非常重要，CoinTool 不存储信息，请去 https://raydium.io/liquidity/create/ 创建流动性",amm_id_tips:"amm_id_tips",no_find_market_id:"没有找到当前Token创建的 MARKET ID",market_list_placeholder:"请先选择 Base Token 与 Quote Token"}},en:{"sol-liquidity":{baseTokenInitialLiquidity:"Base Token Initial Liquidity:",quoteTokenInitialLiquidity:"Quote Token Initial Liquidity:",baseToken:"Base Token",quoteToken:"Quote Token",minOrderSize:"Min Order Size (Minimum Buy)",tickSize:"Tick Size (Minimum Price Change)",advancedOptions:"Advanced Options",eventQueueLength:"Event Queue Length",requestQueueLength:"Request Queue Length",orderbookLength:"Orderbook Length",editTips:"Please don’t modify these lenghts if you don’t know",howWorks:"how the OpenBook works.",create_market_id:"Create MARKET ID",create_liquidity:"Create Liquidity",remove_liquidity:"Remove Liquidity",add_liquidity:"Add Liquidity",market_tips:"Please save the MARKET ID you created, this is very important, CoinTool does not store the information, go to https://raydium.io/liquidity/create/ to create liquidity",amm_id_tips:"amm_id_tips",no_find_market_id:"No MARKET ID found for the current Token creation",market_list_placeholder:"Please select Base Token and Quote Token first."}}},m=o("901e"),p=o.n(m),f=o("399f"),k=o.n(f),v=o("901ed"),y=o("6c05"),h=o("64b9"),T=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"append-to-body":!0,width:e.isPc?"600px":"90%",title:"AMM ID Create Success",visible:e.isShowDialog,"close-on-click-modal":!1,"close-on-press-escape":!1,center:""},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("el-alert",{staticClass:"smaillBox",attrs:{title:"AMM ID",type:"success",closable:!1,"show-icon":""}},[t("el-tag",[e._v(e._s(e.market_id))])],1)],1),t("el-alert",{staticStyle:{"margin-top":"20px"},attrs:{title:e.$t("".concat(e.viewName,".amm_id_tips")),type:"error"}}),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.market_id,expression:"market_id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"button",attrs:{icon:"el-icon-copy-document",type:"primary"}},[e._v(" "+e._s(e.$t("common.copy"))+" AMM ID ")])],1)],1)},O=[],_={inject:["onCopySuccess","onOpenNewTab"],components:{},props:{market_id:{require:!0,type:[String,Number]},viewName:{require:!0,type:String}},data:function(){return{isShowDialog:!1,newForm:null}},computed:Object(r["a"])({},Object(u["b"])(["isPc","language"])),deactivated:function(){this.isShowDialog=!1},destroyed:function(){this.isShowDialog=!1},created:function(){},methods:{show:function(){this.isShowDialog=!this.isShowDialog},onSetting:function(){this.show()}}},g=_,w=(o("0f9f"),o("2877")),q=Object(w["a"])(g,T,O,!1,null,"c9b6ae0e",null),L=q.exports,I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tabDiv"},[t("ul",{staticClass:"tab"},e._l(e.list,(function(o){return t("li",{key:o.value,class:{on:e.active===o.value},on:{click:function(t){return e.$emit("update:active",o.value)}}},[e._v(" "+e._s(o.label)+" ")])})),0)])},j=[],C={components:{},props:{list:{type:Array,default:function(){return[]}},active:{type:[String],require:!0}},computed:Object(r["a"])({},Object(u["b"])(["isPc","chainId","account"])),data:function(){return{}},methods:{}},A=C,M=(o("6ca4"),Object(w["a"])(A,I,j,!1,null,"5feaa78a",null)),x=M.exports,S=o("5e3c");console.log("",S["ENDPOINT"]+S["RAYDIUM_MAINNET"].poolInfo);var N="sol-liquidity",B={name:N,inject:["onCheckConnect","onCopySuccess","onShare","onOpenNewTab"],components:{CreateSuccessDialog:L,CoinToolTab:x},props:{},data:function(){return{lpToken:null,tokenAccount:null,poolKeys:null,walletVersionArr:[],viewName:N,chainName:"sol",formRules:{},isLoading:!1,amm_id:"",marketIdList:[],baseSolBalance:0,quoteBuybasePrice:0,baseBuyquotePrice:0,tabList:[{label:"Create Liquidity",value:"create"},{label:"Add Liquidity",value:"add"},{label:"Remove Liquidity",value:"remove"}],tabActive:"create",form:{baseTokenDecimals:6,baseTokenBalance:"11",baseTokenIs2022:!1,quoteTokenIs2022:!1,quoteTokenDecimals:6,quoteTokenBalance:"22",baseTokenName:"",baseToken:"",quoteTokenName:"",quoteToken:"",market_id:"",quoteTokenInitialLiquidity:"",baseTokenInitialLiquidity:"",startTime:""},loading_address:!1,isFindMkLoading:!1,addressOptions:[],addressOptionsQuoteToken:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(u["b"])(["isPc","account","chainId","solNetwork","solAccount","isZh","navShowChain","language"])),{},{createFee:function(){return Object(d["k"])("".concat(this.tabActive.toUpperCase(),"_LIQUIDITY"))},quoteTokenList:function(){var e=[{value:"So11111111111111111111111111111111111111112",label:"WSOL",is2022:!1,mintAddress:new h["PublicKey"]("So11111111111111111111111111111111111111112"),tokenBalance:this.baseSolBalance,tokenName:"WSOL",symbol:"WSOL",decimals:9}];for(var t in this.addressOptions)for(var o in e)this.addressOptions[t].value.toLowerCase()===e[o].value.toLowerCase()&&(e[o].tokenBalance=this.addressOptions[t].tokenBalance,this.addressOptions.splice(t,1));return this.addressOptionsQuoteToken=[].concat(e,Object(c["a"])(this.addressOptions)),this.addressOptionsQuoteToken}}),watch:{"form.baseTokenInitialLiquidity":function(e){this.quoteBuybasePrice=new p.a(e).div(this.form.quoteTokenInitialLiquidity).toFixed(this.form.baseTokenDecimals),this.baseBuyquotePrice=new p.a(this.form.quoteTokenInitialLiquidity).div(e).toFixed(this.form.quoteTokenDecimals)},"form.quoteTokenInitialLiquidity":function(e){this.quoteBuybasePrice=new p.a(this.form.baseTokenInitialLiquidity).div(e).toFixed(this.form.baseTokenDecimals),this.baseBuyquotePrice=new p.a(e).div(this.form.baseTokenInitialLiquidity).toFixed(this.form.quoteTokenDecimals)},"form.selectConfig":function(e){var t=this.solConfigArr.find((function(t){return t.value===e}));t&&(this.form.eventQueueLength=t.eventQueueLength,this.form.requestQueueLength=t.requestQueueLength,this.form.orderbookLength=t.orderbookLength)},"form.baseToken":function(e){var t=this.addressOptions.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}));console.log(t,"coinInfo"),this.form.baseTokenName=t.symbol,this.form.baseTokenIs2022=t.is2022,this.form.baseTokenDecimals=Number(t.decimals),this.form.baseTokenBalance=t.tokenBalance},"form.quoteToken":function(e){var t=this.addressOptionsQuoteToken.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}));console.log(t,"coinInfo"),this.form.quoteTokenName=t.symbol,this.form.quoteTokenIs2022=t.is2022,this.form.quoteTokenDecimals=Number(t.decimals),this.form.quoteTokenBalance=t.tokenBalance},solAccount:function(e){""!==e&&this.init()}},beforeDestroy:function(){},created:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$i18n.getLocaleMessage("en")[N]||(e.$i18n.mergeLocaleMessage("en",b.en),e.$i18n.mergeLocaleMessage("zh",b.zh)),e.formRules={baseToken:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],quoteToken:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],minOrderSize:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],tickSize:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}]};case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){},methods:{getMiniAddress:l["m"],onSetBalance:function(e,t){this.form["".concat(e,"InitialLiquidity")]=this.form["".concat(e,"Balance")]*(t/100)},init:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var o,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("init"),e.initData=!0,o=d["d"][e.solNetwork],window.solConnection=new h["Connection"](o,"confirmed"),t.next=6,window.solConnection.getBalance(new h["PublicKey"](e.solAccount));case 6:return a=t.sent,e.baseSolBalance=new p.a(a).div(Math.pow(10,9)).toNumber(),t.next=10,e.getAllSolTokenInfo(e.solAccount);case 10:e.addressOptions=t.sent,console.log(e.addressOptions,"this.addressOptions"),e.loading_address=!1;case 13:case"end":return t.stop()}}),t)})))()},getMarketIdList:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var o,a,n,s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isFindMkLoading=!0,e.marketIdList=[],""===e.form.baseToken||""===e.form.quoteToken||!e.solAccount){t.next=15;break}return o=window.solisDev="Mainnet"!==e.solNetwork,a=o?S["DEVNET_PROGRAM_ID"]:S["MAINNET_PROGRAM_ID"],t.next=7,Object(d["j"])(new h["PublicKey"](e.form.baseToken),window.solConnection);case 7:if(n=t.sent,!n.freezeAuthority){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,window.solConnection.getProgramAccounts(a.OPENBOOK_MARKET,{commitment:"confirmed",filters:e.findMarketFilters(a.OPENBOOK_MARKET,new h["PublicKey"](e.form.baseToken),new h["PublicKey"](e.form.quoteToken))});case 12:s=t.sent,e.marketIdList=s.map((function(e){return console.log(e.pubkey.toBase58(),"item"),{label:e.pubkey.toBase58(),value:e.pubkey}})),s.length>0&&(e.form.market_id=e.marketIdList[0].value);case 15:e.isFindMkLoading=!1;case 16:case"end":return t.stop()}}),t)})))()},getAllSolTokenInfo:function(e){return Object(s["a"])(Object(i["a"])().mark((function t(){var o,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=[],t.next=3,Object(d["l"])(e);case 3:return a=t.sent,a.forEach((function(e){o.push(Object(r["a"])(Object(r["a"])({is2022:e.is2022,value:e.token,label:e.symbol},e),{},{mintAddress:new h["PublicKey"](e.mintAddress)}))})),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})))()},onStop:function(){this.isStop=!0,this.isLoading=!1,clearInterval(this.t1)},onCreateLp:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var o,a,n,r,l,u,b,m,f,v,y,T,O,_,g,w,q,L,I;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a="Mainnet"!==e.solNetwork,n=a?S["DEVNET_PROGRAM_ID"]:S["MAINNET_PROGRAM_ID"],!e.form.baseTokenIs2022&&!e.form.quoteTokenIs2022){t.next=6;break}return e.$message.error("Token2022 does not support the creation of Amm pools, please see the page for details."),e.isStop=!1,t.abrupt("return");case 6:if(r={baseMint:e.form.baseToken,quoteMint:e.form.quoteToken,baseTokenInitialLiquidity:e.form.baseTokenInitialLiquidity,quoteTokenInitialLiquidity:e.form.quoteTokenInitialLiquidity},!(Number(e.form.baseTokenInitialLiquidity)<=0)){t.next=10;break}return e.$message.error("Base Token Initial Liquidity must > 0"),t.abrupt("return");case 10:if(!(Number(e.form.quoteTokenInitialLiquidity)<=0)){t.next=13;break}return e.$message.error("Quote Token Initial Liquidity must > 0"),t.abrupt("return");case 13:if(e.isLoading=!0,l=new h["PublicKey"](e.solAccount),0!==e.marketIdList.length){t.next=19;break}return e.isLoading=!1,e.$confirm(e.$t("".concat(N,".no_find_market_id")),"Warning",{confirmButtonText:e.$t("".concat(N,".create_market_id")),cancelButtonText:e.$t("common.cancel"),type:"warning",center:!0}).then(Object(s["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.onOpenNewTab("".concat(e.$origin,"/sol/openbook-market"));case 1:case"end":return t.stop()}}),t)})))),t.abrupt("return");case 19:return u=e.form.market_id,console.log(u,"marketId"),b=""===e.form.startTime?Math.floor(Date.now()/1e3):new Date(e.form.startTime).getTime()/1e3,m=new k.a(new p.a(r.baseTokenInitialLiquidity).times(Math.pow(10,Number(e.form.baseTokenDecimals))).toFixed(0)),f=new k.a(new p.a(r.quoteTokenInitialLiquidity).times(Math.pow(10,Number(e.form.quoteTokenDecimals))).toFixed(0)),console.log(b),console.log("onConfirm"),v=new S["Token"](S["TOKEN_PROGRAM_ID"],r.baseMint,Number(e.form.baseTokenDecimals)),y=new S["Token"](S["TOKEN_PROGRAM_ID"],r.quoteMint,Number(e.form.quoteTokenDecimals)),t.next=30,window.solConnection.getTokenAccountsByOwner(l,{programId:S["TOKEN_PROGRAM_ID"]});case 30:return T=t.sent,O=T.value.map((function(e){return{pubkey:e.pubkey,programId:e.account.owner,accountInfo:S["SPL_ACCOUNT_LAYOUT"].decode(e.account.data)}})),_=S["TxVersion"].V0,t.next=35,S["Liquidity"].makeCreatePoolV4InstructionV2Simple({connection:window.solConnection,programId:n.AmmV4,marketInfo:{marketId:u,programId:n.OPENBOOK_MARKET},baseMintInfo:v,quoteMintInfo:y,baseAmount:m,quoteAmount:f,startTime:new k.a(b),ownerInfo:{feePayer:l,wallet:l,tokenAccounts:O,useSOLBalance:!0},associatedOnly:!1,checkCreateATAOwner:!0,makeTxVersion:_,feeDestinationId:a?new h["PublicKey"]("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR"):new h["PublicKey"]("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5")});case 35:return g=t.sent,w=g.innerTransactions,q=g.address,L=(o=new h["Transaction"]).add.apply(o,Object(c["a"])(w)),console.log("AMM ID:",q.ammId.toBase58()),t.prev=40,t.next=43,Object(d["n"])(Object(d["k"])("CREATE_LIQUIDITY"),L,[]);case 43:I=t.sent,console.log(I),I&&(e.amm_id=q.ammId.toBase58(),e.$refs.CreateSuccessDialog.show()),t.next=51;break;case 48:t.prev=48,t.t0=t["catch"](40),console.log("error",t.t0);case 51:return t.prev=51,e.isStop=!1,e.isLoading=!1,t.finish(51);case 55:console.log(e.form,"this.form");case 56:case"end":return t.stop()}}),t,null,[[40,48,51,55]])})))()},findLp:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var o,a,n,s,c,r,l,u;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o="Mainnet"!==e.solNetwork,a=o?S["DEVNET_PROGRAM_ID"]:S["MAINNET_PROGRAM_ID"],n={baseMint:e.form.baseToken,quoteMint:e.form.quoteToken,baseTokenInitialLiquidity:e.form.baseTokenInitialLiquidity,quoteTokenInitialLiquidity:e.form.quoteTokenInitialLiquidity},s=new S["Token"](S["TOKEN_PROGRAM_ID"],n.baseMint,Number(e.form.baseTokenDecimals)),c=new S["Token"](S["TOKEN_PROGRAM_ID"],n.quoteMint,Number(e.form.quoteTokenDecimals)),t.next=7,window.solConnection.getProgramAccounts(a.OPENBOOK_MARKET,{commitment:"confirmed",filters:e.findMarketFilters(a.OPENBOOK_MARKET,new h["PublicKey"](n.baseMint),new h["PublicKey"](n.quoteMint))});case 7:if(r=t.sent,0!==r.length){t.next=10;break}return t.abrupt("return");case 10:return l=Object(v["struct"])([Object(v["blob"])(5),Object(y["a"])("accountFlags"),Object(y["b"])("ownAddress"),Object(y["c"])("vaultSignerNonce"),Object(y["b"])("baseMint"),Object(y["b"])("quoteMint"),Object(y["b"])("baseVault"),Object(y["c"])("baseDepositsTotal"),Object(y["c"])("baseFeesAccrued"),Object(y["b"])("quoteVault"),Object(y["c"])("quoteDepositsTotal"),Object(y["c"])("quoteFeesAccrued"),Object(y["c"])("quoteDustThreshold"),Object(y["b"])("requestQueue"),Object(y["b"])("eventQueue"),Object(y["b"])("bids"),Object(y["b"])("asks"),Object(y["c"])("baseLotSize"),Object(y["c"])("quoteLotSize"),Object(y["c"])("feeRateBps"),Object(y["c"])("referrerRebatesAccrued"),Object(y["b"])("authority"),Object(y["b"])("pruneAuthority"),Object(y["b"])("consumeEventsAuthority"),Object(v["blob"])(992),Object(v["blob"])(7)]),u=l.decode(r[0].accountInfo.data),e.poolKeys=S["Liquidity"].getAssociatedPoolKeys({version:4,marketVersion:4,baseMint:s.mint,quoteMint:c.mint,baseDecimals:s.decimals,quoteDecimals:c.decimals,marketId:r[0].publicKey,programId:a.AmmV4,marketProgramId:a.OPENBOOK_MARKET}),e.poolKeys.marketBaseVault=u.baseVault,e.poolKeys.marketQuoteVault=u.quoteVault,e.poolKeys.marketBids=u.bids,e.poolKeys.marketAsks=u.asks,e.poolKeys.marketEventQueue=u.eventQueue,e.lpToken=new S["Token"](S["TOKEN_PROGRAM_ID"],poolKeys.lpMint,poolKeys.lpDecimals),t.next=21,getOrCreateAssociatedTokenAccount(connection,payer,poolKeys.lpMint,payer.publicKey);case 21:e.tokenAccount=t.sent,console.log("查找成功 LP Amount:",e.tokenAccount.amount);case 23:case"end":return t.stop()}}),t)})))()},onRemoveLp:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var o,a,n,s,r,l,u,b,m,p;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=S["TxVersion"].V0,n=new h["PublicKey"](e.solAccount),t.next=4,window.solConnection.getTokenAccountsByOwner(n,{programId:S["TOKEN_PROGRAM_ID"]});case 4:return s=t.sent,r=s.value.map((function(e){return{pubkey:e.pubkey,programId:e.account.owner,accountInfo:S["SPL_ACCOUNT_LAYOUT"].decode(e.account.data)}})),l=new S["TokenAmount"](e.lpToken,e.tokenAccount.amount),t.next=9,S["Liquidity"].makeRemoveLiquidityInstructionSimple({connection:window.solConnection,poolKeys:e.poolKeys,userKeys:{owner:n,payer:n,tokenAccounts:r},amountIn:l,makeTxVersion:a});case 9:return u=t.sent,b=u.innerTransactions,m=(o=new h["Transaction"]).add.apply(o,Object(c["a"])(b)),t.prev=12,t.next=15,Object(d["n"])(Object(d["k"])("REMOVE_LIQUIDITY"),m,[]);case 15:p=t.sent,console.log(p),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](12),console.log("error",t.t0);case 22:return t.prev=22,e.isStop=!1,e.isLoading=!1,t.finish(22);case 26:case"end":return t.stop()}}),t,null,[[12,19,22,26]])})))()},onAddLP:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var o,a,n,s,l,u,b,m,f,k,v,y,T,O,_,g,w,q,L,I,j;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=S["TxVersion"].V0,n={baseMint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",quoteMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",baseTokenInitialLiquidity:e.form.baseTokenInitialLiquidity,quoteTokenInitialLiquidity:e.form.quoteTokenInitialLiquidity},s=new S["Token"](S["TOKEN_PROGRAM_ID"],n.baseMint,Number(e.form.baseTokenDecimals)),l=new S["Token"](S["TOKEN_PROGRAM_ID"],n.quoteMint,Number(e.form.quoteTokenDecimals)),u=new S["TokenAmount"](s,1*Math.pow(10,6)),b=new S["Percent"](1,100),t.next=8,fetch(S["ENDPOINT"]+S["RAYDIUM_MAINNET"].poolInfo).then((function(e){return e.json()}));case 8:return m=t.sent,f=[].concat(Object(c["a"])(m.official),Object(c["a"])(m.unOfficial)).find((function(e){return e.baseMint.toLowerCase()===n.baseMint.toLowerCase()&&e.quoteMint.toLowerCase()===n.quoteMint.toLowerCase()})),k=Object(S["jsonInfo2PoolKeys"])(f),console.log(k),t.next=14,S["Liquidity"].fetchInfo({connection:window.solConnection,poolKeys:k});case 14:return v=t.sent,y=S["Liquidity"].computeAnotherAmount({poolKeys:k,poolInfo:Object(r["a"])(Object(r["a"])({},f),v),amount:u,anotherCurrency:l,slippage:b}),T=y.maxAnotherAmount,O=y.anotherAmount,_=y.liquidity,console.log("报价货币要添加多少",new p.a(O.numerator).toString()),console.log("will add liquidity info",{liquidity:_.toString(),liquidityD:new p.a(_.toString()).div(Math.pow(10,v.lpDecimals)).toString()}),g=new h["PublicKey"](e.solAccount),t.next=21,window.solConnection.getTokenAccountsByOwner(g,{programId:S["TOKEN_PROGRAM_ID"]});case 21:return w=t.sent,q=w.value.map((function(e){return{pubkey:e.pubkey,programId:e.account.owner,accountInfo:S["SPL_ACCOUNT_LAYOUT"].decode(e.account.data)}})),t.next=25,S["Liquidity"].makeAddLiquidityInstructionSimple({connection:window.solConnection,poolKeys:k,userKeys:{owner:g,payer:g,tokenAccounts:q},amountInA:u,amountInB:T,fixedSide:"a",makeTxVersion:a});case 25:return L=t.sent,I=(o=new h["Transaction"]).add.apply(o,Object(c["a"])(L.innerTransactions)),t.prev=27,t.next=30,Object(d["n"])(Object(d["k"])("ADD_LIQUIDITY"),I,[]);case 30:j=t.sent,console.log(j),t.next=37;break;case 34:t.prev=34,t.t0=t["catch"](27),console.log("error",t.t0);case 37:return t.prev=37,e.isStop=!1,e.isLoading=!1,t.finish(37);case 41:console.log(m);case 42:case"end":return t.stop()}}),t,null,[[27,34,37,41]])})))()},findMarketFilters:function(e,t,o){var a=Object(v["struct"])([Object(v["blob"])(5),Object(y["a"])("accountFlags"),Object(y["b"])("ownAddress"),Object(y["c"])("vaultSignerNonce"),Object(y["b"])("baseMint"),Object(y["b"])("quoteMint"),Object(y["b"])("baseVault"),Object(y["c"])("baseDepositsTotal"),Object(y["c"])("baseFeesAccrued"),Object(y["b"])("quoteVault"),Object(y["c"])("quoteDepositsTotal"),Object(y["c"])("quoteFeesAccrued"),Object(y["c"])("quoteDustThreshold"),Object(y["b"])("requestQueue"),Object(y["b"])("eventQueue"),Object(y["b"])("bids"),Object(y["b"])("asks"),Object(y["c"])("baseLotSize"),Object(y["c"])("quoteLotSize"),Object(y["c"])("feeRateBps"),Object(v["blob"])(7)]),n=Object(v["struct"])([Object(v["blob"])(5),Object(y["a"])("accountFlags"),Object(y["b"])("ownAddress"),Object(y["c"])("vaultSignerNonce"),Object(y["b"])("baseMint"),Object(y["b"])("quoteMint"),Object(y["b"])("baseVault"),Object(y["c"])("baseDepositsTotal"),Object(y["c"])("baseFeesAccrued"),Object(y["b"])("quoteVault"),Object(y["c"])("quoteDepositsTotal"),Object(y["c"])("quoteFeesAccrued"),Object(y["c"])("quoteDustThreshold"),Object(y["b"])("requestQueue"),Object(y["b"])("eventQueue"),Object(y["b"])("bids"),Object(y["b"])("asks"),Object(y["c"])("baseLotSize"),Object(y["c"])("quoteLotSize"),Object(y["c"])("feeRateBps"),Object(y["c"])("referrerRebatesAccrued"),Object(v["blob"])(7)]),i={"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn":1,BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg:1,EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o:2,"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin":3},s=function(e){return i[e.toString()]||3},c=function(e){return 1===s(e)?a:n},r=[{memcmp:{offset:c(e).offsetOf("baseMint"),bytes:t.toBase58()}},{memcmp:{offset:c(e).offsetOf("quoteMint"),bytes:o.toBase58()}}];return r}}},D=B,P=(o("9e02"),Object(w["a"])(D,a,n,!1,null,"3f1e3ef4",null));t["default"]=P.exports},"6c05":function(e,t,o){"use strict";(function(e){o.d(t,"b",(function(){return k})),o.d(t,"c",(function(){return y})),o.d(t,"a",(function(){return O}));var a=o("3835"),n=o("5530"),i=o("d4ec"),s=o("bee2"),c=o("45eb"),r=o("7e84"),l=o("262e"),u=o("2caf"),d=(o("d3b7"),o("d9e2"),o("ddb0"),o("7db0"),o("4fad"),o("901ed")),b=o("64b9"),m=o("399f"),p=o.n(m);d["Blob"];var f=function(e){Object(l["a"])(o,e);var t=Object(u["a"])(o);function o(e){return Object(i["a"])(this,o),t.call(this,32,e)}return Object(s["a"])(o,[{key:"decode",value:function(e,t){return new b["PublicKey"](Object(c["a"])(Object(r["a"])(o.prototype),"decode",this).call(this,e,t))}},{key:"encode",value:function(e,t,a){return Object(c["a"])(Object(r["a"])(o.prototype),"encode",this).call(this,e.toBuffer(),t,a)}}]),o}(d["Blob"]);function k(e){return new f(e)}var v=function(t){Object(l["a"])(a,t);var o=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),o.apply(this,arguments)}return Object(s["a"])(a,[{key:"decode",value:function(e,t){return new p.a(Object(c["a"])(Object(r["a"])(a.prototype),"decode",this).call(this,e,t),10,"le")}},{key:"encode",value:function(t,o,n){return Object(c["a"])(Object(r["a"])(a.prototype),"encode",this).call(this,t.toArrayLike(e,"le",this.span),o,n)}}]),a}(d["Blob"]);function y(e){return new v(8,e)}var h=function(e){Object(l["a"])(o,e);var t=Object(u["a"])(o);function o(e){var a;return Object(i["a"])(this,o),a=t.call(this,8,e),a._lower=Object(d["bits"])(Object(d["u32"])(),!1),a._upper=Object(d["bits"])(Object(d["u32"])(),!1),a}return Object(s["a"])(o,[{key:"addBoolean",value:function(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._lower.decode(e,t),a=this._upper.decode(e,t+this._lower.span);return Object(n["a"])(Object(n["a"])({},o),a)}},{key:"encode",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._lower.encode(e,t,o)+this._upper.encode(e,t,o+this._lower.span)}}]),o}(d["Layout"]);d["Layout"],d["UInt"];var T=new h;function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"accountFlags";return T.replicate(e)}T.addBoolean("initialized"),T.addBoolean("market"),T.addBoolean("openOrders"),T.addBoolean("requestQueue"),T.addBoolean("eventQueue"),T.addBoolean("bids"),T.addBoolean("asks")}).call(this,o("1c35").Buffer)},"6ca4":function(e,t,o){"use strict";o("a18f")},"9e02":function(e,t,o){"use strict";o("ed5a")},a18f:function(e,t,o){},ed5a:function(e,t,o){}}]);