(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37885de2"],{"0276":function(e,t,r){"use strict";var n=r("4082").default,a=r("8962").default,i=r("36c6").default,s=r("ded3").default,o=r("278c").default,u=r("448a").default,c=r("6374").default,l=r("a128").default,d=r("7ec2").default,h=r("c973").default,p=r("ed6d").default,f=r("2d0d").default,b=r("970b").default,y=r("5bc3").default,k=r("7037").default,g=["commitment"],m=["encoding"],v=["commitment"],w=["commitment"];r("d3b7"),r("159b"),r("b64b"),r("e439"),r("dca8"),r("ace4"),r("5cc6"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("986a"),r("1d02"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("6ce5"),r("2834"),r("72f7"),r("4ea1"),r("fb6a"),r("d9e2"),r("d81d"),r("4ec9"),r("3ca3"),r("ddb0"),r("944a"),r("0c47"),r("23dc"),r("a4d3"),r("e01a"),r("25f0"),r("99af"),r("b680"),r("14d9"),r("0481"),r("4069"),r("4de4"),r("c740"),r("a630"),r("13d5"),r("7db0"),r("a434"),r("cb29"),r("bf19"),r("e9c4"),r("caad"),r("4e82"),r("6062"),r("a15b"),r("4fad"),r("2532"),r("b0c0"),r("6c57"),r("ac1f"),r("466d"),r("2ca0"),r("00b4"),r("aff5"),r("a9e3");var S=r("1c35"),x=r("aecc"),I=r("53195"),A=r("8ab6"),_=r("d129"),P=r("224e"),E=r("8df2"),B=r("9ea2"),T=r("2a33"),R=r("502a"),C=r("e01f"),L=r("136e"),O=r("00e3"),z=r("fb4a");function K(e){return e&&"object"===k(e)&&"default"in e?e:{default:e}}function W(e){if(e&&"object"===k(e)&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var N=K(I),q=K(A),U=W(E),V=K(R),M=K(C),D=K(L),H=x.ed25519.utils.randomPrivateKey,F=function(){var e=x.ed25519.utils.randomPrivateKey(),t=j(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},j=x.ed25519.getPublicKey;function J(e){try{return x.ed25519.ExtendedPoint.fromHex(e),!0}catch(t){return!1}}var Y,G,X=function(e,t){return x.ed25519.sign(e,t.slice(0,32))},Z=x.ed25519.verify,Q=function(e){return S.Buffer.isBuffer(e)?e:e instanceof Uint8Array?S.Buffer.from(e.buffer,e.byteOffset,e.byteLength):S.Buffer.from(e)},$=function(){function e(t){b(this,e),Object.assign(this,t)}return y(e,[{key:"encode",value:function(){return S.Buffer.from(P.serialize(te,this))}}],[{key:"decode",value:function(e){return P.deserialize(te,this,e)}},{key:"decodeUnchecked",value:function(e){return P.deserializeUnchecked(te,this,e)}}]),e}(),ee=function(e){p(r,e);var t=f(r);function r(e){var n;if(b(this,r),n=t.call(this,e),n.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");return Object.keys(e).map((function(e){n.enum=e})),n}return y(r)}($),te=new Map,re=32,ne=32;function ae(e){return void 0!==e._bn}var ie=1;G=Symbol.toStringTag;var se=function(e,t){p(n,e);var r=f(n);function n(e){var t;if(b(this,n),t=r.call(this,{}),t._bn=void 0,ae(e))t._bn=e._bn;else{if("string"===typeof e){var a=q.default.decode(e);if(a.length!=ne)throw new Error("Invalid public key input");t._bn=new N.default(a)}else t._bn=new N.default(e);if(t._bn.byteLength()>ne)throw new Error("Invalid public key input")}return t}return y(n,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return q.default.encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){var e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(S.Buffer);if(e.length===ne)return e;var t=S.Buffer.alloc(32);return e.copy(t,32-e.length),t}},{key:t,get:function(){return"PublicKey(".concat(this.toString(),")")}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var e=new n(ie);return ie+=1,new n(e.toBuffer())}},{key:"createWithSeed",value:function(){var e=h(d().mark((function e(t,r,a){var i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=S.Buffer.concat([t.toBuffer(),S.Buffer.from(r),a.toBuffer()]),s=_.sha256(i),e.abrupt("return",new n(s));case 3:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"createProgramAddressSync",value:function(e,t){var r=S.Buffer.alloc(0);e.forEach((function(e){if(e.length>re)throw new TypeError("Max seed length exceeded");r=S.Buffer.concat([r,Q(e)])})),r=S.Buffer.concat([r,t.toBuffer(),S.Buffer.from("ProgramDerivedAddress")]);var a=_.sha256(r);if(J(a))throw new Error("Invalid seeds, address must fall off the curve");return new n(a)}},{key:"createProgramAddress",value:function(){var e=h(d().mark((function e(t,r){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"findProgramAddressSync",value:function(e,t){var r,n=255;while(0!=n){try{var a=e.concat(S.Buffer.from([n]));r=this.createProgramAddressSync(a,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:function(){var e=h(d().mark((function e(t,r){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"isOnCurve",value:function(e){var t=new n(e);return J(t.toBytes())}}]),n}($,G);Y=se,se.default=new Y("11111111111111111111111111111111"),te.set(se,{kind:"struct",fields:[["_bn","u256"]]});var oe=function(){function e(t){if(b(this,e),this._publicKey=void 0,this._secretKey=void 0,t){var r=Q(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Q(H()),this._publicKey=Q(j(this._secretKey))}return y(e,[{key:"publicKey",get:function(){return new se(this._publicKey)}},{key:"secretKey",get:function(){return S.Buffer.concat([this._secretKey,this._publicKey],64)}}]),e}(),ue=new se("BPFLoader1111111111111111111111111111111111"),ce=1232,le=127,de=64,he=function(e){p(r,e);var t=f(r);function r(e){var n;return b(this,r),n=t.call(this,"Signature ".concat(e," has expired: block height exceeded.")),n.signature=void 0,n.signature=e,n}return y(r)}(l(Error));Object.defineProperty(he.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var pe=function(e){p(r,e);var t=f(r);function r(e,n){var a;return b(this,r),a=t.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools.")),a.signature=void 0,a.signature=e,a}return y(r)}(l(Error));Object.defineProperty(pe.prototype,"name",{value:"TransactionExpiredTimeoutError"});var fe=function(e){p(r,e);var t=f(r);function r(e){var n;return b(this,r),n=t.call(this,"Signature ".concat(e," has expired: the nonce is no longer valid.")),n.signature=void 0,n.signature=e,n}return y(r)}(l(Error));Object.defineProperty(fe.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var be=function(){function e(t,r){b(this,e),this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}return y(e,[{key:"keySegments",value:function(){var e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}},{key:"get",value:function(e){var t,r=c(this.keySegments());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e<n.length)return n[e];e-=n.length}}catch(a){r.e(a)}finally{r.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(e){var t=255;if(this.length>t+1)throw new Error("Account index overflow encountered during compilation");var r=new Map;this.keySegments().flat().forEach((function(e,t){r.set(e.toBase58(),t)}));var n=function(e){var t=r.get(e.toBase58());if(void 0===t)throw new Error("Encountered an unknown instruction account key during compilation");return t};return e.map((function(e){return{programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((function(e){return n(e.pubkey)})),data:e.data}}))}}]),e}(),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return U.blob(32,e)},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature";return U.blob(64,e)},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=U.struct([U.u32("length"),U.u32("lengthPadding"),U.blob(U.offset(U.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),a=t;return a.decode=function(e,t){var n=r(e,t);return n["chars"].toString()},a.encode=function(e,t,r){var a={chars:S.Buffer.from(e,"utf8")};return n(a,t,r)},a.alloc=function(e){return U.u32().span+U.u32().span+S.Buffer.from(e,"utf8").length},a},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return U.struct([ye("staker"),ye("withdrawer")],e)},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return U.struct([U.ns64("unixTimestamp"),U.ns64("epoch"),ye("custodian")],e)},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return U.struct([ye("nodePubkey"),ye("authorizedVoter"),ye("authorizedWithdrawer"),U.u8("commission")],e)},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return U.struct([U.u32("voteAuthorizationType"),ye("currentAuthorityDerivedKeyOwnerPubkey"),ge("currentAuthorityDerivedKeySeed"),ye("newAuthorized")],e)};function xe(e,t){var r=function e(r){if(r.span>=0)return r.span;if("function"===typeof r.alloc)return r.alloc(t[r.property]);if("count"in r&&"elementLayout"in r){var n=t[r.property];if(Array.isArray(n))return n.length*e(r.elementLayout)}else if("fields"in r)return xe({layout:r},t[r.property]);return 0},n=0;return e.layout.fields.forEach((function(e){n+=r(e)})),n}function Ie(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function Ae(e,t){for(var r=t;;){var n=127&r;if(r>>=7,0==r){e.push(n);break}n|=128,e.push(n)}}function _e(e,t){if(!e)throw new Error(t||"Assertion failed")}var Pe=function(){function e(t,r){b(this,e),this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}return y(e,[{key:"getMessageComponents",value:function(){var e=u(this.keyMetaMap.entries());_e(e.length<=256,"Max static account keys length exceeded");var t=e.filter((function(e){var t=o(e,2),r=t[1];return r.isSigner&&r.isWritable})),r=e.filter((function(e){var t=o(e,2),r=t[1];return r.isSigner&&!r.isWritable})),n=e.filter((function(e){var t=o(e,2),r=t[1];return!r.isSigner&&r.isWritable})),a=e.filter((function(e){var t=o(e,2),r=t[1];return!r.isSigner&&!r.isWritable})),i={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};_e(t.length>0,"Expected at least one writable signer key");var s=o(t[0],1),c=s[0];_e(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer");var l=[].concat(u(t.map((function(e){var t=o(e,1),r=t[0];return new se(r)}))),u(r.map((function(e){var t=o(e,1),r=t[0];return new se(r)}))),u(n.map((function(e){var t=o(e,1),r=t[0];return new se(r)}))),u(a.map((function(e){var t=o(e,1),r=t[0];return new se(r)}))));return[i,l]}},{key:"extractTableLookup",value:function(e){var t=this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&e.isWritable})),r=o(t,2),n=r[0],a=r[1],i=this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&!e.isWritable})),s=o(i,2),u=s[0],c=s[1];if(0!==n.length||0!==u.length)return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:u},{writable:a,readonly:c}]}},{key:"drainKeysFoundInLookupTable",value:function(e,t){var r,n=this,a=new Array,i=new Array,s=c(this.keyMetaMap.entries());try{var u=function(){var s=o(r.value,2),u=s[0],c=s[1];if(t(c)){var l=new se(u),d=e.findIndex((function(e){return e.equals(l)}));d>=0&&(_e(d<256,"Max lookup table index exceeded"),a.push(d),i.push(l),n.keyMetaMap.delete(u))}};for(s.s();!(r=s.n()).done;)u()}catch(l){s.e(l)}finally{s.f()}return[a,i]}}],[{key:"compile",value:function(t,r){var n=new Map,a=function(e){var t=e.toBase58(),r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=a(r);i.isSigner=!0,i.isWritable=!0;var s,o=c(t);try{for(o.s();!(s=o.n()).done;){var u=s.value;a(u.programId).isInvoked=!0;var l,d=c(u.keys);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=a(h.pubkey);p.isSigner||(p.isSigner=h.isSigner),p.isWritable||(p.isWritable=h.isWritable)}}catch(f){d.e(f)}finally{d.f()}}}catch(f){o.e(f)}finally{o.f()}return new e(r,n)}}]),e}(),Ee=function(){function e(t){var r=this;b(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new se(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return y(e,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map((function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:q.default.decode(e.data)}}))}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new be(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){var r=e-t,n=this.accountKeys.length-t,a=n-this.header.numReadonlyUnsignedAccounts;return r<a}var i=t-this.header.numReadonlySignedAccounts;return e<i}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return u(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];Ae(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=Array.from(q.default.decode(e.data)),a=[];Ae(a,t.length);var i=[];return Ae(i,n.length),{programIdIndex:r,keyIndicesCount:S.Buffer.from(a),keyIndices:t,dataLength:S.Buffer.from(i),data:n}})),n=[];Ae(n,r.length);var a=S.Buffer.alloc(ce);S.Buffer.from(n).copy(a);var i=n.length;r.forEach((function(e){var t=U.struct([U.u8("programIdIndex"),U.blob(e.keyIndicesCount.length,"keyIndicesCount"),U.seq(U.u8("keyIndex"),e.keyIndices.length,"keyIndices"),U.blob(e.dataLength.length,"dataLength"),U.seq(U.u8("userdatum"),e.data.length,"data")]),r=t.encode(e,a,i);i+=r})),a=a.slice(0,i);var s=U.struct([U.blob(1,"numRequiredSignatures"),U.blob(1,"numReadonlySignedAccounts"),U.blob(1,"numReadonlyUnsignedAccounts"),U.blob(t.length,"keyCount"),U.seq(ye("key"),e,"keys"),ye("recentBlockhash")]),o={numRequiredSignatures:S.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:S.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:S.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:S.Buffer.from(t),keys:this.accountKeys.map((function(e){return Q(e.toBytes())})),recentBlockhash:q.default.decode(this.recentBlockhash)},u=S.Buffer.alloc(2048),c=s.encode(o,u);return a.copy(u,c),u.slice(0,c+a.length)}}],[{key:"compile",value:function(t){var r=Pe.compile(t.instructions,t.payerKey),n=r.getMessageComponents(),a=o(n,2),i=a[0],s=a[1],u=new be(s),c=u.compileInstructions(t.instructions).map((function(e){return{programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:q.default.encode(e.data)}}));return new e({header:i,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:c})}},{key:"from",value:function(t){var r=u(t),n=r.shift();if(n!==(n&le))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var a=r.shift(),i=r.shift(),s=Ie(r),o=[],c=0;c<s;c++){var l=r.slice(0,ne);r=r.slice(ne),o.push(new se(S.Buffer.from(l)))}var d=r.slice(0,ne);r=r.slice(ne);for(var h=Ie(r),p=[],f=0;f<h;f++){var b=r.shift(),y=Ie(r),k=r.slice(0,y);r=r.slice(y);var g=Ie(r),m=r.slice(0,g),v=q.default.encode(S.Buffer.from(m));r=r.slice(g),p.push({programIdIndex:b,accounts:k,data:v})}var w={header:{numRequiredSignatures:n,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:i},recentBlockhash:q.default.encode(S.Buffer.from(d)),accountKeys:o,instructions:p};return new e(w)}}]),e}(),Be=function(){function e(t){b(this,e),this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}return y(e,[{key:"version",get:function(){return 0}},{key:"numAccountKeysFromLookups",get:function(){var e,t=0,r=c(this.addressTableLookups);try{for(r.s();!(e=r.n()).done;){var n=e.value;t+=n.readonlyIndexes.length+n.writableIndexes.length}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"getAccountKeys",value:function(e){var t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new be(this.staticAccountKeys,t)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){var n=e-r,a=this.addressTableLookups.reduce((function(e,t){return e+t.writableIndexes.length}),0);return n<a}if(e>=this.header.numRequiredSignatures){var i=e-t,s=r-t,o=s-this.header.numReadonlyUnsignedAccounts;return i<o}var u=t-this.header.numReadonlySignedAccounts;return e<u}},{key:"resolveAddressTableLookups",value:function(e){var t,r={writable:[],readonly:[]},n=c(this.addressTableLookups);try{var a=function(){var n=t.value,a=e.find((function(e){return e.key.equals(n.accountKey)}));if(!a)throw new Error("Failed to find address lookup table account for table key ".concat(n.accountKey.toBase58()));var i,s=c(n.writableIndexes);try{for(s.s();!(i=s.n()).done;){var o=i.value;if(!(o<a.state.addresses.length))throw new Error("Failed to find address for index ".concat(o," in address lookup table ").concat(n.accountKey.toBase58()));r.writable.push(a.state.addresses[o])}}catch(h){s.e(h)}finally{s.f()}var u,l=c(n.readonlyIndexes);try{for(l.s();!(u=l.n()).done;){var d=u.value;if(!(d<a.state.addresses.length))throw new Error("Failed to find address for index ".concat(d," in address lookup table ").concat(n.accountKey.toBase58()));r.readonly.push(a.state.addresses[d])}}catch(h){l.e(h)}finally{l.f()}};for(n.s();!(t=n.n()).done;)a()}catch(i){n.e(i)}finally{n.f()}return r}},{key:"serialize",value:function(){var e=Array();Ae(e,this.staticAccountKeys.length);var t=this.serializeInstructions(),r=Array();Ae(r,this.compiledInstructions.length);var n=this.serializeAddressTableLookups(),a=Array();Ae(a,this.addressTableLookups.length);var i=U.struct([U.u8("prefix"),U.struct([U.u8("numRequiredSignatures"),U.u8("numReadonlySignedAccounts"),U.u8("numReadonlyUnsignedAccounts")],"header"),U.blob(e.length,"staticAccountKeysLength"),U.seq(ye(),this.staticAccountKeys.length,"staticAccountKeys"),ye("recentBlockhash"),U.blob(r.length,"instructionsLength"),U.blob(t.length,"serializedInstructions"),U.blob(a.length,"addressTableLookupsLength"),U.blob(n.length,"serializedAddressTableLookups")]),s=new Uint8Array(ce),o=128,u=i.encode({prefix:o,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((function(e){return e.toBytes()})),recentBlockhash:q.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:n},s);return s.slice(0,u)}},{key:"serializeInstructions",value:function(){var e,t=0,r=new Uint8Array(ce),n=c(this.compiledInstructions);try{for(n.s();!(e=n.n()).done;){var a=e.value,i=Array();Ae(i,a.accountKeyIndexes.length);var s=Array();Ae(s,a.data.length);var o=U.struct([U.u8("programIdIndex"),U.blob(i.length,"encodedAccountKeyIndexesLength"),U.seq(U.u8(),a.accountKeyIndexes.length,"accountKeyIndexes"),U.blob(s.length,"encodedDataLength"),U.blob(a.data.length,"data")]);t+=o.encode({programIdIndex:a.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:a.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:a.data},r,t)}}catch(u){n.e(u)}finally{n.f()}return r.slice(0,t)}},{key:"serializeAddressTableLookups",value:function(){var e,t=0,r=new Uint8Array(ce),n=c(this.addressTableLookups);try{for(n.s();!(e=n.n()).done;){var a=e.value,i=Array();Ae(i,a.writableIndexes.length);var s=Array();Ae(s,a.readonlyIndexes.length);var o=U.struct([ye("accountKey"),U.blob(i.length,"encodedWritableIndexesLength"),U.seq(U.u8(),a.writableIndexes.length,"writableIndexes"),U.blob(s.length,"encodedReadonlyIndexesLength"),U.seq(U.u8(),a.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:a.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:a.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:a.readonlyIndexes},r,t)}}catch(u){n.e(u)}finally{n.f()}return r.slice(0,t)}}],[{key:"compile",value:function(t){var r,n=Pe.compile(t.instructions,t.payerKey),a=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[],l=c(s);try{for(l.s();!(r=l.n()).done;){var d=r.value,h=n.extractTableLookup(d);if(void 0!==h){var p,f,b=o(h,2),y=b[0],k=b[1],g=k.writable,m=k.readonly;a.push(y),(p=i.writable).push.apply(p,u(g)),(f=i.readonly).push.apply(f,u(m))}}}catch(_){l.e(_)}finally{l.f()}var v=n.getMessageComponents(),w=o(v,2),S=w[0],x=w[1],I=new be(x,i),A=I.compileInstructions(t.instructions);return new e({header:S,staticAccountKeys:x,recentBlockhash:t.recentBlockhash,compiledInstructions:A,addressTableLookups:a})}},{key:"deserialize",value:function(t){var r=u(t),n=r.shift(),a=n&le;_e(n!==a,"Expected versioned message but received legacy message");var i=a;_e(0===i,"Expected versioned message with version 0 but found version ".concat(i));for(var s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},o=[],c=Ie(r),l=0;l<c;l++)o.push(new se(r.splice(0,ne)));for(var d=q.default.encode(r.splice(0,ne)),h=Ie(r),p=[],f=0;f<h;f++){var b=r.shift(),y=Ie(r),k=r.splice(0,y),g=Ie(r),m=new Uint8Array(r.splice(0,g));p.push({programIdIndex:b,accountKeyIndexes:k,data:m})}for(var v=Ie(r),w=[],S=0;S<v;S++){var x=new se(r.splice(0,ne)),I=Ie(r),A=r.splice(0,I),_=Ie(r),P=r.splice(0,_);w.push({accountKey:x,writableIndexes:A,readonlyIndexes:P})}return new e({header:s,staticAccountKeys:o,recentBlockhash:d,compiledInstructions:p,addressTableLookups:w})}}]),e}(),Te={deserializeMessageVersion:function(e){var t=e[0],r=t&le;return r===t?"legacy":r},deserialize:function(e){var t=Te.deserializeMessageVersion(e);if("legacy"===t)return Ee.from(e);if(0===t)return Be.deserialize(e);throw new Error("Transaction message version ".concat(t," deserialization is not supported"))}},Re=function(e){return e[e["BLOCKHEIGHT_EXCEEDED"]=0]="BLOCKHEIGHT_EXCEEDED",e[e["PROCESSED"]=1]="PROCESSED",e[e["TIMED_OUT"]=2]="TIMED_OUT",e[e["NONCE_INVALID"]=3]="NONCE_INVALID",e}({}),Ce=S.Buffer.alloc(de).fill(0),Le=function(){function e(t){b(this,e),this.keys=void 0,this.programId=void 0,this.data=S.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return y(e,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:u(this.data)}}}]),e}(),Oe=function(){function e(t){if(b(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){var r=t.minContextSlot,n=t.nonceInfo;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var a=t.blockhash,i=t.lastValidBlockHeight;this.recentBlockhash=a,this.lastValidBlockHeight=i}else{var s=t.recentBlockhash,o=t.nonceInfo;o&&(this.nonceInfo=o),this.recentBlockhash=s}}return y(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(e){return e.toJSON()})),signers:this.signatures.map((function(e){var t=e.publicKey;return t.toJSON()}))}}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new Le(t))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat(u(this.instructions)):this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(var n=0;n<t.length;n++)if(void 0===t[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var a=[],i=[];t.forEach((function(e){e.keys.forEach((function(e){i.push(s({},e))}));var t=e.programId.toString();a.includes(t)||a.push(t)})),a.forEach((function(e){i.push({pubkey:new se(e),isSigner:!1,isWritable:!1})}));var l=[];i.forEach((function(e){var t=e.pubkey.toString(),r=l.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?(l[r].isWritable=l[r].isWritable||e.isWritable,l[r].isSigner=l[r].isSigner||e.isSigner):l.push(e)})),l.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;var r={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",r)}));var d=l.findIndex((function(e){return e.pubkey.equals(r)}));if(d>-1){var h=l.splice(d,1),p=o(h,1),f=p[0];f.isSigner=!0,f.isWritable=!0,l.unshift(f)}else l.unshift({pubkey:r,isSigner:!0,isWritable:!0});var b,y=c(this.signatures);try{var k=function(){var e=b.value,t=l.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));l[t].isSigner||(l[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(y.s();!(b=y.n()).done;)k()}catch(A){y.e(A)}finally{y.f()}var g=0,m=0,v=0,w=[],S=[];l.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(w.push(t.toString()),g+=1,n||(m+=1)):(S.push(t.toString()),n||(v+=1))}));var x=w.concat(S),I=t.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:x.indexOf(r.toString()),accounts:e.keys.map((function(e){return x.indexOf(e.pubkey.toString())})),data:q.default.encode(t)}}));return I.forEach((function(e){_e(e.programIdIndex>=0),e.accounts.forEach((function(e){return _e(e>=0)}))})),new Ee({header:{numRequiredSignatures:g,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:v},accountKeys:x,recentBlockhash:e,instructions:I})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){var r=this.signatures.every((function(e,r){return t[r].equals(e.publicKey)}));if(r)return e}return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:function(){var e=h(d().mark((function e(t){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,a=[],i=0,s=t;i<s.length;i++){var o=s[i],u=o.publicKey.toString();n.has(u)||(n.add(u),a.push(o))}this.signatures=a.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(a))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,a=[],i=0,s=t;i<s.length;i++){var o=s[i],u=o.publicKey.toString();n.has(u)||(n.add(u),a.push(o))}var c=this._compile();this._partialSign.apply(this,[c].concat(a))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];a.forEach((function(e){var n=X(r,e.secretKey);t._addSignature(e.publicKey,Q(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){_e(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=S.Buffer.from(t)}},{key:"verifySignatures",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._getMessageSignednessErrors(this.serializeMessage(),e);return!t}},{key:"_getMessageSignednessErrors",value:function(e,t){var r,n={},a=c(this.signatures);try{for(a.s();!(r=a.n()).done;){var i=r.value,s=i.signature,o=i.publicKey;null===s?t&&(n.missing||(n.missing=[])).push(o):Z(s,e,o.toBytes())||(n.invalid||(n.invalid=[])).push(o)}}catch(u){a.e(u)}finally{a.f()}return n.invalid||n.missing?n:void 0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,a=this.serializeMessage();if(n){var i=this._getMessageSignednessErrors(a,r);if(i){var s="Signature verification failed.";throw i.invalid&&(s+="\nInvalid signature for public key".concat(1===i.invalid.length?"":"(s)"," [`").concat(i.invalid.map((function(e){return e.toBase58()})).join("`, `"),"`].")),i.missing&&(s+="\nMissing signature for public key".concat(1===i.missing.length?"":"(s)"," [`").concat(i.missing.map((function(e){return e.toBase58()})).join("`, `"),"`].")),new Error(s)}}return this._serialize(a)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];Ae(r,t.length);var n=r.length+64*t.length+e.length,a=S.Buffer.alloc(n);return _e(t.length<256),S.Buffer.from(r).copy(a,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(_e(64===n.length,"signature has invalid length"),S.Buffer.from(n).copy(a,r.length+64*t))})),e.copy(a,r.length+64*t.length),_e(a.length<=ce,"Transaction too large: ".concat(a.length," > ").concat(ce)),a}},{key:"keys",get:function(){return _e(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return _e(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return _e(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=u(t),n=Ie(r),a=[],i=0;i<n;i++){var s=r.slice(0,de);r=r.slice(de),a.push(q.default.encode(S.Buffer.from(s)))}return e.populate(Ee.from(r),a)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var a={signature:e==q.default.encode(Ce)?null:q.default.decode(e),publicKey:t.accountKeys[r]};n.signatures.push(a)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new Le({keys:r,programId:t.accountKeys[e.programIdIndex],data:q.default.decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}]),e}(),ze=function(){function e(t){b(this,e),this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}return y(e,[{key:"compileToLegacyMessage",value:function(){return Ee.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}},{key:"compileToV0Message",value:function(e){return Be.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}],[{key:"decompile",value:function(t,r){var n=t.header,a=t.compiledInstructions,i=t.recentBlockhash,s=n.numRequiredSignatures,o=n.numReadonlySignedAccounts,u=n.numReadonlyUnsignedAccounts,l=s-o;_e(l>0,"Message header is invalid");var d=t.staticAccountKeys.length-s-u;_e(d>=0,"Message header is invalid");var h=t.getAccountKeys(r),p=h.get(0);if(void 0===p)throw new Error("Failed to decompile message because no account keys were found");var f,b=[],y=c(a);try{for(y.s();!(f=y.n()).done;){var k,g=f.value,m=[],v=c(g.accountKeyIndexes);try{for(v.s();!(k=v.n()).done;){var w=k.value,S=h.get(w);if(void 0===S)throw new Error("Failed to find key for account key index ".concat(w));var x=w<s,I=void 0;I=x?w<l:w<h.staticAccountKeys.length?w-s<d:w-h.staticAccountKeys.length<h.accountKeysFromLookups.writable.length,m.push({pubkey:S,isSigner:w<n.numRequiredSignatures,isWritable:I})}}catch(_){v.e(_)}finally{v.f()}var A=h.get(g.programIdIndex);if(void 0===A)throw new Error("Failed to find program id for program id index ".concat(g.programIdIndex));b.push(new Le({programId:A,data:Q(g.data),keys:m}))}}catch(_){y.e(_)}finally{y.f()}return new e({payerKey:p,instructions:b,recentBlockhash:i})}}]),e}(),Ke=function(){function e(t,r){if(b(this,e),this.signatures=void 0,this.message=void 0,void 0!==r)_e(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{for(var n=[],a=0;a<t.header.numRequiredSignatures;a++)n.push(new Uint8Array(de));this.signatures=n}this.message=t}return y(e,[{key:"version",get:function(){return this.message.version}},{key:"serialize",value:function(){var e=this.message.serialize(),t=Array();Ae(t,this.signatures.length);var r=U.struct([U.blob(t.length,"encodedSignaturesLength"),U.seq(ke(),this.signatures.length,"signatures"),U.blob(e.length,"serializedMessage")]),n=new Uint8Array(2048),a=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,a)}},{key:"sign",value:function(e){var t,r=this,n=this.message.serialize(),a=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures),i=c(e);try{var s=function(){var e=t.value,i=a.findIndex((function(t){return t.equals(e.publicKey)}));_e(i>=0,"Cannot sign with non signer key ".concat(e.publicKey.toBase58())),r.signatures[i]=X(n,e.secretKey)};for(i.s();!(t=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}}},{key:"addSignature",value:function(e,t){_e(64===t.byteLength,"Signature must be 64 bytes long");var r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures),n=r.findIndex((function(t){return t.equals(e)}));_e(n>=0,"Can not add signature; `".concat(e.toBase58(),"` is not required to sign this transaction")),this.signatures[n]=t}}],[{key:"deserialize",value:function(t){for(var r=u(t),n=[],a=Ie(r),i=0;i<a;i++)n.push(new Uint8Array(r.splice(0,de)));var s=Te.deserialize(new Uint8Array(r));return new e(s,n)}}]),e}(),We=160,Ne=64,qe=We/Ne,Ue=1e3/qe,Ve=new se("SysvarC1ock11111111111111111111111111111111"),Me=new se("SysvarEpochSchedu1e111111111111111111111111"),De=new se("Sysvar1nstructions1111111111111111111111111"),He=new se("SysvarRecentB1ockHashes11111111111111111111"),Fe=new se("SysvarRent111111111111111111111111111111111"),je=new se("SysvarRewards111111111111111111111111111111"),Je=new se("SysvarS1otHashes111111111111111111111111111"),Ye=new se("SysvarS1otHistory11111111111111111111111111"),Ge=new se("SysvarStakeHistory1111111111111111111111111");function Xe(e,t,r,n){return Ze.apply(this,arguments)}function Ze(){return Ze=h(d().mark((function e(t,r,n,a){var i,s,o,u,c;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,maxRetries:a.maxRetries,minContextSlot:a.minContextSlot},e.next=3,t.sendTransaction(r,n,i);case 3:if(s=e.sent,null==r.recentBlockhash||null==r.lastValidBlockHeight){e.next=10;break}return e.next=7,t.confirmTransaction({abortSignal:null===a||void 0===a?void 0:a.abortSignal,signature:s,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},a&&a.commitment);case 7:o=e.sent.value,e.next=22;break;case 10:if(null==r.minNonceContextSlot||null==r.nonceInfo){e.next=18;break}return u=r.nonceInfo.nonceInstruction,c=u.keys[0].pubkey,e.next=15,t.confirmTransaction({abortSignal:null===a||void 0===a?void 0:a.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:r.nonceInfo.nonce,signature:s},a&&a.commitment);case 15:o=e.sent.value,e.next=22;break;case 18:return null!=(null===a||void 0===a?void 0:a.abortSignal)&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),e.next=21,t.confirmTransaction(s,a&&a.commitment);case 21:o=e.sent.value;case 22:if(!o.err){e.next=24;break}throw new Error("Transaction ".concat(s," failed (").concat(JSON.stringify(o),")"));case 24:return e.abrupt("return",s);case 25:case"end":return e.stop()}}),e)}))),Ze.apply(this,arguments)}function Qe(e){return new Promise((function(t){return setTimeout(t,e)}))}function $e(e,t){var r=e.layout.span>=0?e.layout.span:xe(e,t),n=S.Buffer.alloc(r),a=Object.assign({instruction:e.index},t);return e.layout.encode(a,n),n}function et(e,t){var r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error("invalid instruction; instruction index mismatch ".concat(r.instruction," != ").concat(e.index));return r}var tt=U.nu64("lamportsPerSignature"),rt=U.struct([U.u32("version"),U.u32("state"),ye("authorizedPubkey"),ye("nonce"),U.struct([tt],"feeCalculator")]),nt=rt.span,at=function(){function e(t){b(this,e),this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}return y(e,null,[{key:"fromAccountData",value:function(t){var r=rt.decode(Q(t),0);return new e({authorizedPubkey:new se(r.authorizedPubkey),nonce:new se(r.nonce).toString(),feeCalculator:r.feeCalculator})}}]),e}(),it=function(e){var t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},st=function(e){return function(t){var r=E.blob(e,t),n=it(r),a=n.encode,i=n.decode,s=r;return s.decode=function(e,t){var r=i(e,t);return B.toBigIntLE(S.Buffer.from(r))},s.encode=function(t,r,n){var i=B.toBufferLE(t,e);return a(i,r,n)},s}},ot=st(8),ut=function(){function e(){b(this,e)}return y(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=U.u32("instruction"),n=r.decode(e.data),a=0,i=Object.entries(ct);a<i.length;a++){var s=o(i[a],2),u=s[0],c=s[1];if(c.index==n){t=u;break}}if(!t)throw new Error("Instruction type incorrect; not a SystemInstruction");return t}},{key:"decodeCreateAccount",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=et(ct.Create,e.data),r=t.lamports,n=t.space,a=t.programId;return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new se(a)}}},{key:"decodeTransfer",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=et(ct.Transfer,e.data),r=t.lamports;return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}},{key:"decodeTransferWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=et(ct.TransferWithSeed,e.data),r=t.lamports,n=t.seed,a=t.programId;return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new se(a)}}},{key:"decodeAllocate",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=et(ct.Allocate,e.data),r=t.space;return{accountPubkey:e.keys[0].pubkey,space:r}}},{key:"decodeAllocateWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=et(ct.AllocateWithSeed,e.data),r=t.base,n=t.seed,a=t.space,i=t.programId;return{accountPubkey:e.keys[0].pubkey,basePubkey:new se(r),seed:n,space:a,programId:new se(i)}}},{key:"decodeAssign",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=et(ct.Assign,e.data),r=t.programId;return{accountPubkey:e.keys[0].pubkey,programId:new se(r)}}},{key:"decodeAssignWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=et(ct.AssignWithSeed,e.data),r=t.base,n=t.seed,a=t.programId;return{accountPubkey:e.keys[0].pubkey,basePubkey:new se(r),seed:n,programId:new se(a)}}},{key:"decodeCreateWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=et(ct.CreateWithSeed,e.data),r=t.base,n=t.seed,a=t.lamports,i=t.space,s=t.programId;return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new se(r),seed:n,lamports:a,space:i,programId:new se(s)}}},{key:"decodeNonceInitialize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=et(ct.InitializeNonceAccount,e.data),r=t.authorized;return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new se(r)}}},{key:"decodeNonceAdvance",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),et(ct.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}},{key:"decodeNonceWithdraw",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);var t=et(ct.WithdrawNonceAccount,e.data),r=t.lamports;return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}},{key:"decodeNonceAuthorize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=et(ct.AuthorizeNonceAccount,e.data),r=t.authorized;return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new se(r)}}},{key:"checkProgramId",value:function(e){if(!e.equals(lt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}},{key:"checkKeyLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),ct=Object.freeze({Create:{index:0,layout:U.struct([U.u32("instruction"),U.ns64("lamports"),U.ns64("space"),ye("programId")])},Assign:{index:1,layout:U.struct([U.u32("instruction"),ye("programId")])},Transfer:{index:2,layout:U.struct([U.u32("instruction"),ot("lamports")])},CreateWithSeed:{index:3,layout:U.struct([U.u32("instruction"),ye("base"),ge("seed"),U.ns64("lamports"),U.ns64("space"),ye("programId")])},AdvanceNonceAccount:{index:4,layout:U.struct([U.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:U.struct([U.u32("instruction"),U.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:U.struct([U.u32("instruction"),ye("authorized")])},AuthorizeNonceAccount:{index:7,layout:U.struct([U.u32("instruction"),ye("authorized")])},Allocate:{index:8,layout:U.struct([U.u32("instruction"),U.ns64("space")])},AllocateWithSeed:{index:9,layout:U.struct([U.u32("instruction"),ye("base"),ge("seed"),U.ns64("space"),ye("programId")])},AssignWithSeed:{index:10,layout:U.struct([U.u32("instruction"),ye("base"),ge("seed"),ye("programId")])},TransferWithSeed:{index:11,layout:U.struct([U.u32("instruction"),ot("lamports"),ge("seed"),ye("programId")])},UpgradeNonceAccount:{index:12,layout:U.struct([U.u32("instruction")])}}),lt=function(){function e(){b(this,e)}return y(e,null,[{key:"createAccount",value:function(e){var t=ct.Create,r=$e(t,{lamports:e.lamports,space:e.space,programId:Q(e.programId.toBuffer())});return new Le({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}},{key:"transfer",value:function(e){var t,r;if("basePubkey"in e){var n=ct.TransferWithSeed;t=$e(n,{lamports:BigInt(e.lamports),seed:e.seed,programId:Q(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{var a=ct.Transfer;t=$e(a,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Le({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;if("basePubkey"in e){var n=ct.AssignWithSeed;t=$e(n,{base:Q(e.basePubkey.toBuffer()),seed:e.seed,programId:Q(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{var a=ct.Assign;t=$e(a,{programId:Q(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Le({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=ct.CreateWithSeed,r=$e(t,{base:Q(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Q(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Le({keys:n,programId:this.programId,data:r})}},{key:"createNonceAccount",value:function(t){var r=new Oe;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:nt,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:nt,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=ct.InitializeNonceAccount,r=$e(t,{authorized:Q(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:Fe,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Le(n)}},{key:"nonceAdvance",value:function(e){var t=ct.AdvanceNonceAccount,r=$e(t),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Le(n)}},{key:"nonceWithdraw",value:function(e){var t=ct.WithdrawNonceAccount,r=$e(t,{lamports:e.lamports});return new Le({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:Fe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}},{key:"nonceAuthorize",value:function(e){var t=ct.AuthorizeNonceAccount,r=$e(t,{authorized:Q(e.newAuthorizedPubkey.toBuffer())});return new Le({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}},{key:"allocate",value:function(e){var t,r;if("basePubkey"in e){var n=ct.AllocateWithSeed;t=$e(n,{base:Q(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Q(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{var a=ct.Allocate;t=$e(a,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Le({keys:r,programId:this.programId,data:t})}}]),e}();lt.programId=new se("11111111111111111111111111111111");var dt=ce-300,ht=function(){function e(){b(this,e)}return y(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:function(){var t=h(d().mark((function t(r,n,a,i,s){var o,u,c,l,h,p,f,b,y,k,g,m,v,w,x,I,A,_,P,E,B;return d().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(s.length);case 2:return o=t.sent,t.next=5,r.getAccountInfo(a.publicKey,"confirmed");case 5:if(u=t.sent,c=null,null===u){t.next=16;break}if(!u.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:u.data.length!==s.length&&(c=c||new Oe,c.add(lt.allocate({accountPubkey:a.publicKey,space:s.length}))),u.owner.equals(i)||(c=c||new Oe,c.add(lt.assign({accountPubkey:a.publicKey,programId:i}))),u.lamports<o&&(c=c||new Oe,c.add(lt.transfer({fromPubkey:n.publicKey,toPubkey:a.publicKey,lamports:o-u.lamports}))),t.next=17;break;case 16:c=(new Oe).add(lt.createAccount({fromPubkey:n.publicKey,newAccountPubkey:a.publicKey,lamports:o>0?o:1,space:s.length,programId:i}));case 17:if(null===c){t.next=20;break}return t.next=20,Xe(r,c,[n,a],{commitment:"confirmed"});case 20:l=U.struct([U.u32("instruction"),U.u32("offset"),U.u32("bytesLength"),U.u32("bytesLengthPadding"),U.seq(U.u8("byte"),U.offset(U.u32(),-8),"bytes")]),h=e.chunkSize,p=0,f=s,b=[];case 25:if(!(f.length>0)){t.next=39;break}if(y=f.slice(0,h),k=S.Buffer.alloc(h+16),l.encode({instruction:0,offset:p,bytes:y,bytesLength:0,bytesLengthPadding:0},k),g=(new Oe).add({keys:[{pubkey:a.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:k}),b.push(Xe(r,g,[n,a],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return m=4,t.next=35,Qe(1e3/m);case 35:p+=h,f=f.slice(h),t.next=25;break;case 39:return t.next=41,Promise.all(b);case 41:return v=U.struct([U.u32("instruction")]),w=S.Buffer.alloc(v.span),v.encode({instruction:1},w),x=(new Oe).add({keys:[{pubkey:a.publicKey,isSigner:!0,isWritable:!0},{pubkey:Fe,isSigner:!1,isWritable:!1}],programId:i,data:w}),I="processed",t.next=48,r.sendTransaction(x,[n,a],{preflightCommitment:I});case 48:return A=t.sent,t.next=51,r.confirmTransaction({signature:A,lastValidBlockHeight:x.lastValidBlockHeight,blockhash:x.recentBlockhash},I);case 51:if(_=t.sent,P=_.context,E=_.value,!E.err){t.next=56;break}throw new Error("Transaction ".concat(A," failed (").concat(JSON.stringify(E),")"));case 56:return t.prev=57,t.next=60,r.getSlot({commitment:I});case 60:if(B=t.sent,!(B>P.slot)){t.next=63;break}return t.abrupt("break",71);case 63:t.next=67;break;case 65:t.prev=65,t.t0=t["catch"](57);case 67:return t.next=69,new Promise((function(e){return setTimeout(e,Math.round(Ue/2))}));case 69:t.next=56;break;case 71:return t.abrupt("return",!0);case 72:case"end":return t.stop()}}),t,null,[[57,65]])})));function r(e,r,n,a,i){return t.apply(this,arguments)}return r}()}]),e}();ht.chunkSize=dt;var pt=new se("BPFLoader2111111111111111111111111111111111"),ft=function(){function e(){b(this,e)}return y(e,null,[{key:"getMinNumSignatures",value:function(e){return ht.getMinNumSignatures(e)}},{key:"load",value:function(e,t,r,n,a){return ht.load(e,t,r,a,n)}}]),e}();function bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var yt=Object.prototype.toString,kt=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function gt(e,t){var r,n,a,i,s,o,u;if(!0===e)return"true";if(!1===e)return"false";switch(k(e)){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return gt(e.toJSON(),t);if(u=yt.call(e),"[object Array]"===u){for(a="[",n=e.length-1,r=0;r<n;r++)a+=gt(e[r],!0)+",";return n>-1&&(a+=gt(e[r],!0)),a+"]"}if("[object Object]"===u){i=kt(e).sort(),n=i.length,a="",r=0;while(r<n)s=i[r],o=gt(e[s],!1),void 0!==o&&(a&&(a+=","),a+=JSON.stringify(s)+":"+o),r++;return"{"+a+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var mt=function(e){var t=gt(e,!1);if(void 0!==t)return""+t},vt=bt(mt),wt=32;function St(e){var t=0;while(e>1)e/=2,t++;return t}function xt(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}var It=function(){function e(t,r,n,a,i){b(this,e),this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=a,this.firstNormalSlot=i}return y(e,[{key:"getEpoch",value:function(e){return this.getEpochAndSlotIndex(e)[0]}},{key:"getEpochAndSlotIndex",value:function(e){if(e<this.firstNormalSlot){var t=St(xt(e+wt+1))-St(wt)-1,r=this.getSlotsInEpoch(t),n=e-(r-wt);return[t,n]}var a=e-this.firstNormalSlot,i=Math.floor(a/this.slotsPerEpoch),s=this.firstNormalEpoch+i,o=a%this.slotsPerEpoch;return[s,o]}},{key:"getFirstSlotInEpoch",value:function(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*wt:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}},{key:"getLastSlotInEpoch",value:function(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}},{key:"getSlotsInEpoch",value:function(e){return e<this.firstNormalEpoch?Math.pow(2,e+St(wt)):this.slotsPerEpoch}}]),e}(),At=function(e){p(r,e);var t=f(r);function r(e,n){var a;return b(this,r),a=t.call(this,e),a.logs=void 0,a.logs=n,a}return y(r)}(l(Error)),_t={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Pt=function(e){p(r,e);var t=f(r);function r(e,n){var a,i=e.code,s=e.message,o=e.data;return b(this,r),a=t.call(this,null!=n?"".concat(n,": ").concat(s):s),a.code=void 0,a.data=void 0,a.code=i,a.data=o,a.name="SolanaJSONRPCError",a}return y(r)}(l(Error)),Et=globalThis.fetch,Bt=function(e){p(r,e);var t=f(r);function r(e,n,a){var i;b(this,r);var o=function(e){var t=D.default(e,s({autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3},n));return i.underlyingSocket="socket"in t?t.socket:t,t};return i=t.call(this,o,e,n,a),i.underlyingSocket=void 0,i}return y(r,[{key:"call",value:function(){for(var e,t,n=null===(e=this.underlyingSocket)||void 0===e?void 0:e.readyState,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return 1===n?(t=a(i(r.prototype),"call",this)).call.apply(t,[this].concat(o)):Promise.reject(new Error("Tried to call a JSON-RPC method `"+o[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}},{key:"notify",value:function(){for(var e,t,n=null===(e=this.underlyingSocket)||void 0===e?void 0:e.readyState,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return 1===n?(t=a(i(r.prototype),"notify",this)).call.apply(t,[this].concat(o)):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+o[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}]),r}(M.default);function Tt(e,t){var r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error("invalid account data; account type mismatch ".concat(r.typeIndex," != ").concat(e.index));return r}var Rt=56,Ct=function(){function e(t){b(this,e),this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}return y(e,[{key:"isActive",value:function(){var e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}}],[{key:"deserialize",value:function(e){var t=Tt(Lt,e),r=e.length-Rt;_e(r>=0,"lookup table is invalid"),_e(r%32===0,"lookup table is invalid");var n=r/32,a=U.struct([U.seq(ye(),n,"addresses")]).decode(e.slice(Rt)),i=a.addresses;return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new se(t.authority[0]):void 0,addresses:i.map((function(e){return new se(e)}))}}}]),e}(),Lt={index:1,layout:U.struct([U.u32("typeIndex"),ot("deactivationSlot"),U.nu64("lastExtendedSlot"),U.u8("lastExtendedStartIndex"),U.u8(),U.seq(ye(),U.offset(U.u8(),-1),"authority")])},Ot=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function zt(e){var t=e.match(Ot);if(null==t)throw TypeError("Failed to validate endpoint URL `".concat(e,"`"));var r=o(t,4),n=(r[0],r[1]),a=r[2],i=r[3],s=e.startsWith("https:")?"wss:":"ws:",u=null==a?null:parseInt(a.slice(1),10),c=null==u?"":":".concat(u+1);return"".concat(s,"//").concat(n).concat(c).concat(i)}var Kt=T.coerce(T.instance(se),T.string(),(function(e){return new se(e)})),Wt=T.tuple([T.string(),T.literal("base64")]),Nt=T.coerce(T.instance(S.Buffer),Wt,(function(e){return S.Buffer.from(e[0],"base64")})),qt=3e4;function Ut(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Vt(e){var t,r;if("string"===typeof e)t=e;else if(e){var a=e.commitment,i=n(e,g);t=a,r=i}return{commitment:t,config:r}}function Mt(e){return T.union([T.type({jsonrpc:T.literal("2.0"),id:T.string(),result:e}),T.type({jsonrpc:T.literal("2.0"),id:T.string(),error:T.type({code:T.unknown(),message:T.string(),data:T.optional(T.any())})})])}var Dt=Mt(T.unknown());function Ht(e){return T.coerce(Mt(e),Dt,(function(t){return"error"in t?t:s(s({},t),{},{result:T.create(t.result,e)})}))}function Ft(e){return Ht(T.type({context:T.type({slot:T.number()}),value:e}))}function jt(e){return T.type({context:T.type({slot:T.number()}),value:e})}function Jt(e,t){return 0===e?new Be({header:t.header,staticAccountKeys:t.accountKeys.map((function(e){return new se(e)})),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:q.default.decode(e.data)}})),addressTableLookups:t.addressTableLookups}):new Ee(t)}var Yt=T.type({foundation:T.number(),foundationTerm:T.number(),initial:T.number(),taper:T.number(),terminal:T.number()}),Gt=Ht(T.array(T.nullable(T.type({epoch:T.number(),effectiveSlot:T.number(),amount:T.number(),postBalance:T.number(),commission:T.optional(T.nullable(T.number()))})))),Xt=T.array(T.type({slot:T.number(),prioritizationFee:T.number()})),Zt=T.type({total:T.number(),validator:T.number(),foundation:T.number(),epoch:T.number()}),Qt=T.type({epoch:T.number(),slotIndex:T.number(),slotsInEpoch:T.number(),absoluteSlot:T.number(),blockHeight:T.optional(T.number()),transactionCount:T.optional(T.number())}),$t=T.type({slotsPerEpoch:T.number(),leaderScheduleSlotOffset:T.number(),warmup:T.boolean(),firstNormalEpoch:T.number(),firstNormalSlot:T.number()}),er=T.record(T.string(),T.array(T.number())),tr=T.nullable(T.union([T.type({}),T.string()])),rr=T.type({err:tr}),nr=T.literal("receivedSignature"),ar=T.type({"solana-core":T.string(),"feature-set":T.optional(T.number())}),ir=Ft(T.type({err:T.nullable(T.union([T.type({}),T.string()])),logs:T.nullable(T.array(T.string())),accounts:T.optional(T.nullable(T.array(T.nullable(T.type({executable:T.boolean(),owner:T.string(),lamports:T.number(),data:T.array(T.string()),rentEpoch:T.optional(T.number())}))))),unitsConsumed:T.optional(T.number()),returnData:T.optional(T.nullable(T.type({programId:T.string(),data:T.tuple([T.string(),T.literal("base64")])})))})),sr=Ft(T.type({byIdentity:T.record(T.string(),T.array(T.number())),range:T.type({firstSlot:T.number(),lastSlot:T.number()})}));function or(e,t,r,n,a,i){var s,o,c=r||Et;null!=i&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(o=function(){var e=h(d().mark((function e(t,r){var a;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){try{n(t,r,(function(t,r){return e([t,r])}))}catch(i){a(i)}}));case 2:return a=e.sent,e.next=5,c.apply(void 0,u(a));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());var l=new V.default(function(){var r=h(d().mark((function r(n,i){var u,l,h,p,f;return d().wrap((function(r){while(1)switch(r.prev=r.next){case 0:u={method:"POST",body:n,agent:s,headers:Object.assign({"Content-Type":"application/json"},t||{},Rn)},r.prev=1,l=5,p=500;case 4:if(!o){r.next=10;break}return r.next=7,o(e,u);case 7:h=r.sent,r.next=13;break;case 10:return r.next=12,c(e,u);case 12:h=r.sent;case 13:if(429===h.status){r.next=15;break}return r.abrupt("break",26);case 15:if(!0!==a){r.next=17;break}return r.abrupt("break",26);case 17:if(l-=1,0!==l){r.next=20;break}return r.abrupt("break",26);case 20:return console.error("Server responded with ".concat(h.status," ").concat(h.statusText,".  Retrying after ").concat(p,"ms delay...")),r.next=23,Qe(p);case 23:p*=2;case 24:r.next=4;break;case 26:return r.next=28,h.text();case 28:f=r.sent,h.ok?i(null,f):i(new Error("".concat(h.status," ").concat(h.statusText,": ").concat(f))),r.next=35;break;case 32:r.prev=32,r.t0=r["catch"](1),r.t0 instanceof Error&&i(r.t0);case 35:case"end":return r.stop()}}),r,null,[[1,32]])})));return function(e,t){return r.apply(this,arguments)}}(),{});return l}function ur(e){return function(t,r){return new Promise((function(n,a){e.request(t,r,(function(e,t){e?a(e):n(t)}))}))}}function cr(e){return function(t){return new Promise((function(r,n){0===t.length&&r([]);var a=t.map((function(t){return e.request(t.methodName,t.args)}));e.request(a,(function(e,t){e?n(e):r(t)}))}))}}var lr=Ht(Yt),dr=Ht(Zt),hr=Ht(Xt),pr=Ht(Qt),fr=Ht($t),br=Ht(er),yr=Ht(T.number()),kr=Ft(T.type({total:T.number(),circulating:T.number(),nonCirculating:T.number(),nonCirculatingAccounts:T.array(Kt)})),gr=T.type({amount:T.string(),uiAmount:T.nullable(T.number()),decimals:T.number(),uiAmountString:T.optional(T.string())}),mr=Ft(T.array(T.type({address:Kt,amount:T.string(),uiAmount:T.nullable(T.number()),decimals:T.number(),uiAmountString:T.optional(T.string())}))),vr=Ft(T.array(T.type({pubkey:Kt,account:T.type({executable:T.boolean(),owner:Kt,lamports:T.number(),data:Nt,rentEpoch:T.number()})}))),wr=T.type({program:T.string(),parsed:T.unknown(),space:T.number()}),Sr=Ft(T.array(T.type({pubkey:Kt,account:T.type({executable:T.boolean(),owner:Kt,lamports:T.number(),data:wr,rentEpoch:T.number()})}))),xr=Ft(T.array(T.type({lamports:T.number(),address:Kt}))),Ir=T.type({executable:T.boolean(),owner:Kt,lamports:T.number(),data:Nt,rentEpoch:T.number()}),Ar=T.type({pubkey:Kt,account:Ir}),_r=T.coerce(T.union([T.instance(S.Buffer),wr]),T.union([Wt,wr]),(function(e){return Array.isArray(e)?T.create(e,Nt):e})),Pr=T.type({executable:T.boolean(),owner:Kt,lamports:T.number(),data:_r,rentEpoch:T.number()}),Er=T.type({pubkey:Kt,account:Pr}),Br=T.type({state:T.union([T.literal("active"),T.literal("inactive"),T.literal("activating"),T.literal("deactivating")]),active:T.number(),inactive:T.number()}),Tr=Ht(T.array(T.type({signature:T.string(),slot:T.number(),err:tr,memo:T.nullable(T.string()),blockTime:T.optional(T.nullable(T.number()))}))),Rr=Ht(T.array(T.type({signature:T.string(),slot:T.number(),err:tr,memo:T.nullable(T.string()),blockTime:T.optional(T.nullable(T.number()))}))),Cr=T.type({subscription:T.number(),result:jt(Ir)}),Lr=T.type({pubkey:Kt,account:Ir}),Or=T.type({subscription:T.number(),result:jt(Lr)}),zr=T.type({parent:T.number(),slot:T.number(),root:T.number()}),Kr=T.type({subscription:T.number(),result:zr}),Wr=T.union([T.type({type:T.union([T.literal("firstShredReceived"),T.literal("completed"),T.literal("optimisticConfirmation"),T.literal("root")]),slot:T.number(),timestamp:T.number()}),T.type({type:T.literal("createdBank"),parent:T.number(),slot:T.number(),timestamp:T.number()}),T.type({type:T.literal("frozen"),slot:T.number(),timestamp:T.number(),stats:T.type({numTransactionEntries:T.number(),numSuccessfulTransactions:T.number(),numFailedTransactions:T.number(),maxTransactionsPerEntry:T.number()})}),T.type({type:T.literal("dead"),slot:T.number(),timestamp:T.number(),err:T.string()})]),Nr=T.type({subscription:T.number(),result:Wr}),qr=T.type({subscription:T.number(),result:jt(T.union([rr,nr]))}),Ur=T.type({subscription:T.number(),result:T.number()}),Vr=T.type({pubkey:T.string(),gossip:T.nullable(T.string()),tpu:T.nullable(T.string()),rpc:T.nullable(T.string()),version:T.nullable(T.string())}),Mr=T.type({votePubkey:T.string(),nodePubkey:T.string(),activatedStake:T.number(),epochVoteAccount:T.boolean(),epochCredits:T.array(T.tuple([T.number(),T.number(),T.number()])),commission:T.number(),lastVote:T.number(),rootSlot:T.nullable(T.number())}),Dr=Ht(T.type({current:T.array(Mr),delinquent:T.array(Mr)})),Hr=T.union([T.literal("processed"),T.literal("confirmed"),T.literal("finalized")]),Fr=T.type({slot:T.number(),confirmations:T.nullable(T.number()),err:tr,confirmationStatus:T.optional(Hr)}),jr=Ft(T.array(T.nullable(Fr))),Jr=Ht(T.number()),Yr=T.type({accountKey:Kt,writableIndexes:T.array(T.number()),readonlyIndexes:T.array(T.number())}),Gr=T.type({signatures:T.array(T.string()),message:T.type({accountKeys:T.array(T.string()),header:T.type({numRequiredSignatures:T.number(),numReadonlySignedAccounts:T.number(),numReadonlyUnsignedAccounts:T.number()}),instructions:T.array(T.type({accounts:T.array(T.number()),data:T.string(),programIdIndex:T.number()})),recentBlockhash:T.string(),addressTableLookups:T.optional(T.array(Yr))})}),Xr=T.type({pubkey:Kt,signer:T.boolean(),writable:T.boolean(),source:T.optional(T.union([T.literal("transaction"),T.literal("lookupTable")]))}),Zr=T.type({accountKeys:T.array(Xr),signatures:T.array(T.string())}),Qr=T.type({parsed:T.unknown(),program:T.string(),programId:Kt}),$r=T.type({accounts:T.array(Kt),data:T.string(),programId:Kt}),en=T.union([$r,Qr]),tn=T.union([T.type({parsed:T.unknown(),program:T.string(),programId:T.string()}),T.type({accounts:T.array(T.string()),data:T.string(),programId:T.string()})]),rn=T.coerce(en,tn,(function(e){return"accounts"in e?T.create(e,$r):T.create(e,Qr)})),nn=T.type({signatures:T.array(T.string()),message:T.type({accountKeys:T.array(Xr),instructions:T.array(rn),recentBlockhash:T.string(),addressTableLookups:T.optional(T.nullable(T.array(Yr)))})}),an=T.type({accountIndex:T.number(),mint:T.string(),owner:T.optional(T.string()),uiTokenAmount:gr}),sn=T.type({writable:T.array(Kt),readonly:T.array(Kt)}),on=T.type({err:tr,fee:T.number(),innerInstructions:T.optional(T.nullable(T.array(T.type({index:T.number(),instructions:T.array(T.type({accounts:T.array(T.number()),data:T.string(),programIdIndex:T.number()}))})))),preBalances:T.array(T.number()),postBalances:T.array(T.number()),logMessages:T.optional(T.nullable(T.array(T.string()))),preTokenBalances:T.optional(T.nullable(T.array(an))),postTokenBalances:T.optional(T.nullable(T.array(an))),loadedAddresses:T.optional(sn),computeUnitsConsumed:T.optional(T.number())}),un=T.type({err:tr,fee:T.number(),innerInstructions:T.optional(T.nullable(T.array(T.type({index:T.number(),instructions:T.array(rn)})))),preBalances:T.array(T.number()),postBalances:T.array(T.number()),logMessages:T.optional(T.nullable(T.array(T.string()))),preTokenBalances:T.optional(T.nullable(T.array(an))),postTokenBalances:T.optional(T.nullable(T.array(an))),loadedAddresses:T.optional(sn),computeUnitsConsumed:T.optional(T.number())}),cn=T.union([T.literal(0),T.literal("legacy")]),ln=T.type({pubkey:T.string(),lamports:T.number(),postBalance:T.nullable(T.number()),rewardType:T.nullable(T.string()),commission:T.optional(T.nullable(T.number()))}),dn=Ht(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:Gr,meta:T.nullable(on),version:T.optional(cn)})),rewards:T.optional(T.array(ln)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),hn=Ht(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),rewards:T.optional(T.array(ln)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),pn=Ht(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:Zr,meta:T.nullable(on),version:T.optional(cn)})),rewards:T.optional(T.array(ln)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),fn=Ht(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:nn,meta:T.nullable(un),version:T.optional(cn)})),rewards:T.optional(T.array(ln)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),bn=Ht(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:Zr,meta:T.nullable(un),version:T.optional(cn)})),rewards:T.optional(T.array(ln)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),yn=Ht(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),rewards:T.optional(T.array(ln)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),kn=Ht(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:Gr,meta:T.nullable(on)})),rewards:T.optional(T.array(ln)),blockTime:T.nullable(T.number())}))),gn=Ht(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),signatures:T.array(T.string()),blockTime:T.nullable(T.number())}))),mn=Ht(T.nullable(T.type({slot:T.number(),meta:T.nullable(on),blockTime:T.optional(T.nullable(T.number())),transaction:Gr,version:T.optional(cn)}))),vn=Ht(T.nullable(T.type({slot:T.number(),transaction:nn,meta:T.nullable(un),blockTime:T.optional(T.nullable(T.number())),version:T.optional(cn)}))),wn=Ft(T.type({blockhash:T.string(),feeCalculator:T.type({lamportsPerSignature:T.number()})})),Sn=Ft(T.type({blockhash:T.string(),lastValidBlockHeight:T.number()})),xn=Ft(T.boolean()),In=T.type({slot:T.number(),numTransactions:T.number(),numSlots:T.number(),samplePeriodSecs:T.number()}),An=Ht(T.array(In)),_n=Ft(T.nullable(T.type({feeCalculator:T.type({lamportsPerSignature:T.number()})}))),Pn=Ht(T.string()),En=Ht(T.string()),Bn=T.type({err:tr,logs:T.array(T.string()),signature:T.string()}),Tn=T.type({result:jt(Bn),subscription:T.number()}),Rn={"solana-client":"js/".concat("0.0.0-development")},Cn=function(){function e(t,r){var n,a,i,s,o,u,c=this;b(this,e),this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=function(){var e={};return function(){var t=h(d().mark((function t(r){var n,a,i,s,o,u;return d().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Vt(r),i=a.commitment,s=a.config,o=c._buildArgs([],i,void 0,s),u=vt(o),e[u]=null!==(n=e[u])&&void 0!==n?n:h(d().mark((function t(){var r,n;return d().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c._rpcRequest("getBlockHeight",o);case 3:if(r=t.sent,n=T.create(r,Ht(T.number())),!("error"in n)){t.next=7;break}throw new Pt(n.error,"failed to get block height information");case 7:return t.abrupt("return",n.result);case 8:return t.prev=8,delete e[u],t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,,8,11]])})))(),t.next=6,e[u];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(),r&&"string"===typeof r?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,a=r.httpHeaders,i=r.fetch,s=r.fetchMiddleware,o=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=Ut(t),this._rpcWsEndpoint=n||zt(t),this._rpcClient=or(t,a,i,s,o,u),this._rpcRequest=ur(this._rpcClient),this._rpcBatchRequest=cr(this._rpcClient),this._rpcWebSocket=new Bt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}return y(e,[{key:"commitment",get:function(){return this._commitment}},{key:"rpcEndpoint",get:function(){return this._rpcEndpoint}},{key:"getBalanceAndContext",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=this._buildArgs([t.toBase58()],a,void 0,i),e.next=4,this._rpcRequest("getBalance",s);case 4:if(o=e.sent,u=T.create(o,Ft(T.number())),!("error"in u)){e.next=8;break}throw new Pt(u.error,"failed to get balance for ".concat(t.toBase58()));case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=h(d().mark((function e(t,r){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getBalanceAndContext(t,r).then((function(e){return e.value})).catch((function(e){throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBlockTime",value:function(){var e=h(d().mark((function e(t){var r,n;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getBlockTime",[t]);case 2:if(r=e.sent,n=T.create(r,Ht(T.nullable(T.number()))),!("error"in n)){e.next=6;break}throw new Pt(n.error,"failed to get block time for slot ".concat(t));case 6:return e.abrupt("return",n.result);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getMinimumLedgerSlot",value:function(){var e=h(d().mark((function e(){var t,r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("minimumLedgerSlot",[]);case 2:if(t=e.sent,r=T.create(t,Ht(T.number())),!("error"in r)){e.next=6;break}throw new Pt(r.error,"failed to get minimum ledger slot");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFirstAvailableBlock",value:function(){var e=h(d().mark((function e(){var t,r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getFirstAvailableBlock",[]);case 2:if(t=e.sent,r=T.create(t,yr),!("error"in r)){e.next=6;break}throw new Pt(r.error,"failed to get first available block");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSupply",value:function(){var e=h(d().mark((function e(t){var r,n,a;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},r="string"===typeof t?{commitment:t}:t?s(s({},t),{},{commitment:t&&t.commitment||this.commitment}):{commitment:this.commitment},e.next=4,this._rpcRequest("getSupply",[r]);case 4:if(n=e.sent,a=T.create(n,kr),!("error"in a)){e.next=8;break}throw new Pt(a.error,"failed to get supply");case 8:return e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenSupply",value:function(){var e=h(d().mark((function e(t,r){var n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenSupply",n);case 3:if(a=e.sent,i=T.create(a,Ft(gr)),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get token supply");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTokenAccountBalance",value:function(){var e=h(d().mark((function e(t,r){var n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenAccountBalance",n);case 3:if(a=e.sent,i=T.create(a,Ft(gr)),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get token account balance");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTokenAccountsByOwner",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,s,o,u,c,l;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Vt(n),i=a.commitment,s=a.config,o=[t.toBase58()],"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()}),u=this._buildArgs(o,i,"base64",s),e.next=6,this._rpcRequest("getTokenAccountsByOwner",u);case 6:if(c=e.sent,l=T.create(c,vr),!("error"in l)){e.next=10;break}throw new Pt(l.error,"failed to get token accounts owned by account ".concat(t.toBase58()));case 10:return e.abrupt("return",l.result);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getParsedTokenAccountsByOwner",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,s,o;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[t.toBase58()],"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()}),i=this._buildArgs(a,n,"jsonParsed"),e.next=5,this._rpcRequest("getTokenAccountsByOwner",i);case 5:if(s=e.sent,o=T.create(s,Sr),!("error"in o)){e.next=9;break}throw new Pt(o.error,"failed to get token accounts owned by account ".concat(t.toBase58()));case 9:return e.abrupt("return",o.result);case 10:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getLargestAccounts",value:function(){var e=h(d().mark((function e(t){var r,n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s(s({},t),{},{commitment:t&&t.commitment||this.commitment}),n=r.filter||r.commitment?[r]:[],e.next=4,this._rpcRequest("getLargestAccounts",n);case 4:if(a=e.sent,i=T.create(a,xr),!("error"in i)){e.next=8;break}throw new Pt(i.error,"failed to get largest accounts");case 8:return e.abrupt("return",i.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenLargestAccounts",value:function(){var e=h(d().mark((function e(t,r){var n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenLargestAccounts",n);case 3:if(a=e.sent,i=T.create(a,mr),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get token largest accounts");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getAccountInfoAndContext",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=this._buildArgs([t.toBase58()],a,"base64",i),e.next=4,this._rpcRequest("getAccountInfo",s);case 4:if(o=e.sent,u=T.create(o,Ft(T.nullable(Ir))),!("error"in u)){e.next=8;break}throw new Pt(u.error,"failed to get info about account ".concat(t.toBase58()));case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedAccountInfo",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=this._buildArgs([t.toBase58()],a,"jsonParsed",i),e.next=4,this._rpcRequest("getAccountInfo",s);case 4:if(o=e.sent,u=T.create(o,Ft(T.nullable(Pr))),!("error"in u)){e.next=8;break}throw new Pt(u.error,"failed to get info about account ".concat(t.toBase58()));case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getAccountInfo",value:function(){var e=h(d().mark((function e(t,r){var n;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccountInfoAndContext(t,r);case 3:return n=e.sent,e.abrupt("return",n.value);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error("failed to get info about account "+t.toBase58()+": "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMultipleParsedAccounts",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u,c;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=t.map((function(e){return e.toBase58()})),o=this._buildArgs([s],a,"jsonParsed",i),e.next=5,this._rpcRequest("getMultipleAccounts",o);case 5:if(u=e.sent,c=T.create(u,Ft(T.array(T.nullable(Pr)))),!("error"in c)){e.next=9;break}throw new Pt(c.error,"failed to get info for accounts ".concat(s));case 9:return e.abrupt("return",c.result);case 10:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMultipleAccountsInfoAndContext",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u,c;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=t.map((function(e){return e.toBase58()})),o=this._buildArgs([s],a,"base64",i),e.next=5,this._rpcRequest("getMultipleAccounts",o);case 5:if(u=e.sent,c=T.create(u,Ft(T.array(T.nullable(Ir)))),!("error"in c)){e.next=9;break}throw new Pt(c.error,"failed to get info for accounts ".concat(s));case 9:return e.abrupt("return",c.result);case 10:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMultipleAccountsInfo",value:function(){var e=h(d().mark((function e(t,r){var n;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMultipleAccountsInfoAndContext(t,r);case 2:return n=e.sent,e.abrupt("return",n.value);case 4:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getStakeActivation",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,o,u,c,l;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Vt(r),i=a.commitment,o=a.config,u=this._buildArgs([t.toBase58()],i,void 0,s(s({},o),{},{epoch:null!=n?n:null===o||void 0===o?void 0:o.epoch})),e.next=4,this._rpcRequest("getStakeActivation",u);case 4:if(c=e.sent,l=T.create(c,Ht(Br)),!("error"in l)){e.next=8;break}throw new Pt(l.error,"failed to get Stake Activation ".concat(t.toBase58()));case 8:return e.abrupt("return",l.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getProgramAccounts",value:function(){var e=h(d().mark((function e(t,r){var a,i,s,o,u,c,l,h,p,f;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Vt(r),i=a.commitment,s=a.config,o=s||{},u=o.encoding,c=n(o,m),l=this._buildArgs([t.toBase58()],i,u||"base64",c),e.next=5,this._rpcRequest("getProgramAccounts",l);case 5:if(h=e.sent,p=T.array(Ar),f=!0===c.withContext?T.create(h,Ft(p)):T.create(h,Ht(p)),!("error"in f)){e.next=10;break}throw new Pt(f.error,"failed to get accounts owned by program ".concat(t.toBase58()));case 10:return e.abrupt("return",f.result);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedProgramAccounts",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=this._buildArgs([t.toBase58()],a,"jsonParsed",i),e.next=4,this._rpcRequest("getProgramAccounts",s);case 4:if(o=e.sent,u=T.create(o,Ht(T.array(Er))),!("error"in u)){e.next=8;break}throw new Pt(u.error,"failed to get accounts owned by program ".concat(t.toBase58()));case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"confirmTransaction",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=4;break}n=t,e.next=8;break;case 4:if(i=t,null===(a=i.abortSignal)||void 0===a||!a.aborted){e.next=7;break}return e.abrupt("return",Promise.reject(i.abortSignal.reason));case 7:n=i.signature;case 8:e.prev=8,s=q.default.decode(n),e.next=15;break;case 12:throw e.prev=12,e.t0=e["catch"](8),new Error("signature must be base58 encoded: "+n);case 15:if(_e(64===s.length,"signature has invalid length"),"string"!==typeof t){e.next=22;break}return e.next=19,this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n});case 19:return e.abrupt("return",e.sent);case 22:if(!("lastValidBlockHeight"in t)){e.next=28;break}return e.next=25,this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t});case 25:return e.abrupt("return",e.sent);case 28:return e.next=30,this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t});case 30:return e.abrupt("return",e.sent);case 31:case"end":return e.stop()}}),e,this,[[8,12]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getCancellationPromise",value:function(e){return new Promise((function(t,r){null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",(function(){r(e.reason)})))}))}},{key:"getTransactionConfirmationPromise",value:function(e){var t,r,n=this,a=e.commitment,i=e.signature,s=!1,o=new Promise((function(e,o){try{t=n.onSignature(i,(function(r,n){t=void 0;var a={context:n,value:r};e({__type:Re.PROCESSED,response:a})}),a);var u=new Promise((function(e){null==t?e():r=n._onSubscriptionStateChange(t,(function(t){"subscribed"===t&&e()}))}));h(d().mark((function t(){var r,c,l;return d().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u;case 2:if(!s){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n.getSignatureStatus(i);case 6:if(r=t.sent,!s){t.next=9;break}return t.abrupt("return");case 9:if(null!=r){t.next=11;break}return t.abrupt("return");case 11:if(c=r.context,l=r.value,null!=l){t.next=14;break}return t.abrupt("return");case 14:if(null===l||void 0===l||!l.err){t.next=18;break}o(l.err),t.next=29;break;case 18:t.t0=a,t.next="confirmed"===t.t0||"single"===t.t0||"singleGossip"===t.t0?21:"finalized"===t.t0||"max"===t.t0||"root"===t.t0?24:("processed"===t.t0||t.t0,27);break;case 21:if("processed"!==l.confirmationStatus){t.next=23;break}return t.abrupt("return");case 23:return t.abrupt("break",27);case 24:if("processed"!==l.confirmationStatus&&"confirmed"!==l.confirmationStatus){t.next=26;break}return t.abrupt("return");case 26:return t.abrupt("break",27);case 27:s=!0,e({__type:Re.PROCESSED,response:{context:c,value:l}});case 29:case"end":return t.stop()}}),t)})))()}catch(c){o(c)}})),u=function(){r&&(r(),r=void 0),null!=t&&(n.removeSignatureListener(t),t=void 0)};return{abortConfirmation:u,confirmationPromise:o}}},{key:"confirmTransactionUsingBlockHeightExceedanceStrategy",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o,u,c,l,p,f,b,y,k=this;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commitment,n=t.strategy,a=n.abortSignal,i=n.lastValidBlockHeight,s=n.signature,o=!1,u=new Promise((function(e){var t=function(){var e=h(d().mark((function e(){var t;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getBlockHeight(r);case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",-1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();h(d().mark((function r(){var n;return d().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t();case 2:if(n=r.sent,!o){r.next=5;break}return r.abrupt("return");case 5:if(!(n<=i)){r.next=17;break}return r.next=8,Qe(1e3);case 8:if(!o){r.next=10;break}return r.abrupt("return");case 10:return r.next=12,t();case 12:if(n=r.sent,!o){r.next=15;break}return r.abrupt("return");case 15:r.next=5;break;case 17:e({__type:Re.BLOCKHEIGHT_EXCEEDED});case 18:case"end":return r.stop()}}),r)})))()})),c=this.getTransactionConfirmationPromise({commitment:r,signature:s}),l=c.abortConfirmation,p=c.confirmationPromise,f=this.getCancellationPromise(a),e.prev=5,e.next=8,Promise.race([f,p,u]);case 8:if(y=e.sent,y.__type!==Re.PROCESSED){e.next=13;break}b=y.response,e.next=14;break;case 13:throw new he(s);case 14:return e.prev=14,o=!0,l(),e.finish(14);case 18:return e.abrupt("return",b);case 19:case"end":return e.stop()}}),e,this,[[5,,14,18]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"confirmTransactionUsingDurableNonceStrategy",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o,u,c,l,p,f,b,y,k,g,m,v,w,S,x,I,A=this;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commitment,n=t.strategy,a=n.abortSignal,i=n.minContextSlot,s=n.nonceAccountPubkey,o=n.nonceValue,u=n.signature,c=!1,l=new Promise((function(e){var t=o,n=null,a=function(){var e=h(d().mark((function e(){var a,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.getNonceAndContext(s,{commitment:r,minContextSlot:i});case 3:return a=e.sent,o=a.context,u=a.value,n=o.slot,e.abrupt("return",null===u||void 0===u?void 0:u.nonce);case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();h(d().mark((function r(){return d().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,a();case 2:if(t=r.sent,!c){r.next=5;break}return r.abrupt("return");case 5:if(o===t){r.next=9;break}return e({__type:Re.NONCE_INVALID,slotInWhichNonceDidAdvance:n}),r.abrupt("return");case 9:return r.next=11,Qe(2e3);case 11:if(!c){r.next=13;break}return r.abrupt("return");case 13:return r.next=15,a();case 15:if(t=r.sent,!c){r.next=18;break}return r.abrupt("return");case 18:r.next=5;break;case 20:case"end":return r.stop()}}),r)})))()})),p=this.getTransactionConfirmationPromise({commitment:r,signature:u}),f=p.abortConfirmation,b=p.confirmationPromise,y=this.getCancellationPromise(a),e.prev=5,e.next=8,Promise.race([y,b,l]);case 8:if(g=e.sent,g.__type!==Re.PROCESSED){e.next=13;break}k=g.response,e.next=47;break;case 13:return e.next=16,this.getSignatureStatus(u);case 16:if(S=e.sent,null!=S){e.next=19;break}return e.abrupt("break",27);case 19:if(!(S.context.slot<(null!==(w=g.slotInWhichNonceDidAdvance)&&void 0!==w?w:i))){e.next=23;break}return e.next=22,Qe(400);case 22:return e.abrupt("continue",13);case 23:return v=S,e.abrupt("break",27);case 27:if(null===(m=v)||void 0===m||!m.value){e.next=46;break}x=r||"finalized",I=v.value.confirmationStatus,e.t0=x,e.next="processed"===e.t0||"recent"===e.t0?33:"confirmed"===e.t0||"single"===e.t0||"singleGossip"===e.t0?36:"finalized"===e.t0||"max"===e.t0||"root"===e.t0?39:42;break;case 33:if("processed"===I||"confirmed"===I||"finalized"===I){e.next=35;break}throw new fe(u);case 35:return e.abrupt("break",43);case 36:if("confirmed"===I||"finalized"===I){e.next=38;break}throw new fe(u);case 38:return e.abrupt("break",43);case 39:if("finalized"===I){e.next=41;break}throw new fe(u);case 41:return e.abrupt("break",43);case 42:case 43:k={context:v.context,value:{err:v.value.err}},e.next=47;break;case 46:throw new fe(u);case 47:return e.prev=47,c=!0,f(),e.finish(47);case 51:return e.abrupt("return",k);case 52:case"end":return e.stop()}}),e,this,[[5,,47,51]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"confirmTransactionUsingLegacyTimeoutStrategy",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o,u,c,l,h=this;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commitment,n=t.signature,i=new Promise((function(e){var t=h._confirmTransactionInitialTimeout||6e4;switch(r){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":t=h._confirmTransactionInitialTimeout||3e4;break}a=setTimeout((function(){return e({__type:Re.TIMED_OUT,timeoutMs:t})}),t)})),s=this.getTransactionConfirmationPromise({commitment:r,signature:n}),o=s.abortConfirmation,u=s.confirmationPromise,e.prev=3,e.next=6,Promise.race([u,i]);case 6:if(l=e.sent,l.__type!==Re.PROCESSED){e.next=11;break}c=l.response,e.next=12;break;case 11:throw new pe(n,l.timeoutMs/1e3);case 12:return e.prev=12,clearTimeout(a),o(),e.finish(12);case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,this,[[3,,12,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getClusterNodes",value:function(){var e=h(d().mark((function e(){var t,r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getClusterNodes",[]);case 2:if(t=e.sent,r=T.create(t,Ht(T.array(Vr))),!("error"in r)){e.next=6;break}throw new Pt(r.error,"failed to get cluster nodes");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getVoteAccounts",value:function(){var e=h(d().mark((function e(t){var r,n,a;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getVoteAccounts",r);case 3:if(n=e.sent,a=T.create(n,Dr),!("error"in a)){e.next=7;break}throw new Pt(a.error,"failed to get vote accounts");case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSlot",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(t),n=r.commitment,a=r.config,i=this._buildArgs([],n,void 0,a),e.next=4,this._rpcRequest("getSlot",i);case 4:if(s=e.sent,o=T.create(s,Ht(T.number())),!("error"in o)){e.next=8;break}throw new Pt(o.error,"failed to get slot");case 8:return e.abrupt("return",o.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSlotLeader",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(t),n=r.commitment,a=r.config,i=this._buildArgs([],n,void 0,a),e.next=4,this._rpcRequest("getSlotLeader",i);case 4:if(s=e.sent,o=T.create(s,Ht(T.string())),!("error"in o)){e.next=8;break}throw new Pt(o.error,"failed to get slot leader");case 8:return e.abrupt("return",o.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSlotLeaders",value:function(){var e=h(d().mark((function e(t,r){var n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[t,r],e.next=3,this._rpcRequest("getSlotLeaders",n);case 3:if(a=e.sent,i=T.create(a,Ht(T.array(Kt))),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get slot leaders");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSignatureStatus",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSignatureStatuses([t],r);case 2:return n=e.sent,a=n.context,i=n.value,_e(1===i.length),s=i[0],e.abrupt("return",{context:a,value:s});case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSignatureStatuses",value:function(){var e=h(d().mark((function e(t,r){var n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[t],r&&n.push(r),e.next=4,this._rpcRequest("getSignatureStatuses",n);case 4:if(a=e.sent,i=T.create(a,jr),!("error"in i)){e.next=8;break}throw new Pt(i.error,"failed to get signature status");case 8:return e.abrupt("return",i.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTransactionCount",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(t),n=r.commitment,a=r.config,i=this._buildArgs([],n,void 0,a),e.next=4,this._rpcRequest("getTransactionCount",i);case 4:if(s=e.sent,o=T.create(s,Ht(T.number())),!("error"in o)){e.next=8;break}throw new Pt(o.error,"failed to get transaction count");case 8:return e.abrupt("return",o.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTotalSupply",value:function(){var e=h(d().mark((function e(t){var r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0});case 2:return r=e.sent,e.abrupt("return",r.value.total);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getInflationGovernor",value:function(){var e=h(d().mark((function e(t){var r,n,a;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getInflationGovernor",r);case 3:if(n=e.sent,a=T.create(n,lr),!("error"in a)){e.next=7;break}throw new Pt(a.error,"failed to get inflation");case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getInflationReward",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,o,u,c,l;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Vt(n),i=a.commitment,o=a.config,u=this._buildArgs([t.map((function(e){return e.toBase58()}))],i,void 0,s(s({},o),{},{epoch:null!=r?r:null===o||void 0===o?void 0:o.epoch})),e.next=4,this._rpcRequest("getInflationReward",u);case 4:if(c=e.sent,l=T.create(c,Gt),!("error"in l)){e.next=8;break}throw new Pt(l.error,"failed to get inflation reward");case 8:return e.abrupt("return",l.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getInflationRate",value:function(){var e=h(d().mark((function e(){var t,r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getInflationRate",[]);case 2:if(t=e.sent,r=T.create(t,dr),!("error"in r)){e.next=6;break}throw new Pt(r.error,"failed to get inflation rate");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getEpochInfo",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(t),n=r.commitment,a=r.config,i=this._buildArgs([],n,void 0,a),e.next=4,this._rpcRequest("getEpochInfo",i);case 4:if(s=e.sent,o=T.create(s,pr),!("error"in o)){e.next=8;break}throw new Pt(o.error,"failed to get epoch info");case 8:return e.abrupt("return",o.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getEpochSchedule",value:function(){var e=h(d().mark((function e(){var t,r,n;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getEpochSchedule",[]);case 2:if(t=e.sent,r=T.create(t,fr),!("error"in r)){e.next=6;break}throw new Pt(r.error,"failed to get epoch schedule");case 6:return n=r.result,e.abrupt("return",new It(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLeaderSchedule",value:function(){var e=h(d().mark((function e(){var t,r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getLeaderSchedule",[]);case 2:if(t=e.sent,r=T.create(t,br),!("error"in r)){e.next=6;break}throw new Pt(r.error,"failed to get leader schedule");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMinimumBalanceForRentExemption",value:function(){var e=h(d().mark((function e(t,r){var n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t],r),e.next=3,this._rpcRequest("getMinimumBalanceForRentExemption",n);case 3:if(a=e.sent,i=T.create(a,Jr),!("error"in i)){e.next=8;break}return console.warn("Unable to fetch minimum balance for rent exemption"),e.abrupt("return",0);case 8:return e.abrupt("return",i.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getRecentBlockhashAndContext",value:function(){var e=h(d().mark((function e(t){var r,n,a;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getRecentBlockhash",r);case 3:if(n=e.sent,a=T.create(n,wn),!("error"in a)){e.next=7;break}throw new Pt(a.error,"failed to get recent blockhash");case 7:return e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRecentPerformanceSamples",value:function(){var e=h(d().mark((function e(t){var r,n;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]);case 2:if(r=e.sent,n=T.create(r,An),!("error"in n)){e.next=6;break}throw new Pt(n.error,"failed to get recent performance samples");case 6:return e.abrupt("return",n.result);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFeeCalculatorForBlockhash",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgs([t],r),e.next=3,this._rpcRequest("getFeeCalculatorForBlockhash",n);case 3:if(a=e.sent,i=T.create(a,_n),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get fee calculator");case 7:return s=i.result,o=s.context,u=s.value,e.abrupt("return",{context:o,value:null!==u?u.feeCalculator:null});case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getFeeForMessage",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Q(t.serialize()).toString("base64"),a=this._buildArgs([n],r),e.next=4,this._rpcRequest("getFeeForMessage",a);case 4:if(i=e.sent,s=T.create(i,Ft(T.nullable(T.number()))),!("error"in s)){e.next=8;break}throw new Pt(s.error,"failed to get fee for message");case 8:if(null!==s.result){e.next=10;break}throw new Error("invalid blockhash");case 10:return e.abrupt("return",s.result);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getRecentPrioritizationFees",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null===t||void 0===t||null===(r=t.lockedWritableAccounts)||void 0===r?void 0:r.map((function(e){return e.toBase58()})),a=null!==n&&void 0!==n&&n.length?[n]:[],e.next=4,this._rpcRequest("getRecentPrioritizationFees",a);case 4:if(i=e.sent,s=T.create(i,hr),!("error"in s)){e.next=8;break}throw new Pt(s.error,"failed to get recent prioritization fees");case 8:return e.abrupt("return",s.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRecentBlockhash",value:function(){var e=h(d().mark((function e(t){var r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRecentBlockhashAndContext(t);case 3:return r=e.sent,e.abrupt("return",r.value);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error("failed to get recent blockhash: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLatestBlockhash",value:function(){var e=h(d().mark((function e(t){var r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getLatestBlockhashAndContext(t);case 3:return r=e.sent,e.abrupt("return",r.value);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error("failed to get recent blockhash: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLatestBlockhashAndContext",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(t),n=r.commitment,a=r.config,i=this._buildArgs([],n,void 0,a),e.next=4,this._rpcRequest("getLatestBlockhash",i);case 4:if(s=e.sent,o=T.create(s,Sn),!("error"in o)){e.next=8;break}throw new Pt(o.error,"failed to get latest blockhash");case 8:return e.abrupt("return",o.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isBlockhashValid",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=this._buildArgs([t],a,void 0,i),e.next=4,this._rpcRequest("isBlockhashValid",s);case 4:if(o=e.sent,u=T.create(o,xn),!("error"in u)){e.next=8;break}throw new Pt(u.error,"failed to determine if the blockhash `"+t+"`is valid");case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getVersion",value:function(){var e=h(d().mark((function e(){var t,r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getVersion",[]);case 2:if(t=e.sent,r=T.create(t,Ht(ar)),!("error"in r)){e.next=6;break}throw new Pt(r.error,"failed to get version");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getGenesisHash",value:function(){var e=h(d().mark((function e(){var t,r;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getGenesisHash",[]);case 2:if(t=e.sent,r=T.create(t,Ht(T.string())),!("error"in r)){e.next=6;break}throw new Pt(r.error,"failed to get genesis hash");case 6:return e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBlock",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,o,u,c,l,h,p;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,o=this._buildArgsAtLeastConfirmed([t],a,void 0,i),e.next=4,this._rpcRequest("getBlock",o);case 4:u=e.sent,e.prev=5,e.t0=null===i||void 0===i?void 0:i.transactionDetails,e.next="accounts"===e.t0?9:"none"===e.t0?13:17;break;case 9:if(c=T.create(u,pn),!("error"in c)){e.next=12;break}throw c.error;case 12:return e.abrupt("return",c.result);case 13:if(l=T.create(u,hn),!("error"in l)){e.next=16;break}throw l.error;case 16:return e.abrupt("return",l.result);case 17:if(h=T.create(u,dn),!("error"in h)){e.next=20;break}throw h.error;case 20:return p=h.result,e.abrupt("return",p?s(s({},p),{},{transactions:p.transactions.map((function(e){var t=e.transaction,r=e.meta,n=e.version;return{meta:r,transaction:s(s({},t),{},{message:Jt(n,t.message)}),version:n}}))}):null);case 22:e.next=27;break;case 24:throw e.prev=24,e.t1=e["catch"](5),new Pt(e.t1,"failed to get confirmed block");case 27:case"end":return e.stop()}}),e,this,[[5,24]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedBlock",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u,c,l;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=this._buildArgsAtLeastConfirmed([t],a,"jsonParsed",i),e.next=4,this._rpcRequest("getBlock",s);case 4:o=e.sent,e.prev=5,e.t0=null===i||void 0===i?void 0:i.transactionDetails,e.next="accounts"===e.t0?9:"none"===e.t0?13:17;break;case 9:if(u=T.create(o,bn),!("error"in u)){e.next=12;break}throw u.error;case 12:return e.abrupt("return",u.result);case 13:if(c=T.create(o,yn),!("error"in c)){e.next=16;break}throw c.error;case 16:return e.abrupt("return",c.result);case 17:if(l=T.create(o,fn),!("error"in l)){e.next=20;break}throw l.error;case 20:return e.abrupt("return",l.result);case 21:e.next=26;break;case 23:throw e.prev=23,e.t1=e["catch"](5),new Pt(e.t1,"failed to get block");case 26:case"end":return e.stop()}}),e,this,[[5,23]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBlockProduction",value:function(){var e=h(d().mark((function e(t){var r,a,i,s,o,u,c;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"string"===typeof t?a=t:t&&(i=t.commitment,s=n(t,v),a=i,r=s),o=this._buildArgs([],a,"base64",r),e.next=4,this._rpcRequest("getBlockProduction",o);case 4:if(u=e.sent,c=T.create(u,sr),!("error"in c)){e.next=8;break}throw new Pt(c.error,"failed to get block production information");case 8:return e.abrupt("return",c.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransaction",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,o,u,c,l;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,o=this._buildArgsAtLeastConfirmed([t],a,void 0,i),e.next=4,this._rpcRequest("getTransaction",o);case 4:if(u=e.sent,c=T.create(u,mn),!("error"in c)){e.next=8;break}throw new Pt(c.error,"failed to get transaction");case 8:if(l=c.result,l){e.next=11;break}return e.abrupt("return",l);case 11:return e.abrupt("return",s(s({},l),{},{transaction:s(s({},l.transaction),{},{message:Jt(l.version,l.transaction.message)})}));case 12:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedTransaction",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=this._buildArgsAtLeastConfirmed([t],a,"jsonParsed",i),e.next=4,this._rpcRequest("getTransaction",s);case 4:if(o=e.sent,u=T.create(o,vn),!("error"in u)){e.next=8;break}throw new Pt(u.error,"failed to get transaction");case 8:return e.abrupt("return",u.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedTransactions",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u,c=this;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,s=t.map((function(e){var t=c._buildArgsAtLeastConfirmed([e],a,"jsonParsed",i);return{methodName:"getTransaction",args:t}})),e.next=4,this._rpcBatchRequest(s);case 4:return o=e.sent,u=o.map((function(e){var t=T.create(e,vn);if("error"in t)throw new Pt(t.error,"failed to get transactions");return t.result})),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTransactions",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,o,u,c,l=this;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Vt(r),a=n.commitment,i=n.config,o=t.map((function(e){var t=l._buildArgsAtLeastConfirmed([e],a,void 0,i);return{methodName:"getTransaction",args:t}})),e.next=4,this._rpcBatchRequest(o);case 4:return u=e.sent,c=u.map((function(e){var t=T.create(e,mn);if("error"in t)throw new Pt(t.error,"failed to get transactions");var r=t.result;return r?s(s({},r),{},{transaction:s(s({},r.transaction),{},{message:Jt(r.version,r.transaction.message)})}):r})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getConfirmedBlock",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r),e.next=3,this._rpcRequest("getConfirmedBlock",n);case 3:if(a=e.sent,i=T.create(a,kn),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get confirmed block");case 7:if(o=i.result,o){e.next=10;break}throw new Error("Confirmed block "+t+" not found");case 10:return u=s(s({},o),{},{transactions:o.transactions.map((function(e){var t=e.transaction,r=e.meta,n=new Ee(t.message);return{meta:r,transaction:s(s({},t),{},{message:n})}}))}),e.abrupt("return",s(s({},u),{},{transactions:u.transactions.map((function(e){var t=e.transaction,r=e.meta;return{meta:r,transaction:Oe.populate(t.message,t.signatures)}}))}));case 12:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBlocks",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this._buildArgsAtLeastConfirmed(void 0!==r?[t,r]:[t],n),e.next=3,this._rpcRequest("getBlocks",a);case 3:if(i=e.sent,s=T.create(i,Ht(T.array(T.number()))),!("error"in s)){e.next=7;break}throw new Pt(s.error,"failed to get blocks");case 7:return e.abrupt("return",s.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getBlockSignatures",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),e.next=3,this._rpcRequest("getBlock",n);case 3:if(a=e.sent,i=T.create(a,gn),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get block");case 7:if(s=i.result,s){e.next=10;break}throw new Error("Block "+t+" not found");case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getConfirmedBlockSignatures",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),e.next=3,this._rpcRequest("getConfirmedBlock",n);case 3:if(a=e.sent,i=T.create(a,gn),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get confirmed block");case 7:if(s=i.result,s){e.next=10;break}throw new Error("Confirmed block "+t+" not found");case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getConfirmedTransaction",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,o,u,c;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r),e.next=3,this._rpcRequest("getConfirmedTransaction",n);case 3:if(a=e.sent,i=T.create(a,mn),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get transaction");case 7:if(o=i.result,o){e.next=10;break}return e.abrupt("return",o);case 10:return u=new Ee(o.transaction.message),c=o.transaction.signatures,e.abrupt("return",s(s({},o),{},{transaction:Oe.populate(u,c)}));case 13:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedConfirmedTransaction",value:function(){var e=h(d().mark((function e(t,r){var n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),e.next=3,this._rpcRequest("getConfirmedTransaction",n);case 3:if(a=e.sent,i=T.create(a,vn),!("error"in i)){e.next=7;break}throw new Pt(i.error,"failed to get confirmed transaction");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getParsedConfirmedTransactions",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s=this;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.map((function(e){var t=s._buildArgsAtLeastConfirmed([e],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:t}})),e.next=3,this._rpcBatchRequest(n);case 3:return a=e.sent,i=a.map((function(e){var t=T.create(e,vn);if("error"in t)throw new Pt(t.error,"failed to get confirmed transactions");return t.result})),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getConfirmedSignaturesForAddress",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,s,o,u,c;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={},e.next=3,this.getFirstAvailableBlock();case 3:i=e.sent;case 4:if("until"in a){e.next=24;break}if(r--,!(r<=0||r<i)){e.next=8;break}return e.abrupt("break",24);case 8:return e.prev=8,e.next=11,this.getConfirmedBlockSignatures(r,"finalized");case 11:s=e.sent,s.signatures.length>0&&(a.until=s.signatures[s.signatures.length-1].toString()),e.next=22;break;case 15:if(e.prev=15,e.t0=e["catch"](8),!(e.t0 instanceof Error&&e.t0.message.includes("skipped"))){e.next=21;break}return e.abrupt("continue",4);case 21:throw e.t0;case 22:e.next=4;break;case 24:return e.next=26,this.getSlot("finalized");case 26:o=e.sent;case 27:if("before"in a){e.next=47;break}if(n++,!(n>o)){e.next=31;break}return e.abrupt("break",47);case 31:return e.prev=31,e.next=34,this.getConfirmedBlockSignatures(n);case 34:u=e.sent,u.signatures.length>0&&(a.before=u.signatures[u.signatures.length-1].toString()),e.next=45;break;case 38:if(e.prev=38,e.t1=e["catch"](31),!(e.t1 instanceof Error&&e.t1.message.includes("skipped"))){e.next=44;break}return e.abrupt("continue",27);case 44:throw e.t1;case 45:e.next=27;break;case 47:return e.next=49,this.getConfirmedSignaturesForAddress2(t,a);case 49:return c=e.sent,e.abrupt("return",c.map((function(e){return e.signature})));case 51:case"end":return e.stop()}}),e,this,[[8,15],[31,38]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getConfirmedSignaturesForAddress2",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),e.next=3,this._rpcRequest("getConfirmedSignaturesForAddress2",a);case 3:if(i=e.sent,s=T.create(i,Tr),!("error"in s)){e.next=7;break}throw new Pt(s.error,"failed to get confirmed signatures for address");case 7:return e.abrupt("return",s.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getSignaturesForAddress",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),e.next=3,this._rpcRequest("getSignaturesForAddress",a);case 3:if(i=e.sent,s=T.create(i,Rr),!("error"in s)){e.next=7;break}throw new Pt(s.error,"failed to get signatures for address");case 7:return e.abrupt("return",s.result);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getAddressLookupTable",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountInfoAndContext(t,r);case 2:return n=e.sent,a=n.context,i=n.value,s=null,null!==i&&(s=new Ct({key:t,state:Ct.deserialize(i.data)})),e.abrupt("return",{context:a,value:s});case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getNonceAndContext",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountInfoAndContext(t,r);case 2:return n=e.sent,a=n.context,i=n.value,s=null,null!==i&&(s=at.fromAccountData(i.data)),e.abrupt("return",{context:a,value:s});case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getNonce",value:function(){var e=h(d().mark((function e(t,r){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getNonceAndContext(t,r).then((function(e){return e.value})).catch((function(e){throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"requestAirdrop",value:function(){var e=h(d().mark((function e(t,r){var n,a;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("requestAirdrop",[t.toBase58(),r]);case 2:if(n=e.sent,a=T.create(n,Pn),!("error"in a)){e.next=6;break}throw new Pt(a.error,"airdrop to ".concat(t.toBase58()," failed"));case 6:return e.abrupt("return",a.result);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_blockhashWithExpiryBlockHeight",value:function(){var e=h(d().mark((function e(t){var r,n;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=10;break}case 1:if(!this._pollingBlockhash){e.next=6;break}return e.next=4,Qe(100);case 4:e.next=1;break;case 6:if(r=Date.now()-this._blockhashInfo.lastFetch,n=r>=qt,null===this._blockhashInfo.latestBlockhash||n){e.next=10;break}return e.abrupt("return",this._blockhashInfo.latestBlockhash);case 10:return e.next=12,this._pollNewBlockhash();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_pollNewBlockhash",value:function(){var e=h(d().mark((function e(){var t,r,n,a,i;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._pollingBlockhash=!0,e.prev=1,t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null,a=0;case 6:if(!(a<50)){e.next=18;break}return e.next=9,this.getLatestBlockhash("finalized");case 9:if(i=e.sent,n===i.blockhash){e.next=13;break}return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e.abrupt("return",i);case 13:return e.next=15,Qe(Ue/2);case 15:a++,e.next=6;break;case 18:throw new Error("Unable to obtain a new blockhash after ".concat(Date.now()-t,"ms"));case 19:return e.prev=19,this._pollingBlockhash=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getStakeMinimumDelegation",value:function(){var e=h(d().mark((function e(t){var r,n,a,i,s,o;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Vt(t),n=r.commitment,a=r.config,i=this._buildArgs([],n,"base64",a),e.next=4,this._rpcRequest("getStakeMinimumDelegation",i);case 4:if(s=e.sent,o=T.create(s,Ft(T.number())),!("error"in o)){e.next=8;break}throw new Pt(o.error,"failed to get stake minimum delegation");case 8:return e.abrupt("return",o.result);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"simulateTransaction",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,s,o,c,l,h,p,f,b,y,k,g,m,v,w,x,I,A,_,P,E,B,R,C,L,O;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("message"in t)){e.next=17;break}if(a=t,i=a.serialize(),s=S.Buffer.from(i).toString("base64"),!Array.isArray(r)&&void 0===n){e.next=6;break}throw new Error("Invalid arguments");case 6:return o=r||{},o.encoding="base64","commitment"in o||(o.commitment=this.commitment),c=[s,o],e.next=12,this._rpcRequest("simulateTransaction",c);case 12:if(l=e.sent,h=T.create(l,ir),!("error"in h)){e.next=16;break}throw new Error("failed to simulate transaction: "+h.error.message);case 16:return e.abrupt("return",h.result);case 17:if(t instanceof Oe?(f=t,p=new Oe,p.feePayer=f.feePayer,p.instructions=t.instructions,p.nonceInfo=f.nonceInfo,p.signatures=f.signatures):(p=Oe.populate(t),p._message=p._json=void 0),void 0===r||Array.isArray(r)){e.next=20;break}throw new Error("Invalid arguments");case 20:if(b=r,!p.nonceInfo||!b){e.next=25;break}(y=p).sign.apply(y,u(b)),e.next=45;break;case 25:k=this._disableBlockhashCaching;case 26:return e.next=28,this._blockhashWithExpiryBlockHeight(k);case 28:if(m=e.sent,p.lastValidBlockHeight=m.lastValidBlockHeight,p.recentBlockhash=m.blockhash,b){e.next=33;break}return e.abrupt("break",45);case 33:if((g=p).sign.apply(g,u(b)),p.signature){e.next=36;break}throw new Error("!signature");case 36:if(v=p.signature.toString("base64"),this._blockhashInfo.simulatedSignatures.includes(v)||this._blockhashInfo.transactionSignatures.includes(v)){e.next=42;break}return this._blockhashInfo.simulatedSignatures.push(v),e.abrupt("break",45);case 42:k=!0;case 43:e.next=26;break;case 45:return w=p._compile(),x=w.serialize(),I=p._serialize(x),A=I.toString("base64"),_={encoding:"base64",commitment:this.commitment},n&&(P=(Array.isArray(n)?n:w.nonProgramIds()).map((function(e){return e.toBase58()})),_["accounts"]={encoding:"base64",addresses:P}),b&&(_.sigVerify=!0),E=[A,_],e.next=55,this._rpcRequest("simulateTransaction",E);case 55:if(B=e.sent,R=T.create(B,ir),!("error"in R)){e.next=60;break}throw"data"in R.error&&(C=R.error.data.logs,C&&Array.isArray(C)&&(L="\n    ",O=L+C.join(L),console.error(R.error.message,O))),new At("failed to simulate transaction: "+R.error.message,C);case 60:return e.abrupt("return",R.result);case 61:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"sendTransaction",value:function(){var e=h(d().mark((function e(t,r,n){var a,i,s,o,c,l;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("version"in t)){e.next=7;break}if(!r||!Array.isArray(r)){e.next=3;break}throw new Error("Invalid arguments");case 3:return a=t.serialize(),e.next=6,this.sendRawTransaction(a,r);case 6:return e.abrupt("return",e.sent);case 7:if(void 0!==r&&Array.isArray(r)){e.next=9;break}throw new Error("Invalid arguments");case 9:if(i=r,!t.nonceInfo){e.next=14;break}t.sign.apply(t,u(i)),e.next=32;break;case 14:s=this._disableBlockhashCaching;case 15:return e.next=17,this._blockhashWithExpiryBlockHeight(s);case 17:if(o=e.sent,t.lastValidBlockHeight=o.lastValidBlockHeight,t.recentBlockhash=o.blockhash,t.sign.apply(t,u(i)),t.signature){e.next=23;break}throw new Error("!signature");case 23:if(c=t.signature.toString("base64"),this._blockhashInfo.transactionSignatures.includes(c)){e.next=29;break}return this._blockhashInfo.transactionSignatures.push(c),e.abrupt("break",32);case 29:s=!0;case 30:e.next=15;break;case 32:return l=t.serialize(),e.next=35,this.sendRawTransaction(l,n);case 35:return e.abrupt("return",e.sent);case 36:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"sendRawTransaction",value:function(){var e=h(d().mark((function e(t,r){var n,a;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Q(t).toString("base64"),e.next=3,this.sendEncodedTransaction(n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"sendEncodedTransaction",value:function(){var e=h(d().mark((function e(t,r){var n,a,i,s,o,u,c;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={encoding:"base64"},a=r&&r.skipPreflight,i=r&&r.preflightCommitment||this.commitment,r&&null!=r.maxRetries&&(n.maxRetries=r.maxRetries),r&&null!=r.minContextSlot&&(n.minContextSlot=r.minContextSlot),a&&(n.skipPreflight=a),i&&(n.preflightCommitment=i),s=[t,n],e.next=10,this._rpcRequest("sendTransaction",s);case 10:if(o=e.sent,u=T.create(o,En),!("error"in u)){e.next=15;break}throw"data"in u.error&&(c=u.error.data.logs),new At("failed to send transaction: "+u.error.message,c);case 15:return e.abrupt("return",u.result);case 16:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_wsOnOpen",value:function(){var e=this;this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((function(){h(d().mark((function t(){return d().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._rpcWebSocket.notify("ping");case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))()}),5e3),this._updateSubscriptions()}},{key:"_wsOnError",value:function(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}},{key:"_wsOnClose",value:function(e){var t=this;this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((function(e){var r=o(e,2),n=r[0],a=r[1];t._setSubscription(n,s(s({},a),{},{state:"pending"}))}))):this._updateSubscriptions()}},{key:"_setSubscription",value:function(e,t){var r,n=null===(r=this._subscriptionsByHash[e])||void 0===r?void 0:r.state;if(this._subscriptionsByHash[e]=t,n!==t.state){var a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach((function(e){try{e(t.state)}catch(r){}}))}}},{key:"_onSubscriptionStateChange",value:function(e,t){var r,n=this,a=this._subscriptionHashByClientSubscriptionId[e];if(null==a)return function(){};var i=(r=this._subscriptionStateChangeCallbacksByHash)[a]||(r[a]=new Set);return i.add(t),function(){i.delete(t),0===i.size&&delete n._subscriptionStateChangeCallbacksByHash[a]}}},{key:"_updateSubscriptions",value:function(){var e=h(d().mark((function e(){var t,r,n=this;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==Object.keys(this._subscriptionsByHash).length){e.next=3;break}return this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((function(){n._rpcWebSocketIdleTimeout=null;try{n._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log("Error when closing socket connection: ".concat(e.message))}}),500)),e.abrupt("return");case 3:if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){e.next=7;break}return this._rpcWebSocket.connect(),e.abrupt("return");case 7:return t=this._rpcWebSocketGeneration,r=function(){return t===n._rpcWebSocketGeneration},e.next=11,Promise.all(Object.keys(this._subscriptionsByHash).map(function(){var e=h(d().mark((function e(t){var a;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n._subscriptionsByHash[t],void 0!==a){e.next=3;break}return e.abrupt("return");case 3:e.t0=a.state,e.next="pending"===e.t0||"unsubscribed"===e.t0?6:"subscribed"===e.t0?15:19;break;case 6:if(0!==a.callbacks.size){e.next=12;break}return delete n._subscriptionsByHash[t],"unsubscribed"===a.state&&delete n._subscriptionCallbacksByServerSubscriptionId[a.serverSubscriptionId],e.next=11,n._updateSubscriptions();case 11:return e.abrupt("return");case 12:return e.next=14,h(d().mark((function e(){var i,o,u;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a.args,o=a.method,e.prev=1,n._setSubscription(t,s(s({},a),{},{state:"subscribing"})),e.next=5,n._rpcWebSocket.call(o,i);case 5:return u=e.sent,n._setSubscription(t,s(s({},a),{},{serverSubscriptionId:u,state:"subscribed"})),n._subscriptionCallbacksByServerSubscriptionId[u]=a.callbacks,e.next=10,n._updateSubscriptions();case 10:e.next=20;break;case 12:if(e.prev=12,e.t0=e["catch"](1),e.t0 instanceof Error&&console.error("".concat(o," error for argument"),i,e.t0.message),r()){e.next=17;break}return e.abrupt("return");case 17:return n._setSubscription(t,s(s({},a),{},{state:"pending"})),e.next=20,n._updateSubscriptions();case 20:case"end":return e.stop()}}),e,null,[[1,12]])})))();case 14:return e.abrupt("break",19);case 15:if(0!==a.callbacks.size){e.next=18;break}return e.next=18,h(d().mark((function e(){var i,o;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=a.serverSubscriptionId,o=a.unsubscribeMethod,!n._subscriptionsAutoDisposedByRpc.has(i)){e.next=5;break}n._subscriptionsAutoDisposedByRpc.delete(i),e.next=21;break;case 5:return n._setSubscription(t,s(s({},a),{},{state:"unsubscribing"})),n._setSubscription(t,s(s({},a),{},{state:"unsubscribing"})),e.prev=7,e.next=10,n._rpcWebSocket.call(o,[i]);case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e["catch"](7),e.t0 instanceof Error&&console.error("".concat(o," error:"),e.t0.message),r()){e.next=17;break}return e.abrupt("return");case 17:return n._setSubscription(t,s(s({},a),{},{state:"subscribed"})),e.next=20,n._updateSubscriptions();case 20:return e.abrupt("return");case 21:return n._setSubscription(t,s(s({},a),{},{state:"unsubscribed"})),e.next=24,n._updateSubscriptions();case 24:case"end":return e.stop()}}),e,null,[[7,12]])})))();case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_handleServerNotification",value:function(e,t){var r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((function(e){try{e.apply(void 0,u(t))}catch(r){console.error(r)}}))}},{key:"_wsOnAccountNotification",value:function(e){var t=T.create(e,Cr),r=t.result,n=t.subscription;this._handleServerNotification(n,[r.value,r.context])}},{key:"_makeSubscription",value:function(e,t){var r=this,n=this._nextClientSubscriptionId++,a=vt([e.method,t],!0),i=this._subscriptionsByHash[a];return void 0===i?this._subscriptionsByHash[a]=s(s({},e),{},{args:t,callbacks:new Set([e.callback]),state:"pending"}):i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=a,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=h(d().mark((function t(){var i;return d().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return delete r._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete r._subscriptionHashByClientSubscriptionId[n],i=r._subscriptionsByHash[a],_e(void 0!==i,"Could not find a `Subscription` when tearing down client subscription #".concat(n)),i.callbacks.delete(e.callback),t.next=7,r._updateSubscriptions();case 7:case"end":return t.stop()}}),t)}))),this._updateSubscriptions(),n}},{key:"onAccountChange",value:function(e,t,r){var n=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}},{key:"removeAccountChangeListener",value:function(){var e=h(d().mark((function e(t){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"account change");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_wsOnProgramAccountNotification",value:function(e){var t=T.create(e,Or),r=t.result,n=t.subscription;this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}},{key:"onProgramAccountChange",value:function(e,t,r,n){var a=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}},{key:"removeProgramAccountChangeListener",value:function(){var e=h(d().mark((function e(t){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"program account change");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onLogs",value:function(e,t,r){var n=this._buildArgs(["object"===k(e)?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}},{key:"removeOnLogsListener",value:function(){var e=h(d().mark((function e(t){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"logs");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_wsOnLogsNotification",value:function(e){var t=T.create(e,Tn),r=t.result,n=t.subscription;this._handleServerNotification(n,[r.value,r.context])}},{key:"_wsOnSlotNotification",value:function(e){var t=T.create(e,Kr),r=t.result,n=t.subscription;this._handleServerNotification(n,[r])}},{key:"onSlotChange",value:function(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}},{key:"removeSlotChangeListener",value:function(){var e=h(d().mark((function e(t){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"slot change");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_wsOnSlotUpdatesNotification",value:function(e){var t=T.create(e,Nr),r=t.result,n=t.subscription;this._handleServerNotification(n,[r])}},{key:"onSlotUpdate",value:function(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}},{key:"removeSlotUpdateListener",value:function(){var e=h(d().mark((function e(t){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"slot update");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_unsubscribeClientSubscription",value:function(){var e=h(d().mark((function e(t,r){var n;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t],!n){e.next=6;break}return e.next=4,n();case 4:e.next=7;break;case 6:console.warn("Ignored unsubscribe request because an active subscription with id "+"`".concat(t,"` for '").concat(r,"' events ")+"could not be found.");case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_buildArgs",value:function(e,t,r,n){var a=t||this._commitment;if(a||r||n){var i={};r&&(i.encoding=r),a&&(i.commitment=a),n&&(i=Object.assign(i,n)),e.push(i)}return e}},{key:"_buildArgsAtLeastConfirmed",value:function(e,t,r,n){var a=t||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}},{key:"_wsOnSignatureNotification",value:function(e){var t=T.create(e,qr),r=t.result,n=t.subscription;"receivedSignature"!==r.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===r.value?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}},{key:"onSignature",value:function(e,t,r){var n=this,a=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:function(e,r){if("status"===e.type){t(e.result,r);try{n.removeSignatureListener(i)}catch(a){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return i}},{key:"onSignatureWithOptions",value:function(e,t,r){var a=this,i=s(s({},r),{},{commitment:r&&r.commitment||this._commitment||"finalized"}),o=i.commitment,u=n(i,w),c=this._buildArgs([e],o,void 0,u),l=this._makeSubscription({callback:function(e,r){t(e,r);try{a.removeSignatureListener(l)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return l}},{key:"removeSignatureListener",value:function(){var e=h(d().mark((function e(t){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"signature result");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_wsOnRootNotification",value:function(e){var t=T.create(e,Ur),r=t.result,n=t.subscription;this._handleServerNotification(n,[r])}},{key:"onRootChange",value:function(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}},{key:"removeRootChangeListener",value:function(){var e=h(d().mark((function e(t){return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._unsubscribeClientSubscription(t,"root change");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Ln=function(){function e(t){b(this,e),this._keypair=void 0,this._keypair=null!==t&&void 0!==t?t:F()}return y(e,[{key:"publicKey",get:function(){return new se(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new e(F())}},{key:"fromSecretKey",value:function(t,r){if(64!==t.byteLength)throw new Error("bad secret key size");var n=t.slice(32,64);if(!r||!r.skipValidation)for(var a=t.slice(0,32),i=j(a),s=0;s<32;s++)if(n[s]!==i[s])throw new Error("provided secretKey is invalid");return new e({publicKey:n,secretKey:t})}},{key:"fromSeed",value:function(t){var r=j(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new e({publicKey:r,secretKey:n})}}]),e}(),On=Object.freeze({CreateLookupTable:{index:0,layout:U.struct([U.u32("instruction"),ot("recentSlot"),U.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:U.struct([U.u32("instruction")])},ExtendLookupTable:{index:2,layout:U.struct([U.u32("instruction"),ot(),U.seq(ye(),U.offset(U.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U.struct([U.u32("instruction")])},CloseLookupTable:{index:4,layout:U.struct([U.u32("instruction")])}}),zn=function(){function e(){b(this,e)}return y(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=U.u32("instruction"),n=r.decode(e.data),a=0,i=Object.entries(On);a<i.length;a++){var s=o(i[a],2),u=s[0],c=s[1];if(c.index==n){t=u;break}}if(!t)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return t}},{key:"decodeCreateLookupTable",value:function(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);var t=et(On.CreateLookupTable,e.data),r=t.recentSlot;return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}},{key:"decodeExtendLookupTable",value:function(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error("invalid instruction; found ".concat(e.keys.length," keys, expected at least 2"));var t=et(On.ExtendLookupTable,e.data),r=t.addresses;return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map((function(e){return new se(e)}))}}},{key:"decodeCloseLookupTable",value:function(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}},{key:"decodeFreezeLookupTable",value:function(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}},{key:"decodeDeactivateLookupTable",value:function(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}},{key:"checkProgramId",value:function(e){if(!e.equals(Kn.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}},{key:"checkKeysLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),Kn=function(){function e(){b(this,e)}return y(e,null,[{key:"createLookupTable",value:function(e){var t=se.findProgramAddressSync([e.authority.toBuffer(),B.toBufferLE(BigInt(e.recentSlot),8)],this.programId),r=o(t,2),n=r[0],a=r[1],i=On.CreateLookupTable,s=$e(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:a}),u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:lt.programId,isSigner:!1,isWritable:!1}];return[new Le({programId:this.programId,keys:u,data:s}),n]}},{key:"freezeLookupTable",value:function(e){var t=On.FreezeLookupTable,r=$e(t),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Le({programId:this.programId,keys:n,data:r})}},{key:"extendLookupTable",value:function(e){var t=On.ExtendLookupTable,r=$e(t,{addresses:e.addresses.map((function(e){return e.toBytes()}))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:lt.programId,isSigner:!1,isWritable:!1}),new Le({programId:this.programId,keys:n,data:r})}},{key:"deactivateLookupTable",value:function(e){var t=On.DeactivateLookupTable,r=$e(t),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Le({programId:this.programId,keys:n,data:r})}},{key:"closeLookupTable",value:function(e){var t=On.CloseLookupTable,r=$e(t),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Le({programId:this.programId,keys:n,data:r})}}]),e}();Kn.programId=new se("AddressLookupTab1e1111111111111111111111111");var Wn=function(){function e(){b(this,e)}return y(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=U.u8("instruction"),n=r.decode(e.data),a=0,i=Object.entries(Nn);a<i.length;a++){var s=o(i[a],2),u=s[0],c=s[1];if(c.index==n){t=u;break}}if(!t)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return t}},{key:"decodeRequestUnits",value:function(e){this.checkProgramId(e.programId);var t=et(Nn.RequestUnits,e.data),r=t.units,n=t.additionalFee;return{units:r,additionalFee:n}}},{key:"decodeRequestHeapFrame",value:function(e){this.checkProgramId(e.programId);var t=et(Nn.RequestHeapFrame,e.data),r=t.bytes;return{bytes:r}}},{key:"decodeSetComputeUnitLimit",value:function(e){this.checkProgramId(e.programId);var t=et(Nn.SetComputeUnitLimit,e.data),r=t.units;return{units:r}}},{key:"decodeSetComputeUnitPrice",value:function(e){this.checkProgramId(e.programId);var t=et(Nn.SetComputeUnitPrice,e.data),r=t.microLamports;return{microLamports:r}}},{key:"checkProgramId",value:function(e){if(!e.equals(qn.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}]),e}(),Nn=Object.freeze({RequestUnits:{index:0,layout:U.struct([U.u8("instruction"),U.u32("units"),U.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:U.struct([U.u8("instruction"),U.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:U.struct([U.u8("instruction"),U.u32("units")])},SetComputeUnitPrice:{index:3,layout:U.struct([U.u8("instruction"),ot("microLamports")])}}),qn=function(){function e(){b(this,e)}return y(e,null,[{key:"requestUnits",value:function(e){var t=Nn.RequestUnits,r=$e(t,e);return new Le({keys:[],programId:this.programId,data:r})}},{key:"requestHeapFrame",value:function(e){var t=Nn.RequestHeapFrame,r=$e(t,e);return new Le({keys:[],programId:this.programId,data:r})}},{key:"setComputeUnitLimit",value:function(e){var t=Nn.SetComputeUnitLimit,r=$e(t,e);return new Le({keys:[],programId:this.programId,data:r})}},{key:"setComputeUnitPrice",value:function(e){var t=Nn.SetComputeUnitPrice,r=$e(t,{microLamports:BigInt(e.microLamports)});return new Le({keys:[],programId:this.programId,data:r})}}]),e}();qn.programId=new se("ComputeBudget111111111111111111111111111111");var Un=64,Vn=32,Mn=64,Dn=U.struct([U.u8("numSignatures"),U.u8("padding"),U.u16("signatureOffset"),U.u16("signatureInstructionIndex"),U.u16("publicKeyOffset"),U.u16("publicKeyInstructionIndex"),U.u16("messageDataOffset"),U.u16("messageDataSize"),U.u16("messageInstructionIndex")]),Hn=function(){function e(){b(this,e)}return y(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,a=t.signature,i=t.instructionIndex;_e(r.length===Vn,"Public Key must be ".concat(Vn," bytes but received ").concat(r.length," bytes")),_e(a.length===Mn,"Signature must be ".concat(Mn," bytes but received ").concat(a.length," bytes"));var s=Dn.span,o=s+r.length,u=o+a.length,c=1,l=S.Buffer.alloc(u+n.length),d=null==i?65535:i;return Dn.encode({numSignatures:c,padding:0,signatureOffset:o,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:d},l),l.fill(r,s),l.fill(a,o),l.fill(n,u),new Le({keys:[],programId:e.programId,data:l})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;_e(t.length===Un,"Private key must be ".concat(Un," bytes but received ").concat(t.length," bytes"));try{var a=Ln.fromSecretKey(t),i=a.publicKey.toBytes(),s=X(r,a.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(o){throw new Error("Error creating instruction; ".concat(o))}}}]),e}();Hn.programId=new se("Ed25519SigVerify111111111111111111111111111");var Fn=function(e,t){var r=z.secp256k1.sign(e,t);return[r.toCompactRawBytes(),r.recovery]};z.secp256k1.utils.isValidPrivateKey;var jn,Jn=z.secp256k1.getPublicKey,Yn=32,Gn=20,Xn=64,Zn=11,Qn=U.struct([U.u8("numSignatures"),U.u16("signatureOffset"),U.u8("signatureInstructionIndex"),U.u16("ethAddressOffset"),U.u8("ethAddressInstructionIndex"),U.u16("messageDataOffset"),U.u16("messageDataSize"),U.u8("messageInstructionIndex"),U.blob(20,"ethAddress"),U.blob(64,"signature"),U.u8("recoveryId")]),$n=function(){function e(){b(this,e)}return y(e,null,[{key:"publicKeyToEthAddress",value:function(e){_e(e.length===Xn,"Public key must be ".concat(Xn," bytes but received ").concat(e.length," bytes"));try{return S.Buffer.from(O.keccak_256(Q(e))).slice(-Gn)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,a=t.signature,i=t.recoveryId,s=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:a,recoveryId:i,instructionIndex:s})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,a=t.message,i=t.signature,s=t.recoveryId,o=t.instructionIndex,u=void 0===o?0:o;r="string"===typeof n?n.startsWith("0x")?S.Buffer.from(n.substr(2),"hex"):S.Buffer.from(n,"hex"):n,_e(r.length===Gn,"Address must be ".concat(Gn," bytes but received ").concat(r.length," bytes"));var c=1+Zn,l=c,d=c+r.length,h=d+i.length+1,p=1,f=S.Buffer.alloc(Qn.span+a.length);return Qn.encode({numSignatures:p,signatureOffset:d,signatureInstructionIndex:u,ethAddressOffset:l,ethAddressInstructionIndex:u,messageDataOffset:h,messageDataSize:a.length,messageInstructionIndex:u,signature:Q(i),ethAddress:Q(r),recoveryId:s},f),f.fill(Q(a),Qn.span),new Le({keys:[],programId:e.programId,data:f})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;_e(t.length===Yn,"Private key must be ".concat(Yn," bytes but received ").concat(t.length," bytes"));try{var a=Q(t),i=Jn(a,!1).slice(1),s=S.Buffer.from(O.keccak_256(Q(r))),u=Fn(s,a),c=o(u,2),l=c[0],d=c[1];return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:l,recoveryId:d,instructionIndex:n})}catch(h){throw new Error("Error creating instruction; ".concat(h))}}}]),e}();$n.programId=new se("KeccakSecp256k11111111111111111111111111111");var ea=new se("StakeConfig11111111111111111111111111111111"),ta=y((function e(t,r){b(this,e),this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=r})),ra=y((function e(t,r,n){b(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));jn=ra,ra.default=new jn(0,0,se.default);var na=function(){function e(){b(this,e)}return y(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=U.u32("instruction"),n=r.decode(e.data),a=0,i=Object.entries(aa);a<i.length;a++){var s=o(i[a],2),u=s[0],c=s[1];if(c.index==n){t=u;break}}if(!t)throw new Error("Instruction type incorrect; not a StakeInstruction");return t}},{key:"decodeInitialize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=et(aa.Initialize,e.data),r=t.authorized,n=t.lockup;return{stakePubkey:e.keys[0].pubkey,authorized:new ta(new se(r.staker),new se(r.withdrawer)),lockup:new ra(n.unixTimestamp,n.epoch,new se(n.custodian))}}},{key:"decodeDelegate",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),et(aa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}},{key:"decodeAuthorize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=et(aa.Authorize,e.data),r=t.newAuthorized,n=t.stakeAuthorizationType,a={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new se(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}},{key:"decodeAuthorizeWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=et(aa.AuthorizeWithSeed,e.data),r=t.newAuthorized,n=t.stakeAuthorizationType,a=t.authoritySeed,i=t.authorityOwner,s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:a,authorityOwner:new se(i),newAuthorizedPubkey:new se(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}},{key:"decodeSplit",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=et(aa.Split,e.data),r=t.lamports;return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}},{key:"decodeMerge",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),et(aa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}},{key:"decodeWithdraw",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);var t=et(aa.Withdraw,e.data),r=t.lamports,n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}},{key:"decodeDeactivate",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),et(aa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}},{key:"checkProgramId",value:function(e){if(!e.equals(sa.programId))throw new Error("invalid instruction; programId is not StakeProgram")}},{key:"checkKeyLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),aa=Object.freeze({Initialize:{index:0,layout:U.struct([U.u32("instruction"),me(),ve()])},Authorize:{index:1,layout:U.struct([U.u32("instruction"),ye("newAuthorized"),U.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:U.struct([U.u32("instruction")])},Split:{index:3,layout:U.struct([U.u32("instruction"),U.ns64("lamports")])},Withdraw:{index:4,layout:U.struct([U.u32("instruction"),U.ns64("lamports")])},Deactivate:{index:5,layout:U.struct([U.u32("instruction")])},Merge:{index:7,layout:U.struct([U.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:U.struct([U.u32("instruction"),ye("newAuthorized"),U.u32("stakeAuthorizationType"),ge("authoritySeed"),ye("authorityOwner")])}}),ia=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),sa=function(){function e(){b(this,e)}return y(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup,a=n||ra.default,i=aa.Initialize,s=$e(i,{authorized:{staker:Q(r.staker.toBuffer()),withdrawer:Q(r.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:Q(a.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Fe,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Le(o)}},{key:"createAccountWithSeed",value:function(e){var t=new Oe;t.add(lt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,a=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:a}))}},{key:"createAccount",value:function(e){var t=new Oe;t.add(lt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,a=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:a}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,a=aa.Delegate,i=$e(a);return(new Oe).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ve,isSigner:!1,isWritable:!1},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,a=e.stakeAuthorizationType,i=e.custodianPubkey,s=aa.Authorize,o=$e(s,{newAuthorized:Q(n.toBuffer()),stakeAuthorizationType:a.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ve,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&u.push({pubkey:i,isSigner:!0,isWritable:!1}),(new Oe).add({keys:u,programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,a=e.authorityOwner,i=e.newAuthorizedPubkey,s=e.stakeAuthorizationType,o=e.custodianPubkey,u=aa.AuthorizeWithSeed,c=$e(u,{newAuthorized:Q(i.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:Q(a.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Ve,isSigner:!1,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),(new Oe).add({keys:l,programId:this.programId,data:c})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,a=e.lamports,i=aa.Split,s=$e(i,{lamports:a});return new Le({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}},{key:"split",value:function(e){var t=new Oe;return t.add(lt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,a=e.basePubkey,i=e.seed,s=e.lamports,o=new Oe;return o.add(lt.allocate({accountPubkey:n,basePubkey:a,seed:i,space:this.space,programId:this.programId})),o.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,a=aa.Merge,i=$e(a);return(new Oe).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ve,isSigner:!1,isWritable:!1},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,a=e.lamports,i=e.custodianPubkey,s=aa.Withdraw,o=$e(s,{lamports:a}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ve,isSigner:!1,isWritable:!1},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&u.push({pubkey:i,isSigner:!0,isWritable:!1}),(new Oe).add({keys:u,programId:this.programId,data:o})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=aa.Deactivate,a=$e(n);return(new Oe).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ve,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}}]),e}();sa.programId=new se("Stake11111111111111111111111111111111111111"),sa.space=200;var oa=y((function e(t,r,n,a){b(this,e),this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=a})),ua=function(){function e(){b(this,e)}return y(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=U.u32("instruction"),n=r.decode(e.data),a=0,i=Object.entries(ca);a<i.length;a++){var s=o(i[a],2),u=s[0],c=s[1];if(c.index==n){t=u;break}}if(!t)throw new Error("Instruction type incorrect; not a VoteInstruction");return t}},{key:"decodeInitializeAccount",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);var t=et(ca.InitializeAccount,e.data),r=t.voteInit;return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new oa(new se(r.nodePubkey),new se(r.authorizedVoter),new se(r.authorizedWithdrawer),r.commission)}}},{key:"decodeAuthorize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=et(ca.Authorize,e.data),r=t.newAuthorized,n=t.voteAuthorizationType;return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new se(r),voteAuthorizationType:{index:n}}}},{key:"decodeAuthorizeWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=et(ca.AuthorizeWithSeed,e.data),r=t.voteAuthorizeWithSeedArgs,n=r.currentAuthorityDerivedKeyOwnerPubkey,a=r.currentAuthorityDerivedKeySeed,i=r.newAuthorized,s=r.voteAuthorizationType;return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new se(n),currentAuthorityDerivedKeySeed:a,newAuthorizedPubkey:new se(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}},{key:"decodeWithdraw",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=et(ca.Withdraw,e.data),r=t.lamports;return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}},{key:"checkProgramId",value:function(e){if(!e.equals(da.programId))throw new Error("invalid instruction; programId is not VoteProgram")}},{key:"checkKeyLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),ca=Object.freeze({InitializeAccount:{index:0,layout:U.struct([U.u32("instruction"),we()])},Authorize:{index:1,layout:U.struct([U.u32("instruction"),ye("newAuthorized"),U.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:U.struct([U.u32("instruction"),U.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:U.struct([U.u32("instruction"),Se()])}}),la=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),da=function(){function e(){b(this,e)}return y(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,a=ca.InitializeAccount,i=$e(a,{voteInit:{nodePubkey:Q(n.nodePubkey.toBuffer()),authorizedVoter:Q(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Q(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Fe,isSigner:!1,isWritable:!1},{pubkey:Ve,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Le(s)}},{key:"createAccount",value:function(e){var t=new Oe;return t.add(lt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,a=e.voteAuthorizationType,i=ca.Authorize,s=$e(i,{newAuthorized:Q(n.toBuffer()),voteAuthorizationType:a.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ve,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Oe).add({keys:o,programId:this.programId,data:s})}},{key:"authorizeWithSeed",value:function(e){var t=e.currentAuthorityDerivedKeyBasePubkey,r=e.currentAuthorityDerivedKeyOwnerPubkey,n=e.currentAuthorityDerivedKeySeed,a=e.newAuthorizedPubkey,i=e.voteAuthorizationType,s=e.votePubkey,o=ca.AuthorizeWithSeed,u=$e(o,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Q(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Q(a.toBuffer()),voteAuthorizationType:i.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Ve,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new Oe).add({keys:c,programId:this.programId,data:u})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,a=e.toPubkey,i=ca.Withdraw,s=$e(i,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Oe).add({keys:o,programId:this.programId,data:s})}},{key:"safeWithdraw",value:function(t,r,n){if(t.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return e.withdraw(t)}}]),e}();da.programId=new se("Vote111111111111111111111111111111111111111"),da.space=3731;var ha=new se("Va1idator1nfo111111111111111111111111111111"),pa=T.type({name:T.string(),website:T.optional(T.string()),details:T.optional(T.string()),keybaseUsername:T.optional(T.string())}),fa=function(){function e(t,r){b(this,e),this.key=void 0,this.info=void 0,this.key=t,this.info=r}return y(e,null,[{key:"fromConfigData",value:function(t){var r=u(t),n=Ie(r);if(2!==n)return null;for(var a=[],i=0;i<2;i++){var s=new se(r.slice(0,ne));r=r.slice(ne);var o=1===r.slice(0,1)[0];r=r.slice(1),a.push({publicKey:s,isSigner:o})}if(a[0].publicKey.equals(ha)&&a[1].isSigner){var c=ge().decode(S.Buffer.from(r)),l=JSON.parse(c);return T.assert(l,pa),new e(a[1].publicKey,l)}return null}}]),e}(),ba=new se("Vote111111111111111111111111111111111111111"),ya=U.struct([ye("nodePubkey"),ye("authorizedWithdrawer"),U.u8("commission"),U.nu64(),U.seq(U.struct([U.nu64("slot"),U.u32("confirmationCount")]),U.offset(U.u32(),-8),"votes"),U.u8("rootSlotValid"),U.nu64("rootSlot"),U.nu64(),U.seq(U.struct([U.nu64("epoch"),ye("authorizedVoter")]),U.offset(U.u32(),-8),"authorizedVoters"),U.struct([U.seq(U.struct([ye("authorizedPubkey"),U.nu64("epochOfLastAuthorizedSwitch"),U.nu64("targetEpoch")]),32,"buf"),U.nu64("idx"),U.u8("isEmpty")],"priorVoters"),U.nu64(),U.seq(U.struct([U.nu64("epoch"),U.nu64("credits"),U.nu64("prevCredits")]),U.offset(U.u32(),-8),"epochCredits"),U.struct([U.nu64("slot"),U.nu64("timestamp")],"lastTimestamp")]),ka=function(){function e(t){b(this,e),this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}return y(e,null,[{key:"fromAccountData",value:function(t){var r=4,n=ya.decode(Q(t),r),a=n.rootSlot;return n.rootSlotValid||(a=null),new e({nodePubkey:new se(n.nodePubkey),authorizedWithdrawer:new se(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:a,authorizedVoters:n.authorizedVoters.map(ga),priorVoters:va(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}]),e}();function ga(e){var t=e.authorizedVoter,r=e.epoch;return{epoch:r,authorizedVoter:new se(t)}}function ma(e){var t=e.authorizedPubkey,r=e.epochOfLastAuthorizedSwitch,n=e.targetEpoch;return{authorizedPubkey:new se(t),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function va(e){var t=e.buf,r=e.idx,n=e.isEmpty;return n?[]:[].concat(u(t.slice(r+1).map(ma)),u(t.slice(0,r).map(ma)))}var wa={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Sa(e,t){var r=!1===t?"http":"https";if(!e)return wa[r]["devnet"];var n=wa[r][e];if(!n)throw new Error("Unknown ".concat(r," cluster: ").concat(e));return n}function xa(e,t,r,n){return Ia.apply(this,arguments)}function Ia(){return Ia=h(d().mark((function e(t,r,n,a){var i,s,o,u,c,l,h;return d().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,s=a):s=n,o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},e.next=4,t.sendRawTransaction(r,o);case 4:return u=e.sent,c=s&&s.commitment,l=i?t.confirmTransaction(i,c):t.confirmTransaction(u,c),e.next=9,l;case 9:if(h=e.sent.value,!h.err){e.next=12;break}throw new Error("Raw transaction ".concat(u," failed (").concat(JSON.stringify(h),")"));case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}var Aa=1e9;t.Account=oe,t.AddressLookupTableAccount=Ct,t.AddressLookupTableInstruction=zn,t.AddressLookupTableProgram=Kn,t.Authorized=ta,t.BLOCKHASH_CACHE_TIMEOUT_MS=qt,t.BPF_LOADER_DEPRECATED_PROGRAM_ID=ue,t.BPF_LOADER_PROGRAM_ID=pt,t.BpfLoader=ft,t.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Nn,t.ComputeBudgetInstruction=Wn,t.ComputeBudgetProgram=qn,t.Connection=Cn,t.Ed25519Program=Hn,t.Enum=ee,t.EpochSchedule=It,t.FeeCalculatorLayout=tt,t.Keypair=Ln,t.LAMPORTS_PER_SOL=Aa,t.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=On,t.Loader=ht,t.Lockup=ra,t.MAX_SEED_LENGTH=re,t.Message=Ee,t.MessageAccountKeys=be,t.MessageV0=Be,t.NONCE_ACCOUNT_LENGTH=nt,t.NonceAccount=at,t.PACKET_DATA_SIZE=ce,t.PUBLIC_KEY_LENGTH=ne,t.PublicKey=se,t.SIGNATURE_LENGTH_IN_BYTES=de,t.SOLANA_SCHEMA=te,t.STAKE_CONFIG_ID=ea,t.STAKE_INSTRUCTION_LAYOUTS=aa,t.SYSTEM_INSTRUCTION_LAYOUTS=ct,t.SYSVAR_CLOCK_PUBKEY=Ve,t.SYSVAR_EPOCH_SCHEDULE_PUBKEY=Me,t.SYSVAR_INSTRUCTIONS_PUBKEY=De,t.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=He,t.SYSVAR_RENT_PUBKEY=Fe,t.SYSVAR_REWARDS_PUBKEY=je,t.SYSVAR_SLOT_HASHES_PUBKEY=Je,t.SYSVAR_SLOT_HISTORY_PUBKEY=Ye,t.SYSVAR_STAKE_HISTORY_PUBKEY=Ge,t.Secp256k1Program=$n,t.SendTransactionError=At,t.SolanaJSONRPCError=Pt,t.SolanaJSONRPCErrorCode=_t,t.StakeAuthorizationLayout=ia,t.StakeInstruction=na,t.StakeProgram=sa,t.Struct=$,t.SystemInstruction=ut,t.SystemProgram=lt,t.Transaction=Oe,t.TransactionExpiredBlockheightExceededError=he,t.TransactionExpiredNonceInvalidError=fe,t.TransactionExpiredTimeoutError=pe,t.TransactionInstruction=Le,t.TransactionMessage=ze,t.TransactionStatus=Re,t.VALIDATOR_INFO_KEY=ha,t.VERSION_PREFIX_MASK=le,t.VOTE_PROGRAM_ID=ba,t.ValidatorInfo=fa,t.VersionedMessage=Te,t.VersionedTransaction=Ke,t.VoteAccount=ka,t.VoteAuthorizationLayout=la,t.VoteInit=oa,t.VoteInstruction=ua,t.VoteProgram=da,t.clusterApiUrl=Sa,t.sendAndConfirmRawTransaction=xa,t.sendAndConfirmTransaction=Xe},"633a":function(e,t,r){"use strict";r.d(t,"c",(function(){return a["b"]})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l}));var n=r("bbae"),a=r("a81a"),i=(r("d3b7"),r("25f0"),r("901e")),s=r.n(i),o=(new s.a("1e+18"),r("a9e3"),r("8df2")),u=function(e){var t=Object(o["u8"])(e),r=Object(n["a"])(t),a=r.encode,i=r.decode,s=t;return s.decode=function(e,t){var r=i(e,t);return!!r},s.encode=function(e,t,r){var n=Number(e);return a(n,t,r)},s},c=r("0276"),l=function(e){var t=Object(o["blob"])(32,e),r=Object(n["a"])(t),a=r.encode,i=r.decode,s=t;return s.decode=function(e,t){var r=i(e,t);return new c["PublicKey"](r)},s.encode=function(e,t,r){var n=e.toBuffer();return a(n,t,r)},s}},a81a:function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return c}));var n=r("8df2"),a=r("9ea2"),i=r("bbae"),s=function(t){return function(r){var s=Object(n["blob"])(t,r),o=Object(i["a"])(s),u=o.encode,c=o.decode,l=s;return l.decode=function(t,r){var n=c(t,r);return Object(a["toBigIntLE"])(e.from(n))},l.encode=function(e,r,n){var i=Object(a["toBufferLE"])(e,t);return u(i,r,n)},l}},o=function(t){return function(r){var s=Object(n["blob"])(t,r),o=Object(i["a"])(s),u=o.encode,c=o.decode,l=s;return l.decode=function(t,r){var n=c(t,r);return Object(a["toBigIntBE"])(e.from(n))},l.encode=function(e,r,n){var i=Object(a["toBufferBE"])(e,t);return u(i,r,n)},l}},u=s(8),c=(o(8),s(16));o(16),s(24),o(24),s(32),o(32)}).call(this,r("1c35").Buffer)},bbae:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){var t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}}}}]);