(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a82ba38"],{"027f":function(e,t,a){"use strict";a.r(t);a("99af");var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"container"},[t("CreateSuccessDialog",{ref:"CreateSuccessDialog",attrs:{"view-name":e.viewName,market_id:e.market_id}}),t("div",{class:"flexBox"},[t("div",{staticClass:"header"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"solana"}}),t("span",{staticClass:"headerTitle"},[e._v(" "+e._s(e.$t("route.openbook-market"))+" ")])],1),e.isPc?t("div",{staticClass:"otherLink"},[t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/multiSender/").concat(e.chainName),target:"_blank"}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),e._v(" "+e._s(e.$t("route.multiSenderSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")],1),e.isZh?e._e():t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/createToken/").concat(e.chainName),target:"_blank"}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),e._v(" "+e._s(e.$t("route.createTokenSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")],1),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/batchCollection/").concat(e.chainName),target:"_blank"}},[e._v(" "+e._s(e.$t("route.batchCollectionSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")]),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/createWallet/").concat(e.chainName),target:"_blank"}},[e._v(" "+e._s(e.$coinInfo[e.chainName].symbol)+" "+e._s(e.$t("route.createWallet"))+" ")])],1):e._e(),t("div",{staticClass:"content"},[t("div",{staticClass:"listTitle"},[t("span",{staticClass:"left"},[t("svg-icon",{attrs:{"icon-class":"tools"}}),e._v(" "+e._s("CoinTool.App")+" ")],1)]),t("div",{staticClass:"checkAll",on:{click:e.onShare}},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"share"}})],1),t("el-form",{ref:"form",attrs:{rules:e.formRules,model:e.form,"label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"baseToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".baseToken")))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("The token you have created and has no value yet.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",filterable:!0},model:{value:e.form.baseToken,callback:function(t){e.$set(e.form,"baseToken",t)},expression:"form.baseToken"}},e._l(e.addressOptions,(function(a,i){return t("el-option",{key:i,attrs:{label:"".concat(a.label?"".concat(a.label," - "):"").concat(e.getMiniAddress(a.value)),value:a.value}},[t("span",{staticStyle:{float:"left"}},[a.label&&"SOL"!==a.value?[e._v(" "+e._s(a.label)+" - ")]:e._e(),e._v(e._s(e._f("autoAddress")(a.value)))],2),"SOL"!==a.value?t("span",{staticStyle:{float:"right","margin-left":"20px",color:"#8492a6","font-size":"13px"}},[a.is2022?t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("SPL 2022")]):e._e(),e._v(" Balance : "+e._s(a.tokenBalance))],1):e._e()])})),1)],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"quoteToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".quoteToken")))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("A token with market value. Usually SOL or USDC.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",filterable:!0},model:{value:e.form.quoteToken,callback:function(t){e.$set(e.form,"quoteToken",t)},expression:"form.quoteToken"}},e._l(e.quoteTokenList,(function(a,i){return t("el-option",{key:i,attrs:{label:"".concat(a.label?"".concat(a.label," - "):"").concat(e.getMiniAddress(a.value)),value:a.value}},[t("span",{staticStyle:{float:"left"}},[a.label&&"SOL"!==a.value?[e._v(" "+e._s(a.label)+" - ")]:e._e(),e._v(e._s(e._f("autoAddress")(a.value)))],2),"SOL"!==a.value?t("span",{staticStyle:{float:"right","margin-left":"20px",color:"#8492a6","font-size":"13px"}},[a.is2022?t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("SPL 2022")]):e._e(),e._v(" Balance : "+e._s(a.tokenBalance))],1):e._e()])})),1)],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"minOrderSize"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".minOrderSize")))),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:""!==e.form.baseTokenName,expression:"form.baseTokenName!==''"}],staticStyle:{margin:"0 4px"},attrs:{size:"mini"}},[e._v(e._s(e.form.baseTokenName))]),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("That is, the minimum amount that users will be able to buy from your token.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,min:0,max:1e7,clearable:""},model:{value:e.form.minOrderSize,callback:function(t){e.$set(e.form,"minOrderSize",t)},expression:"form.minOrderSize"}})],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"tickSize"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".tickSize")))),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:""!==e.form.quoteTokenName,expression:"form.quoteTokenName!==''"}],staticStyle:{margin:"0 4px"},attrs:{size:"mini"}},[e._v(e._s(e.form.quoteTokenName))]),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(" That is, the minimum amount that can change the price of your token.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1e-4,min:1e-9,max:1e8,clearable:""},model:{value:e.form.tickSize,callback:function(t){e.$set(e.form,"tickSize",t)},expression:"form.tickSize"}})],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"advancedOptions"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".advancedOptions")))+" ")])]),t("el-switch",{attrs:{"active-color":"#2AB079"},model:{value:e.form.advancedOptions,callback:function(t){e.$set(e.form,"advancedOptions",t)},expression:"form.advancedOptions"}})],1)],1),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.form.advancedOptions,expression:"form.advancedOptions"}],attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"advancedOptions"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s("Config")+" ")])]),t("el-radio-group",{attrs:{size:"medium"},model:{value:e.form.selectConfig,callback:function(t){e.$set(e.form,"selectConfig",t)},expression:"form.selectConfig"}},e._l(e.solConfigArr,(function(a,i){return t("el-radio-button",{key:i,attrs:{label:a.value}},[e._v(e._s(a.value)+"  SOL")])})),1)],1)],1),e.form.advancedOptions?[t("el-col",{attrs:{span:8,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"eventQueueLength"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".eventQueueLength")))+" ")])]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,min:128,max:2978,clearable:""},model:{value:e.form.eventQueueLength,callback:function(t){e.$set(e.form,"eventQueueLength",t)},expression:"form.eventQueueLength"}}),t("div",{staticClass:"bytes_tips"},[e._v(e._s(e.form.size.totalEventQueueSize)+" bytes")])],1)],1),t("el-col",{attrs:{span:8,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"requestQueueLength"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".requestQueueLength")))+" ")])]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,min:9,max:63,clearable:""},model:{value:e.form.requestQueueLength,callback:function(t){e.$set(e.form,"requestQueueLength",t)},expression:"form.requestQueueLength"}}),t("div",{staticClass:"bytes_tips"},[e._v(e._s(e.form.size.totalRequestQueueSize)+" bytes")])],1)],1),t("el-col",{attrs:{span:8,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"orderbookLength"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".orderbookLength")))+" ")])]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,min:201,max:909,clearable:""},model:{value:e.form.orderbookLength,callback:function(t){e.$set(e.form,"orderbookLength",t)},expression:"form.orderbookLength"}}),t("div",{staticClass:"bytes_tips"},[e._v(e._s(e.form.size.totalOrderbookSize)+" bytes")])],1)],1)]:e._e()],2)],1),t("div",{staticClass:"tipsBox"},[t("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"Need to create a market ID here and then add liquidity.",type:"info"}},[t("div",{staticClass:"linkBox"},[t("a",{attrs:{href:"https://raydium.io/liquidity/create/",target:"_black"}},[e._v("Create pool "),t("i",{staticClass:"el-icon-link linkIcon"})])])]),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.form.baseTokenIs2022||e.form.quoteTokenIs2022,expression:"form.baseTokenIs2022 || form.quoteTokenIs2022"}],staticStyle:{"margin-bottom":"20px"},attrs:{title:"Token 2022 Add liquidity pool:Raydium does not support Amm pools, only CLMM pools",type:"info"}},[t("div",{staticClass:"linkBox"},[t("a",{attrs:{href:"https://docs.raydium.io/raydium/updates/token-2022-support",target:"_black"}},[e._v("raydium token2022 "),t("i",{staticClass:"el-icon-link linkIcon"})]),t("a",{attrs:{href:"https://docs.raydium.io/raydium/pool-creation/creating-a-clmm-pool-and-farm",target:"_black"}},[e._v("Create clmm pool doc "),t("i",{staticClass:"el-icon-link linkIcon"})]),t("a",{attrs:{href:"https://raydium.io/clmm/create-pool/",target:"_black"}},[e._v("Create clmm pool "),t("i",{staticClass:"el-icon-link linkIcon"})])])]),t("el-alert",{attrs:{title:e.$t("".concat(e.viewName,".editTips")),type:"error"}},[t("a",{attrs:{href:"https://telegra.ph/HOW-TO-CREATE-AN-OPENBOOK-MARKET-IN-SOLANA-03-01",target:"_black"}},[e._v(" How the OpenBook works. "),t("i",{staticClass:"el-icon-link linkIcon"})])])],1),t("div",{staticClass:"btnBox"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"btn",attrs:{type:"danger"},on:{click:e.onStop}},[e._v("STOP")]),t("el-button",{staticClass:"btn",attrs:{type:"success",loading:e.isLoading},on:{click:e.onConfirm}},[e._v(e._s(e.$t("".concat(e.viewName,".create"))))]),e.createFee>0?t("p",{staticClass:"feeTips"},[e._v("Fees = Tool "+e._s(e.createFee)+" SOL + Market creation cost")]):e._e()],1),t("div",{staticClass:"fqaBox"},[t("h4",[e._v("FQA")]),t("el-collapse",{attrs:{accordion:""}},[t("el-collapse-item",[t("template",{slot:"title"},[e._v(" What is Create OpenBook Market? ")]),t("div",{staticClass:"collapse_text"},[e._v("Create OpenBook Market is a tool that allows everyone, without coding experience, to create a Market (token pair on Solana Chain) customized for creating a liquidity pool later.")]),t("div",{staticClass:"collapse_text"},[e._v("在All this process is faster and cheaper that any other option as it is automatically done. This tool is completely safe, audited by different development teams and used by biggest solana projects.")])],2),t("el-collapse-item",[t("template",{slot:"title"},[e._v(" Is it Safe to use Create my Market here? ")]),t("div",{staticClass:"collapse_text"},[e._v("Yes, our tool is completely safe. It is a dApp that creates your Market. With the Market ID you can use our tool for creating a liquidity pool or go to any DEX and create your liquidity pool.")])],2),t("el-collapse-item",[t("template",{slot:"title"},[e._v(" How much time will the Creation of my OpenBook Market Take? ")]),t("div",{staticClass:"collapse_text"},[e._v("The time of your Market ID Creation depends on the TPS Status of Solana. It usually takes just a few seconds so do not worry, your Market ID will be ready really soon!")]),t("div",{staticClass:"collapse_text"},[e._v("If you have any issue please contact us.")])],2),t("el-collapse-item",[t("template",{slot:"title"},[e._v(" How much does Create OpenBook Market Cost? ")]),t("div",{staticClass:"collapse_text"},[e._v("The cost of creating OpenBook Market depends on its lenght. The base market we create on our Tool costs 1.9 SOL. But you can create one from 0.3 using the “Advanced Options”.")]),t("div",{staticClass:"collapse_text"},[e._v("We add a tool fee of 0.1 SOL on top of the Market creation cost.")])],2),t("el-collapse-item",[t("template",{slot:"title"},[e._v(" Which wallet can I use? ")]),t("div",{staticClass:"collapse_text"},[e._v("You can use any Solana Wallet as Phantom, Solflare, Backpack, etc.")])],2)],1)],1)],1)])],1)},n=[],s=a("fdd7"),r=s["a"],o=(a("1a9a9"),a("2877")),c=Object(o["a"])(r,i,n,!1,null,"46316913",null);t["default"]=c.exports},1079:function(e,t,a){"use strict";a("eea0")},"19cf":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return b}));var i=a("2909"),n=a("d4ec"),s=a("bee2"),r=(a("fb6a"),a("14d9"),a("99af"),a("d81d"),a("901ed")),o=a("9b08"),c=a("64b9"),l=new c["PublicKey"]("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),u=new o["a"](0,Object(r["union"])(Object(r["u32"])("instruction")));function d(t){var a=e.alloc(100);return a.slice(0,u.encode(t,a))}u.inner.addVariant(0,Object(r["struct"])([Object(o["g"])("baseLotSize"),Object(o["g"])("quoteLotSize"),Object(r["u16"])("feeRateBps"),Object(o["g"])("vaultSignerNonce"),Object(o["g"])("quoteDustThreshold")]),"initializeMarket"),u.inner.addVariant(1,Object(r["struct"])([Object(o["e"])("side"),Object(o["g"])("limitPrice"),Object(o["g"])("maxQuantity"),Object(o["b"])("orderType"),Object(o["g"])("clientId")]),"newOrder"),u.inner.addVariant(2,Object(r["struct"])([Object(r["u16"])("limit")]),"matchOrders"),u.inner.addVariant(3,Object(r["struct"])([Object(r["u16"])("limit")]),"consumeEvents"),u.inner.addVariant(4,Object(r["struct"])([Object(o["e"])("side"),Object(o["f"])("orderId"),Object(o["c"])("openOrders"),Object(r["u8"])("openOrdersSlot")]),"cancelOrder"),u.inner.addVariant(5,Object(r["struct"])([]),"settleFunds"),u.inner.addVariant(6,Object(r["struct"])([Object(o["g"])("clientId")]),"cancelOrderByClientId"),u.inner.addVariant(10,Object(r["struct"])([Object(o["e"])("side"),Object(o["g"])("limitPrice"),Object(o["g"])("maxBaseQuantity"),Object(o["g"])("maxQuoteQuantity"),Object(o["d"])("selfTradeBehavior"),Object(o["b"])("orderType"),Object(o["g"])("clientId"),Object(r["u16"])("limit")]),"newOrderV3"),u.inner.addVariant(11,Object(r["struct"])([Object(o["e"])("side"),Object(o["f"])("orderId")]),"cancelOrderV2"),u.inner.addVariant(12,Object(r["struct"])([Object(o["g"])("clientId")]),"cancelOrderByClientIdV2"),u.inner.addVariant(14,Object(r["struct"])([]),"closeOpenOrders"),u.inner.addVariant(15,Object(r["struct"])([]),"initOpenOrders");var b=function(){function e(){Object(n["a"])(this,e)}return Object(s["a"])(e,null,[{key:"initializeMarket",value:function(e){var t=e.market,a=e.requestQueue,i=e.eventQueue,n=e.bids,s=e.asks,r=e.baseVault,o=e.quoteVault,l=e.baseMint,u=e.quoteMint,b=e.baseLotSize,p=e.quoteLotSize,m=e.feeRateBps,k=e.vaultSignerNonce,h=e.quoteDustThreshold,f=e.programId,g=new c["PublicKey"]("SysvarRent111111111111111111111111111111111");return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1}],programId:f,data:d({initializeMarket:{baseLotSize:b,quoteLotSize:p,feeRateBps:m,vaultSignerNonce:k,quoteDustThreshold:h}})})}},{key:"newOrder",value:function(e){var t=e.market,a=e.openOrders,i=e.payer,n=e.owner,s=e.requestQueue,r=e.baseVault,o=e.quoteVault,u=e.side,b=e.limitPrice,p=e.maxQuantity,m=e.orderType,k=e.clientId,h=e.programId,f=e.feeDiscountPubkey,g=void 0===f?null:f,y=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:c["SYSVAR_RENT_PUBKEY"],isSigner:!1,isWritable:!1}];return g&&y.push({pubkey:g,isSigner:!1,isWritable:!1}),new c["TransactionInstruction"]({keys:y,programId:h,data:d({newOrder:k?{side:u,limitPrice:b,maxQuantity:p,orderType:m,clientId:k}:{side:u,limitPrice:b,maxQuantity:p,orderType:m}})})}},{key:"newOrderV3",value:function(e){var t=e.market,a=e.openOrders,i=e.payer,n=e.owner,s=e.requestQueue,r=e.eventQueue,o=e.bids,u=e.asks,b=e.baseVault,p=e.quoteVault,m=e.side,k=e.limitPrice,h=e.maxBaseQuantity,f=e.maxQuoteQuantity,g=e.orderType,y=e.clientId,v=e.programId,O=e.selfTradeBehavior,S=e.feeDiscountPubkey,w=void 0===S?null:S,_=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:c["SYSVAR_RENT_PUBKEY"],isSigner:!1,isWritable:!1}];return w&&_.push({pubkey:w,isSigner:!1,isWritable:!1}),new c["TransactionInstruction"]({keys:_,programId:v,data:d({newOrderV3:{side:m,limitPrice:k,maxBaseQuantity:h,maxQuoteQuantity:f,selfTradeBehavior:O,orderType:g,clientId:y,limit:65535}})})}},{key:"matchOrders",value:function(e){var t=e.market,a=e.requestQueue,i=e.eventQueue,n=e.bids,s=e.asks,r=e.baseVault,o=e.quoteVault,l=e.limit,u=e.programId;return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0}],programId:u,data:d({matchOrders:{limit:l}})})}},{key:"consumeEvents",value:function(e){var t=e.market,a=e.eventQueue,n=e.coinFee,s=e.pcFee,r=e.openOrdersAccounts,o=e.limit,l=e.programId;return new c["TransactionInstruction"]({keys:[].concat(Object(i["a"])(r.map((function(e){return{pubkey:e,isSigner:!1,isWritable:!0}}))),[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWriteable:!0},{pubkey:s,isSigner:!1,isWritable:!0}]),programId:l,data:d({consumeEvents:{limit:o}})})}},{key:"cancelOrder",value:function(e){var t=e.market,a=e.openOrders,i=e.owner,n=e.requestQueue,s=e.side,r=e.orderId,o=e.openOrdersSlot,l=e.programId;return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:l,data:d({cancelOrder:{side:s,orderId:r,openOrders:a,openOrdersSlot:o}})})}},{key:"cancelOrderV2",value:function(e){var t=e.market,a=e.bids,i=e.asks,n=e.eventQueue,s=e.openOrders,r=e.owner,o=e.side,l=e.orderId,u=(e.openOrdersSlot,e.programId);return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}],programId:u,data:d({cancelOrderV2:{side:o,orderId:l}})})}},{key:"cancelOrderByClientId",value:function(e){var t=e.market,a=e.openOrders,i=e.owner,n=e.requestQueue,s=e.clientId,r=e.programId;return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:r,data:d({cancelOrderByClientId:{clientId:s}})})}},{key:"cancelOrderByClientIdV2",value:function(e){var t=e.market,a=e.openOrders,i=e.owner,n=e.bids,s=e.asks,r=e.eventQueue,o=e.clientId,l=e.programId;return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],programId:l,data:d({cancelOrderByClientIdV2:{clientId:o}})})}},{key:"settleFunds",value:function(e){var t=e.market,a=e.openOrders,i=e.owner,n=e.baseVault,s=e.quoteVault,r=e.baseWallet,o=e.quoteWallet,u=e.vaultSigner,b=e.programId,p=e.referrerQuoteWallet,m=void 0===p?null:p,k=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1}];return m&&k.push({pubkey:m,isSigner:!1,isWritable:!0}),new c["TransactionInstruction"]({keys:k,programId:b,data:d({settleFunds:{}})})}},{key:"closeOpenOrders",value:function(e){var t=e.market,a=e.openOrders,i=e.owner,n=e.solWallet,s=e.programId,r=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}];return new c["TransactionInstruction"]({keys:r,programId:s,data:d({closeOpenOrders:{}})})}},{key:"initOpenOrders",value:function(e){var t=e.market,a=e.openOrders,i=e.owner,n=e.programId,s=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:c["SYSVAR_RENT_PUBKEY"],isSigner:!1,isWritable:!1}];return new c["TransactionInstruction"]({keys:s,programId:n,data:d({initOpenOrders:{}})})}}]),e}()}).call(this,a("1c35").Buffer)},"1a9a9":function(e,t,a){"use strict";a("c7f6")},"534e":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"append-to-body":!0,width:e.isPc?"600px":"90%",title:"MARKET ID Create Success",visible:e.isShowDialog,"close-on-click-modal":!1,"close-on-press-escape":!1,center:""},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("el-alert",{staticClass:"smaillBox",attrs:{title:"MARKET ID",type:"success",closable:!1,"show-icon":""}},[t("el-tag",[e._v(e._s(e.market_id))])],1)],1),t("el-alert",{staticStyle:{"margin-top":"20px"},attrs:{title:e.$t("".concat(e.viewName,".market_tips")),type:"error"}}),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.market_id,expression:"market_id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"button",attrs:{icon:"el-icon-copy-document",type:"primary"}},[e._v(" "+e._s(e.$t("common.copy"))+" MARKET ID ")]),t("el-button",{staticClass:"button",attrs:{icon:"el-icon-link",type:"success"},on:{click:function(t){return e.onOpenNewTab("https://raydium.io/liquidity/create/")}}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".create_liquidity")))+" ")])],1)],1)},n=[],s=a("5530"),r=(a("a9e3"),a("2f62")),o={inject:["onCopySuccess","onOpenNewTab"],components:{},props:{market_id:{require:!0,type:[String,Number]},viewName:{require:!0,type:String}},data:function(){return{isShowDialog:!1,newForm:null}},computed:Object(s["a"])({},Object(r["b"])(["isPc","language"])),deactivated:function(){this.isShowDialog=!1},destroyed:function(){this.isShowDialog=!1},created:function(){},methods:{show:function(){this.isShowDialog=!this.isShowDialog},onSetting:function(){this.show()}}},c=o,l=(a("1079"),a("2877")),u=Object(l["a"])(c,i,n,!1,null,"2f9cbb49",null);t["a"]=u.exports},"9b08":function(e,t,a){"use strict";(function(e){a.d(t,"c",(function(){return h})),a.d(t,"g",(function(){return g})),a.d(t,"f",(function(){return y})),a.d(t,"a",(function(){return O})),a.d(t,"e",(function(){return w})),a.d(t,"b",(function(){return _})),a.d(t,"d",(function(){return T}));var i=a("3835"),n=a("5530"),s=a("d4ec"),r=a("bee2"),o=a("45eb"),c=a("7e84"),l=a("262e"),u=a("2caf"),d=(a("d3b7"),a("d9e2"),a("ddb0"),a("7db0"),a("4fad"),a("901ed")),b=a("64b9"),p=a("399f"),m=a.n(p);d["Blob"];var k=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(e){return Object(s["a"])(this,a),t.call(this,32,e)}return Object(r["a"])(a,[{key:"decode",value:function(e,t){return new b["PublicKey"](Object(o["a"])(Object(c["a"])(a.prototype),"decode",this).call(this,e,t))}},{key:"encode",value:function(e,t,i){return Object(o["a"])(Object(c["a"])(a.prototype),"encode",this).call(this,e.toBuffer(),t,i)}}]),a}(d["Blob"]);function h(e){return new k(e)}var f=function(t){Object(l["a"])(i,t);var a=Object(u["a"])(i);function i(){return Object(s["a"])(this,i),a.apply(this,arguments)}return Object(r["a"])(i,[{key:"decode",value:function(e,t){return new m.a(Object(o["a"])(Object(c["a"])(i.prototype),"decode",this).call(this,e,t),10,"le")}},{key:"encode",value:function(t,a,n){return Object(o["a"])(Object(c["a"])(i.prototype),"encode",this).call(this,t.toArrayLike(e,"le",this.span),a,n)}}]),i}(d["Blob"]);function g(e){return new f(8,e)}function y(e){return new f(16,e)}var v=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(e){var i;return Object(s["a"])(this,a),i=t.call(this,8,e),i._lower=Object(d["bits"])(Object(d["u32"])(),!1),i._upper=Object(d["bits"])(Object(d["u32"])(),!1),i}return Object(r["a"])(a,[{key:"addBoolean",value:function(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this._lower.decode(e,t),i=this._upper.decode(e,t+this._lower.span);return Object(n["a"])(Object(n["a"])({},a),i)}},{key:"encode",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._lower.encode(e,t,a)+this._upper.encode(e,t,a+this._lower.span)}}]),a}(d["Layout"]),O=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(e,i,n){var r;return Object(s["a"])(this,a),r=t.call(this,i.span>0?i.span+1:i.span,n),r.version=e,r.inner=i,r}return Object(r["a"])(a,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.inner.decode(e,t+1)}},{key:"encode",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.writeUInt8(this.version,a),1+this.inner.encode(e,t,a+1)}},{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1+this.inner.getSpan(e,t+1)}}]),a}(d["Layout"]),S=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(e,i,n){var r;return Object(s["a"])(this,a),r=t.call(this,i,n),r.values=e,r}return Object(r["a"])(a,[{key:"encode",value:function(e,t,i){if(void 0!==this.values[e])return Object(o["a"])(Object(c["a"])(a.prototype),"encode",this).call(this,this.values[e],t,i);throw new Error("Invalid "+this.property)}},{key:"decode",value:function(e,t){var n=Object(o["a"])(Object(c["a"])(a.prototype),"decode",this).call(this,e,t),s=Object.entries(this.values).find((function(e){var t=Object(i["a"])(e,2),a=t[1];return a===n}));if(s)return s[0];throw new Error("Invalid "+this.property)}}]),a}(d["UInt"]);function w(e){return new S({buy:0,sell:1},4,e)}function _(e){return new S({limit:0,ioc:1,postOnly:2},4,e)}function T(e){return new S({decrementTake:0,cancelProvide:1,abortTransaction:2},4,e)}var C=new v;C.addBoolean("initialized"),C.addBoolean("market"),C.addBoolean("openOrders"),C.addBoolean("requestQueue"),C.addBoolean("eventQueue"),C.addBoolean("bids"),C.addBoolean("asks")}).call(this,a("1c35").Buffer)},bbde:function(e,t,a){"use strict";t["a"]={zh:{"openbook-market":{baseToken:"Base Token",quoteToken:"Quote Token",minOrderSize:"Min Order Size (Minimum Buy)",tickSize:"Tick Size (Minimum Price Change)",advancedOptions:"Advanced Options",eventQueueLength:"Event Queue Length",requestQueueLength:"Request Queue Length",orderbookLength:"Orderbook Length",editTips:"Please don’t modify these lenghts if you don’t know",howWorks:"how the OpenBook works.",create:"Create Market ID",create_liquidity:"Create liquidity",market_tips:"请保存好你创建的 MARKET ID 这非常重要，CoinTool 不存储信息，请去 https://raydium.io/liquidity/create/ 创建流动性"}},en:{"openbook-market":{baseToken:"Base Token",quoteToken:"Quote Token",minOrderSize:"Min Order Size (Minimum Buy)",tickSize:"Tick Size (Minimum Price Change)",advancedOptions:"Advanced Options",eventQueueLength:"Event Queue Length",requestQueueLength:"Request Queue Length",orderbookLength:"Orderbook Length",editTips:"Please don’t modify these lenghts if you don’t know",howWorks:"how the OpenBook works.",create:"Create Market ID",create_liquidity:"Create liquidity",market_tips:"Please save the MARKET ID you created, this is very important, CoinTool does not store the information, go to https://raydium.io/liquidity/create/ to create liquidity"}}}},c7f6:function(e,t,a){},eea0:function(e,t,a){},fdd7:function(e,t,a){"use strict";(function(e){var i=a("3835"),n=a("c7eb"),s=a("1da1"),r=a("2909"),o=a("5530"),c=(a("a434"),a("99af"),a("7db0"),a("d3b7"),a("a9e3"),a("159b"),a("14d9"),a("d9e2"),a("ac1f"),a("466d"),a("25f0"),a("fb6a"),a("ed08")),l=a("2f62"),u=a("ab9c"),d=a("bbde"),b=a("399f"),p=a.n(b),m=a("64b9"),k=a("d129"),h=a("3e44"),f=a("534e"),g=a("8df2"),y=a("19cf"),v="openbook-market";t["a"]={name:v,inject:["onCheckConnect","onCopySuccess","onShare","onOpenNewTab"],components:{CreateSuccessDialog:f["a"]},props:{},data:function(){return{OPENBOOK_MARKET:null,walletVersionArr:[],viewName:v,chainName:"sol",formRules:{},isLoading:!1,market_id:"123123",form:{baseTokenDecimals:9,baseTokenIs2022:!1,quoteTokenIs2022:!1,quoteTokenDecimals:9,baseTokenName:"",baseToken:"",quoteTokenName:"",quoteToken:"",minOrderSize:"1",tickSize:"0.0001",advancedOptions:!1,eventQueueLength:2978,requestQueueLength:63,orderbookLength:909,selectConfig:"2.8",size:{}},solConfigArr:[{value:"0.4",eventQueueLength:128,requestQueueLength:63,orderbookLength:201},{value:"1.5",eventQueueLength:1400,requestQueueLength:63,orderbookLength:450},{value:"2.8",eventQueueLength:2978,requestQueueLength:63,orderbookLength:909}],loading_address:!1,addressOptions:[],addressOptionsQuoteToken:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["isPc","account","chainId","solNetwork","solAccount","isZh","navShowChain","language"])),{},{createFee:function(){return Object(u["k"])("CREATE_OPENBOOK_MARKET")},quoteTokenList:function(){var e=[{value:"So11111111111111111111111111111111111111112",label:"WSOL",is2022:!1,mintAddress:new m["PublicKey"]("So11111111111111111111111111111111111111112"),tokenBalance:0,tokenName:"WSOL",symbol:"WSOL",decimals:9},{value:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",label:"USDC",is2022:!1,mintAddress:new m["PublicKey"]("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),tokenBalance:0,tokenName:"USDC",symbol:"USDC",decimals:6},{value:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",label:"USDT",is2022:!1,mintAddress:new m["PublicKey"]("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),tokenBalance:0,tokenName:"USDT",symbol:"USDT",decimals:6}];for(var t in this.addressOptions)for(var a in e)this.addressOptions[t].value.toLowerCase()===e[a].value.toLowerCase()&&(e[a].tokenBalance=this.addressOptions[t].tokenBalance,this.addressOptions.splice(t,1));return this.addressOptionsQuoteToken=[].concat(e,Object(r["a"])(this.addressOptions)),this.addressOptionsQuoteToken}}),watch:{"form.selectConfig":function(e){var t=this.solConfigArr.find((function(t){return t.value===e}));t&&(this.form.eventQueueLength=t.eventQueueLength,this.form.requestQueueLength=t.requestQueueLength,this.form.orderbookLength=t.orderbookLength)},"form.baseToken":function(e){var t=this.addressOptions.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}));console.log(t,"coinInfo"),this.form.baseTokenName=t.symbol,this.form.baseTokenIs2022=t.is2022,this.form.baseTokenDecimals=Number(t.decimals)},"form.eventQueueLength":function(e){this.form.size=this.useOpenBookAccountSizes({eventQueueLength:e,requestQueueLength:this.form.requestQueueLength,orderbookLength:this.form.orderbookLength}),this.setSelectConfig()},"form.requestQueueLength":function(e){this.form.size=this.useOpenBookAccountSizes({eventQueueLength:this.form.eventQueueLength,requestQueueLength:e,orderbookLength:this.form.orderbookLength}),this.setSelectConfig()},"form.orderbookLength":function(e){this.form.size=this.useOpenBookAccountSizes({eventQueueLength:this.form.eventQueueLength,requestQueueLength:this.form.requestQueueLength,orderbookLength:e}),this.setSelectConfig()},"form.quoteToken":function(e){var t=this.addressOptionsQuoteToken.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}));console.log(t,"coinInfo"),this.form.quoteTokenName=t.symbol,this.form.quoteTokenIs2022=t.is2022,this.form.quoteTokenDecimals=Number(t.decimals)},solAccount:function(e){""!==e&&this.init()}},beforeDestroy:function(){},created:function(){var e=this;return Object(s["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$i18n.getLocaleMessage("en")[v]||(e.$i18n.mergeLocaleMessage("en",d["a"].en),e.$i18n.mergeLocaleMessage("zh",d["a"].zh)),e.form.size=e.useOpenBookAccountSizes({eventQueueLength:e.form.eventQueueLength,requestQueueLength:e.form.requestQueueLength,orderbookLength:e.form.orderbookLength}),e.formRules={baseToken:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],quoteToken:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],minOrderSize:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],tickSize:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}]};case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){},methods:{getMiniAddress:c["m"],setSelectConfig:function(){this.form.selectConfig="";for(var e=0;e<this.solConfigArr.length;e++){var t=this.solConfigArr[e];t.eventQueueLength===this.form.eventQueueLength&&t.requestQueueLength===this.form.requestQueueLength&&t.orderbookLength===this.form.orderbookLength&&(this.form.selectConfig=t.value)}},init:function(){var e=this;return Object(s["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("init"),e.OPENBOOK_MARKET=new m["PublicKey"]("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),e.initData=!0,a=u["d"][e.solNetwork],window.solConnection=new m["Connection"](a,"confirmed"),t.next=7,e.getAllSolTokenInfo(e.solAccount);case 7:e.addressOptions=t.sent,console.log(e.addressOptions,"this.addressOptions"),e.initData=!1,e.loading_address=!1;case 11:case"end":return t.stop()}}),t)})))()},getAllSolTokenInfo:function(e){return Object(s["a"])(Object(n["a"])().mark((function t(){var a,i;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,Object(u["l"])(e);case 3:return i=t.sent,i.forEach((function(e){a.push(Object(o["a"])(Object(o["a"])({is2022:e.is2022,value:e.token,label:e.symbol},e),{},{mintAddress:new m["PublicKey"](e.mintAddress)}))})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))()},onStop:function(){this.isStop=!0,this.isLoading=!1,clearInterval(this.t1)},onConfirm:function(){var e=this;return Object(s["a"])(Object(n["a"])().mark((function t(){var a,s,r,o,c,l,d,b,k,h,f,g,v,O,S,w,_,T,C,L,P,I;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.form.baseTokenIs2022&&!e.form.quoteTokenIs2022){t.next=4;break}return e.$message.error("Token2022 does not support the creation of Amm pools, please see the page for details."),e.isStop=!1,t.abrupt("return");case 4:return e.isLoading=!0,a={baseMint:e.form.baseToken,quoteMint:e.form.quoteToken,lotSize:e.form.minOrderSize,tickSize:e.form.tickSize,eventQueueLength:e.form.eventQueueLength,orderbookLength:e.form.orderbookLength,requestQueueLength:e.form.requestQueueLength},s=new m["PublicKey"](e.solAccount),r=e.generateMarketAccounts(s),o=a.baseMint,c=a.quoteMint,l=e.getLotSizes(a),d=l.baseLotSize,b=l.quoteLotSize,k=e.getVaultOwnerAndNonce(r.market.publicKey,e.OPENBOOK_MARKET),h=Object(i["a"])(k,2),f=h[0],g=h[1],t.next=13,e.createVaultAccountsInstructions(s,r,o,c,f);case 13:return v=t.sent,O=e.useOpenBookAccountSizes({eventQueueLength:null===a||void 0===a?void 0:a.eventQueueLength,requestQueueLength:null===a||void 0===a?void 0:a.requestQueueLength,orderbookLength:null===a||void 0===a?void 0:a.orderbookLength}),t.next=17,e.createMarketAccountsInstructions(s,r,O);case 17:for(T in S=t.sent,w=y["a"].initializeMarket({market:r.market.publicKey,requestQueue:r.requestQueue.publicKey,eventQueue:r.eventQueue.publicKey,bids:r.bids.publicKey,asks:r.asks.publicKey,baseVault:r.baseVault.publicKey,quoteVault:r.quoteVault.publicKey,baseMint:new m["PublicKey"](o),quoteMint:new m["PublicKey"](c),baseLotSize:d,quoteLotSize:b,feeRateBps:0,vaultSignerNonce:g,quoteDustThreshold:new p.a(100),programId:e.OPENBOOK_MARKET}),_=new m["Transaction"],v)_.add(v[T]);for(L in C=new m["Transaction"],S)C.add(S[L]);return C.add(w),t.prev=24,t.next=27,Object(u["n"])(Object(u["k"])("CREATE_OPENBOOK_MARKET"),[_,C],[]);case 27:if(P=t.sent,P){for(I in P)console.log(P[I],"txID");e.market_id=r.market.publicKey.toBase58(),e.$refs.CreateSuccessDialog.show()}t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](24),console.log("error",t.t0);case 34:return t.prev=34,e.isStop=!1,e.isLoading=!1,t.finish(34);case 38:console.log(e.form,"this.form");case 39:case"end":return t.stop()}}),t,null,[[24,31,34,38]])})))()},useOpenBookAccountSizes:function(e){var t=e.eventQueueLength,a=e.requestQueueLength,i=e.orderbookLength,n=32,s=88,r=32,o=80,c=40,l=72;return{totalEventQueueSize:this.calculateTotalAccountSize(t,n,s),totalRequestQueueSize:this.calculateTotalAccountSize(a,r,o),totalOrderbookSize:this.calculateTotalAccountSize(i,c,l)}},calculateTotalAccountSize:function(e,t,a){var i=12,n=i+t+a*e,s=n%8;return s<=4?n+(4-s):n+(8-s+4)},createMarketAccountsInstructions:function(e,t,a){var i=this;return Object(s["a"])(Object(n["a"])().mark((function s(){var r,o,c,l,u,d,b,p,k,h;return Object(n["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=window.solConnection,o=a.totalEventQueueSize,c=a.totalOrderbookSize,l=a.totalRequestQueueSize,n.next=4,r.getMinimumBalanceForRentExemption(c);case 4:return u=n.sent,console.log({totalEventQueueSize:o,totalOrderbookSize:c,totalRequestQueueSize:l,orderBookRentExempt:u}),d=t.market,b=t.requestQueue,p=t.eventQueue,k=t.bids,h=t.asks,n.t0=m["SystemProgram"],n.t1=e,n.t2=e,n.t3=d.seed,n.t4=d.publicKey,n.next=14,r.getMinimumBalanceForRentExemption(388);case 14:return n.t5=n.sent,n.t6=i.OPENBOOK_MARKET,n.t7={fromPubkey:n.t1,basePubkey:n.t2,seed:n.t3,newAccountPubkey:n.t4,lamports:n.t5,space:388,programId:n.t6},n.t8=n.t0.createAccountWithSeed.call(n.t0,n.t7),n.t9=m["SystemProgram"],n.t10=e,n.t11=e,n.t12=b.seed,n.t13=b.publicKey,n.next=25,r.getMinimumBalanceForRentExemption(l);case 25:return n.t14=n.sent,n.t15=l,n.t16=i.OPENBOOK_MARKET,n.t17={fromPubkey:n.t10,basePubkey:n.t11,seed:n.t12,newAccountPubkey:n.t13,lamports:n.t14,space:n.t15,programId:n.t16},n.t18=n.t9.createAccountWithSeed.call(n.t9,n.t17),n.t19=m["SystemProgram"],n.t20=e,n.t21=e,n.t22=p.seed,n.t23=p.publicKey,n.next=37,r.getMinimumBalanceForRentExemption(o);case 37:return n.t24=n.sent,n.t25=o,n.t26=i.OPENBOOK_MARKET,n.t27={fromPubkey:n.t20,basePubkey:n.t21,seed:n.t22,newAccountPubkey:n.t23,lamports:n.t24,space:n.t25,programId:n.t26},n.t28=n.t19.createAccountWithSeed.call(n.t19,n.t27),n.t29=m["SystemProgram"],n.t30=e,n.t31=e,n.t32=k.seed,n.t33=k.publicKey,n.next=49,r.getMinimumBalanceForRentExemption(c);case 49:return n.t34=n.sent,n.t35=c,n.t36=i.OPENBOOK_MARKET,n.t37={fromPubkey:n.t30,basePubkey:n.t31,seed:n.t32,newAccountPubkey:n.t33,lamports:n.t34,space:n.t35,programId:n.t36},n.t38=n.t29.createAccountWithSeed.call(n.t29,n.t37),n.t39=m["SystemProgram"],n.t40=e,n.t41=e,n.t42=h.seed,n.t43=h.publicKey,n.next=61,r.getMinimumBalanceForRentExemption(c);case 61:return n.t44=n.sent,n.t45=c,n.t46=i.OPENBOOK_MARKET,n.t47={fromPubkey:n.t40,basePubkey:n.t41,seed:n.t42,newAccountPubkey:n.t43,lamports:n.t44,space:n.t45,programId:n.t46},n.t48=n.t39.createAccountWithSeed.call(n.t39,n.t47),n.abrupt("return",[n.t8,n.t18,n.t28,n.t38,n.t48]);case 67:case"end":return n.stop()}}),s)})))()},createVaultAccountsInstructions:function(e,t,a,i,r){var o=this;return Object(s["a"])(Object(n["a"])().mark((function s(){var c,l;return Object(n["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=window.solConnection,l=165,n.t0=m["SystemProgram"],n.t1=e,n.t2=e,n.t3=t.baseVault.seed,n.t4=t.baseVault.publicKey,n.next=9,c.getMinimumBalanceForRentExemption(l);case 9:return n.t5=n.sent,n.t6=o.form.baseTokenIs2022?new m["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):h["TOKEN_PROGRAM_ID"],n.t7={fromPubkey:n.t1,basePubkey:n.t2,seed:n.t3,newAccountPubkey:n.t4,lamports:n.t5,space:165,programId:n.t6},n.t8=n.t0.createAccountWithSeed.call(n.t0,n.t7),n.t9=m["SystemProgram"],n.t10=e,n.t11=e,n.t12=t.quoteVault.seed,n.t13=t.quoteVault.publicKey,n.next=20,c.getMinimumBalanceForRentExemption(l);case 20:return n.t14=n.sent,n.t15=o.form.quoteTokenIs2022?new m["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):h["TOKEN_PROGRAM_ID"],n.t16={fromPubkey:n.t10,basePubkey:n.t11,seed:n.t12,newAccountPubkey:n.t13,lamports:n.t14,space:165,programId:n.t15},n.t17=n.t9.createAccountWithSeed.call(n.t9,n.t16),n.t18=o.createInitializeAccountInstruction(t.baseVault.publicKey,new m["PublicKey"](a),r,o.form.baseTokenIs2022?new m["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):h["TOKEN_PROGRAM_ID"]),n.t19=o.createInitializeAccountInstruction(t.quoteVault.publicKey,new m["PublicKey"](i),r,o.form.quoteTokenIs2022?new m["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):h["TOKEN_PROGRAM_ID"]),n.abrupt("return",[n.t8,n.t17,n.t18,n.t19]);case 27:case"end":return n.stop()}}),s)})))()},createInitializeAccountInstruction:function(t,a,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h["TOKEN_PROGRAM_ID"],s=new m["PublicKey"]("SysvarRent111111111111111111111111111111111"),r=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],o=Object(g["struct"])([Object(g["u8"])("instruction")]),c=e.alloc(o.span);return o.encode({instruction:1},c),new m["TransactionInstruction"]({keys:r,programId:n,data:c})},getVaultOwnerAndNonce:function(t,a){var i=new p.a(0);while(1)try{var n=m["PublicKey"].createProgramAddressSync([t.toBuffer(),i.toArrayLike(e,"le",8)],a);return[n,i]}catch(s){i.iaddn(1)}},getLotSizes:function(e){var t=e.lotSize,a=e.tickSize;if(0===t||0===a)throw new Error("Min buy & Min price change needs to be greater than 0.");var i=Math.round(Math.pow(10,this.form.baseTokenDecimals)*t),n=Math.round(t*Math.pow(10,this.form.quoteTokenDecimals)*a);return this.validateInputs(a,t),{baseLotSize:new p.a(i),quoteLotSize:new p.a(n)}},validateInputs:function(e,t){var a=.001*(e<1?1:e),i=Math.max(this.getDecimalPlaces(e),this.getDecimalPlaces(t));if(e>a)throw this.$message.error("The Min Price Change is too large. It should be maximum ".concat(a,".")),new Error("The Min Price Change is too large. It should be maximum ".concat(a,"."));if(i>6)throw this.$message.error("The market cannot have more than 6 combined decimals for Min Price Change and Minimum Buy."),new Error("The market cannot have more than 6 combined decimals for Min Price Change and Minimum Buy.")},getDecimalPlaces:function(e){var t=e.toString().match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},generateMarketAccounts:function(e){return{market:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),requestQueue:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),eventQueue:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),bids:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),asks:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),baseVault:this.generatePubKey({fromPublicKey:e,programId:this.form.baseTokenIs2022?new m["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):h["TOKEN_PROGRAM_ID"]}),quoteVault:this.generatePubKey({fromPublicKey:e,programId:this.form.quoteTokenIs2022?new m["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):h["TOKEN_PROGRAM_ID"]})}},generatePubKey:function(e){var t=e.fromPublicKey,a=e.programId,i=m["Keypair"].generate().publicKey.toBase58().slice(0,32),n=this.createWithSeed(t,i,a);return{publicKey:n,seed:i}},createWithSeed:function(t,a,i){var n=e.concat([t.toBuffer(),e.from(a),i.toBuffer()]),s=Object(k["sha256"])(n);return new m["PublicKey"](s)}}}}).call(this,a("1c35").Buffer)}}]);