(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d4c8859"],{"1a35":function(e,t,a){"use strict";a("2ef3")},"2ef3":function(e,t,a){},36:function(e,t){},"44f4":function(e,t,a){"use strict";a("90ef")},"62ec":function(e,t,a){"use strict";a("81ce")},"63c5":function(e,t,a){},"6c6a":function(e,t,a){"use strict";a.r(t);a("b0c0");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("SwapStatusSuccess",{ref:"SwapStatusSuccess",attrs:{token1:e.token1,token2:e.token2,tx:e.swapTxhash}}),t("SettingDialog",{ref:"SettingDialog",attrs:{form:e.settingForm},on:{onUpdateSetting:e.onUpdateSetting}}),t("SelectTokenDialog",{ref:"SelectTokenDialog",attrs:{config:e.config,"eth-balance":e.ethBalance},on:{onSelectItem:e.onSelectItem}}),t("div",{staticClass:"content"},[t("div",{staticClass:"header"},[t("div",{staticClass:"logo"},[t("img",{attrs:{src:e.$logo,alt:"logo"}})]),t("span",[e._v("CoinTool Swap")])]),t("div",{staticClass:"swap-content"},[t("div",{staticClass:"swap-header"},[t("div",{staticClass:"leftBox"},[t("el-select",{attrs:{size:"mini"},model:{value:e.exchange,callback:function(t){e.exchange=t},expression:"exchange"}},e._l(e.exchangeArr,(function(e){return t("el-option",{key:e.address,attrs:{label:e.name,value:e.address}})})),1)],1),t("div",{staticClass:"iconBox"},[t("i",{staticClass:"el-icon-refresh-left icon",on:{click:e.onResetData}}),t("i",{staticClass:"el-icon-setting icon",on:{click:function(t){return e.$refs.SettingDialog.show()}}}),t("i",{staticClass:"el-icon-question icon"})])]),t("div",{staticClass:"panel-box"},[t("div",{staticClass:"swap-panel"},[t("div",{staticClass:"balance"},[e._v(e._s(e.$t("swap.balance"))+": "+e._s(e.token1.balance/Math.pow(10,e.token1.decimals))+" "+e._s(e.token1.symbol))]),t("div",{staticClass:"maxBtn",on:{click:e.onMax}},[e._v("MAX")]),t("div",{staticClass:"select-swap",on:{click:function(t){return e.$refs.SelectTokenDialog.show(e.token1,"top")}}},[t("div",{staticClass:"imgBox"},[t("el-image",{staticClass:"img",attrs:{src:e.token1.logo}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])])],1),t("div",{staticClass:"vertical-middle"},[t("span",{staticClass:"symbol"},[e._v(e._s(e.token1.symbol))]),t("span",{staticClass:"network"},[e._v(e._s(e.token1.name))])]),t("i",{staticClass:"el-icon-caret-bottom"})]),t("div",{staticClass:"input-amount-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.token1.amount,expression:"token1.amount"}],staticClass:"amount-input",attrs:{type:"number",placeholder:"0.0"},domProps:{value:e.token1.amount},on:{input:function(t){t.target.composing||e.$set(e.token1,"amount",t.target.value)}}})])]),t("div",{staticClass:"swap-panel"},[t("div",{staticClass:"balance"},[e._v(e._s(e.$t("swap.balance"))+": "+e._s(e.token2.balance/Math.pow(10,e.token2.decimals))+" "+e._s(e.token2.symbol))]),t("div",{staticClass:"select-swap",on:{click:function(t){return e.$refs.SelectTokenDialog.show(e.token2,"bottom")}}},[t("div",{staticClass:"imgBox"},[t("el-image",{staticClass:"img",attrs:{src:e.token2.logo}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])])],1),t("div",{staticClass:"vertical-middle"},[t("span",{staticClass:"symbol"},[e._v(e._s(e.token2.symbol))]),t("span",{staticClass:"network"},[e._v(e._s(e.token2.name))])]),t("i",{staticClass:"el-icon-caret-bottom caret-bottom-icon"})]),t("div",{staticClass:"input-amount-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.token2.amount,expression:"token2.amount"}],staticClass:"amount-input",attrs:{type:"number",placeholder:"0.0"},domProps:{value:e.token2.amount},on:{input:function(t){t.target.composing||e.$set(e.token2,"amount",t.target.value)}}})])]),t("div",{staticClass:"exchangeBox",on:{click:e.onSwapTokenInfo}},[e.swapTokenInfoLoading?t("i",{staticClass:"el-icon-loading icon"}):t("span",[t("i",{staticClass:"el-icon-bottom icon"}),t("i",{staticClass:"el-icon-sort icon"})])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"tipsBox"},[t("el-alert",{attrs:{title:"余额不足",type:"error",closable:!1}})],1),t("div",{staticClass:"btnBox"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.approveStatus,expression:"!approveStatus"}],staticClass:"btn",attrs:{type:"success",loading:e.swapLoading},on:{click:e.onSwap}},[e._v("Swap")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.approveStatus,expression:"approveStatus"}],staticClass:"btn",attrs:{type:"success"},on:{click:e.sendApprove}},[e._v("Approve")])],1),t("div",{staticClass:"exchangeInfo"},[t("ul",[t("li",[t("span",{staticClass:"label"},[e._v(e._s(e.$t("swap.exchangRoute")))]),t("span",{staticClass:"value"},[e._v(" "+e._s(e.path)+" "),t("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.path,expression:"path"}],attrs:{content:e.$t("swap.bestRoute"),effect:"dark",placement:"top"}},[t("i",{staticClass:"el-icon-success"})])],1)]),t("li",[t("span",{staticClass:"label"},[e._v(e._s(e.$t("swap.referencePrice")))]),t("span",{staticClass:"value"},[e._v(" 1 "+e._s(e.token1.symbol)+" = "+e._s(e.rate)+" "+e._s(e.token2.symbol)+" "),t("i",{staticClass:"el-icon-refresh icon"})])]),t("li",[t("span",{staticClass:"label"},[e._v(e._s(e.$t("swap.priceImpact")))]),t("span",{staticClass:"value"},[e._v("-"+e._s(e.priceImpact)+"%")])])])])])])],1)},s=[],o=a("c7eb"),r=a("2909"),i=a("1da1"),c=a("5530"),l=a("668b"),d=(a("d3b7"),a("25f0"),a("a9e3"),a("ac1f"),a("5319"),a("3ca3"),a("ddb0"),a("99af"),a("14d9"),a("4de4"),a("4e82"),function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"dialog",attrs:{width:e.isPc?"600px":"90%",height:"800px",visible:e.isShowDialog,modal:!0,title:"Select a Token"},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("div",{staticClass:"inputBox"},[t("el-input",{attrs:{placeholder:"Search token name or contract address","prefix-icon":"el-icon-search",clearable:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),t("ul",{staticClass:"baseCoin"},e._l(e.baseCoinList,(function(a,n){return t("li",{key:n,on:{click:function(t){return e.onSelectItem(a)}}},[t("el-image",{staticClass:"img",attrs:{src:a.logo}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticClass:"img",attrs:{src:a.logo}})])]),t("span",{staticClass:"symbol"},[e._v(e._s(a.symbol))])],1)})),0),t("el-tabs",{model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[t("el-tab-pane",{attrs:{label:"All",name:"all"}},[t("ul",{staticClass:"coinList"},[t("li",{on:{click:function(t){return e.onSelectItem(e.baseNcoin)}}},[t("TokenInfo",{attrs:{item:e.baseNcoin}})],1),e._l(e.allListArr,(function(a,n){return t("li",{key:n,on:{click:function(t){return e.onSelectItem(a)}}},[t("TokenInfo",{directives:[{name:"show",rawName:"v-show",value:a.name.toLowerCase().indexOf(e.address.toLowerCase())>-1||a.symbol.toLowerCase().indexOf(e.address.toLowerCase())>-1||a.address.toLowerCase().indexOf(e.address.toLowerCase())>-1,expression:"\n                (item.name.toLowerCase()).indexOf(address.toLowerCase()) > -1 ||\n                  (item.symbol.toLowerCase()).indexOf(address.toLowerCase()) > -1 ||\n                  (item.address.toLowerCase()).indexOf(address.toLowerCase()) > -1\n              "}],attrs:{item:a}})],1)}))],2)]),t("el-tab-pane",{attrs:{label:"My List",name:"my"}},[t("ul",{staticClass:"coinList"},e._l(e.myList,(function(a,n){return t("li",{key:n,on:{click:function(t){return e.onSelectItem(a)}}},[t("TokenInfo",{directives:[{name:"show",rawName:"v-show",value:a.name.toLowerCase().indexOf(e.address.toLowerCase())>-1||a.symbol.toLowerCase().indexOf(e.address.toLowerCase())>-1||a.address.toLowerCase().indexOf(e.address.toLowerCase())>-1,expression:"\n                (item.name.toLowerCase()).indexOf(address.toLowerCase()) > -1 ||\n                  (item.symbol.toLowerCase()).indexOf(address.toLowerCase()) > -1 ||\n                  (item.address.toLowerCase()).indexOf(address.toLowerCase()) > -1\n              "}],attrs:{item:a}})],1)})),0)])],1)],1)])}),p=[],u=a("3835"),m=a("b85c"),b=(a("d81d"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"tokenInfo"},[t("div",{staticClass:"leftBox"},[t("el-image",{staticClass:"img",attrs:{src:e.item.logo}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"}})])]),t("div",{staticClass:"vertical-middle"},[t("span",{staticClass:"symbol"},[e._v(e._s(e.item.symbol))]),t("span",{staticClass:"fullName"},[e._v(e._s(e.item.name))])])],1),t("div",{staticClass:"rightBox"},[e._v(" "+e._s(e.item.balance/Math.pow(10,e.item.decimals))+" ")])])}),h=[],f=a("2f62"),k={components:{},props:{item:{require:!0,type:Object}},data:function(){return{}},computed:Object(c["a"])({},Object(f["b"])(["isConnect","account","isPc","language"])),created:function(){},mounted:function(){},methods:{}},w=k,g=(a("d27d"),a("2877")),y=Object(g["a"])(w,b,h,!1,null,"cc9c9352",null),v=y.exports,x=a("15d7"),T=a("a835"),O=[{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"claimTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"baseToken",type:"address"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"uint256",name:"Amount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"Cswap",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"fee",type:"uint16"}],name:"setDevFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"},{inputs:[{internalType:"contract IUniswapV2Router02",name:"router",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountOutFor",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IUniswapV2Router02",name:"router",type:"address"},{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"}],name:"getPoolSize",outputs:[{internalType:"uint256",name:"amounts",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],S=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],C=a("6e11"),j=a.n(C),F=a("ed08"),R=a("c0d8"),_=a.n(R),N={components:{TokenInfo:v},data:function(){return{web3:null,multiCall:null,tokenHash:[],baseNcoin:null,tabName:"all",baseCoinList:[],BalanceList:[],allList:[],myList:[],address:"",loading:!0,isShowDialog:!1,selectTokenInfo:{},direction:"top"}},computed:Object(c["a"])(Object(c["a"])({},Object(f["b"])(["isPc","account"])),{},{allListArr:function(){var e,t=this.BalanceList.concat(this.allList),a=[],n=Object(m["a"])(t);try{for(n.s();!(e=n.n()).done;){var s,o=e.value,r=!0,i=Object(m["a"])(a);try{for(i.s();!(s=i.n()).done;){var c=s.value;o.address.toLowerCase()===c.address.toLowerCase()&&(r=!1)}}catch(l){i.e(l)}finally{i.f()}r&&a.push(o)}}catch(l){n.e(l)}finally{n.f()}return a=a.sort(Object(F["G"])("balance",1)),a}}),props:{config:{require:!0,type:Object},ethBalance:{require:!0,type:string}},watch:{ethBalance:function(){console.log(222),this.baseNcoin={address:"0x0",name:this.config.baseToken.n_name,symbol:this.config.baseToken.n_symbol,logo:this.config.baseToken.n_logo,decimals:"18",balance:this.ethBalance}},config:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,n,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.web3=new _.a(new _.a.providers.HttpProvider(e.config.rpc)),a=T["a"].MULTI_CALL_CONTRACT(e.config.id),e.multiCall=new x["MultiCall"](e.web3,a),n=[],e.baseNcoin||(e.baseNcoin={address:"0x0",name:e.config.baseToken.n_name,symbol:e.config.baseToken.n_symbol,logo:e.config.baseToken.n_logo,decimals:"18",balance:0}),n.push(e.baseNcoin),n.push({address:e.config.baseToken.address,name:e.config.baseToken.name,symbol:e.config.baseToken.symbol,logo:e.config.baseToken.logo,decimals:"18"}),e.config.baseTokenList.map((function(e){n.push({address:e.address,symbol:e.symbol,name:e.name,decimals:e.decimals,logo:e.logo})})),e.baseCoinList=n,s=e.config.baseTokenList,s.push({address:e.config.baseToken.address,name:e.config.baseToken.name,symbol:e.config.baseToken.symbol,logo:e.config.baseToken.logo,decimals:"18"}),e.updateBaseTokenBalance(s),e.config.tokenlist&&e.getAlltokenList();case 13:case"end":return t.stop()}}),t)})))()}},created:function(){},mounted:function(){this.myList=[0,1,2,3,4,5,6,7,8].map((function(e){return{address:"0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",symbol:"BTC",name:"biance token",balance:22}}))},methods:{updateBaseTokenBalance:function(e){var t=this;return Object(i["a"])(Object(o["a"])().mark((function a(){var n,s,r,i;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.map((function(e){var a=new j.a(S,e.address);return{balance:a.methods.balanceOf(t.account),decimals:e.decimals,name:e.name,symbol:e.symbol,logo:e.logo,address:e.address}})),console.log(n),a.next=4,t.multiCall.all([n]);case 4:s=a.sent,r=Object(u["a"])(s,1),i=r[0],console.log(i),t.BalanceList=i.filter((function(e){if(e.balance>0)return e}));case 9:case"end":return a.stop()}}),a)})))()},getAlltokenList:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,n,s,r,i;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.config.id,t.next=56===t.t0?3:19;break;case 3:return t.prev=3,t.next=6,e.$ajax({url:e.config.tokenlist,method:"get"});case 6:return a=t.sent,n=a.tokens.map((function(t){var a=new j.a(S,t.address);return{balance:a.methods.balanceOf(e.account),address:t.address,symbol:t.symbol,name:t.name,decimals:String(t.decimals),logo:t.logoURI}})),t.next=10,e.multiCall.all([n]);case 10:s=t.sent,r=Object(u["a"])(s,1),i=r[0],e.allList=i,t.next=18;break;case 16:t.prev=16,t.t1=t["catch"](3);case 18:return t.abrupt("break",19);case 19:case"end":return t.stop()}}),t,null,[[3,16]])})))()},show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";this.selectTokenInfo=e,this.direction=t,this.isShowDialog=!this.isShowDialog},onSelectItem:function(e){this.selectTokenInfo=e,this.$emit("onSelectItem",this.selectTokenInfo,this.direction),this.isShowDialog=!this.isShowDialog}}},W=N,M=(a("62ec"),Object(g["a"])(W,d,p,!1,null,"6d74a952",null)),B=M.exports,L=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"append-to-body":!0,width:e.isPc?"500px":"90%",title:e.$t("swap.settings"),visible:e.isShowDialog,"close-on-click-modal":!1,center:""},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("el-form",{attrs:{model:e.form,"label-position":"top"}},[t("el-form-item",{staticClass:"item",attrs:{label:e.$t("swap.setting_gwei")}},[t("el-radio-group",{model:{value:e.form.gwei,callback:function(t){e.$set(e.form,"gwei",t)},expression:"form.gwei"}},[t("el-radio-button",{attrs:{label:e.list[0].price}},[e._v(e._s(e.$t("swap.fast"))+"("+e._s(e.list[0].price)+")")]),t("el-radio-button",{attrs:{label:e.list[1].price}},[e._v(e._s(e.$t("swap.normal"))+"("+e._s(e.list[1].price)+")")]),t("el-radio-button",{attrs:{label:e.list[2].price}},[e._v(e._s(e.$t("swap.slow"))+"("+e._s(e.list[2].price)+")")])],1),t("el-input",{staticClass:"customInput",attrs:{placeholder:"0.00",oninput:"value=value.replace(/[^\\d\\.]/g,'')"},on:{blur:e.onChangeCustomGwei},model:{value:e.form.gwei,callback:function(t){e.$set(e.form,"gwei",t)},expression:"form.gwei"}}),t("span",{staticClass:"per_span"},[e._v("Gwei")])],1),t("el-form-item",{staticClass:"item",attrs:{label:e.$t("swap.slippageTolerance")}},[t("el-radio-group",{model:{value:e.form.slippageTolerance,callback:function(t){e.$set(e.form,"slippageTolerance",t)},expression:"form.slippageTolerance"}},[t("el-radio-button",{attrs:{label:"0.1"}},[e._v("0.1%")]),t("el-radio-button",{attrs:{label:"0.5"}},[e._v("0.5%")]),t("el-radio-button",{attrs:{label:"1.0"}},[e._v("1.0%")]),t("el-radio-button",{attrs:{label:"3.0"}},[e._v("3.0%")])],1),t("el-input",{staticClass:"customInput",attrs:{oninput:"value=value.replace(/[^\\d\\.]/g,'')",placeholder:"1.00"},on:{blur:e.onChangeSlippageTolerance},model:{value:e.form.slippageTolerance,callback:function(t){e.$set(e.form,"slippageTolerance",t)},expression:"form.slippageTolerance"}}),t("span",{staticClass:"per_span"},[e._v("%")])],1),t("el-form-item",{staticClass:"item",attrs:{label:e.$t("swap.recipientAddress")}},[t("el-switch",{staticStyle:{"text-align":"center"},attrs:{"active-color":"#2AB079","inactive-color":"#666666"},model:{value:e.form.auto_sell,callback:function(t){e.$set(e.form,"auto_sell",t)},expression:"form.auto_sell"}})],1),t("el-form-item",{staticClass:"item",attrs:{label:e.$t("swap.swapEndTime")}},[t("el-input",{staticClass:"customInput",staticStyle:{"margin-left":"0"},attrs:{placeholder:"EX: 20",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.form.swapEndTime,callback:function(t){e.$set(e.form,"swapEndTime",t)},expression:"form.swapEndTime"}})],1)],1)],1)])},V=[],Z=(a("b680"),a("d2c8")),U={components:{},props:{chainName:{require:!0,type:String},form:{require:!0,type:Object}},data:function(){return{isShowDialog:!1,newForm:null,list:[{type:"fast",price:0},{type:"normal",price:0},{type:"slow",price:0}]}},computed:Object(c["a"])({},Object(f["b"])(["isPc","language"])),deactivated:function(){this.isShowDialog=!1},destroyed:function(){this.isShowDialog=!1},created:function(){this.getGasPrice()},methods:{getGasPrice:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Z["c"])("eth");case 2:a=t.sent,e.list=e.list.map((function(e){var t=Object(c["a"])(Object(c["a"])({},e),{},{price:a.data[e.type].price/1e9});return t})),e.form.gwei=e.list[0].price;case 5:case"end":return t.stop()}}),t)})))()},onChangeSlippageTolerance:function(){this.form.slippageTolerance<.1&&(this.form.slippageTolerance=.1),-1===this.form.slippageTolerance.indexOf(".")&&(this.form.slippageTolerance=Number(this.form.slippageTolerance).toFixed(1))},onChangeCustomGwei:function(){(""===this.form.gwei||Number(this.form.gwei)<=0)&&(this.form.gwei=.1)},show:function(){this.isShowDialog=!this.isShowDialog}}},E=U,I=(a("44f4"),Object(g["a"])(E,L,V,!1,null,"f5e14c28",null)),D=I.exports,X=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"append-to-body":!0,width:e.isPc?"500px":"90%",title:e.$t("swap.swapSuccess"),visible:e.isShowDialog,"close-on-click-modal":!1,center:""},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("div",{staticClass:"iconBox"},[t("i",{staticClass:"el-icon-circle-check icon"})]),t("div",{staticClass:"linkBox"},[t("a",{attrs:{target:"_blank",href:"".concat(e.blockTxurl,"/tx/").concat(e.tx)}},[t("span",[e._v("View on Block browser")]),t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"skip"}})],1)]),t("el-alert",{staticClass:"smaillBox",attrs:{title:"TX",type:"success",closable:!1,"show-icon":"",center:!1}},[t("el-link",{staticClass:"link",attrs:{type:"success",target:"_blank",href:"".concat(e.blockTxurl,"/tx/").concat(e.tx)}},[e._v(e._s(e.tx)+" ")]),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"".concat(e.blockTxurl,"/tx/").concat(e.tx),expression:"`${blockTxurl}/tx/${tx}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[t("svg-icon",{attrs:{"icon-class":"copy"}})],1)],1)],1)])},Y=[],J={inject:["onCopySuccess"],components:{},props:{tx:{require:!0,type:String},token1:{require:!0,type:Object},token2:{require:!0,type:Object}},data:function(){return{isShowDialog:!1,blockTxurl:"",newForm:null}},computed:Object(c["a"])({},Object(f["b"])(["isPc","language"])),deactivated:function(){this.isShowDialog=!1},destroyed:function(){this.isShowDialog=!1},created:function(){},mounted:function(){this.blockTxurl=T["a"].resolveLinkOnEtherscan()},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},A=J,H=(a("1a35"),Object(g["a"])(A,X,Y,!1,null,"13b6ac6c",null)),z=H.exports,G=a("c039"),P=a.n(G),$=a("901e"),q=a.n($),Q=a("5ba3"),K=a("81ad"),ee=a.n(K),te="swap",ae={name:te,inject:["onCheckConnect"],components:{SelectTokenDialog:B,SwapStatusSuccess:z,SettingDialog:D},data:function(){return{web3:null,multiCall:null,swapTokenInfoLoading:!1,swapLoading:!1,swapTxhash:"111",path:"",rate:"",priceImpact:"0",router:"",callPath:[],approveStatus:!1,baseName:"BNB Smart Chain",baseSymbol:"BNB",ethBalance:0,txFee:"",token1:{address:"0x0",name:"",symbol:"",balance:"",decimals:"",amount:""},token2:{address:"",name:"",symbol:"",balance:"",decimals:"",amount:""},settingForm:{auto_sell:!1,swapEndTime:"20",slippageTolerance:"0.1",gwei:"1",isOpenRecipientAddress:!1},exchange:"",exchangeArr:[],fees:"0.3",config:null}},computed:Object(c["a"])({},Object(f["b"])(["isConnect","account","isPc","language"])),watch:{"token1.amount":function(e){this.getTokenInputPrice()}},created:function(){},mounted:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,n,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={97:{id:97,tokenlist:"",baseToken:{n_name:"BNB",n_symbol:"BNB",n_logo:"https://cmp.dodoex.io/BWNSMMqu68bSFJsr9vsiCV09IonH3yuAkR9gQxaipBw/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vZDhvazF4akd3bU9GUXUtMVdzNEVRLVBNRnJYMW9DLXlmYTc3OGJUUkx0US9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMEpPUWw5alpEUTVNalE0TXpJMkwwSk9RbDlqWkRRNU1qUTRNekkyTG5CdVp3LnBuZw.webp",name:"WBNB",symbol:"WBNB",logo:"https://cmp.dodoex.io/BWNSMMqu68bSFJsr9vsiCV09IonH3yuAkR9gQxaipBw/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vZDhvazF4akd3bU9GUXUtMVdzNEVRLVBNRnJYMW9DLXlmYTc3OGJUUkx0US9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMEpPUWw5alpEUTVNalE0TXpJMkwwSk9RbDlqWkRRNU1qUTRNekkyTG5CdVp3LnBuZw.webp",address:"0xae13d989dac2f0debff460ac112a837c89baa7cd",decimals:18},baseTokenList:[{name:"BUSD Token",symbol:"BUSD",address:"0x78867BbEeF44f2326bF8DDd1941a4439382EF2A7",logo:"https://cmp.dodoex.io/BvxyffA5gsLB4bLmlOVkfu7AVami78-VcW_6_i8I6kc/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vbC1Sa25meFB3ZXlCOGVYSWJ2b04wdHczLTlzckZOckxfRHdTTnRLSHVRRS9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMlZ5WXpJd0wyaDBkSEJ6WDJOa2JsOXRaV1JwWVY5a2IyUnZaWGhmYVc5ZlluVnpaRjgyTXpsbFlqZzNZV0V4WDJKMWMyUmZOak01WldJNE4yRmhNVjlsT1dVMVlXRTBOemxtTG5OMlp3LnN2Zw.webp",decimals:"18"},{name:"Tether USD",symbol:"USDT",address:"0x7ef95a0fee0dd31b22626fa2e10ee6a223f8a684",logo:"https://cmp.dodoex.io/QOl7CvP_WSmTUOMthbxQsNKjDj0s5kSjup69dW_-UeA/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vTjdQU3RXV2ZGaGNTVzM1QlE2TEJIaF9keVROUEJqa1RLTXRwTll5cEhSWS9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMlZ5WXpJd0wyaDBkSEJ6WDJOa2JsOXRaV1JwWVY5a2IyUnZaWGhmYVc5ZmRYTmtkRjh4TlRZME1XWmpaRFF3WDNWelpIUmZNVFUyTkRGbVkyUTBNRjlqWmpJMVpUYzVZVE5qTG5OMlp3LnN2Zw.webp",decimals:"18"},{name:"Ethereum Token",symbol:"ETH",address:"0x8babbb98678facc7342735486c851abd7a0d17ca",logo:"https://cmp.dodoex.io/KWYmKxU_OCS1PmzuEO0xjdr1Yn08SjGBkyqSI8hxlpE/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vdkkyZF9rdFdyUzQyM0FqZlBLbkxRYloyRGVzTkpacmNTSlZNb1dYRnkyOC9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMWRGVkVoZmFXTnZibDh6TVRjd1pqTTBORGcxTDFkRlZFaGZhV052Ymw4ek1UY3daak0wTkRnMUxuQnVady5wbmc.webp",decimals:"18"}],rpc:"https://data-seed-prebsc-1-s1.binance.org:8545/",router:[{name:"Pancakeswap",address:"0x9Ac64Cc6e4415144C455BD8E4837Fea55603e5c3",logo:"https://pancakeswap.finance/favicon.ico"}],c_address:"0xa856A2f09aA1b84e0714ae85227910259c52407F"},56:{id:56,tokenlist:"https://tokens.pancakeswap.finance/pancakeswap-top-100.json",baseToken:{n_name:"BNB",n_symbol:"BNB",n_logo:"https://cmp.dodoex.io/BWNSMMqu68bSFJsr9vsiCV09IonH3yuAkR9gQxaipBw/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vZDhvazF4akd3bU9GUXUtMVdzNEVRLVBNRnJYMW9DLXlmYTc3OGJUUkx0US9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMEpPUWw5alpEUTVNalE0TXpJMkwwSk9RbDlqWkRRNU1qUTRNekkyTG5CdVp3LnBuZw.webp",name:"WBNB",symbol:"WBNB",logo:"https://cmp.dodoex.io/BWNSMMqu68bSFJsr9vsiCV09IonH3yuAkR9gQxaipBw/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vZDhvazF4akd3bU9GUXUtMVdzNEVRLVBNRnJYMW9DLXlmYTc3OGJUUkx0US9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMEpPUWw5alpEUTVNalE0TXpJMkwwSk9RbDlqWkRRNU1qUTRNekkyTG5CdVp3LnBuZw.webp",address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",decimals:18},baseTokenList:[{name:"BUSD Token",symbol:"BUSD",address:"0xe9e7cea3dedca5984780bafc599bd69add087d56",logo:"https://cmp.dodoex.io/BvxyffA5gsLB4bLmlOVkfu7AVami78-VcW_6_i8I6kc/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vbC1Sa25meFB3ZXlCOGVYSWJ2b04wdHczLTlzckZOckxfRHdTTnRLSHVRRS9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMlZ5WXpJd0wyaDBkSEJ6WDJOa2JsOXRaV1JwWVY5a2IyUnZaWGhmYVc5ZlluVnpaRjgyTXpsbFlqZzNZV0V4WDJKMWMyUmZOak01WldJNE4yRmhNVjlsT1dVMVlXRTBOemxtTG5OMlp3LnN2Zw.webp",decimals:"18"},{name:"Tether USD",symbol:"USDT",address:"0x55d398326f99059fF775485246999027B3197955",logo:"https://cmp.dodoex.io/QOl7CvP_WSmTUOMthbxQsNKjDj0s5kSjup69dW_-UeA/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vTjdQU3RXV2ZGaGNTVzM1QlE2TEJIaF9keVROUEJqa1RLTXRwTll5cEhSWS9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMlZ5WXpJd0wyaDBkSEJ6WDJOa2JsOXRaV1JwWVY5a2IyUnZaWGhmYVc5ZmRYTmtkRjh4TlRZME1XWmpaRFF3WDNWelpIUmZNVFUyTkRGbVkyUTBNRjlqWmpJMVpUYzVZVE5qTG5OMlp3LnN2Zw.webp",decimals:"18"},{name:"Binance-Peg USD Coin",symbol:"USDC",address:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",logo:"https://cmp.dodoex.io/sQ5dF3FkjjQUsmfqFFE5cKq-cthh4u0wUooBE5Epf-k/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vTDlEVElLa2dONG5mRkNTSF9GMUdXU3JiZkJDa2JZRTkwbmFDS0dIWnRsby9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMM1Z6WkdOZlpXVTFNbUV4WldReVlpOTFjMlJqWDJWbE5USmhNV1ZrTW1JdWNHNW4ucG5n.webp",decimals:"18"},{name:"BTCB Token",symbol:"BTCB",address:"0x7130d2a12b9bcbfae4f2634d864a1ee1ce3ead9c",logo:"https://cmp.dodoex.io/fZG0z_RZ1U73_LuuC3RGrrZvNR-bgrCUjkwvaro-PCY/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vZ1NXN0RuYWNkMnc2YWxSQnFmcENqTHNDZWJhc2VtQTc0dDJlTEdDZjhfNC9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMlZ5WXpJd0wyeHZaMjlmWmpJNVlXRmpZamxoTVM1d2JtYy5wbmc.webp",decimals:"18"},{name:"Ethereum Token",symbol:"ETH",address:"0x2170Ed0880ac9A755fd29B2688956BD959F933F8",logo:"https://cmp.dodoex.io/KWYmKxU_OCS1PmzuEO0xjdr1Yn08SjGBkyqSI8hxlpE/rs:fit:96:96:0/g:no/aHR0cHM6Ly9pbWFnZS1wcm94eS5kb2RvZXguaW8vdkkyZF9rdFdyUzQyM0FqZlBLbkxRYloyRGVzTkpacmNTSlZNb1dYRnkyOC9hSFIwY0hNNkx5OWpaRzR0YldWa2FXRXVaRzlrYjJWNExtbHZMMWRGVkVoZmFXTnZibDh6TVRjd1pqTTBORGcxTDFkRlZFaGZhV052Ymw4ek1UY3daak0wTkRnMUxuQnVady5wbmc.webp",decimals:"18"}],rpc:e.$coinInfo["bsc"].rpcNode,router:[{name:"Pancakeswap",address:"0x10ed43c718714eb63d5aa57b78b54704e256024e",logo:"https://pancakeswap.finance/favicon.ico"}],c_address:""}},n=T["a"].getChainId()||56,56===n){t.next=5;break}return e.$notify.error({title:"Network Error",message:"This network is not supported at the moment！"}),t.abrupt("return");case 5:return e.config=a[n],e.exchangeArr=Object(r["a"])(a[n].router),e.exchangeArr.unshift({name:"All Swap",address:"0x0",logo:null}),e.exchange=e.exchangeArr[0].address,e.token1={name:e.config.baseToken.n_name,symbol:e.config.baseToken.n_symbol,logo:e.config.baseToken.logo,decimals:18,address:"0x0"},e.token2=e.config.baseTokenList[0],e.web3=new _.a(new _.a.providers.HttpProvider(e.config.rpc)),s=T["a"].MULTI_CALL_CONTRACT(parseInt(e.config.id)),e.multiCall=new x["MultiCall"](e.web3,s),t.next=16,Object(F["E"])(1e3);case 16:console.log(e.account),T["a"].getAccount()&&e.onUpdateBalance(!0);case 18:case"end":return t.stop()}}),t)})))()},methods:{onResetData:function(){var e={address:"",name:"",symbol:"",decimals:"",balance:"",amount:""};this.token1=e,this.token2=e},onSelectItem:function(e,t){var a=this.token1,n=this.token2;"top"===t?(this.token1=Object(c["a"])(Object(c["a"])({},this.token1),e),this.token2.address.toLowerCase()===this.token1.address.toLowerCase()&&(this.token2=a)):(this.token2=Object(c["a"])(Object(c["a"])({},this.token2),e),this.token2.address.toLowerCase()===this.token1.address.toLowerCase()&&(this.token1=n)),this.getTokenInputPrice(),this.onUpdateBalance(!1)},onSwapTokenInfo:function(){var e=[this.token2,this.token1];this.token1=e[0],this.token2=e[1]},onUpdateSetting:function(e){console.log(e,"item")},onMax:function(){if("0x0"===this.token1.address){var e=0,t=this.token1.balance;if(""!==this.token2.address){var a="0x"+ee.a.methodID("Cswap",["address","address","address","address","uint256","address"]).toString("hex")+ee.a.rawEncode(["address","address","address","address","uint256","address"],[this.router,this.baseToken,this.token1.address,this.token2.address,new q.a(Number(this.token1.balance)/2).times(Math.pow(10,this.token1.decimals)),T["a"].getAccount()]).toString("hex"),n={from:T["a"].getAccount(),to:this.c_address,value:Object(Q["toHex"])(P.a.toWei(this.token1.amount,"ether")),data:a};e=P.a.toWei(new q.a(this.getEth_estimateGas(n)).times(this.gwei),"gwei")}0!==e&&(t=new q.a(t).minus(e)),this.token1=Object(c["a"])(Object(c["a"])({},this.token1),{},{amount:new q.a(t).div(Math.pow(10,parseInt(this.token1.decimals)))}),console.log(this.token1.balance,e)}else this.token1=Object(c["a"])(Object(c["a"])({},this.token1),{},{amount:new q.a(this.token1.balance).div(Math.pow(10,this.token1.decimals))})},onSwap:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,n,s,r,i,c;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="0x0",e.callPath[0].toLowerCase()===e.config.baseToken.address.toLowerCase()&&e.token1.symbol===e.config.baseToken.n_symbol&&(a="0x"+ee.a.methodID("swapExactETHForTokens",["address","address","address[]","address"]).toString("hex")+ee.a.rawEncode(["address","address","address[]","address"],[e.router,e.config.baseToken.address,e.callPath,T["a"].getAccount()]).toString("hex"),n=Object(Q["toHex"])(P.a.toWei(e.token1.amount,"ether"))),e.callPath[e.callPath.length-1].toLowerCase()===e.config.baseToken.address.toLowerCase()&&e.token2.symbol===e.config.baseToken.n_symbol&&(console.log(2221,"ss"),a="0x"+ee.a.methodID("swapTokensForExactETH",["address","address","address[]","uint256","address"]).toString("hex")+ee.a.rawEncode(["address","address","address[]","uint256","address"],[e.router,e.config.baseToken.address,e.callPath,new q.a(e.token1.amount).times(Math.pow(10,e.token1.decimals)).toString(),T["a"].getAccount()]).toString("hex")),e.token1.symbol!==e.config.baseToken.n_symbol&&e.token2.symbol!==e.config.baseToken.n_symbol&&(a="0x"+ee.a.methodID("swapTokensForExactTokens",["address","address[]","uint256","address"]).toString("hex")+ee.a.rawEncode(["address","address[]","uint256","address"],[e.router,e.callPath,new q.a(e.token1.amount).times(Math.pow(10,e.token1.decimals)).toString(),T["a"].getAccount()]).toString("hex"),console.log("ttt",e.router,e.callPath,new q.a(e.token1.amount).times(Math.pow(10,e.token1.decimals)).toString())),e.swapLoading=!0,s={from:T["a"].getAccount(),to:e.config.c_address,value:n,data:a},t.next=8,e.getEth_estimateGas(s);case 8:if(r=t.sent,"error"!==r.status){t.next=12;break}return e.$alert("Error: "+r.value,"Error found",{confirmButtonText:"OK"}),t.abrupt("return");case 12:return console.log("onSwap"),t.prev=13,t.next=16,T["a"].sendTransaction(s);case 16:if(i=t.sent,!i){t.next=24;break}return e.swapTxhash=i,e.$refs.SwapStatusSuccess.show(),t.next=22,T["a"].getTransactionSuccess(i);case 22:c=t.sent,200===c.code?(e.onUpdateBalance(!1),e.$notify({title:"Success",message:"Successful transaction",type:"success"})):e.$notify.error({title:"Error",message:c.message});case 24:t.next=28;break;case 26:t.prev=26,t.t0=t["catch"](13);case 28:return t.prev=28,e.swapLoading=!1,t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[13,26,28,31]])})))()},getEth_estimateGas:function(e){var t=this;return Object(i["a"])(Object(o["a"])().mark((function a(){var n;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$ajax({url:t.config.rpc,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_estimateGas",params:[e]}});case 2:if(n=a.sent,null===n||void 0===n||!n.result){a.next=7;break}return a.abrupt("return",{status:"ok",value:parseInt(n.result)});case 7:return a.abrupt("return",{status:"error",value:null===n||void 0===n?void 0:n.error.message});case 8:case"end":return a.stop()}}),a)})))()},getTokenInfo:function(e){var t=this;return Object(i["a"])(Object(o["a"])().mark((function a(){var n;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.config.rpc,method:"post",data:[{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x06fdde03"},"latest"]},{jsonrpc:"2.0",id:2,method:"eth_call",params:[{to:e,data:"0x95d89b41"},"latest"]},{jsonrpc:"2.0",id:3,method:"eth_call",params:[{to:e,data:"0x313ce567"},"latest"]},{jsonrpc:"2.0",id:4,method:"eth_call",params:[{to:e,data:"0x70a08231000000000000000000000000"+T["a"].getAccount().replace("0x","")},"latest"]}]});case 3:return n=a.sent,a.abrupt("return",{name:P.a.abi.decodeParams(["string"],n[0].result)[0],symbol:P.a.abi.decodeParams(["string"],n[1].result)[0],decimals:parseInt(n[2].result),balance:n[3].result});case 7:return a.prev=7,a.t0=a["catch"](0),a.abrupt("return",!1);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getTokenInputPrice:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,n,s,r,i,d,p,u,m,b,h,f,k,w,g,y,v;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.token1.amount&&!(e.token1.amount<=0)){t.next=2;break}return t.abrupt("return");case 2:a={},n=[],s=0,r=new j.a(O,e.config.c_address),i=e.token1.address,d=e.token2.address,"0x0"===i&&(i=e.config.baseToken.address),"0x0"===d&&(d=e.config.baseToken.address),p=e.config.baseTokenList,console.log(e.config.router),u=!1,m=!1,t.prev=14,h=Object(o["a"])().mark((function t(){var n,l,u;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=k.value,"0x0"===e.exchange||n.address===e.exchange){t.next=3;break}return t.abrupt("return",1);case 3:return l=[],s++,a[s]=Object(c["a"])({path:[i,d],pathName:"".concat(e.token1.symbol,"->").concat(e.token2.symbol)},n),l.push({jsonrpc:"2.0",id:s,method:"eth_call",params:[{to:e.config.c_address,data:r.methods.getAmountOutFor(n.address,new q.a(e.token1.amount).times(Math.pow(10,e.token1.decimals)),[i,d]).encodeABI()},"latest"]}),p.filter((function(t){t.address.toLowerCase()!==d.toLowerCase()&&"0x0"===e.token1.address.toLowerCase()&&t.symbol!==e.config.baseToken.symbol&&(s++,a[s]=Object(c["a"])({path:[i,t.address,d],pathName:"".concat(e.token1.symbol,"->").concat(t.symbol,"->").concat(e.token2.symbol)},n),l.push({jsonrpc:"2.0",id:s,method:"eth_call",params:[{to:e.config.c_address,data:r.methods.getAmountOutFor(n.address,new q.a(e.token1.amount).times(Math.pow(10,e.token1.decimals)),[i,t.address,d]).encodeABI()},"latest"]}))})),t.next=10,e.$ajax({url:e.config.rpc,method:"post",data:l});case 10:u=t.sent,u.filter((function(e){if(null!==e&&void 0!==e&&e.result&&(null===e||void 0===e?void 0:e.result.length)>2){var t=P.a.abi.decodeParams(["uint[]"],null===e||void 0===e?void 0:e.result);a[e.id].value=new q.a(t[0][a[e.id].path.length-1]).toString()}}));case 12:case"end":return t.stop()}}),t)})),f=Object(l["a"])(e.config.router);case 17:return t.next=19,f.next();case 19:if(!(u=!(k=t.sent).done)){t.next=26;break}return t.delegateYield(h(),"t0",21);case 21:if(!t.t0){t.next=23;break}return t.abrupt("continue",23);case 23:u=!1,t.next=17;break;case 26:t.next=32;break;case 28:t.prev=28,t.t1=t["catch"](14),m=!0,b=t.t1;case 32:if(t.prev=32,t.prev=33,!u||null==f.return){t.next=37;break}return t.next=37,f.return();case 37:if(t.prev=37,!m){t.next=40;break}throw b;case 40:return t.finish(37);case 41:return t.finish(32);case 42:for(w in a)n.push({value:a[w].value,id:w});return g=n.sort((function(e,t){return t.value-e.value})),e.token2=Object(c["a"])(Object(c["a"])({},e.token2),{},{amount:new q.a(g[0].value).div(Math.pow(10,e.token2.decimals))}),e.path=a[g[0].id].name+" "+a[g[0].id].pathName,e.router=a[g[0].id].address,e.callPath=a[g[0].id].path,e.rate=new q.a(e.token2.amount).div(e.token1.amount).dp(5).toString(),t.prev=49,s++,t.next=53,e.$ajax({url:e.config.rpc,method:"post",data:{jsonrpc:"2.0",id:s,method:"eth_call",params:[{to:e.config.c_address,data:r.methods.getPoolSize(a[g[0].id].address,a[g[0].id].path[a[g[0].id].path.length-2],a[g[0].id].path[a[g[0].id].path.length-1]).encodeABI()},"latest"]}});case 53:y=t.sent,v=new q.a(g[0].value).div(y.result).times(100).dp(5).toString(),e.priceImpact="0"===v?"<0.00001":v,t.next=60;break;case 58:t.prev=58,t.t2=t["catch"](49);case 60:e.token2.symbol!==e.config.baseToken.n_symbol&&e.token1.symbol===e.config.baseToken.n_symbol||e.checkApprove(!1);case 61:case"end":return t.stop()}}),t,null,[[14,28,32,42],[33,,37,41],[49,58]])})))()},checkApprove:function(e){var t=this;return Object(i["a"])(Object(o["a"])().mark((function a(){var n,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.config.rpc,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:t.token1.address,data:"0x"+ee.a.methodID("allowance",["address","address"]).toString("hex")+ee.a.rawEncode(["address","address"],[T["a"].getAccount(),t.config.c_address]).toString("hex")},"latest"]}});case 3:n=a.sent,null!==n&&void 0!==n&&n.result&&0===parseInt(null===n||void 0===n?void 0:n.result)?(t.approveStatus=!0,e&&(s=t,setTimeout((function(){s.checkApprove(!0)}),4500))):(e&&(t.onUpdateBalance(!1),t.$notify({title:"Success",message:"Approve Success",type:"success"})),t.approveStatus=!1),a.next=9;break;case 7:a.prev=7,a.t0=a["catch"](0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})))()},sendApprove:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,n,s,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new j.a(S,e.token1.address),n=new q.a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF",16),t.next=4,a.methods.approve(e.config.c_address,n.toString(10)).encodeABI();case 4:return s=t.sent,r={from:T["a"].getAccount(),to:e.token1.address,value:Object(Q["toHex"])(0),data:s},t.next=8,T["a"].sendTransaction(r);case 8:e.checkApprove(!0);case 9:case"end":return t.stop()}}),t)})))()},onUpdateBalance:function(e){var t=this;return Object(i["a"])(Object(o["a"])().mark((function a(){var n,s,r,i,l,d,p,u,m;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.swapTokenInfoLoading=!0,a.prev=1,n=T["a"].getAccount(),!n){a.next=24;break}return a.next=6,T["a"].sendEthgetBalance(T["a"].getAccount());case 6:if(d=a.sent,t.ethBalance=d,null===(s=t.token1)||void 0===s||!s.address||"0x0"===(null===(r=t.token1)||void 0===r?void 0:r.address)){a.next=15;break}return a.next=11,t.getTokenInfo(t.token1.address);case 11:p=a.sent,null!==p&&void 0!==p&&p.name&&(t.token1=Object(c["a"])(Object(c["a"])({},t.token1),{},{name:p.name,symbol:p.symbol,balance:new q.a(p.balance).toString(),decimals:p.decimals})),a.next=16;break;case 15:t.token1=Object(c["a"])(Object(c["a"])({},t.token1),{},{name:t.config.baseToken.n_name,symbol:t.config.baseToken.n_symbol,balance:new q.a(t.ethBalance).toString(),logo:t.config.baseToken.logo,decimals:18});case 16:if(null===(i=t.token2)||void 0===i||!i.address||"0x0"===(null===(l=t.token2)||void 0===l?void 0:l.address)){a.next=23;break}return a.next=19,t.getTokenInfo(t.token2.address);case 19:u=a.sent,null!==u&&void 0!==u&&u.name&&(t.token2=Object(c["a"])(Object(c["a"])({},t.token2),{},{name:u.name,symbol:u.symbol,balance:u.balance,decimals:u.decimals})),a.next=24;break;case 23:t.token2=Object(c["a"])(Object(c["a"])({},t.token2),{},{name:t.config.baseToken.n_name,symbol:t.config.baseToken.n_symbol,logo:t.config.baseToken.logo,balance:t.ethBalance,decimals:18});case 24:a.next=28;break;case 26:a.prev=26,a.t0=a["catch"](1);case 28:return a.prev=28,t.swapTokenInfoLoading=!1,a.finish(28);case 31:e&&(m=t,setTimeout((function(){m.onUpdateBalance(!0)}),1e4));case 32:case"end":return a.stop()}}),a,null,[[1,26,28,31]])})))()}}},ne=ae,se=(a("99b2"),Object(g["a"])(ne,n,s,!1,null,"b5e07508",null));t["default"]=se.exports},"81ce":function(e,t,a){},"90ef":function(e,t,a){},"99b2":function(e,t,a){"use strict";a("cad0e")},cad0e:function(e,t,a){},d27d:function(e,t,a){"use strict";a("63c5")},d2c8:function(e,t,a){"use strict";a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return F}));var n=a("2909"),s=a("c7eb"),o=a("1da1"),r=(a("d9e2"),a("4e82"),a("caad"),a("d3b7"),a("159b"),a("2532"),a("99af"),a("14d9"),a("b680"),a("25f0"),a("ab3e")),i=a("e6ce"),c=a("ed08"),l=a("5a50"),d=a("901e"),p=a.n(d),u=a("a835");function m(e){return b.apply(this,arguments)}function b(){return b=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,n,o;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])({url:i["a"][t].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_gasPrice",params:[]}});case 3:return a=e.sent,n=a.result,o={fast:{price:Math.ceil(1.03*n),estimated_seconds:0},normal:{price:Math.ceil(1.01*n),estimated_seconds:0},slow:{price:Math.ceil(n),estimated_seconds:0}},e.abrupt("return",{data:o});case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0,"error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),b.apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return f=Object(o["a"])(Object(s["a"])().mark((function e(t){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("aptos"!==t){e.next=6;break}return e.next=3,y();case 3:a=e.sent,e.next=27;break;case 6:if("btc"!==t){e.next=12;break}return e.next=9,C();case 9:a=e.sent,e.next=27;break;case 12:if("sol"!==t){e.next=18;break}return e.next=15,x();case 15:a=e.sent,e.next=27;break;case 18:if("ckb"!==t){e.next=24;break}return e.next=21,O();case 21:a=e.sent,e.next=27;break;case 24:return e.next=26,m(t);case 26:a=e.sent;case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function k(e){if(e.length<4)throw new Error("inputs len < 4");e=e.sort((function(e,t){return new p.a(e).gt(new p.a(t))?1:-1}));var t=Math.floor(e.length/2);return new p.a(e[t-1]).plus(new p.a(e[t])).plus(new p.a(e[t+1])).dividedToIntegerBy(3)}function w(e){return g.apply(this,arguments)}function g(){return g=Object(o["a"])(Object(s["a"])().mark((function e(t){var a,o,c,d,m,b,h,f,w,g,y,v,x,T,O,S,C;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("number"===typeof t&&(t=u["a"].chainIdToChainName(t)),e.prev=1,![].concat(Object(n["a"])(l["h"]),["opbnb","bsc"]).includes(t)){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,Object(r["a"])({url:i["a"][t].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_feeHistory",params:["0xa","latest",[25,75]]}});case 6:a=e.sent,o=a.result,c=[],d=0;case 10:if(!(d<o.reward.length)){e.next=23;break}m=0;case 12:if(!(m<o.reward[d].length)){e.next=20;break}if(b=new p.a(o.reward[d][m]),!b.lte(0)){e.next=16;break}return e.abrupt("continue",17);case 16:c.push(b);case 17:m++,e.next=12;break;case 20:d++,e.next=10;break;case 23:h=k(c),f=new p.a(0),w=0,g=new p.a(1e19),y=new p.a(0),v=0;case 29:if(!(v<o.baseFeePerGas.length)){e.next=37;break}if(x=new p.a(o.baseFeePerGas[v]),!x.lte(0)){e.next=33;break}return e.abrupt("continue",34);case 33:x.gt(g)?g=x:x.lt(y)?y=x:(f=f.plus(x),w+=1);case 34:v++,e.next=29;break;case 37:if(T=f.dividedToIntegerBy(w),O=T.multipliedBy(1.63).plus(h),S=O.div(1e9).toFixed(),C=h.div(1e9).toFixed(),T=T.div(1e9).toFixed(0),O.toNumber()&&T&&C&&O){e.next=44;break}return e.abrupt("return",!1);case 44:return e.abrupt("return",{maxFee:new p.a(S).toFixed(3),priorityFee:new p.a(C).toFixed(2),baseFee:new p.a(T).toString()});case 47:return e.prev=47,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",!1);case 51:case"end":return e.stop()}}),e,null,[[1,47]])}))),g.apply(this,arguments)}function y(){return v.apply(this,arguments)}function v(){return v=Object(o["a"])(Object(s["a"])().mark((function e(){var t,a,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=1e3,e.prev=1,e.next=4,Object(r["a"])({url:"https://fullnode.mainnet.aptoslabs.com/v1/estimate_gas_price",method:"get",isProxy:!0,data:{}});case 4:return a=e.sent,n={fast:{price:a.prioritized_gas_estimate*t/Math.pow(10,8),estimated_seconds:0},normal:{price:a.gas_estimate*t/Math.pow(10,8),estimated_seconds:0},slow:{price:a.deprioritized_gas_estimate*t/Math.pow(10,8),estimated_seconds:0}},e.abrupt("return",{data:n});case 9:return e.prev=9,e.t0=e["catch"](1),console.log("error"),e.next=14,y();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,null,[[1,9]])}))),v.apply(this,arguments)}function x(){return T.apply(this,arguments)}function T(){return T=Object(o["a"])(Object(s["a"])().mark((function e(){var t,a,n,o;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])({url:i["a"]["sol"].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"getRecentBlockhash"}});case 3:if(t=e.sent,!t.result||!t.result.value){e.next=12;break}return a=t.result.value.feeCalculator,n=a.lamportsPerSignature,n/Math.pow(10,9),o={fast:{price:.01,estimated_seconds:0},normal:{price:.001,estimated_seconds:0},slow:{price:1e-4,estimated_seconds:0}},e.abrupt("return",{data:o});case 12:e.next=22;break;case 14:return e.prev=14,e.t0=e["catch"](0),console.log("error"),e.next=19,Object(c["E"])(5e3);case 19:return e.next=21,x();case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[0,14]])}))),T.apply(this,arguments)}function O(){return S.apply(this,arguments)}function S(){return S=Object(o["a"])(Object(s["a"])().mark((function e(){var t,a,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])({url:i["a"]["ckb"].rpcNode,method:"post",data:{id:1,jsonrpc:"2.0",method:"get_fee_rate_statistics",params:[]}});case 3:return t=e.sent,a=parseInt(t.result.mean),n={fast:{price:parseInt(1.5*a),estimated_seconds:0},normal:{price:a,estimated_seconds:0},slow:{price:parseInt(.8*a),estimated_seconds:0}},e.abrupt("return",{data:n});case 9:return e.prev=9,e.t0=e["catch"](0),console.log("error",e.t0),e.next=14,Object(c["E"])(5e3);case 14:return e.next=16,O();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,null,[[0,9]])}))),S.apply(this,arguments)}function C(){return j.apply(this,arguments)}function j(){return j=Object(o["a"])(Object(s["a"])().mark((function e(){var t,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r["a"])({url:"https://mempool.space/api/v1/fees/recommended",method:"get",data:{}});case 3:return t=e.sent,a={fast:{price:t.fastestFee,estimated_seconds:0},normal:{price:t.halfHourFee,estimated_seconds:0},slow:{price:t.hourFee,estimated_seconds:0}},e.abrupt("return",{data:a});case 8:return e.prev=8,e.t0=e["catch"](0),console.log("error"),e.next=13,Object(c["E"])(5e3);case 13:return e.next=15,C();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[0,8]])}))),j.apply(this,arguments)}function F(e){return["cro","iotx","dogechain","ckb"].includes(e)?0:["xdc","scroll","bevm","satoshivm","merlin","linea"].includes(e)?2:["opbnb"].includes(e)?9:["fil"].includes(e)?6:["aptos","sol","xterio"].includes(e)?4:["op","mantle","arb","arbnova","zksync-era","base","blast","zora"].includes(e)?3:1}}}]);