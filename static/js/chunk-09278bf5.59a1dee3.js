(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09278bf5"],{41:function(e,t){},5827:function(e,t,s){"use strict";s.r(t);s("b680");var a=function(){var e,t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"container"},[t.isPc?s("img",{staticClass:"bg-img-left",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/inset/btc-gas-speed.png"}}):t._e(),t.isPc?s("img",{staticClass:"bg-img-right",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/inset/btc-gas-speed.png"}}):t._e(),s("div",{staticClass:"header"},[s("svg-icon",{staticClass:"icon",attrs:{"icon-class":"speed"}}),s("span",{staticClass:"headerTitle"},[t._v(t._s(t.$t("route.btc-speed")))]),s("span",{staticClass:"headerDesc"},[t._v(t._s(t.$t("routeDesc.btc-speed")))])],1),s("TxSuccessDialog",{ref:"TxSuccessDialog",attrs:{type:t.actionTabs,tx:t.successTx,"chain-name":t.chainName}}),s("div",{staticClass:"otherLink"},[s("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(t.$origin,"/speed/evm"),target:"_blank"}},[s("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"coin-eth"}}),t._v(" "+t._s("EVM "+t.$t("route.transactionSpeed"))+" ")],1)],1),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.initLoading,expression:"initLoading"}],staticClass:"card"},[t.isPc?s("Gas"):t._e(),s("div",{staticClass:"tabs"},[s("ul",[s("li",{class:{on:"speed"===t.actionTabs},on:{click:function(e){t.actionTabs="speed"}}},[s("span",[t._v(t._s(t.$t("".concat(t.viewName,".tx_speed"))))])]),s("li",{class:{on:"cancel"===t.actionTabs},on:{click:function(e){t.actionTabs="cancel"}}},[s("span",[t._v(t._s(t.$t("".concat(t.viewName,".tx_cancel"))))])])])]),s("div",{staticClass:"formBox"},[s("span",{staticClass:"label"},[t._v(t._s(t.$t("".concat(t.viewName,".enter_transaction_hash")))+" "),""!==t.form.hash?s("i",{staticClass:"el-icon-refresh-left lable-icon",on:{click:t.onRefreshTxInfo}}):t._e()]),s("el-input",{directives:[{name:"loading",rawName:"v-loading",value:t.getTxInfoLoading,expression:"getTxInfoLoading"}],attrs:{placeholder:"0x....",clearable:""},model:{value:t.form.hash,callback:function(e){t.$set(t.form,"hash",e)},expression:"form.hash"}}),0===t.tx_find&&t.isLoadingTxData?s("div",{staticClass:"tips"},[s("i",{staticClass:"el-icon-loading icon green"}),s("span",{staticClass:"text green"},[t._v(t._s("Loading Tx hash data..."))])]):t._e(),1===t.tx_find?s("div",{staticClass:"tips"},[s("i",{staticClass:"el-icon-success icon green"}),s("span",{staticClass:"text green"},[t._v(t._s(t.$t("".concat(t.viewName,".transaction_found"))))])]):t._e(),2===t.tx_find?s("div",{staticClass:"tips"},[s("i",{staticClass:"el-icon-error icon red"}),s("span",{staticClass:"text red"},[t._v(t._s(t.$t("".concat(t.viewName,".transaction_not_found"))))])]):t._e(),t.transactionStatus?s("div",{staticClass:"tips"},[s("i",{staticClass:"el-icon-error icon red"}),s("span",{staticClass:"text red"},[t._v(t._s(t.$t("".concat(t.viewName,".transaction_online"))))])]):t._e()],1),s("ul",{staticClass:"gasBox1"},[t._l(t.gasListKeys,(function(e){return s("li",{key:e,class:{gasList:!0,gasListTrue:t.gasType===e},on:{click:function(s){return t.onChangeGasType(e)}}},[s("span",{staticClass:"name"},[t._v(" "+t._s(t.$t("common.".concat(e)))+" "),t.form.tx_size>0?s("span",{staticClass:"usd_price"},[t._v("$"+t._s((1e-8*t.gasList[e]*t.form.tx_size*t.btc_usd).toFixed(2)))]):t._e()]),s("span",{staticClass:"value"},[s("span",{staticClass:"number"},[t._v(t._s(t.gasList[e]))]),s("span",{staticClass:"unit"},[t._v("sat/VB")])])])})),s("li",{class:{gasList:!0,gasListTrue:"custom"===t.gasType},on:{click:function(e){return t.onChangeGasType("custom")}}},[s("span",{staticClass:"name"},[t._v(t._s(t.$t("common.custom"))+" "),t.gasList["custom"]>0&&t.form.tx_size>0?s("span",{staticClass:"usd_price"},[t._v("$"+t._s((1e-8*t.gasList["custom"]*t.form.tx_size*t.btc_usd).toFixed(2)))]):t._e()]),s("span",{staticClass:"inputBox"},[s("el-input",{staticClass:"inputText",attrs:{type:"text",oninput:"value=value.replace(/[^\\d\\.]/g,'')",size:"mini"},model:{value:t.gasList.custom,callback:function(e){t.$set(t.gasList,"custom",e)},expression:"gasList.custom"}}),s("span",{staticClass:"unit"},[t._v("sat/VB")])],1)])],2),s("div",{staticClass:"eleFormBox"},[s("el-form",{attrs:{model:t.form,"label-position":"top"}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8,xs:{span:8}}},[s("el-form-item",{attrs:{prop:"wallet_model"}},[s("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[s("span",{staticClass:"label"},[t._v(t._s(t.$t("".concat(t.viewName,".wallet_mode")))+" ")])]),s("el-radio-group",{attrs:{size:"small"},model:{value:t.form.wallet_model,callback:function(e){t.$set(t.form,"wallet_model",e)},expression:"form.wallet_model"}},[s("el-radio-button",{attrs:{label:"wallet"}},[t._v(t._s(t.$t("common.wallet")))]),t._e()],1)],1)],1),s("el-col",{attrs:{span:8,xs:{span:24}}},[s("el-form-item",{attrs:{prop:"tx_size"}},[s("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[s("span",{staticClass:"label"},[t._v(t._s(t.$t("".concat(t.viewName,".tx_size_for_acceleration")))+" ")])]),s("el-tag",{attrs:{type:"success",size:"small"}},[t._v(t._s(t.form.tx_size)+" vB")])],1)],1),s("el-col",{attrs:{span:4,xs:{span:12}}},[s("el-form-item",{attrs:{prop:"min_fee_rate"}},[s("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[s("span",{staticClass:"label"},[t._v(t._s("Network")+" ")])]),s("el-tag",{staticStyle:{"text-transform":"capitalize"},attrs:{type:"success",size:"small"}},[t._v(t._s(t.btcNetwork))])],1)],1),s("el-col",{attrs:{span:4,xs:{span:12}}},[s("el-form-item",{attrs:{prop:"min_fee_rate"}},[s("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[s("span",{staticClass:"label"},[t._v(t._s("BTC Price")+" ")])]),s("el-tag",{attrs:{type:"success",size:"small"}},[t._v("$"+t._s(t.btc_usd))])],1)],1),"pkv"===t.form.wallet_model?s("el-col",{attrs:{span:24,xs:{span:24}}},[s("el-form-item",{attrs:{prop:"wallet_model"}},[s("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[s("span",{staticClass:"label"},[t._v(t._s(t.$t("common.key"))+" "),s("el-tooltip",{staticClass:"tipsIcon",staticStyle:{"margin-left":"4px"},attrs:{effect:"dark",placement:"top"}},[s("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.$t("common.pkv_tips"))},slot:"content"}),s("el-tag",{attrs:{type:"success",size:"small"}},[s("svg-icon",{staticClass:"iconSvg",staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"certified"}}),s("span",[t._v(t._s(t.$t("common.pkv_tips_title")))])],1)],1)],1)]),s("el-input",{attrs:{clearable:"",type:"password"},model:{value:t.form.pkv,callback:function(e){t.$set(t.form,"pkv",e)},expression:"form.pkv"}})],1)],1):t._e()],1),t._e()],1)],1),s("div",{staticClass:"moreConfig"},["cfpf"===t.speedMode?s("el-alert",{attrs:{title:t.$t("".concat(t.viewName,".rbf_not_supported")),type:"success",closable:!1}}):t._e(),t.tx_status_res&&null!==(e=t.tx_status_res)&&void 0!==e&&e.status.confirmed?s("el-alert",{attrs:{title:t.$t("".concat(t.viewName,".transaction_already_success")),type:"error",closable:!1}}):t._e()],1),s("div",{staticClass:"btnBox"},["rbf"===t.speedMode&&"cancel"===t.actionTabs?s("el-button",{attrs:{type:"success",size:"large",loading:t.cancelLoading},on:{click:t.onRBFCancelTransaction}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"cancel-transaction"}}),s("span",[t._v(t._s(t.speedMode.toUpperCase())+" "+t._s(t.$t("".concat(t.viewName,".tx_cancel"))))])],1):t._e(),"rbf"===t.speedMode&&"speed"===t.actionTabs?s("el-button",{attrs:{type:"success",size:"large",loading:t.speedLoading},on:{click:t.onRBFSpeedTransaction}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"speed"}}),s("span",[t._v(t._s(t.speedMode.toUpperCase())+" "+t._s(t.$t("".concat(t.viewName,".tx_speed"))))])],1):t._e(),"cfpf"===t.speedMode&&"speed"===t.actionTabs?s("el-button",{attrs:{type:"success",size:"large",loading:t.speedLoading},on:{click:t.onCPFPSpeedTransaction}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"speed"}}),s("span",[t._v(t._s(t.speedMode.toUpperCase())+" "+t._s(t.$t("".concat(t.viewName,".tx_speed"))))])],1):t._e(),"cfpf"===t.speedMode&&"cancel"===t.actionTabs?s("el-button",{attrs:{disabled:!0,type:"success",size:"large",loading:t.speedLoading},on:{click:t.onCPFPSpeedTransaction}},[t._v(" "+t._s(t.$t("".concat(t.viewName,".cfpf_cannot_cancel")))+" ")]):t._e()],1),t.logList.length>0?s("ul",{staticClass:"terminal"},t._l(t.logList,(function(e,a){return s("li",{key:a,domProps:{innerHTML:t._s(e)}})})),0):t._e()],1)],1)},n=[],r=s("dc98"),c=r["a"],i=(s("b5826"),s("2877")),o=Object(i["a"])(c,a,n,!1,null,"ca65d23e",null);t["default"]=o.exports},b5826:function(e,t,s){"use strict";s("ec7c")},bc5a:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a={multiSender_fees_address:{livenet:"bc1pfvu02tmcy730xtajl7fjnht4afxdl3rlgsf00r5vlf7ljthfvucqr5n3uv",testnet:"tb1pkkwu0k9hzcawvzpew6k2w249u9a7yvtlgpvh3yp7pewf3u6eep2q4494lr"},multiSender_fees:{livenet:5e-4,testnet:1e-8}}},dc98:function(e,t,s){"use strict";(function(e){var a=s("b85c"),n=s("c7eb"),r=s("1da1"),c=s("5530"),i=(s("99af"),s("a434"),s("d3b7"),s("25f0"),s("b680"),s("aff5"),s("a9e3"),s("d9e2"),s("159b"),s("b64b"),s("fb6a"),s("d81d"),s("f30b")),o=s("d2c8"),u=s("2f62"),l=s("4b79"),p=(s("5ba3"),s("901e")),d=s.n(p),b=(s("ed08"),s("bc5a"),s("9ac7")),h=s("59da"),f=s("262f"),m=s.n(f),x=s("ebe1"),v=["https://mempool.space","https://btcscan.org","https://blockstream.info"],g="transactionSpeed",k="btc-speed";t["a"]={name:k,inject:[],components:{Gas:b["a"],TxSuccessDialog:i["a"]},data:function(){return{viewName:g,chainName:"btc",initLoading:!1,getTxInfoLoading:!1,gasType:"normal",gasListKeys:["fast","normal","slow"],gasList:{custom:""},actionTabs:"speed",cancelLoading:!1,speedLoading:!1,web3:null,txhex:null,tx_find:0,btc_usd:0,form:{increase:"",hash:"",tx_size:0,min_fee_rate:0,gas_max:"9999",pkv:"",wallet_model:"wallet",speed_number:1},speedMode:"rbf",transactionStatus:!1,txInfo:{},logList:[],successTx:"",vsize:0,isLoadingTxData:!1,currentFee:0,t1:null,tx_status_res:null}},computed:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["isConnect","account","chainId","isPc","language","btcNetwork","btcAccount","btcClient"])),{},{addNetworkUrlPath:function(){return"testnet"===this.btcNetwork?"testnet/":""},gasPrice:function(){return this.gasList?this.gasList[this.gasType]:20}}),watch:{"form.hash":function(e){""!==e&&this.onRefreshTxInfo()}},created:function(){this.$i18n.getLocaleMessage("en")[g]||(this.$i18n.mergeLocaleMessage("en",l["a"].en),this.$i18n.mergeLocaleMessage("zh",l["a"].zh))},deactivated:function(){clearInterval(this.t1)},activated:function(){var e=this;this.init(),this.t1=setInterval(Object(r["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:case"end":return t.stop()}}),t)}))),3e4)},beforeDestroy:function(){clearInterval(this.t1)},mounted:function(){var e=this;return Object(r["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(h["initEccLib"])(m.a),e.initLoading=!0,t.next=4,e.init();case 4:e.initLoading=!1,e.t1=setInterval(Object(r["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:case"end":return t.stop()}}),t)}))),3e4);case 6:case"end":return t.stop()}}),t)})))()},methods:{onChangeGasType:function(e){var t=this;return Object(r["a"])(Object(n["a"])().mark((function s(){return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.gasType=e;case 1:case"end":return s.stop()}}),s)})))()},init:function(){var e=this;return Object(r["a"])(Object(n["a"])().mark((function t(){var s,a,r,i,u,l;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("init"),t.next=3,Object(x["b"])(e.chainName);case 3:return s=t.sent,!1!==s&&(e.btc_usd=s["usd"]),t.next=7,Object(o["c"])("btc");case 7:a=t.sent,a&&(r=a.data,i=r.fast,u=r.normal,l=r.slow,e.gasList=Object(c["a"])(Object(c["a"])({},e.gasList),{},{fast:i.price,normal:u.price,slow:l.price}));case 9:case"end":return t.stop()}}),t)})))()},getTxHex:function(e){var t=this;return Object(r["a"])(Object(n["a"])().mark((function s(){var a,r,c;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=!0,r=0;case 2:if(!a){s.next=17;break}return r=Math.floor(Math.random()*v.length),s.prev=4,s.next=7,t.$ajax({url:"".concat(v[r],"/").concat(t.addNetworkUrlPath,"api/tx/").concat(e,"/hex"),method:"get"});case 7:c=s.sent,a=!1,s.next=15;break;case 11:s.prev=11,s.t0=s["catch"](4),v.splice(r,1),0===v.length&&(a=!1);case 15:s.next=2;break;case 17:return s.abrupt("return",c);case 18:case"end":return s.stop()}}),s,null,[[4,11]])})))()},getTxStatus:function(e){var t=this;return Object(r["a"])(Object(n["a"])().mark((function s(){var a,r,c;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=!0,r=0;case 2:if(!a){s.next=17;break}return r=Math.floor(Math.random()*v.length),s.prev=4,s.next=7,t.$ajax({url:"".concat(v[r],"/").concat(t.addNetworkUrlPath,"api/tx/").concat(e),method:"get"});case 7:c=s.sent,a=!1,s.next=15;break;case 11:s.prev=11,s.t0=s["catch"](4),v.splice(r,1),0===v.length&&(a=!1);case 15:s.next=2;break;case 17:return s.abrupt("return",c);case 18:case"end":return s.stop()}}),s,null,[[4,11]])})))()},getUtxos:function(e){var t=this;return Object(r["a"])(Object(n["a"])().mark((function s(){var a,r,c;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=!0,r=[],c=0;case 3:if(!a){s.next=18;break}return c=Math.floor(Math.random()*v.length),s.prev=5,s.next=8,t.$ajax({url:"".concat(v[c],"/").concat(t.addNetworkUrlPath,"api/address/").concat(e,"/utxo"),method:"get"});case 8:r=s.sent,a=!1,s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](5),v.splice(c,1),0===v.length&&(a=!1);case 16:s.next=3;break;case 18:return s.abrupt("return",r);case 19:case"end":return s.stop()}}),s,null,[[5,12]])})))()},onRefreshTxInfo:function(){var e=this;return Object(r["a"])(Object(n["a"])().mark((function t(){var s,r,i,o,u,l,p,d,b,f,m,x,v,g,k,w,_;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.tx_size=0,e.tx_status_res=null,e.getTxInfoLoading=!0,t.prev=3,t.next=6,e.getTxStatus(e.form.hash);case 6:s=t.sent,e.tx_status_res=s,e.form.tx_size=s.size,e.currentFee=s.fee,r={P2PKH:0,P2SH:0,P2WPKH:0,P2WSH:0,P2TR:0,unknown:0},i=Object(c["a"])({},r),o=Object(a["a"])(s.vin);try{for(o.s();!(u=o.n()).done;)l=u.value,l.prevout.scriptpubkey_address&&(p=e.getAddressType(l.prevout.scriptpubkey_address),r[p]+=1)}catch(n){o.e(n)}finally{o.f()}d=Object(a["a"])(s.vout);try{for(d.s();!(b=d.n()).done;)f=b.value,f.scriptpubkey_address&&(m=e.getAddressType(f.scriptpubkey_address),i[m]+=1)}catch(n){d.e(n)}finally{d.f()}if(delete r.unknown,delete i.unknown,e.vsize=e.getByteCount(r,i),console.log(s),!s.status.confirmed){t.next=22;break}return t.abrupt("return");case 22:return t.next=24,e.getTxHex(e.form.hash);case 24:e.txhex=t.sent,x=h["Transaction"].fromHex(e.txhex),v=[],g=0,k=Object(a["a"])(x.ins),t.prev=29,k.s();case 31:if((w=k.n()).done){t.next=41;break}if(_=w.value,v[g]=_.sequence,g++,!(_.sequence>=4294967294)){t.next=39;break}return e.speedMode="cfpf",e.form.speed_number=1,t.abrupt("return");case 39:t.next=31;break;case 41:t.next=46;break;case 43:t.prev=43,t.t0=t["catch"](29),k.e(t.t0);case 46:return t.prev=46,k.f(),t.finish(46);case 49:t.next=54;break;case 51:t.prev=51,t.t1=t["catch"](3),e.$message.error(t.t1,"error");case 54:return t.prev=54,e.getTxInfoLoading=!1,t.finish(54);case 57:case"end":return t.stop()}}),t,null,[[3,51,54,57],[29,43,46,49]])})))()},onRBFCancelTransaction:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function s(){var r,c,i,o,u,l,p,b,f,m,x,v,g,k,w,_,y,P,O,T,j,C,S,L,H,$,z,I,N,U,M,W,q,B,K,R,A;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:console.log(t.gasPrice),r=h["Transaction"].fromHex(t.txhex),c=[],i=0,o=Object(a["a"])(r.ins),s.prev=5,o.s();case 7:if((u=o.n()).done){s.next=16;break}if(l=u.value,c[i]=l.sequence,i++,!(l.sequence>=4294967294)){s.next=14;break}return t.speedMode="cfpf",s.abrupt("return");case 14:s.next=7;break;case 16:s.next=21;break;case 18:s.prev=18,s.t0=s["catch"](5),o.e(s.t0);case 21:return s.prev=21,o.f(),s.finish(21);case 24:p="testnet"===t.btcNetwork?h["networks"].testnet:h["networks"].bitcoin,b=new h["Psbt"]({network:p}),b.setVersion(r.version),b.setLocktime(r.locktime),i=0,f=Object(a["a"])(r.ins),s.prev=30,f.s();case 32:if((m=f.n()).done){s.next=67;break}return x=m.value,v=e.from(x.hash).reverse().toString("hex"),g=x.index,s.next=38,t.getTxHex(v);case 38:k=s.sent,w=h["Transaction"].fromHex(k);try{for(_ in w.outs)w.setWitness(parseInt(_),[])}catch(n){}if(s.prev=41,y=h["address"].fromOutputScript(w.outs[g].script,p),P=t.getAddressType(y),"P2TR"!==P&&"P2WPKH"!==P&&"P2WSH"!==P||b.addInput({hash:v,index:g,sequence:c[i]+1,witnessUtxo:w.outs[g]}),"P2SH"!==P){s.next=57;break}return s.t1=h["payments"],s.t2=e,s.next=50,t.btcClient.getPublicKey();case 50:s.t3=s.sent,s.t4=s.t2.from.call(s.t2,s.t3,"hex"),s.t5=p,s.t6={pubkey:s.t4,network:s.t5},O=s.t1.p2wpkh.call(s.t1,s.t6),T=h["payments"].p2sh({redeem:O,network:p}),b.addInput({hash:v,index:g,sequence:c[i]+1,witnessUtxo:w.outs[g],redeemScript:T.redeem.output});case 57:"P2PKH"===P&&b.addInput({hash:v,index:g,sequence:c[i]+1,nonWitnessUtxo:e.from(k,"hex")}),"unknown"===P&&b.addInput({hash:v,index:g,sequence:c[i]+1,witnessUtxo:w.outs[g],nonWitnessUtxo:e.from(k,"hex")}),s.next=64;break;case 61:s.prev=61,s.t7=s["catch"](41),b.addInput({hash:v,index:g,sequence:c[i]+1,witnessUtxo:w.outs[g],nonWitnessUtxo:e.from(k,"hex")});case 64:i++;case 65:s.next=32;break;case 67:s.next=72;break;case 69:s.prev=69,s.t8=s["catch"](30),f.e(s.t8);case 72:return s.prev=72,f.f(),s.finish(72);case 75:j=!1,C=b.clone(),S=Object(a["a"])(r.outs),s.prev=78,S.s();case 80:if((L=S.n()).done){s.next=91;break}H=L.value,s.prev=82,h["address"].fromOutputScript(H.script,p)===t.btcAccount&&($=new d.a(t.gasPrice).times(t.vsize),z=new d.a($).minus(t.currentFee),I=new d.a(H.value).minus(z).toFixed(0),C.addOutput({script:H.script,value:new d.a(I).toNumber()}),j=!0),s.next=89;break;case 86:return s.prev=86,s.t9=s["catch"](82),s.abrupt("return",!1);case 89:s.next=80;break;case 91:s.next=96;break;case 93:s.prev=93,s.t10=s["catch"](78),S.e(s.t10);case 96:return s.prev=96,S.f(),s.finish(96);case 99:if(j){s.next=101;break}return s.abrupt("return",!1);case 101:N=t.estimatePsbtSize({inputs:C.data.inputs,outputs:C.txOutputs,networks:p}),console.log(N,"realSize1"),U=Object(a["a"])(r.outs);try{for(U.s();!(M=U.n()).done;){W=M.value;try{h["address"].fromOutputScript(W.script,p)===t.btcAccount&&(q=new d.a(t.gasPrice).times(N),B=new d.a(q).minus(t.currentFee),K=new d.a(W.value).minus(B).toFixed(0),b.addOutput({script:W.script,value:new d.a(K).toNumber()}),j=!0)}catch(n){}}}catch(F){U.e(F)}finally{U.f()}return s.prev=105,t.speedLoading=!0,s.next=109,t.btcClient.signPsbt(b.toHex());case 109:return R=s.sent,s.next=112,t.btcClient.pushPsbt(R);case 112:A=s.sent,A&&(t.successTx=A,t.$refs.TxSuccessDialog.show()),s.next=119;break;case 116:s.prev=116,s.t11=s["catch"](105),t.$message.error(s.t11.message);case 119:return s.prev=119,t.speedLoading=!1,s.finish(119);case 122:case"end":return s.stop()}}),s,null,[[5,18,21,24],[30,69,72,75],[41,61],[78,93,96,99],[82,86],[105,116,119,122]])})))()},onChangeHash:function(e){var t=this;return Object(r["a"])(Object(n["a"])().mark((function s(){var a,r;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.tx_find=0,a=null,t.txInfo={},t.transactionStatus=!1,""!==e){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,t.web3.eth.getTransactionReceipt(e);case 8:return r=s.sent,console.log(r,"receipt"),t.transactionStatus=null!==r&&r.status,s.prev=11,t.isLoadingTxData=!0,s.next=15,t.web3.eth.getTransaction(e);case 15:a=s.sent,s.next=21;break;case 18:s.prev=18,s.t0=s["catch"](11),console.log(s.t0);case 21:return s.prev=21,t.isLoadingTxData=!1,s.finish(21);case 24:if(a){s.next=29;break}return t.tx_find=2,s.abrupt("return");case 29:t.tx_find=1;case 30:t.form=Object(c["a"])(Object(c["a"])({},t.form),{},{to:a.to,value:a.value,gasLimit:a.gas,data:a.input}),t.txInfo=a;case 32:case"end":return s.stop()}}),s,null,[[11,18,21,24]])})))()},onRBFSpeedTransaction:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function s(){var r,c,i,o,u,l,p,b,f,m,x,v,g,k,w,_,y,P,O,T,j,C,S,L,H,$,z,I;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:console.log(t.gasPrice),r=h["Transaction"].fromHex(t.txhex),c=[],i=0,o=Object(a["a"])(r.ins),s.prev=5,o.s();case 7:if((u=o.n()).done){s.next=16;break}if(l=u.value,c[i]=l.sequence,i++,!(l.sequence>=4294967294)){s.next=14;break}return t.speedMode="cfpf",s.abrupt("return");case 14:s.next=7;break;case 16:s.next=21;break;case 18:s.prev=18,s.t0=s["catch"](5),o.e(s.t0);case 21:return s.prev=21,o.f(),s.finish(21);case 24:p="testnet"===t.btcNetwork?h["networks"].testnet:h["networks"].bitcoin,b=new h["Psbt"]({network:p}),b.setVersion(r.version),b.setLocktime(r.locktime),i=0,f=Object(a["a"])(r.ins),s.prev=30,f.s();case 32:if((m=f.n()).done){s.next=67;break}return x=m.value,v=e.from(x.hash).reverse().toString("hex"),g=x.index,s.next=38,t.getTxHex(v);case 38:k=s.sent,w=h["Transaction"].fromHex(k);try{for(_ in w.outs)w.setWitness(parseInt(_),[])}catch(n){}if(s.prev=41,y=h["address"].fromOutputScript(w.outs[g].script,p),P=t.getAddressType(y),"P2TR"!==P&&"P2WPKH"!==P&&"P2WSH"!==P||b.addInput({hash:v,index:g,sequence:c[i]+1,witnessUtxo:w.outs[g]}),"P2SH"!==P){s.next=57;break}return s.t1=h["payments"],s.t2=e,s.next=50,t.btcClient.getPublicKey();case 50:s.t3=s.sent,s.t4=s.t2.from.call(s.t2,s.t3,"hex"),s.t5=p,s.t6={pubkey:s.t4,network:s.t5},O=s.t1.p2wpkh.call(s.t1,s.t6),T=h["payments"].p2sh({redeem:O,network:p}),b.addInput({hash:v,index:g,sequence:c[i]+1,witnessUtxo:w.outs[g],redeemScript:T.redeem.output});case 57:"P2PKH"===P&&b.addInput({hash:v,index:g,sequence:c[i]+1,nonWitnessUtxo:e.from(k,"hex")}),"unknown"===P&&b.addInput({hash:v,index:g,sequence:c[i]+1,witnessUtxo:w.outs[g],nonWitnessUtxo:e.from(k,"hex")}),s.next=64;break;case 61:s.prev=61,s.t7=s["catch"](41),b.addInput({hash:v,index:g,sequence:c[i]+1,witnessUtxo:w.outs[g],nonWitnessUtxo:e.from(k,"hex")});case 64:i++;case 65:s.next=32;break;case 67:s.next=72;break;case 69:s.prev=69,s.t8=s["catch"](30),f.e(s.t8);case 72:return s.prev=72,f.f(),s.finish(72);case 75:j=Object(a["a"])(r.outs);try{for(j.s();!(C=j.n()).done;){S=C.value;try{h["address"].fromOutputScript(S.script,p)===t.btcAccount?(L=new d.a(t.gasPrice).times(t.vsize),H=new d.a(L).minus(t.currentFee),$=new d.a(S.value).minus(H).toFixed(0),b.addOutput({script:S.script,value:new d.a($).toNumber()})):b.addOutput({script:S.script,value:S.value})}catch(n){b.addOutput({script:S.script,value:S.value})}}}catch(N){j.e(N)}finally{j.f()}return s.prev=77,t.speedLoading=!0,s.next=81,t.btcClient.signPsbt(b.toHex());case 81:return z=s.sent,s.next=84,t.btcClient.pushPsbt(z);case 84:I=s.sent,I&&(t.successTx=I,t.$refs.TxSuccessDialog.show()),s.next=91;break;case 88:s.prev=88,s.t9=s["catch"](77),t.$message.error(s.t9.message);case 91:return s.prev=91,t.speedLoading=!1,s.finish(91);case 94:case"end":return s.stop()}}),s,null,[[5,18,21,24],[30,69,72,75],[41,61],[77,88,91,94]])})))()},onCPFPSpeedTransaction:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function s(){var r,c,i,o,u,l,p,b,f,m,x,v,g,k,w,_,y,P,O;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:console.log(t.gasPrice),r="testnet"===t.btcNetwork?h["networks"].testnet:h["networks"].bitcoin,c=new h["Psbt"]({network:r}),c.setVersion(2),c.setLocktime(0),i=t.form.hash,o=0,u=0,l=Object(a["a"])(t.tx_status_res.vout),s.prev=9,l.s();case 11:if((p=l.n()).done){s.next=20;break}if(b=p.value,console.log(o),b.scriptpubkey_address!==t.btcAccount){s.next=17;break}return u=b.value,s.abrupt("break",20);case 17:o++;case 18:s.next=11;break;case 20:s.next=25;break;case 22:s.prev=22,s.t0=s["catch"](9),l.e(s.t0);case 25:return s.prev=25,l.f(),s.finish(25);case 28:f=h["Transaction"].fromHex(t.txhex);try{for(m in f.outs)f.setWitness(parseInt(m),[])}catch(n){}if(s.prev=30,x=h["address"].fromOutputScript(f.outs[o].script,r),v=t.getAddressType(x),"P2TR"!==v&&"P2WPKH"!==v&&"P2WSH"!==v||c.addInput({hash:i,index:o,sequence:4294945450,witnessUtxo:f.outs[o]}),"P2SH"!==v){s.next=46;break}return s.t1=h["payments"],s.t2=e,s.next=39,t.btcClient.getPublicKey();case 39:s.t3=s.sent,s.t4=s.t2.from.call(s.t2,s.t3,"hex"),s.t5=r,s.t6={pubkey:s.t4,network:s.t5},g=s.t1.p2wpkh.call(s.t1,s.t6),k=h["payments"].p2sh({redeem:g,network:r}),c.addInput({hash:i,index:o,sequence:4294945450,witnessUtxo:f.outs[o],redeemScript:k.redeem.output});case 46:"P2PKH"===v&&c.addInput({hash:i,index:o,sequence:4294945450,nonWitnessUtxo:e.from(t.txhex,"hex")}),"unknown"===v&&c.addInput({hash:i,index:o,sequence:4294945450,witnessUtxo:f.outs[o],nonWitnessUtxo:e.from(t.txhex,"hex")}),s.next=53;break;case 50:s.prev=50,s.t7=s["catch"](30),c.addInput({hash:i,index:o,sequence:4294945450,witnessUtxo:f.outs[o],nonWitnessUtxo:e.from(t.txhex,"hex")});case 53:return w=130,_=new d.a(t.gasPrice).times(w),c.addOutput({address:t.btcAccount,value:new d.a(u).minus(_).toNumber()}),y=h["script"].compile([h["opcodes"].OP_RETURN,""]),c.addOutput(y,0),console.log(c),s.prev=59,t.speedLoading=!0,s.next=63,t.btcClient.signPsbt(c.toHex());case 63:return P=s.sent,console.log(P),s.next=67,t.btcClient.pushPsbt(P);case 67:O=s.sent,O&&(t.successTx=O,t.$refs.TxSuccessDialog.show()),s.next=74;break;case 71:s.prev=71,s.t8=s["catch"](59),t.$message.error(s.t8.message);case 74:return s.prev=74,t.speedLoading=!1,s.finish(74);case 77:case"end":return s.stop()}}),s,null,[[9,22,25,28],[30,50],[59,71,74,77]])})))()},getAddressType:function(e){var t="unknown";try{var s=h["address"].fromBech32(e);s&&(1===s.version?t="P2TR":0===s.version&&(20===s.data.length?t="P2WPKH":32===s.data.length&&(t="P2WSH")))}catch(n){}try{var a=h["address"].fromBase58Check(e);a&&(5===a.version||196===a.version?t="P2SH":0!==a.version&&111!==a.version||(t="P2PKH"))}catch(r){}return t},getByteCount:function(e,t){var s=0,a=!1,n=0,r=0,c={inputs:{P2PKH:592,P2WPKH:272,P2SH:364,P2TR:313.25},outputs:{P2SH:128,P2PKH:136,P2WPKH:124,P2WSH:172,P2TR:172}},i=function(e){if(e<0||e>Number.MAX_SAFE_INTEGER||e%1!==0)throw new RangeError("value out of range")},o=function(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9};return Object.keys(e).forEach((function(t){if(e[t]>0){if(i(e[t]),"MULTISIG"===t.slice(0,8)){var r=t.split(":");if(2!==r.length)throw new Error("invalid input: "+t);var o=r[0],u=r[1].split("-").map((function(e){return parseInt(e)}));s+=c.inputs[o]*e[t];var l="MULTISIG-P2SH"===o?4:1;s+=(73*u[0]+34*u[1])*l*e[t]}else s+=c.inputs[t]*e[t];n+=e[t],t.indexOf("W")>=0&&(a=!0)}})),Object.keys(t).forEach((function(e){t[e]>0&&(i(t[e]),s+=c.outputs[e]*t[e],r+=t[e])})),a&&(s+=2),s+=32,s+=4*o(n),s+=4*o(r),Math.ceil(s/4)},estimatePsbtSize:function(e){var t=this,s=e.inputs,a=e.outputs,n=e.network,r={P2PKH:0,P2SH:0,P2WPKH:0,P2WSH:0,P2TR:0,unknown:0},i=Object(c["a"])({},r);return s.forEach((function(e,s){var a=h["address"].fromOutputScript(e.witnessUtxo.script,n),c=t.getAddressType(a);r[c]+=1})),a.forEach((function(e,s){var a=t.getAddressType(e.address);i[a]+=1})),r.unknown>0||i.unknown>0?-1:(delete r.unknown,delete i.unknown,this.getByteCount(r,i))}}}}).call(this,s("1c35").Buffer)},ebe1:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"c",(function(){return p})),s.d(t,"b",(function(){return f}));var a=s("c7eb"),n=s("1da1"),r=s("ab3e"),c=s("e6ce"),i=s("a835"),o={btc:"bitcoin",merlin:"bitcoin",bevm:"bitcoin",satoshivm:"bitcoin",eth:"ethereum",blast:"ethereum","zksync-era":"ethereum","zksync-lite":"ethereum",trx:"tron",sol:"solana",sei:"sei-network",sui:"sui",arb:"ethereum",doge:"dogecoin",bsc:"binancecoin",opbnb:"binancecoin",xterio:"binancecoin",bnb:"binancecoin",combo:"binancecoin",ht:"huobi-token",kcc:"kucoin-shares",heco:"huobi-token",matic:"matic-network",ftm:"fantom",xdai:"xdai",okt:"oec-token",xlayer:"okb",avax:"avalanche-2",celo:"celo",movr:"moonriver",cro:"crypto-com-chain",iotx:"iotex",bch:"bitcoin-cash",sbch:"bitcoin-cash",glmr:"moonbeam",xdc:"xdce-crowd-sale",sdn:"shiden",fuse:"fuse-network-token",aac:"acute-angle-cloud",klay:"klay-token",one:"harmony",op:"ethereum",evmos:"evmos",brise:"bitrise-token",dogechain:"dogecoin",syscoin:"syscoin",canto:"canto",ethw:"ethereum-pow-iou",ethf:"ethereumfair",aptos:"aptos",onus:"onus",core:"coredaoorg",cfx:"conflux-token",fil:"filecoin",arbnova:"ethereum","polygon-zkevm":"ethereum",pls:"pulsechain",base:"ethereum",linea:"ethereum",shibarium:"bone-shibaswap",scroll:"ethereum",telos:"telos",humanode:"humanode",ace:"fusionist",wemix:"wemix-token",zkfair:"usd-coin",mantle:"mantle",btt:"bittorrent",manta:"ethereum",starknet:"ethereum",eos:"eos",nuls:"nuls",metis:"metis-token",fon:"fonsmartchain",zeta:"zetachain",zeta_test:"zetachain",dym:"dymension",meld:"meld-2",meld_test:"meld-2",theta:"theta-fuel",bgb:"bitget-token",ckb:"nervos-network",zora:"ethereum",go:"gochain",flr:"flare-networks",acala:"acala"};function u(){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(Object(a["a"])().mark((function e(){var t,s,n,i=arguments;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"eth",e.prev=1,s=c["a"][t].symbol,e.next=5,Object(r["a"])({url:"https://min-api.cryptocompare.com/data/pricemulti?fsyms=".concat(s,"&tsyms=USD,CNY"),method:"get",data:{}});case 5:return n=e.sent,e.abrupt("return",{usd:n[s]["USD"],cny:n[s]["CNY"]});case 9:return e.prev=9,e.t0=e["catch"](1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),l.apply(this,arguments)}function p(){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(Object(a["a"])().mark((function e(){var t,s,n,o=arguments;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"eth",e.prev=1,s=c["a"][t].symbol,e.next=5,Object(r["a"])({url:"https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest",method:"get",timeout:5e3,isProxy2:!0,headers:{"X-CMC_PRO_API_KEY":i["a"].getCoinmarketcapApiKey()},data:{convert:"USD",symbol:s}});case 5:return n=e.sent,e.abrupt("return",{usd:n.data[s][0].quote["USD"].price,cny:0});case 9:return e.prev=9,e.t0=e["catch"](1),e.next=13,b(t);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,null,[[1,9]])}))),d.apply(this,arguments)}function b(){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(Object(a["a"])().mark((function e(){var t,s,n,c=arguments;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"eth",e.prev=1,s=o[t],e.next=5,Object(r["a"])({url:"https://api.coingecko.com/api/v3/simple/price?ids=".concat(s,"&vs_currencies=cny,usd"),method:"get",data:{}});case 5:return n=e.sent,e.abrupt("return",{usd:n[s]["usd"],cny:n[s]["cny"]});case 9:return e.prev=9,e.t0=e["catch"](1),e.next=13,u(t);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,null,[[1,9]])}))),h.apply(this,arguments)}function f(){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(Object(a["a"])().mark((function e(){var t,s=arguments;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"eth",e.abrupt("return",b(t));case 2:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},ec7c:function(e,t,s){}}]);