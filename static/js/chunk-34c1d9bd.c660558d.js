(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34c1d9bd"],{"08bce":function(e,t,a){},23034:function(e,t,a){"use strict";a("d3e6")},"55f9":function(e,t,a){"use strict";a.r(t);a("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("TransactionSuccessDialog",{ref:"TransactionSuccessDialog",attrs:{"is-show-manage-pane":!0,title:e.$t("aptosCreateToken.success")}}),t("DaBox",{staticStyle:{"margin-bottom":"20px"},attrs:{list:["multiSender"]}}),e.isZh?t("div",{staticClass:"tips_err"},[t("p",[e._v("CoinTool不提供任何技术支持！")]),t("p",[e._v("已关闭创建代币功能，请勿用于违法活动!")])]):t("Card",{attrs:{icon:"coin-trx","is-show-code-view":!1,title:e.$t("route.aptosCreateToken"),desc:e.$t("aptosCreateToken.pageDesc")}},[e.txHash?t("div",{staticClass:"result"},[t("div",{staticClass:"returnBox"},[t("div",{staticClass:"iconBox",on:{click:function(t){e.txHash=""}}},[t("i",{staticClass:"el-icon-back icon"})])]),t("CreateFinish",{attrs:{"chain-id":"aptos","view-name":"createToken","create-token-address":e.contractAddress,tx:e.txHash}})],1):t("div",{staticClass:"flexCenter"},[t("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":e.isPc?"left":"top",rules:e.rules,model:e.form,"label-width":"160px"}},[t("el-form-item",{attrs:{label:e.$t("aptosCreateToken.tokenName"),prop:"tokenName"}},[t("el-input",{model:{value:e.form.tokenName,callback:function(t){e.$set(e.form,"tokenName",t)},expression:"form.tokenName"}})],1),t("el-form-item",{attrs:{label:e.$t("aptosCreateToken.symbol"),prop:"symbol"}},[t("el-input",{model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),t("el-form-item",{attrs:{label:e.$t("aptosCreateToken.decimals"),prop:"decimals"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1),t("el-form-item",{attrs:{label:e.$t("aptosCreateToken.initialSupply"),prop:"initialSupply"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:1},model:{value:e.form.initialSupply,callback:function(t){e.$set(e.form,"initialSupply",t)},expression:"form.initialSupply"}})],1),t("el-form-item",{attrs:{label:"Can Mint?",prop:"canMint"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:e.form.canMint,callback:function(t){e.$set(e.form,"canMint",t)},expression:"form.canMint"}},[t("el-radio",{attrs:{value:"0",label:"0",border:""}},[e._v("YES")]),t("el-radio",{attrs:{value:"1",label:"1",border:""}},[e._v("NO")])],1),t("el-alert",{staticStyle:{"line-height":"18px","margin-top":"10px"},attrs:{title:e.$t("aptosCreateToken.mint_tips"),type:"info",closable:!1}})],1),e.aptosWallet&&"Pontem"!==e.aptosWallet.name?t("el-form-item",{attrs:{label:"",prop:""}},[t("el-alert",{staticStyle:{"line-height":"18px"},attrs:{title:e.$t("aptosCreateToken.create_tips"),type:"error",closable:!1}})],1):e._e(),t("el-form-item",{staticClass:"btnBox"},[t("el-button",{staticClass:"item-btn",attrs:{loading:e.loading,size:"medium",type:"primary"},on:{click:e.onCreatToken}},[e._v(" "+e._s(e.$t("aptosCreateToken.createBtn"))+" ")]),t("p",{staticClass:"feeTips"},[e._v("Fees: "+e._s(e.createFee)+" APT")])],1)],1)],1)])],1)},n=[],o=a("c14f"),s=a("1da1"),i=a("5530"),l=(a("7db0"),a("d3b7"),a("0643"),a("fffc"),a("ac1f"),a("5319"),a("a15b"),a("75c1")),c=a("3d657"),m=a("2f62"),u={zh:{aptosCreateToken:{tokenName:"代币名称",tokenNameValidate:"请输入代币名称",symbol:"缩写符号",symbolValidate:"请输入缩写符号",initialSupply:"发行数量",initialSupplyValidate:"请输入发行数量",decimals:"小数位数(0-9)",decimalsValidate:"请输入小数位数",config:"其他配置",createBtn:"立即创建",success:"代币创建成功，请前往区块浏览器或钱包查看！",pageDesc:"简单、快速、便捷",adminAddress:"管理员地址",mintAuthority:"增发权限地址",freezeAuthority:"冻结权限地址",alert_text:"抱歉，TRC20 Token自动创建功能暂未开通，请前往首页联系我们，由我们代为您发布TRC20 Token",create_tips:"你当前使用的钱包还不支持创建功能，请切换 Pontem Wallet 进行创建",mint_tips:"你可以在管理面板进行MINT",create_network_err_tips:"不支持当前网络的创建，请切换 Mainnet 进行创建",symbol_err_tips:"Symbol 重复，请更换",create_err_tips:"创建Token错误正在重试第{count}次:{e}",create_admin_err_tips:"创建失败，请重试. 如长时间失败请联系管理员"}},en:{aptosCreateToken:{tokenName:"Token Name",tokenNameValidate:"Please enter token name",symbol:"Symbol",symbolValidate:"Please enter symbol",initialSupply:"Initial Supply",initialSupplyValidate:"Please enter initial supply",decimals:"Decimals(0-9)",decimalsValidate:"Please enter decimals",adminAddress:"Admin Address",mintAuthority:"Mint authority",freezeAuthority:"Freeze authority",config:"Other Config",createBtn:"Create Token",success:"Token created successfully, please go to the block browser or wallet to check!",pageDesc:"Simple, Fast, Convenient",alert_text:"Sorry, the automatic creation function of trc20 has not been activated yet. Please contact us on the home page and we will release the trc20 token for you",create_tips:"Your current Wallet does not support creation function, please switch to Pontem Wallet to create",mint_tips:"You can do MINT in the Admin panel",create_network_err_tips:"The current network cannot be created. Switch to Mainnet",symbol_err_tips:"Symbol repeats, please replace",create_admin_err_tips:"Creation failed. Please try again. If the fault persists for a long time, contact the administrator",create_err_tips:"Token creation error retry {count} time :{e}"}}},p=a("12f9"),d=a("eaa1"),f=a("1a96"),b=a("ed08"),k=a("b893"),g="aptosCreateToken",h="createToken",y={name:h,inject:["aptosWalletStateTest"],components:{TransactionSuccessDialog:d["a"],CreateFinish:l["a"],DaBox:c["a"],Card:p["a"]},data:function(){return{createFee:9,blockTxurl:"",contractAddress:"",loading:!1,rules:{},tokenList:[],txHash:"",form:{tokenName:"",symbol:"",initialSupply:21e6,adminAddress:"",decimals:6,canMint:"0"}}},computed:Object(i["a"])({},Object(m["b"])(["isConnect","aptosNetwork","aptosAccount","aptosWallet","aptosClient","navigatorLanguage","language","isZh","isPc"])),watch:{aptosAccount:{immediate:!0,handler:function(e){""!==e&&this.init()}}},created:function(){this.$i18n.getLocaleMessage("en")[g]||(this.$i18n.mergeLocaleMessage("en",u.en),this.$i18n.mergeLocaleMessage("zh",u.zh)),this.rules={tokenName:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],symbol:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],decimals:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],initialSupply:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},mounted:function(){return Object(s["a"])(Object(o["a"])().m((function e(){return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:return e.a(2)}}),e)})))()},methods:{init:function(){return Object(s["a"])(Object(o["a"])().m((function e(){return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:return e.a(2)}}),e)})))()},onGetMetaData:function(e){var t=arguments,a=this;return Object(s["a"])(Object(o["a"])().m((function r(){var n,s,i,l;return Object(o["a"])().w((function(r){while(1)switch(r.n){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:1,r.p=1,s="https://s.1b.tc/3001/c?a=".concat(e),r.n=2,a.$ajax({headers:{Accept:"application/json"},url:s,method:"get",timeout:1e5});case 2:return i=r.v,r.a(2,i);case 3:if(r.p=3,l=r.v,!(n>3)){r.n=4;break}return r.a(2,!1);case 4:return a.$message.error(a.$t("aptosCreateToken.create_err_tips",{count:n,e:l})),r.n=5,Object(b["H"])(500);case 5:return r.n=6,a.onGetMetaData(e,n+1);case 6:return r.a(2,r.v)}}),r,null,[[1,3]])})))()},onCreatToken:function(){var e=this;return Object(s["a"])(Object(o["a"])().m((function t(){var a,r,n,s,i,l,c,m,u,p,d,b;return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.$refs["form"].validate();case 1:return t.n=2,e.aptosWalletStateTest();case 2:if(t.v){t.n=3;break}return t.a(2);case 3:if(!e.aptosWallet||"Pontem"===e.aptosWallet.name){t.n=4;break}return e.$message.error(e.$t("aptosCreateToken.create_tips")),t.a(2);case 4:if("mainnet"===e.aptosNetwork||"development"===e.$NODE_ENV){t.n=5;break}return e.$message.error(e.$t("aptosCreateToken.create_network_err_tips")),t.a(2);case 5:return e.loading=!0,t.n=6,e.aptosClient.getBalance(e.aptosAccount);case 6:if(a=t.v,!(a<=e.createFee)){t.n=7;break}return e.$msgbox({title:e.$t("common.balance_lack_title"),type:"warning",dangerouslyUseHTMLString:!0,message:e.$t("common.balance_lack_content",{address:e.aptosAccount,amount:e.createFee,symbol:"APT"}),confirmButtonText:e.$t("common.confirm")}),e.loading=!1,t.a(2);case 7:return r=e.form.symbol[0].toUpperCase()+e.form.symbol.substr(1).toLowerCase(),r=r===e.form.symbol?r.toUpperCase():r,n=e.aptosAccount+"::"+e.form.symbol+"::"+r,t.p=8,t.n=9,e.aptosClient.getAccountTokenModules(e.aptosAccount);case 9:if(s=t.v,i=s.find((function(e){return e===n})),!i){t.n=10;break}return e.$message.error("You have already registered this symbol, please replace the symbol!"),e.loading=!1,t.a(2);case 10:if(!(e.form.initialSupply>0x10000000000000000)){t.n=11;break}return e.$message.error("Error, the max number of totalsupply is 18446744073709551614"),e.loading=!1,t.a(2);case 11:return e.form.tokenName=e.form.tokenName.replace(/[^\u4e00-\u9fa5a-zA-Z0-9_]/g,""),e.form.symbol=e.form.symbol.replace(/[^\u4e00-\u9fa5a-zA-Z0-9_]/g,""),l=[e.aptosAccount,e.form.tokenName,e.form.symbol,e.form.initialSupply,e.form.canMint],console.log(l,"tArr"),c=k["a"].crypt("c",l.join("|")),t.n=12,e.onGetMetaData(c);case 12:if(m=t.v,m){t.n=13;break}return e.$message.error(e.$t("aptosCreateToken.create_admin_err_tips")),t.a(2);case 13:return t.n=14,e.aptosWallet.getAccount();case 14:return u=t.v,p={type:"entry_function_payload",function:"0x1::code::publish_package_txn",type_arguments:[],arguments:[new f["d"]("0x"+m.meta).toUint8Array(),[new f["d"]("0x"+m.data).toUint8Array()]]},t.n=15,e.aptosWallet.signAndSubmitTransaction(u,p);case 15:d=t.v,e.txHash=d,e.contractAddress=n,t.n=17;break;case 16:t.p=16,b=t.v,console.log("error",b);case 17:return t.p=17,e.loading=!1,t.f(17);case 18:return t.a(2)}}),t,null,[[8,16,17,18]])})))()}}},_=y,C=(a("23034"),a("2877")),T=Object(C["a"])(_,r,n,!1,null,"250323a2",null);t["default"]=T.exports},9911:function(e,t,a){"use strict";var r=a("23e7"),n=a("857a"),o=a("af03");r({target:"String",proto:!0,forced:o("link")},{link:function(e){return n(this,"a","href",e)}})},d3e6:function(e,t,a){}}]);