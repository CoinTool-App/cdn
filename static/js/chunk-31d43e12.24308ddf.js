(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31d43e12"],{"027f":function(e,t,n){"use strict";n.r(t);n("99af");var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"container"},[t("CreateSuccessDialog",{ref:"CreateSuccessDialog",attrs:{"view-name":e.viewName,market_id:e.market_id}}),t("div",{class:"flexBox"},[t("div",{staticClass:"header"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"solana"}}),t("span",{staticClass:"headerTitle"},[e._v(" "+e._s(e.$t("route.openbook-market"))+" ")])],1),e.isPc?t("div",{staticClass:"otherLink"},[t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/multiSender/").concat(e.chainName),target:"_blank"}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),e._v(" "+e._s(e.$t("route.multiSenderSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")],1),e.isZh?e._e():t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/createToken/").concat(e.chainName),target:"_blank"}},[t("svg-icon",{staticStyle:{"margin-right":"4px"},attrs:{"icon-class":"hot4"}}),e._v(" "+e._s(e.$t("route.createTokenSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")],1),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/batchCollection/").concat(e.chainName),target:"_blank"}},[e._v(" "+e._s(e.$t("route.batchCollectionSymbol",{symbol:e.$coinInfo[e.chainName].symbol}))+" ")]),t("el-link",{staticClass:"linka",attrs:{type:"success",href:"".concat(e.$origin,"/createWallet/").concat(e.chainName),target:"_blank"}},[e._v(" "+e._s(e.$coinInfo[e.chainName].symbol)+" "+e._s(e.$t("route.createWallet"))+" ")])],1):e._e(),t("div",{staticClass:"content"},[t("div",{staticClass:"listTitle"},[t("span",{staticClass:"left"},[t("svg-icon",{attrs:{"icon-class":"tools"}}),e._v(" "+e._s("CoinTool.App")+" ")],1)]),t("div",{staticClass:"checkAll",on:{click:e.onShare}},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"share"}})],1),t("el-form",{ref:"form",attrs:{rules:e.formRules,model:e.form,"label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"baseToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".baseToken")))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("The token you have created and has no value yet.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",filterable:!0},model:{value:e.form.baseToken,callback:function(t){e.$set(e.form,"baseToken",t)},expression:"form.baseToken"}},e._l(e.addressOptions,(function(n,i){return t("el-option",{key:i,attrs:{label:"".concat(n.label?"".concat(n.label," - "):"").concat(e.getMiniAddress(n.value)),value:n.value}},[t("span",{staticStyle:{float:"left"}},[n.label&&"SOL"!==n.value?[e._v(" "+e._s(n.label)+" - ")]:e._e(),e._v(e._s(e._f("autoAddress")(n.value)))],2),"SOL"!==n.value?t("span",{staticStyle:{float:"right","margin-left":"20px",color:"#8492a6","font-size":"13px"}},[n.is2022?t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("SPL 2022")]):e._e(),e._v(" Balance : "+e._s(n.tokenBalance))],1):e._e()])})),1)],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"quoteToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".quoteToken")))+" "),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("A token with market value. Usually SOL or USDC.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.loading_address,clearable:"",filterable:!0},model:{value:e.form.quoteToken,callback:function(t){e.$set(e.form,"quoteToken",t)},expression:"form.quoteToken"}},e._l(e.quoteTokenList,(function(n,i){return t("el-option",{key:i,attrs:{label:"".concat(n.label?"".concat(n.label," - "):"").concat(e.getMiniAddress(n.value)),value:n.value}},[t("span",{staticStyle:{float:"left"}},[n.label&&"SOL"!==n.value?[e._v(" "+e._s(n.label)+" - ")]:e._e(),e._v(e._s(e._f("autoAddress")(n.value)))],2),"SOL"!==n.value?t("span",{staticStyle:{float:"right","margin-left":"20px",color:"#8492a6","font-size":"13px"}},[n.is2022?t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("SPL 2022")]):e._e(),e._v(" Balance : "+e._s(n.tokenBalance))],1):e._e()])})),1)],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"minOrderSize"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".minOrderSize")))),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:""!==e.form.baseTokenName,expression:"form.baseTokenName!==''"}],staticStyle:{margin:"0 4px"},attrs:{size:"mini"}},[e._v(e._s(e.form.baseTokenName))]),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s("That is, the minimum amount that users will be able to buy from your token.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,min:0,max:1e7,clearable:""},model:{value:e.form.minOrderSize,callback:function(t){e.$set(e.form,"minOrderSize",t)},expression:"form.minOrderSize"}})],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"tickSize"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".tickSize")))),t("el-tag",{directives:[{name:"show",rawName:"v-show",value:""!==e.form.quoteTokenName,expression:"form.quoteTokenName!==''"}],staticStyle:{margin:"0 4px"},attrs:{size:"mini"}},[e._v(e._s(e.form.quoteTokenName))]),t("el-tooltip",{staticClass:"tipsIcon",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(" That is, the minimum amount that can change the price of your token.")},slot:"content"}),t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1e-4,min:1e-9,max:1e8,clearable:""},model:{value:e.form.tickSize,callback:function(t){e.$set(e.form,"tickSize",t)},expression:"form.tickSize"}})],1)],1),t("el-col",{attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"advancedOptions"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".advancedOptions")))+" ")])]),t("el-switch",{attrs:{"active-color":"#2AB079"},model:{value:e.form.advancedOptions,callback:function(t){e.$set(e.form,"advancedOptions",t)},expression:"form.advancedOptions"}})],1)],1),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.form.advancedOptions,expression:"form.advancedOptions"}],attrs:{span:12,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"advancedOptions"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s("Config")+" ")])]),t("el-radio-group",{attrs:{size:"medium"},model:{value:e.form.selectConfig,callback:function(t){e.$set(e.form,"selectConfig",t)},expression:"form.selectConfig"}},e._l(e.solConfigArr,(function(n,i){return t("el-radio-button",{key:i,attrs:{label:n.value}},[e._v(e._s(n.value)+"  SOL")])})),1)],1)],1),e.form.advancedOptions?[t("el-col",{attrs:{span:8,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"eventQueueLength"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".eventQueueLength")))+" ")])]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,min:128,max:2978,clearable:""},model:{value:e.form.eventQueueLength,callback:function(t){e.$set(e.form,"eventQueueLength",t)},expression:"form.eventQueueLength"}}),t("div",{staticClass:"bytes_tips"},[e._v(e._s(e.form.size.totalEventQueueSize)+" bytes")])],1)],1),t("el-col",{attrs:{span:8,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"requestQueueLength"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".requestQueueLength")))+" ")])]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,min:9,max:63,clearable:""},model:{value:e.form.requestQueueLength,callback:function(t){e.$set(e.form,"requestQueueLength",t)},expression:"form.requestQueueLength"}}),t("div",{staticClass:"bytes_tips"},[e._v(e._s(e.form.size.totalRequestQueueSize)+" bytes")])],1)],1),t("el-col",{attrs:{span:8,xs:{span:24}}},[t("el-form-item",{staticClass:"item",attrs:{props:"orderbookLength"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("".concat(e.viewName,".orderbookLength")))+" ")])]),t("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,min:201,max:909,clearable:""},model:{value:e.form.orderbookLength,callback:function(t){e.$set(e.form,"orderbookLength",t)},expression:"form.orderbookLength"}}),t("div",{staticClass:"bytes_tips"},[e._v(e._s(e.form.size.totalOrderbookSize)+" bytes")])],1)],1)]:e._e()],2)],1),t("div",{staticClass:"tipsBox"},[t("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"Need to create a market ID here and then add liquidity.",type:"info"}},[t("div",{staticClass:"linkBox"},[t("a",{attrs:{href:"https://raydium.io/liquidity/create/",target:"_black"}},[e._v("Create pool "),t("i",{staticClass:"el-icon-link linkIcon"})])])]),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.form.baseTokenIs2022||e.form.quoteTokenIs2022,expression:"form.baseTokenIs2022 || form.quoteTokenIs2022"}],staticStyle:{"margin-bottom":"20px"},attrs:{title:"Token 2022 Add liquidity pool:Raydium does not support Amm pools, only CLMM pools",type:"info"}},[t("div",{staticClass:"linkBox"},[t("a",{attrs:{href:"https://docs.raydium.io/raydium/updates/token-2022-support",target:"_black"}},[e._v("raydium token2022 "),t("i",{staticClass:"el-icon-link linkIcon"})]),t("a",{attrs:{href:"https://docs.raydium.io/raydium/pool-creation/creating-a-clmm-pool-and-farm",target:"_black"}},[e._v("Create clmm pool doc "),t("i",{staticClass:"el-icon-link linkIcon"})]),t("a",{attrs:{href:"https://raydium.io/clmm/create-pool/",target:"_black"}},[e._v("Create clmm pool "),t("i",{staticClass:"el-icon-link linkIcon"})])])]),t("el-alert",{attrs:{title:e.$t("".concat(e.viewName,".editTips")),type:"error"}},[t("a",{attrs:{href:"https://telegra.ph/HOW-TO-CREATE-AN-OPENBOOK-MARKET-IN-SOLANA-03-01",target:"_black"}},[e._v(" How the OpenBook works. "),t("i",{staticClass:"el-icon-link linkIcon"})])])],1),t("div",{staticClass:"btnBox"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"btn",attrs:{type:"danger"},on:{click:e.onStop}},[e._v("STOP")]),t("el-button",{staticClass:"btn",attrs:{type:"success",loading:e.isLoading},on:{click:e.onConfirm}},[e._v(e._s(e.$t("".concat(e.viewName,".create"))))])],1)],1)])],1)},a=[],r=n("fdd7"),s=r["a"],o=(n("a22f"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"61f92b5f",null);t["default"]=c.exports},1079:function(e,t,n){"use strict";n("eea0")},"19cf":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var i=n("2909"),a=n("d4ec"),r=n("bee2"),s=(n("fb6a"),n("14d9"),n("99af"),n("d81d"),n("901ed")),o=n("9b08"),c=n("64b9"),u=new c["PublicKey"]("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),l=new o["a"](0,Object(s["union"])(Object(s["u32"])("instruction")));function d(t){var n=e.alloc(100);return n.slice(0,l.encode(t,n))}l.inner.addVariant(0,Object(s["struct"])([Object(o["g"])("baseLotSize"),Object(o["g"])("quoteLotSize"),Object(s["u16"])("feeRateBps"),Object(o["g"])("vaultSignerNonce"),Object(o["g"])("quoteDustThreshold")]),"initializeMarket"),l.inner.addVariant(1,Object(s["struct"])([Object(o["e"])("side"),Object(o["g"])("limitPrice"),Object(o["g"])("maxQuantity"),Object(o["b"])("orderType"),Object(o["g"])("clientId")]),"newOrder"),l.inner.addVariant(2,Object(s["struct"])([Object(s["u16"])("limit")]),"matchOrders"),l.inner.addVariant(3,Object(s["struct"])([Object(s["u16"])("limit")]),"consumeEvents"),l.inner.addVariant(4,Object(s["struct"])([Object(o["e"])("side"),Object(o["f"])("orderId"),Object(o["c"])("openOrders"),Object(s["u8"])("openOrdersSlot")]),"cancelOrder"),l.inner.addVariant(5,Object(s["struct"])([]),"settleFunds"),l.inner.addVariant(6,Object(s["struct"])([Object(o["g"])("clientId")]),"cancelOrderByClientId"),l.inner.addVariant(10,Object(s["struct"])([Object(o["e"])("side"),Object(o["g"])("limitPrice"),Object(o["g"])("maxBaseQuantity"),Object(o["g"])("maxQuoteQuantity"),Object(o["d"])("selfTradeBehavior"),Object(o["b"])("orderType"),Object(o["g"])("clientId"),Object(s["u16"])("limit")]),"newOrderV3"),l.inner.addVariant(11,Object(s["struct"])([Object(o["e"])("side"),Object(o["f"])("orderId")]),"cancelOrderV2"),l.inner.addVariant(12,Object(s["struct"])([Object(o["g"])("clientId")]),"cancelOrderByClientIdV2"),l.inner.addVariant(14,Object(s["struct"])([]),"closeOpenOrders"),l.inner.addVariant(15,Object(s["struct"])([]),"initOpenOrders");var b=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,null,[{key:"initializeMarket",value:function(e){var t=e.market,n=e.requestQueue,i=e.eventQueue,a=e.bids,r=e.asks,s=e.baseVault,o=e.quoteVault,u=e.baseMint,l=e.quoteMint,b=e.baseLotSize,m=e.quoteLotSize,p=e.feeRateBps,k=e.vaultSignerNonce,g=e.quoteDustThreshold,h=e.programId,f=new c["PublicKey"]("SysvarRent111111111111111111111111111111111");return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1}],programId:h,data:d({initializeMarket:{baseLotSize:b,quoteLotSize:m,feeRateBps:p,vaultSignerNonce:k,quoteDustThreshold:g}})})}},{key:"newOrder",value:function(e){var t=e.market,n=e.openOrders,i=e.payer,a=e.owner,r=e.requestQueue,s=e.baseVault,o=e.quoteVault,l=e.side,b=e.limitPrice,m=e.maxQuantity,p=e.orderType,k=e.clientId,g=e.programId,h=e.feeDiscountPubkey,f=void 0===h?null:h,y=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:c["SYSVAR_RENT_PUBKEY"],isSigner:!1,isWritable:!1}];return f&&y.push({pubkey:f,isSigner:!1,isWritable:!1}),new c["TransactionInstruction"]({keys:y,programId:g,data:d({newOrder:k?{side:l,limitPrice:b,maxQuantity:m,orderType:p,clientId:k}:{side:l,limitPrice:b,maxQuantity:m,orderType:p}})})}},{key:"newOrderV3",value:function(e){var t=e.market,n=e.openOrders,i=e.payer,a=e.owner,r=e.requestQueue,s=e.eventQueue,o=e.bids,l=e.asks,b=e.baseVault,m=e.quoteVault,p=e.side,k=e.limitPrice,g=e.maxBaseQuantity,h=e.maxQuoteQuantity,f=e.orderType,y=e.clientId,v=e.programId,O=e.selfTradeBehavior,S=e.feeDiscountPubkey,w=void 0===S?null:S,T=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:c["SYSVAR_RENT_PUBKEY"],isSigner:!1,isWritable:!1}];return w&&T.push({pubkey:w,isSigner:!1,isWritable:!1}),new c["TransactionInstruction"]({keys:T,programId:v,data:d({newOrderV3:{side:p,limitPrice:k,maxBaseQuantity:g,maxQuoteQuantity:h,selfTradeBehavior:O,orderType:f,clientId:y,limit:65535}})})}},{key:"matchOrders",value:function(e){var t=e.market,n=e.requestQueue,i=e.eventQueue,a=e.bids,r=e.asks,s=e.baseVault,o=e.quoteVault,u=e.limit,l=e.programId;return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0}],programId:l,data:d({matchOrders:{limit:u}})})}},{key:"consumeEvents",value:function(e){var t=e.market,n=e.eventQueue,a=e.coinFee,r=e.pcFee,s=e.openOrdersAccounts,o=e.limit,u=e.programId;return new c["TransactionInstruction"]({keys:[].concat(Object(i["a"])(s.map((function(e){return{pubkey:e,isSigner:!1,isWritable:!0}}))),[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWriteable:!0},{pubkey:r,isSigner:!1,isWritable:!0}]),programId:u,data:d({consumeEvents:{limit:o}})})}},{key:"cancelOrder",value:function(e){var t=e.market,n=e.openOrders,i=e.owner,a=e.requestQueue,r=e.side,s=e.orderId,o=e.openOrdersSlot,u=e.programId;return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:u,data:d({cancelOrder:{side:r,orderId:s,openOrders:n,openOrdersSlot:o}})})}},{key:"cancelOrderV2",value:function(e){var t=e.market,n=e.bids,i=e.asks,a=e.eventQueue,r=e.openOrders,s=e.owner,o=e.side,u=e.orderId,l=(e.openOrdersSlot,e.programId);return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0}],programId:l,data:d({cancelOrderV2:{side:o,orderId:u}})})}},{key:"cancelOrderByClientId",value:function(e){var t=e.market,n=e.openOrders,i=e.owner,a=e.requestQueue,r=e.clientId,s=e.programId;return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:s,data:d({cancelOrderByClientId:{clientId:r}})})}},{key:"cancelOrderByClientIdV2",value:function(e){var t=e.market,n=e.openOrders,i=e.owner,a=e.bids,r=e.asks,s=e.eventQueue,o=e.clientId,u=e.programId;return new c["TransactionInstruction"]({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],programId:u,data:d({cancelOrderByClientIdV2:{clientId:o}})})}},{key:"settleFunds",value:function(e){var t=e.market,n=e.openOrders,i=e.owner,a=e.baseVault,r=e.quoteVault,s=e.baseWallet,o=e.quoteWallet,l=e.vaultSigner,b=e.programId,m=e.referrerQuoteWallet,p=void 0===m?null:m,k=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1}];return p&&k.push({pubkey:p,isSigner:!1,isWritable:!0}),new c["TransactionInstruction"]({keys:k,programId:b,data:d({settleFunds:{}})})}},{key:"closeOpenOrders",value:function(e){var t=e.market,n=e.openOrders,i=e.owner,a=e.solWallet,r=e.programId,s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}];return new c["TransactionInstruction"]({keys:s,programId:r,data:d({closeOpenOrders:{}})})}},{key:"initOpenOrders",value:function(e){var t=e.market,n=e.openOrders,i=e.owner,a=e.programId,r=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:c["SYSVAR_RENT_PUBKEY"],isSigner:!1,isWritable:!1}];return new c["TransactionInstruction"]({keys:r,programId:a,data:d({initOpenOrders:{}})})}}]),e}()}).call(this,n("1c35").Buffer)},"534e":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"append-to-body":!0,width:e.isPc?"600px":"90%",title:"MARKET ID Create Success",visible:e.isShowDialog,"close-on-click-modal":!1,"close-on-press-escape":!1,center:""},on:{"update:visible":function(t){e.isShowDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("el-alert",{staticClass:"smaillBox",attrs:{title:"MARKET ID",type:"success",closable:!1,"show-icon":""}},[t("el-tag",[e._v(e._s(e.market_id))])],1)],1),t("el-alert",{staticStyle:{"margin-top":"20px"},attrs:{title:e.$t("".concat(e.viewName,".market_tips")),type:"error"}}),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.market_id,expression:"market_id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"button",attrs:{icon:"el-icon-copy-document",type:"primary"}},[e._v(" "+e._s(e.$t("common.copy"))+" MARKET ID ")]),t("el-button",{staticClass:"button",attrs:{icon:"el-icon-link",type:"success"},on:{click:function(t){return e.onOpenNewTab("https://raydium.io/liquidity/create/")}}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".create_liquidity")))+" ")])],1)],1)},a=[],r=n("5530"),s=(n("a9e3"),n("2f62")),o={inject:["onCopySuccess","onOpenNewTab"],components:{},props:{market_id:{require:!0,type:[String,Number]},viewName:{require:!0,type:String}},data:function(){return{isShowDialog:!1,newForm:null}},computed:Object(r["a"])({},Object(s["b"])(["isPc","language"])),deactivated:function(){this.isShowDialog=!1},destroyed:function(){this.isShowDialog=!1},created:function(){},methods:{show:function(){this.isShowDialog=!this.isShowDialog},onSetting:function(){this.show()}}},c=o,u=(n("1079"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,"2f9cbb49",null);t["a"]=l.exports},"687b":function(e,t,n){},"9b08":function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return _}));var i=n("3835"),a=n("5530"),r=n("d4ec"),s=n("bee2"),o=n("45eb"),c=n("7e84"),u=n("262e"),l=n("2caf"),d=(n("d3b7"),n("d9e2"),n("ddb0"),n("7db0"),n("4fad"),n("901ed")),b=n("64b9"),m=n("399f"),p=n.n(m);d["Blob"];var k=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){return Object(r["a"])(this,n),t.call(this,32,e)}return Object(s["a"])(n,[{key:"decode",value:function(e,t){return new b["PublicKey"](Object(o["a"])(Object(c["a"])(n.prototype),"decode",this).call(this,e,t))}},{key:"encode",value:function(e,t,i){return Object(o["a"])(Object(c["a"])(n.prototype),"encode",this).call(this,e.toBuffer(),t,i)}}]),n}(d["Blob"]);function g(e){return new k(e)}var h=function(t){Object(u["a"])(i,t);var n=Object(l["a"])(i);function i(){return Object(r["a"])(this,i),n.apply(this,arguments)}return Object(s["a"])(i,[{key:"decode",value:function(e,t){return new p.a(Object(o["a"])(Object(c["a"])(i.prototype),"decode",this).call(this,e,t),10,"le")}},{key:"encode",value:function(t,n,a){return Object(o["a"])(Object(c["a"])(i.prototype),"encode",this).call(this,t.toArrayLike(e,"le",this.span),n,a)}}]),i}(d["Blob"]);function f(e){return new h(8,e)}function y(e){return new h(16,e)}var v=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){var i;return Object(r["a"])(this,n),i=t.call(this,8,e),i._lower=Object(d["bits"])(Object(d["u32"])(),!1),i._upper=Object(d["bits"])(Object(d["u32"])(),!1),i}return Object(s["a"])(n,[{key:"addBoolean",value:function(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._lower.decode(e,t),i=this._upper.decode(e,t+this._lower.span);return Object(a["a"])(Object(a["a"])({},n),i)}},{key:"encode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._lower.encode(e,t,n)+this._upper.encode(e,t,n+this._lower.span)}}]),n}(d["Layout"]),O=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e,i,a){var s;return Object(r["a"])(this,n),s=t.call(this,i.span>0?i.span+1:i.span,a),s.version=e,s.inner=i,s}return Object(s["a"])(n,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.inner.decode(e,t+1)}},{key:"encode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.writeUInt8(this.version,n),1+this.inner.encode(e,t,n+1)}},{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1+this.inner.getSpan(e,t+1)}}]),n}(d["Layout"]),S=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e,i,a){var s;return Object(r["a"])(this,n),s=t.call(this,i,a),s.values=e,s}return Object(s["a"])(n,[{key:"encode",value:function(e,t,i){if(void 0!==this.values[e])return Object(o["a"])(Object(c["a"])(n.prototype),"encode",this).call(this,this.values[e],t,i);throw new Error("Invalid "+this.property)}},{key:"decode",value:function(e,t){var a=Object(o["a"])(Object(c["a"])(n.prototype),"decode",this).call(this,e,t),r=Object.entries(this.values).find((function(e){var t=Object(i["a"])(e,2),n=t[1];return n===a}));if(r)return r[0];throw new Error("Invalid "+this.property)}}]),n}(d["UInt"]);function w(e){return new S({buy:0,sell:1},4,e)}function T(e){return new S({limit:0,ioc:1,postOnly:2},4,e)}function _(e){return new S({decrementTake:0,cancelProvide:1,abortTransaction:2},4,e)}var C=new v;C.addBoolean("initialized"),C.addBoolean("market"),C.addBoolean("openOrders"),C.addBoolean("requestQueue"),C.addBoolean("eventQueue"),C.addBoolean("bids"),C.addBoolean("asks")}).call(this,n("1c35").Buffer)},a22f:function(e,t,n){"use strict";n("687b")},bbde:function(e,t,n){"use strict";t["a"]={zh:{"openbook-market":{baseToken:"Base Token",quoteToken:"Quote Token",minOrderSize:"Min Order Size (Minimum Buy)",tickSize:"Tick Size (Minimum Price Change)",advancedOptions:"Advanced Options",eventQueueLength:"Event Queue Length",requestQueueLength:"Request Queue Length",orderbookLength:"Orderbook Length",editTips:"Please don’t modify these lenghts if you don’t know",howWorks:"how the OpenBook works.",create:"Create Market ID",create_liquidity:"Create liquidity",market_tips:"请保存好你创建的 MARKET ID 这非常重要，CoinTool 不存储信息，请去 https://raydium.io/liquidity/create/ 创建流动性"}},en:{"openbook-market":{baseToken:"Base Token",quoteToken:"Quote Token",minOrderSize:"Min Order Size (Minimum Buy)",tickSize:"Tick Size (Minimum Price Change)",advancedOptions:"Advanced Options",eventQueueLength:"Event Queue Length",requestQueueLength:"Request Queue Length",orderbookLength:"Orderbook Length",editTips:"Please don’t modify these lenghts if you don’t know",howWorks:"how the OpenBook works.",create:"Create Market ID",create_liquidity:"Create liquidity",market_tips:"Please save the MARKET ID you created, this is very important, CoinTool does not store the information, go to https://raydium.io/liquidity/create/ to create liquidity"}}}},eea0:function(e,t,n){},fdd7:function(e,t,n){"use strict";(function(e){var i=n("3835"),a=n("c7eb"),r=n("1da1"),s=n("2909"),o=n("5530"),c=(n("a434"),n("99af"),n("7db0"),n("d3b7"),n("a9e3"),n("159b"),n("14d9"),n("d9e2"),n("ac1f"),n("466d"),n("25f0"),n("fb6a"),n("ed08")),u=n("2f62"),l=n("ab9c"),d=n("bbde"),b=n("399f"),m=n.n(b),p=n("64b9"),k=n("d129"),g=n("3e44"),h=n("534e"),f=n("8df2"),y=n("19cf"),v="openbook-market";t["a"]={name:v,inject:["onCheckConnect","onCopySuccess","onShare","onOpenNewTab"],components:{CreateSuccessDialog:h["a"]},props:{},data:function(){return{OPENBOOK_MARKET:null,walletVersionArr:[],viewName:v,chainName:"sol",formRules:{},isLoading:!1,market_id:"123123",form:{baseTokenDecimals:9,baseTokenIs2022:!1,quoteTokenIs2022:!1,quoteTokenDecimals:9,baseTokenName:"",baseToken:"",quoteTokenName:"",quoteToken:"",minOrderSize:"1",tickSize:"0.0001",advancedOptions:!1,eventQueueLength:2978,requestQueueLength:63,orderbookLength:909,selectConfig:"2.8",size:{}},solConfigArr:[{value:"0.4",eventQueueLength:128,requestQueueLength:63,orderbookLength:201},{value:"1.5",eventQueueLength:1400,requestQueueLength:63,orderbookLength:450},{value:"2.8",eventQueueLength:2978,requestQueueLength:63,orderbookLength:909}],loading_address:!1,addressOptions:[],addressOptionsQuoteToken:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["isPc","account","chainId","solNetwork","solAccount","isZh","navShowChain","language"])),{},{quoteTokenList:function(){var e=[{value:"So11111111111111111111111111111111111111112",label:"WSOL",is2022:!1,mintAddress:new p["PublicKey"]("So11111111111111111111111111111111111111112"),tokenBalance:0,tokenName:"WSOL",symbol:"WSOL",decimals:9},{value:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",label:"USDC",is2022:!1,mintAddress:new p["PublicKey"]("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),tokenBalance:0,tokenName:"USDC",symbol:"USDC",decimals:6},{value:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",label:"USDT",is2022:!1,mintAddress:new p["PublicKey"]("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),tokenBalance:0,tokenName:"USDT",symbol:"USDT",decimals:6}];for(var t in console.log(this.addressOptions,"this.addressOptions"),this.addressOptions)for(var n in e)this.addressOptions[t].value.toLowerCase()===e[n].value.toLowerCase()&&(e[n].tokenBalance=this.addressOptions[t].tokenBalance,this.addressOptions.splice(t,1));return this.addressOptionsQuoteToken=[].concat(e,Object(s["a"])(this.addressOptions)),this.addressOptionsQuoteToken}}),watch:{"form.selectConfig":function(e){var t=this.solConfigArr.find((function(t){return t.value===e}));t&&(this.form.eventQueueLength=t.eventQueueLength,this.form.requestQueueLength=t.requestQueueLength,this.form.orderbookLength=t.orderbookLength)},"form.baseToken":function(e){var t=this.addressOptions.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}));console.log(t,"coinInfo"),this.form.baseTokenName=t.symbol,this.form.baseTokenIs2022=t.is2022,this.form.baseTokenDecimals=Number(t.decimals)},"form.eventQueueLength":function(e){this.form.size=this.useOpenBookAccountSizes({eventQueueLength:e,requestQueueLength:this.form.requestQueueLength,orderbookLength:this.form.orderbookLength}),this.setSelectConfig()},"form.requestQueueLength":function(e){this.form.size=this.useOpenBookAccountSizes({eventQueueLength:this.form.eventQueueLength,requestQueueLength:e,orderbookLength:this.form.orderbookLength}),this.setSelectConfig()},"form.orderbookLength":function(e){this.form.size=this.useOpenBookAccountSizes({eventQueueLength:this.form.eventQueueLength,requestQueueLength:this.form.requestQueueLength,orderbookLength:e}),this.setSelectConfig()},"form.quoteToken":function(e){var t=this.addressOptionsQuoteToken.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}));console.log(t,"coinInfo"),this.form.quoteTokenName=t.symbol,this.form.quoteTokenIs2022=t.is2022,this.form.quoteTokenDecimals=Number(t.decimals)},solAccount:function(e){""!==e&&this.init()}},beforeDestroy:function(){},created:function(){var e=this;return Object(r["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$i18n.getLocaleMessage("en")[v]||(e.$i18n.mergeLocaleMessage("en",d["a"].en),e.$i18n.mergeLocaleMessage("zh",d["a"].zh)),e.form.size=e.useOpenBookAccountSizes({eventQueueLength:e.form.eventQueueLength,requestQueueLength:e.form.requestQueueLength,orderbookLength:e.form.orderbookLength}),e.formRules={baseToken:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],quoteToken:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],minOrderSize:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}],tickSize:[{required:!0,message:e.$t("common.not_empty"),trigger:"blur"}]};case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){},methods:{getMiniAddress:c["m"],setSelectConfig:function(){this.form.selectConfig="";for(var e=0;e<this.solConfigArr.length;e++){var t=this.solConfigArr[e];t.eventQueueLength===this.form.eventQueueLength&&t.requestQueueLength===this.form.requestQueueLength&&t.orderbookLength===this.form.orderbookLength&&(this.form.selectConfig=t.value)}},init:function(){var e=this;return Object(r["a"])(Object(a["a"])().mark((function t(){var n;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("init"),e.OPENBOOK_MARKET=new p["PublicKey"]("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),e.initData=!0,n=l["d"][e.solNetwork],window.solConnection=new p["Connection"](n,"confirmed"),t.next=7,e.getAllSolTokenInfo(e.solAccount);case 7:e.addressOptions=t.sent,console.log(e.addressOptions,"this.addressOptions"),e.initData=!1,e.loading_address=!1;case 11:case"end":return t.stop()}}),t)})))()},getAllSolTokenInfo:function(e){return Object(r["a"])(Object(a["a"])().mark((function t(){var n,i;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,Object(l["l"])(e);case 3:return i=t.sent,i.forEach((function(e){n.push(Object(o["a"])(Object(o["a"])({is2022:e.is2022,value:e.token,label:e.symbol},e),{},{mintAddress:new p["PublicKey"](e.mintAddress)}))})),console.log(n,"initArr"),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},onStop:function(){this.isStop=!0,this.isLoading=!1,clearInterval(this.t1)},onConfirm:function(){var e=this;return Object(r["a"])(Object(a["a"])().mark((function t(){var n,r,s,o,c,u,d,b,k,g,h,f,v,O,S,w,T,_,C,L,P,I;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.form.baseTokenIs2022&&!e.form.quoteTokenIs2022){t.next=4;break}return e.$message.error("Token2022 does not support the creation of Amm pools, please see the page for details."),e.isStop=!1,t.abrupt("return");case 4:return e.isLoading=!0,n={baseMint:e.form.baseToken,quoteMint:e.form.quoteToken,lotSize:e.form.minOrderSize,tickSize:e.form.tickSize,eventQueueLength:e.form.eventQueueLength,orderbookLength:e.form.orderbookLength,requestQueueLength:e.form.requestQueueLength},r=new p["PublicKey"](e.solAccount),s=e.generateMarketAccounts(r),o=n.baseMint,c=n.quoteMint,u=e.getLotSizes(n),d=u.baseLotSize,b=u.quoteLotSize,k=e.getVaultOwnerAndNonce(s.market.publicKey,e.OPENBOOK_MARKET),g=Object(i["a"])(k,2),h=g[0],f=g[1],t.next=13,e.createVaultAccountsInstructions(r,s,o,c,h);case 13:return v=t.sent,O=e.useOpenBookAccountSizes({eventQueueLength:null===n||void 0===n?void 0:n.eventQueueLength,requestQueueLength:null===n||void 0===n?void 0:n.requestQueueLength,orderbookLength:null===n||void 0===n?void 0:n.orderbookLength}),t.next=17,e.createMarketAccountsInstructions(r,s,O);case 17:for(_ in S=t.sent,w=y["a"].initializeMarket({market:s.market.publicKey,requestQueue:s.requestQueue.publicKey,eventQueue:s.eventQueue.publicKey,bids:s.bids.publicKey,asks:s.asks.publicKey,baseVault:s.baseVault.publicKey,quoteVault:s.quoteVault.publicKey,baseMint:new p["PublicKey"](o),quoteMint:new p["PublicKey"](c),baseLotSize:d,quoteLotSize:b,feeRateBps:0,vaultSignerNonce:f,quoteDustThreshold:new m.a(100),programId:e.OPENBOOK_MARKET}),T=new p["Transaction"],v)T.add(v[_]);for(L in C=new p["Transaction"],S)C.add(S[L]);return C.add(w),t.prev=24,t.next=27,Object(l["n"])(Object(l["k"])("CREATE_OPENBOOK_MARKET"),[T,C],[]);case 27:if(P=t.sent,P){for(I in P)console.log(P[I],"txID");e.market_id=s.market.publicKey.toBase58(),e.$refs.CreateSuccessDialog.show()}t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](24),console.log("error",t.t0);case 34:return t.prev=34,e.isStop=!1,e.isLoading=!1,t.finish(34);case 38:console.log(e.form,"this.form");case 39:case"end":return t.stop()}}),t,null,[[24,31,34,38]])})))()},useOpenBookAccountSizes:function(e){var t=e.eventQueueLength,n=e.requestQueueLength,i=e.orderbookLength,a=32,r=88,s=32,o=80,c=40,u=72;return{totalEventQueueSize:this.calculateTotalAccountSize(t,a,r),totalRequestQueueSize:this.calculateTotalAccountSize(n,s,o),totalOrderbookSize:this.calculateTotalAccountSize(i,c,u)}},calculateTotalAccountSize:function(e,t,n){var i=12,a=i+t+n*e,r=a%8;return r<=4?a+(4-r):a+(8-r+4)},createMarketAccountsInstructions:function(e,t,n){var i=this;return Object(r["a"])(Object(a["a"])().mark((function r(){var s,o,c,u,l,d,b,m,k,g;return Object(a["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=window.solConnection,o=n.totalEventQueueSize,c=n.totalOrderbookSize,u=n.totalRequestQueueSize,a.next=4,s.getMinimumBalanceForRentExemption(c);case 4:return l=a.sent,console.log({totalEventQueueSize:o,totalOrderbookSize:c,totalRequestQueueSize:u,orderBookRentExempt:l}),d=t.market,b=t.requestQueue,m=t.eventQueue,k=t.bids,g=t.asks,a.t0=p["SystemProgram"],a.t1=e,a.t2=e,a.t3=d.seed,a.t4=d.publicKey,a.next=14,s.getMinimumBalanceForRentExemption(388);case 14:return a.t5=a.sent,a.t6=i.OPENBOOK_MARKET,a.t7={fromPubkey:a.t1,basePubkey:a.t2,seed:a.t3,newAccountPubkey:a.t4,lamports:a.t5,space:388,programId:a.t6},a.t8=a.t0.createAccountWithSeed.call(a.t0,a.t7),a.t9=p["SystemProgram"],a.t10=e,a.t11=e,a.t12=b.seed,a.t13=b.publicKey,a.next=25,s.getMinimumBalanceForRentExemption(u);case 25:return a.t14=a.sent,a.t15=u,a.t16=i.OPENBOOK_MARKET,a.t17={fromPubkey:a.t10,basePubkey:a.t11,seed:a.t12,newAccountPubkey:a.t13,lamports:a.t14,space:a.t15,programId:a.t16},a.t18=a.t9.createAccountWithSeed.call(a.t9,a.t17),a.t19=p["SystemProgram"],a.t20=e,a.t21=e,a.t22=m.seed,a.t23=m.publicKey,a.next=37,s.getMinimumBalanceForRentExemption(o);case 37:return a.t24=a.sent,a.t25=o,a.t26=i.OPENBOOK_MARKET,a.t27={fromPubkey:a.t20,basePubkey:a.t21,seed:a.t22,newAccountPubkey:a.t23,lamports:a.t24,space:a.t25,programId:a.t26},a.t28=a.t19.createAccountWithSeed.call(a.t19,a.t27),a.t29=p["SystemProgram"],a.t30=e,a.t31=e,a.t32=k.seed,a.t33=k.publicKey,a.next=49,s.getMinimumBalanceForRentExemption(c);case 49:return a.t34=a.sent,a.t35=c,a.t36=i.OPENBOOK_MARKET,a.t37={fromPubkey:a.t30,basePubkey:a.t31,seed:a.t32,newAccountPubkey:a.t33,lamports:a.t34,space:a.t35,programId:a.t36},a.t38=a.t29.createAccountWithSeed.call(a.t29,a.t37),a.t39=p["SystemProgram"],a.t40=e,a.t41=e,a.t42=g.seed,a.t43=g.publicKey,a.next=61,s.getMinimumBalanceForRentExemption(c);case 61:return a.t44=a.sent,a.t45=c,a.t46=i.OPENBOOK_MARKET,a.t47={fromPubkey:a.t40,basePubkey:a.t41,seed:a.t42,newAccountPubkey:a.t43,lamports:a.t44,space:a.t45,programId:a.t46},a.t48=a.t39.createAccountWithSeed.call(a.t39,a.t47),a.abrupt("return",[a.t8,a.t18,a.t28,a.t38,a.t48]);case 67:case"end":return a.stop()}}),r)})))()},createVaultAccountsInstructions:function(e,t,n,i,s){var o=this;return Object(r["a"])(Object(a["a"])().mark((function r(){var c,u;return Object(a["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return c=window.solConnection,u=165,a.t0=p["SystemProgram"],a.t1=e,a.t2=e,a.t3=t.baseVault.seed,a.t4=t.baseVault.publicKey,a.next=9,c.getMinimumBalanceForRentExemption(u);case 9:return a.t5=a.sent,a.t6=o.form.baseTokenIs2022?new p["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):g["TOKEN_PROGRAM_ID"],a.t7={fromPubkey:a.t1,basePubkey:a.t2,seed:a.t3,newAccountPubkey:a.t4,lamports:a.t5,space:165,programId:a.t6},a.t8=a.t0.createAccountWithSeed.call(a.t0,a.t7),a.t9=p["SystemProgram"],a.t10=e,a.t11=e,a.t12=t.quoteVault.seed,a.t13=t.quoteVault.publicKey,a.next=20,c.getMinimumBalanceForRentExemption(u);case 20:return a.t14=a.sent,a.t15=o.form.quoteTokenIs2022?new p["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):g["TOKEN_PROGRAM_ID"],a.t16={fromPubkey:a.t10,basePubkey:a.t11,seed:a.t12,newAccountPubkey:a.t13,lamports:a.t14,space:165,programId:a.t15},a.t17=a.t9.createAccountWithSeed.call(a.t9,a.t16),a.t18=o.createInitializeAccountInstruction(t.baseVault.publicKey,new p["PublicKey"](n),s,o.form.baseTokenIs2022?new p["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):g["TOKEN_PROGRAM_ID"]),a.t19=o.createInitializeAccountInstruction(t.quoteVault.publicKey,new p["PublicKey"](i),s,o.form.quoteTokenIs2022?new p["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):g["TOKEN_PROGRAM_ID"]),a.abrupt("return",[a.t8,a.t17,a.t18,a.t19]);case 27:case"end":return a.stop()}}),r)})))()},createInitializeAccountInstruction:function(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g["TOKEN_PROGRAM_ID"],r=new p["PublicKey"]("SysvarRent111111111111111111111111111111111"),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1}],o=Object(f["struct"])([Object(f["u8"])("instruction")]),c=e.alloc(o.span);return o.encode({instruction:1},c),new p["TransactionInstruction"]({keys:s,programId:a,data:c})},getVaultOwnerAndNonce:function(t,n){var i=new m.a(0);while(1)try{var a=p["PublicKey"].createProgramAddressSync([t.toBuffer(),i.toArrayLike(e,"le",8)],n);return[a,i]}catch(r){i.iaddn(1)}},getLotSizes:function(e){var t=e.lotSize,n=e.tickSize;if(0===t||0===n)throw new Error("Min buy & Min price change needs to be greater than 0.");var i=Math.round(Math.pow(10,this.form.baseTokenDecimals)*t),a=Math.round(t*Math.pow(10,this.form.quoteTokenDecimals)*n);return this.validateInputs(n,t),{baseLotSize:new m.a(i),quoteLotSize:new m.a(a)}},validateInputs:function(e,t){var n=.001*(e<1?1:e),i=Math.max(this.getDecimalPlaces(e),this.getDecimalPlaces(t));if(e>n)throw this.$message.error("The Min Price Change is too large. It should be maximum ".concat(n,".")),new Error("The Min Price Change is too large. It should be maximum ".concat(n,"."));if(i>6)throw this.$message.error("The market cannot have more than 6 combined decimals for Min Price Change and Minimum Buy."),new Error("The market cannot have more than 6 combined decimals for Min Price Change and Minimum Buy.")},getDecimalPlaces:function(e){var t=e.toString().match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},generateMarketAccounts:function(e){return{market:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),requestQueue:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),eventQueue:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),bids:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),asks:this.generatePubKey({fromPublicKey:e,programId:this.OPENBOOK_MARKET}),baseVault:this.generatePubKey({fromPublicKey:e,programId:this.form.baseTokenIs2022?new p["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):g["TOKEN_PROGRAM_ID"]}),quoteVault:this.generatePubKey({fromPublicKey:e,programId:this.form.quoteTokenIs2022?new p["PublicKey"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"):g["TOKEN_PROGRAM_ID"]})}},generatePubKey:function(e){var t=e.fromPublicKey,n=e.programId,i=p["Keypair"].generate().publicKey.toBase58().slice(0,32),a=this.createWithSeed(t,i,n);return{publicKey:a,seed:i}},createWithSeed:function(t,n,i){var a=e.concat([t.toBuffer(),e.from(n),i.toBuffer()]),r=Object(k["sha256"])(a);return new p["PublicKey"](r)}}}}).call(this,n("1c35").Buffer)}}]);