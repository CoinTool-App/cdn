(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3cca0e8"],{"00b1":function(e,t,a){"use strict";a("453c")},"453c":function(e,t,a){},4779:function(e,t,a){"use strict";a("d18a0")},"4aba":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-dialog",{attrs:{width:e.isPc?"600px":"auto",title:e.$t("createToken.success"),visible:e.isShowTokenAddressDialog},on:{"update:visible":function(t){e.isShowTokenAddressDialog=t}}},[a("p",[e._v(e._s(e.$t("createToken.tokenaddress")))]),a("el-tag",[a("a",{attrs:{target:"_blank",href:e.blockTxurl+"/token/"+e.createTokenAddress}},[e._v(e._s(e.createTokenAddress))])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isShowTokenAddressDialog=!1}}},[e._v(e._s(e.$t("createToken.confirm")))])],1)],1),a("Card",{attrs:{icon:e.route_icon,title:e.route_title,desc:e.$t("createToken.pageDesc")}},[a("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":e.isPc?"left":"top",rules:e.rules,model:e.form,"label-width":"160px"}},[a("el-form-item",{attrs:{label:e.$t("createToken.tokenName"),prop:"tokenName"}},[a("el-input",{attrs:{placeholder:"e.g. Good Luck Token"},model:{value:e.form.tokenName,callback:function(t){e.$set(e.form,"tokenName",t)},expression:"form.tokenName"}})],1),a("el-form-item",{attrs:{label:e.$t("createToken.symbol"),prop:"symbol"}},[a("el-input",{attrs:{placeholder:"e.g. GLT"},model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),a("el-form-item",{attrs:{label:e.$t("createToken.initialSupply"),prop:"initialSupply"}},[a("el-input-number",{staticClass:"inputNum",attrs:{min:1},model:{value:e.form.initialSupply,callback:function(t){e.$set(e.form,"initialSupply",t)},expression:"form.initialSupply"}})],1),a("el-form-item",{attrs:{label:e.$t("createToken.decimals"),prop:"decimals"}},[a("el-input-number",{staticClass:"inputNum",attrs:{min:1,max:18},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1),a("el-form-item",{attrs:{label:e.$t("createToken.config"),prop:"config"}},[a("el-checkbox-group",{model:{value:e.form.config,callback:function(t){e.$set(e.form,"config",t)},expression:"form.config"}},e._l(e.options,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",[a("el-alert",{attrs:{title:e.$t("createToken.alert"),type:"warning",effect:"dark"}})],1),a("el-form-item",{staticClass:"btnBox"},[a("el-button",{staticClass:"item-btn",attrs:{loading:e.loading,size:"medium",type:"primary"},on:{click:e.onCreatToken}},[e._v(" "+e._s(e.$t("createToken.createBtn"))+" ")])],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.txList.length>0,expression:"txList.length > 0"}],staticClass:"box-card",staticStyle:{"margin-top":"40px"}},[a("DealList",{attrs:{list:e.txList,"block-txurl":e.blockTxurl}}),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.tx_status,expression:"tx_status"}],staticClass:"tips",attrs:{title:e.$t("createToken.success"),type:"success",closable:!1}})],1)],1)],1)},s=[],r=(a("2eeb"),a("053b"),a("e18c"),a("e35a"),a("1c2e"),a("5e9f"),a("6a61"),a("2e91")),o=a("d211"),i=a("52c1"),c={zh:{createToken:{tokenaddress:"代币地址:",tokenName:"代币名称:",tokenNameValidate:"请输入代币名称",symbol:"缩写符号:",symbolValidate:"请输入缩写符号",initialSupply:"发行数量:",initialSupplyValidate:"请输入发行数量",decimals:"小数位数(1-18):",decimalsValidate:"请输入小数位数",config:"其他配置:",createBtn:"立即创建",alert:"创建成功后会自动把代币转入创建者地址中",success:"代币创建成功，请前往区块浏览器或钱包查看！",pageDesc:"简单、快速、便捷",confirm:"确定",config_0:"可销毁",config_1:"可增发",config_2:"可暂停",config_3:"提取以太",config_4:"提取代币",config_5:"黑名单"}},en:{createToken:{tokenaddress:"Token Address:",tokenName:"Token Name:",tokenNameValidate:"Please enter token name",symbol:"Symbol:",symbolValidate:"Please enter symbol",initialSupply:"Initial Supply:",initialSupplyValidate:"Please enter initial supply",decimals:"Decimals(1-18):",decimalsValidate:"Please enter decimals",config:"Other Config:",createBtn:"Create Token",alert:"After successful creation, the token will be automatically transferred to the creator's address",success:"Token created successfully, please go to the block browser or wallet to check!",pageDesc:"Simple, Fast, Convenient",confirm:"Confirm",config_0:"Can Burn",config_1:"Can Mint",config_2:"Can Pause",config_3:"Extract Eth",config_4:"Extract Token",config_5:"Blacklist"}}},l=a("8feb"),u=a.n(l),d=a("a835"),m=a("4e2c"),f=a("12f9"),p=a("ed08"),k=a("c1d4"),b=a("97bd"),g=a.n(b),h=a("4360"),x=a("7742"),_=a.n(x),y="createToken",T=[{constant:!1,inputs:[{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_decimals",type:"uint256"},{name:"_supply",type:"uint256"}],name:"generateToken",outputs:[{name:"",type:"address"}],payable:!0,stateMutability:"payable",type:"function"}],v={name:"CreateToken",inject:["onCheckConnect"],components:{Card:f["a"],DealList:m["a"]},data:function(){return{isShowTokenAddressDialog:!1,createTokenAddress:"",options:[],txList:[],route_title:"",route_icon:"",blockTxurl:"",c_address:"",tx_status:!1,loading:!1,rules:{},form:{tokenName:"",symbol:"",initialSupply:21e6,decimals:18,config:[]}}},computed:Object(o["a"])({},Object(i["b"])(["isConnect","account","isPc"])),created:function(){this.$i18n.getLocaleMessage("en")[y]||(this.$i18n.mergeLocaleMessage("en",c.en),this.$i18n.mergeLocaleMessage("zh",c.zh)),this.rules={tokenName:[{required:!0,message:this.$t("createToken.tokenNameValidate"),trigger:"blur"}],symbol:[{required:!0,message:this.$t("createToken.symbolValidate"),trigger:"blur"}],initialSupply:[{required:!0,message:this.$t("createToken.initialSupplyValidate"),trigger:"blur"}],decimals:[{required:!0,message:this.$t("createToken.decimalsValidate"),trigger:"blur"}]},this.options=[{value:0,label:this.$t("createToken.config_0")},{value:1,label:this.$t("createToken.config_1")},{value:2,label:this.$t("createToken.config_2")},{value:5,label:this.$t("createToken.config_5")}]},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.route_name=e.$route.name,t.t0=window.route_name,t.next="HecocreateToken"===t.t0?4:"BsccreateToken"===t.t0?7:10;break;case 4:return e.route_title=e.$t("route.hecocreateToken"),e.route_icon="coin-heco",t.abrupt("break",12);case 7:return e.route_title=e.$t("route.bsccreateToken"),e.route_icon="coin-bnb",t.abrupt("break",12);case 10:e.route_title=e.$t("route.createToken"),e.route_icon="coin-eth2";case 12:case"end":return t.stop()}}),t)})))()},methods:{resetState:function(){this.blockHash="",console.log(this.isConnect,this.account)},onRecommendAddMetamask:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.length>0&&void 0!==e[0]?e[0]:"default",s=window.web3.currentProvider,s.sendAsync({method:"metamask_watchAsset",params:{type:"ERC20",options:{address:n,symbol:t.form.symbol,decimals:t.form.decimals}},id:Math.round(1e5*Math.random())},(function(e,t){console.log("11111",e,t)}));case 3:case"end":return a.stop()}}),a)})))()},onCreatToken:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,o,i,c,l,m,f,b,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["form"].validate();case 2:if(e.onCheckConnect()){t.next=4;break}return t.abrupt("return");case 4:t.t0=window.route_name,t.next="HecocreateToken"===t.t0?7:"BsccreateToken"===t.t0?11:15;break;case 7:if(128===d["a"].getChainId()){t.next=10;break}return e.$notify.info({title:"Alert",message:e.$t("common.no_connect_heconetwork"),duration:0}),t.abrupt("return");case 10:return t.abrupt("break",15);case 11:if(56===d["a"].getChainId()||97===d["a"].getChainId()){t.next=14;break}return e.$notify.info({title:"Alert",message:e.$t("common.no_connect_bsc_network"),duration:0}),t.abrupt("return");case 14:return t.abrupt("break",15);case 15:e.resetState(),e.loading=!0,e.c_address=d["a"].resolveCreateTokenAddress(),e.blockTxurl=d["a"].resolveLinkOnEtherscan(),a=d["a"].getGasprice(),t.t1=window.route_name,t.next="HecocreateToken"===t.t1?23:"BsccreateToken"===t.t1?25:27;break;case 23:return a=1,t.abrupt("break",27);case 25:return a=20,t.abrupt("break",27);case 27:return n=u.a.toWei(a,"gwei"),t.t2=parseInt,t.next=31,d["a"].sendEthcall({to:e.c_address,data:"0x"+_.a.methodID("txFee",[]).toString("hex")});case 31:return t.t3=t.sent,s=(0,t.t2)(t.t3),e.form.config.length>0&&(s+=s*e.form.config.length*.25),r=new g.a(T,e.c_address),t.next=37,r.methods.generateToken(e.form.tokenName,e.form.symbol,e.form.decimals,e.form.initialSupply).encodeABI({from:d["a"].getAccount()});case 37:return o=t.sent,i=2e6,c={from:d["a"].getAccount(),to:e.c_address,value:Object(k["toHex"])(s),data:o,chainId:d["a"].getChainId(),gasPrice:Object(k["toHex"])(n),gas:Object(k["toHex"])(i)},l=e,t.prev=41,t.next=44,d["a"].sendTransaction(c);case 44:m=t.sent,t.next=52;break;case 47:return t.prev=47,t.t4=t["catch"](41),e.$message({message:l.$t("common.transactionError")+": "+t.t4,type:"error"}),e.loading=!1,t.abrupt("return");case 52:return e.txList.push({address:m,status:0}),t.next=55,d["a"].getTransactionSuccess(m);case 55:if(f=t.sent,200!==f.code){t.next=77;break}return b=f.transactionHash,e.txList=e.txList.map((function(e){return e.address===b&&(e.status=1),e})),e.tx_status=!0,e.loading=!1,console.log(b,"txHash"),t.next=64,Object(p["i"])(3e3);case 64:return t.next=66,d["a"].sendEthgetLogs({address:[],topics:["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x000000000000000000000000"+d["a"].getAccount().replace("0x","")],fromBlock:"earliest",toBlock:"latest"});case 66:if(x=t.sent,!(x.length>0)){t.next=75;break}if(console.log(x[x.length-1]),x[x.length-1].transactionHash!==f.transactionHash){t.next=75;break}if(e.isShowTokenAddressDialog=!0,e.createTokenAddress=x[x.length-1].address,1!==h["a"].state.eth.walletType){t.next=75;break}return t.next=75,e.onRecommendAddMetamask(x[x.length-1].address);case 75:t.next=78;break;case 77:e.$message({message:"Error：".concat(f.message),type:"error"});case 78:case"end":return t.stop()}}),t,null,[[41,47]])})))()}}},w=v,C=(a("00b1"),a("5d22")),$=Object(C["a"])(w,n,s,!1,null,"7cd330a5",null);t["default"]=$.exports},"4e2c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{directives:[{name:"show",rawName:"v-show",value:e.list.length>0,expression:"list.length > 0"}],staticClass:"dealList"},e._l(e.list,(function(t,n){return a("li",{key:t.address},[a("div",{staticClass:"left"},[a("span",{staticClass:"index"},[e._v(e._s(n+1))]),a("a",{staticClass:"address",attrs:{target:"_blank",href:e.blockTxurl+"/tx/"+t.address}},[e._v(e._s(t.address))])]),a("div",{staticClass:"right"},[a("span",{staticClass:"status"},[0===t.status?a("i",{staticClass:"el-icon-loading"}):1===t.status?a("i",{staticClass:"el-icon-success"}):2===t.status?a("i",{staticClass:"el-icon-error",staticStyle:{color:"#F05252"}}):e._e()])])])})),0)},s=[],r={props:{list:{type:Array,required:!0},blockTxurl:{type:String,required:!0}},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},o=r,i=(a("4779"),a("5d22")),c=Object(i["a"])(o,n,s,!1,null,"cfd1f11a",null);t["a"]=c.exports},d18a0:function(e,t,a){}}]);