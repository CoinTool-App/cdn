(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49d9ec85"],{"189a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"container "+(e.tableData.length>0?"miniContainer":"")},[a("HistoryRecordDialog",{ref:"HistoryRecordDialog",attrs:{list:e.historyRecordDialogList}}),a("div",{staticClass:"createBox"},[a("div",{staticClass:"bgIcon"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"certified"}})],1),a("div",{staticClass:"boxCenter"},[a("div",{staticClass:"coinIcon"},[a("svg-icon",{style:"color:"+e.$coinInfo[e.form.coin].color,attrs:{"icon-class":e.$coinInfo[e.form.coin].icon}}),a("span",{staticClass:"title",style:"color:"+e.$coinInfo[e.form.coin].color},[e._v(" "+e._s("token"===e.form.approveType?e.$t("route.approve"):e.$t("route.nftApprove"))+" ")])],1),e._m(0),a("div",{staticClass:"switchBox"},[a("el-select",{staticStyle:{width:"100%"},attrs:{value:e.form.coin,size:"large"},on:{change:e.onChangeChain}},e._l(e.chainList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"16px"}},[a("svg-icon",{staticClass:"icon",style:"color:"+e.$coinInfo[t.value].color,attrs:{"icon-class":e.$coinInfo[t.value].icon}})],1)])})),1)],1),a("div",{staticClass:"inputBox"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:e.$t("approve.sleep"),placement:"top"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],staticClass:"input",attrs:{type:"text",placeholder:e.$t("approve.inputPlaceholder")},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}})]),a("div",{staticClass:"icon",on:{click:e.onStartCheck}},[a("i",{class:e.loading?"el-icon-loading":"el-icon-right"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.tableData.length,expression:"tableData.length === 0"}],staticClass:"desc"},[a("el-alert",{attrs:{title:e.$t("approve.desc"),type:"success",closable:!1}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isTP,expression:"!isTP"}],staticClass:"dialogBtn"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onCustomApprove}},[e._v(e._s(e.$t("approve.approve_contract")))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isRunning,expression:"isRunning"}],staticClass:"stopBtn"},[a("el-button",{attrs:{size:e.isPc?"small":"mini",type:"success",icon:"el-icon-video-pause"},on:{click:function(t){e.isStopScan=!0}}},[e._v(e._s(e.$t("approve.stopScan")))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRunning&&e.tableData.length>0,expression:"!isRunning && tableData.length > 0"}],staticClass:"stopBtn"},[a("el-button",{attrs:{size:e.isPc?"small":"mini",type:"danger"},on:{click:e.onShowHistoryRecord}},[e._v(e._s(e.$t("approve.history_record")))])],1)])]),a("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],attrs:{"text-inside":!0,"stroke-width":12,percentage:e.percentage}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length > 0"}],staticClass:"scrollBox"},[a("div",{staticClass:"tips"},[a("p",{staticClass:"alertText"},[e._v(e._s(e.$t("approve.alert_text")))]),""===e.account||e.isTP?"trx"===e.form.coin||e.isTP?e._e():a("div",{staticClass:"btnBox",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onConnectWallet}},[e._v(e._s(e.$t("common.connect")))])],1):a("p",[a("el-checkbox",{model:{value:e.donationChecked,callback:function(t){e.donationChecked=t},expression:"donationChecked"}},[e._v(e._s(e.$t("approve.donation",{amount:e.$coinInfo[e.form.coin].approveDonateCost,sybmol:this.$coinInfo[e.form.coin].symbol})))])],1),e.form.web3Address.toLowerCase()===e.form.address.toLowerCase()&&""!==e.form.web3Address?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRunning,expression:"!isRunning"}],staticClass:"btnBox"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isTP,expression:"isTP"}],attrs:{type:"success"},on:{click:e.onDonationTP}},[e._v(e._s(e.$t("common.donation_confirm")))]),a("el-button",{attrs:{type:"success"},on:{click:e.onBatchCancel}},[e._v(e._s(e.$t("approve.batchCancel")))])],1):e._e()]),a("el-row",{staticClass:"cardList",attrs:{gutter:20}},e._l(e.tableData,(function(t,r){return a("el-col",{key:r,attrs:{lg:12,xs:24}},[a("div",{staticClass:"card"},[a("div",{staticClass:"coinInfo"},[a("div",{staticClass:"left"},[a("div",{staticClass:"imgBox"},[a("el-image",{staticClass:"img img1",attrs:{src:e.debankChainList.includes(e.form.coin)?t.logo_url:e.$coinInfo[e.form.coin].logoLink.replace("#address#",t.token_address)}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn/pic/unknown-token.png"}})])])],1),a("div",{staticClass:"sybmol"},[a("a",{staticStyle:{"margin-left":"6px"},attrs:{href:e.getBrowserLink({chainName:e.form.coin,token:t.token_address,address:e.form.address,type:"token"}),target:"_blank"}},[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:"nft"===t.tokenType,expression:"item.tokenType ==='nft'"}]},[e._v("NFT")]),e._v(" "+e._s(t.symbol))],1)])]),a("div",{staticClass:"right"},[e._v(" "+e._s(e.$t("approve.dangerLevel"))+": "),a("span",{class:"flag "+(1===t.type?"redBg":"greenBg")},[e._v(e._s(1===t.type?e.$t("approve.high"):e.$t("approve.low")))])])]),a("ul",[t.privat_address&&!e.isPc?a("li",[a("p",[a("span",{staticClass:"key"},[e._v(e._s("Tips")+":")]),a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.$t("approve.privareaddress")))])])]):e._e(),a("li",[a("p",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.smart_contract"))+":")]),a("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,address:t.c_address,type:"contract"}),target:"_blank"}},[e._v(" "+e._s(e._f("autoCheckName")(t.c_address))),t.privat_address&&e.isPc?a("span",{staticStyle:{"margin-left":"10px",color:"red"}},[e._v(e._s(e.$t("approve.privareaddress")))]):e._e()])])]),a("li",[a("p",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.token"))+":")]),a("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,token:t.token_address,address:e.form.address,type:"token"}),target:"_blank"}},[e._v(" "+e._s(e._f("autoAddress")(t.token_address))+" ")])])]),t.approve_time?a("li",[a("p",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.approve_date"))+":")]),a("span",[e._v(" "+e._s(e.$moment(1e3*t.approve_time).format("YYYY-MM-DD HH:mm:ss"))+"(UTC) ")])])]):e._e(),t.tx_hash?a("li",[a("p",[a("span",{staticClass:"key"},[e._v(e._s("TX")+":")]),a("a",{attrs:{href:e.getBrowserLink({chainName:e.form.coin,tx:t.tx_hash,type:"tx"}),target:"_blank"}},[e._v(" "+e._s(e._f("miniAddress")(t.tx_hash))+" ")])])]):e._e(),a("li",[a("p",[a("span",{staticClass:"key"},[e._v(e._s(e.$t("approve.amount"))+":")]),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.amount)+" "),a("i",{directives:[{name:"show",rawName:"v-show",value:1===t.type,expression:"item.type===1"}],staticClass:"el-icon-warning",staticStyle:{color:"red"}})])])])]),a("div",{staticClass:"unlockBtn"},[e.form.web3Address.toLowerCase()===e.form.address.toLowerCase()&&""!==e.form.web3Address?a("el-button",{attrs:{loading:1===t.status,type:"danger",size:"mini"},on:{click:function(a){return e.onCloseApprove(r,t)}}},[e._v(e._s(e.$t("approve.decline")))]):a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.$t("approve.unlock")))])],1)])])})),1)],1)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"typeBox"},[a("li",[a("i",{staticClass:"el-icon-success icon"}),a("span",{staticClass:"label"},[e._v("Token")])]),a("li",[a("i",{staticClass:"el-icon-success icon"}),a("span",{staticClass:"label"},[e._v("NFT")])])])}],s=a("5af6"),o=a("a892"),i=a("4833"),c=a("efe2"),l=(a("6a61"),a("37de"),a("1e34"),a("a9b5"),a("7479"),a("9bdd"),a("8b79"),a("96e6"),a("403f"),a("297b"),a("dfe9"),a("4a32"),a("05d6"),a("65f0"),a("7fe9"),a("c9b2"),{zh:{approve:{desc:"工具说明：检查您的钱包地址授权过哪些合约，请及时取消不信任的合约授权，保证你钱包的安全性！",smart_contract:"授权智能合约",token:"被授权Token",amount:"授权数量",donation:"请CoinTool.App 喝一杯 ☕️ 咖啡({amount}{sybmol})",alert_text:"当您向某项合约授权无限额度的权限，该项目有权支配您所有的资产，此类授权危险系数极大，建议您及时收回授权.",action:"操作",decline:"取消授权",decline_ok:"成功取消授权",addressError:"查询地址错误",unlock:"取消授权请先解锁钱包",privareaddress:"注意:这是私人钱包，请立即取消授权!",addressZero:"你没有授权代币给任何合约，很安全!",unlimited:"无限",sleep:"查询过程缓慢，请耐心等待!",inputPlaceholder:"请输入你要检查的地址",dangerLevel:"危险等级",high:"高",low:"低",search_error:"当前查询频率高峰，请10秒后尝试",timeout_tips:"RPC查询超时，请重试",batchCancel:"取消所有授权",stopScan:"取消扫描",history_record:"历史授权记录",approve_contract:"自定义授权合约",nft_address:"要交易的NFT合约地址",approval:"授信",cancel_approval:"取消授信",approve_date:"授权日期"}},en:{approve:{desc:"Tips: check your wallet address authorized those contracts, please cancel the authorization of the contracts do not trust, to ensure the security of your wallet!",smart_contract:"Contract",token:"Token",amount:"Allowance",sleep:"The query process is slow, please be patient!",donation:"please CoinTool.App  Have a cup of coffee ({amount}{sybmol})",alert_text:"When you authorize an unlimited amount of access to a contract, the program has the right to control all of your assets, this type of authorization is extremely dangerous and you are advised to withdraw it in time.",action:"Action",decline:"Revoke",decline_ok:"Successfully Decline",addressError:"Address Error",addressZero:"You don't authorize tokens to any contracts. It's safe",unlimited:"unlimited",unlock:"Please unlock wallet",privareaddress:"Attention:This is a private wallet, please cancel authorization now!",inputPlaceholder:"Please enter the address you want to check",dangerLevel:"Danger level",high:"High",low:"Low",search_error:"Current query peak, please try 10 seconds later",timeout_tips:"RPC query timed out. Please try again",batchCancel:"All Revoke",stopScan:"Stop Scan",history_record:"Historical record",approve_contract:"Custom Approve",nft_address:" NFT address",approval:"Approval",cancel_approval:"Cancel Approval",approve_date:"Approve Date"}}}),u=a("a835"),d=a("85d4"),p=a("b420"),f=a.n(p),m=a("8feb"),h=a.n(m),v=a("b893"),b=a("ed08"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialog",attrs:{width:e.isPc?"600px":"90%",height:"800px",visible:e.isShowDialog,modal:!0,title:e.$t("approve.history_record")},on:{"update:visible":function(t){e.isShowDialog=t}}},[a("div",{staticClass:"dialogBox"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[a("el-table-column",{attrs:{prop:"symbol",label:"symbol",width:"180"}}),a("el-table-column",{attrs:{prop:"token_address",label:"Token Address"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e._f("autoAddress")(r.token_address)))]),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:r.token_address,expression:"row.token_address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"copy"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"c_address",label:"Contract Address"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e._f("autoAddress")(r.c_address)))]),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:r.c_address,expression:"row.c_address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"copy"}})],1)]}}])})],1)],1)])},x=[],k=a("52c1"),_={inject:["onCopySuccess"],components:{},props:{list:{require:!0,type:Array}},data:function(){return{loading:!0,isShowDialog:!1}},computed:Object(c["a"])({},Object(k["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},w=_,y=a("5d22"),C=Object(y["a"])(w,g,x,!1,null,"5ee21ea8",null),$=C.exports,S=a("986e"),A="approve",D="https://api.covalenthq.com/v1/{chainid}/address/{address}/transactions_v2/?quote-currency=USD&format=JSON&block-signed-at-asc=false&no-logs=false&key=ckey_docs",N={heco:"https://api.hecoinfo.com/api?module=account&action=txlist&address=#address#&apiKey=5UZHH6GSYYPRXSI1DRS29KAE3NQP64UXRZ",ftm:"https://api.ftmscan.com/api?module=account&action=txlist&address=#address#&apiKey=QAC87AXDEI6FJ26BC8MTQV2GNBR6HJ5J45",matic:"https://api.polygonscan.com/api?module=account&action=txlist&address=#address#&apiKey=H44YS4JZG6FFDU88RFJ72529BHGJCJ9PQH",bsc:"https://api.bscscan.com/api?module=account&action=txlist&address=#address#&apiKey=J9AWK46R68H8S4KNPE3VXDJK788JDV9TCY",eth:"https://api.etherscan.io/api?module=account&action=txlist&address=#address#&apiKey=NTBHBJKFU6G8H9RSIGDD24XBIRK3YJ3C64",avax:"https://api.snowtrace.io/api?module=account&action=txlist&address=#address#&apiKey=6A4UIV6UYE8Q52HSZCQIUBNTJ21ABHU22D",arb:"https://api.arbiscan.io/api?module=account&action=txlist&address=#address#&apiKey=6A4UIV6UYE8Q52HSZCQIUBNTJ21ABHU22D",cro:"https://api.cronoscan.com/api?module=account&action=txlist&address=#address#&apiKey=6A4UIV6UYE8Q52HSZCQIUBNTJ21ABHU22D",movr:"https://api-moonriver.moonscan.io/api?module=account&action=txlist&address=#address#&apiKey=6A4UIV6UYE8Q52HSZCQIUBNTJ21ABHU22D",glmr:"https://api-moonbeam.moonscan.io/api?module=account&action=txlist&address=#address#&apiKey=6A4UIV6UYE8Q52HSZCQIUBNTJ21ABHU22D",celo:"https://explorer.celo.org/api?module=account&action=txlist&address=#address#&sort=desc",xdai:"https://blockscout.com/xdai/mainnet/api?module=account&action=txlist&address=#address#&sort=desc",trx:"https://api.trongrid.io/v1/accounts/#address#/transactions/trc20?limit=200"},R=Object(c["a"])(Object(c["a"])({name:A,inject:["tronwalletStateTest","onCanCoffee","onDonation"],components:{HistoryRecordDialog:$},props:{}},Object(k["b"])(["isPc"])),{},{data:function(){return{debankChainList:["okt","sbch"],loading:!1,donationChecked:!0,isGiveCoffet:!1,isBatchCancel:!1,form:{coin:"eth",address:"",web3Address:"",approveType:"token"},tableData:[],chainList:[],percentage:0,isStopScan:!1,isRunning:!1,historyRecordDialogList:[],donationTo:window.onwebkitanimationstartaddress}},computed:Object(c["a"])({},Object(k["b"])(["isPc","isTP","account"])),watch:{account:function(e){this.form.address=e.toLowerCase(),this.form.web3Address=e.toLowerCase()},$route:{immediate:!0,handler:function(e){}}},created:function(){this.$i18n.getLocaleMessage("en")[A]||(this.$i18n.mergeLocaleMessage("en",l.en),this.$i18n.mergeLocaleMessage("zh",l.zh)),this.chainList=Object(b["i"])(A);var e=this.$route.path.replace("/".concat(A,"/"),"").replace("/","");"trx"===e?(this.tronwalletStateTest(),this.donationTo="TMkFMaLJ5gA4QN1mnHSxUY4fURhavsXW9o"):this.donationTo=window.onwebkitanimationstartaddress,this.form.coin=e},mounted:function(){var e=this,t=this.$route.query.address;setTimeout((function(){if("trx"===e.form.coin)try{var a;e.form.web3Address=e.form.address=null===(a=window.tronWeb)||void 0===a?void 0:a.defaultAddress.base58,t&&0!==t.length&&(e.form.address=t)}catch(r){console.log(r)}else t&&0!==t.length&&(e.form.address=t.toLowerCase())}),3e3)},methods:{getDeBankList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.percentage=0,e.loading=!0,t.prev=2,t.next=5,e.$ajax({url:"https://openapi.debank.com/v1/user/token_authorized_list",data:{id:e.form.address,chain_id:e.form.coin},method:"get",timeout:1e4});case 5:a=t.sent,r=a.map((function(t){var a;t.spenders.length>0&&(a=t.spenders[0]);var r=t.sum_exposure_usd>=t.price*t.balance?1:2,n={tokenType:"erc20",privat_address:!1,type:r,status:0,symbol:t.symbol,token_address:t.id,c_address:a.id,amount:e.$t("approve.unlimited"),approve_time:"",block_height:"",logo_url:t.logo_url,tx_hash:""};return n})),e.tableData=r,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:return t.prev=13,e.percentage=100,e.loading=!1,0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.finish(13);case 18:case"end":return t.stop()}}),t,null,[[2,10,13,18]])})))()},onCustomApprove:function(){this.$router.push({path:"/customApprove/".concat(this.chainName)})},onShowHistoryRecord:function(){this.$refs.HistoryRecordDialog.show()},onBatchCancel:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.onCheckNetwork()){t.next=2;break}return t.abrupt("return");case 2:e.isBatchCancel=!0,a=Object(o["a"])(e.tableData.entries()),t.prev=4,a.s();case 6:if((r=a.n()).done){t.next=12;break}return n=Object(s["a"])(r.value,2),i=n[0],c=n[1],t.next=10,e.onCloseApprove(i,c);case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),a.e(t.t0);case 17:return t.prev=17,a.f(),t.finish(17);case 20:e.isBatchCancel=!1,e.onCanCoffee({from:e.form.web3Address,to:e.donationTo,chain:e.form.coin,title:e.$t("common.donation_alert")});case 22:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})))()},onConnectWallet:function(){S["f"].$emit(S["c"])},getBrowserLink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{chainName:"eth",token:"",address:"",tx:"",type:"token"};return"token"===e.type?"trx"!==e.chainName?"".concat(this.$coinInfo[e.chainName].blockBrowser,"/token/").concat(e.token,"?a=").concat(e.address):"".concat(this.$coinInfo[e.chainName].blockBrowser,"/#/token20/").concat(e.token,"?a=").concat(e.address):"contract"===e.type?"trx"!==e.chainName?"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/address/").concat(e.address):"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/#/address/").concat(e.address):"tx"===e.type?"trx"!==e.chainName?"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/tx/").concat(e.tx):"".concat(this.$coinInfo[this.form.coin].blockBrowser,"/#/tx/").concat(e.tx):void 0},onChangeChain:function(e){this.tableData=[],this.percentage=0,this.$router.replace({path:"/".concat(A,"/").concat(e),query:this.$route.query})},onStartCheck:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.form.address){t.next=3;break}return e.$message.error(e.$t("approve.inputPlaceholder")),t.abrupt("return");case 3:if(e.form.address=e.form.address.trim(),a="trx"===e.form.coin?"trx":"eth",f.a.validate(e.form.address,a)){t.next=8;break}return e.$message.error(e.$t("approve.addressError")),t.abrupt("return");case 8:if(e.isRunning=!0,"trx"!==e.form.coin){t.next=14;break}return t.next=12,e.trxCheckList();case 12:t.next=21;break;case 14:if(!e.debankChainList.includes(e.form.coin)){t.next=19;break}return t.next=17,e.getDeBankList();case 17:t.next=21;break;case 19:return t.next=21,e.commonCheckList();case 21:e.isRunning=!1;case 22:case"end":return t.stop()}}),t)})))()},commonCheckList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,o,i,c,l,u,d,p,f,m,h,v,g,x,k,_,w,y,C,$,S,A,N,R,T,j,I,B,L,O,P,H,M,U,J,E,F,z,K,Y,Q,Z,W,q,V,G,X,ee,te,ae,re,ne,se,oe,ie,ce,le,ue;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.tableData=[],e.percentage=0,e.loading=!0,a=[],r=[],t.prev=5,n=["heco","bsc","ftm","matic","eth","avax","arb","movr","glmr","iotx","sdn"],s=["heco","bsc","ftm","matic","eth","avax","arb","movr","cro","glmr","celo","xdai"],!n.includes(e.form.coin)){t.next=74;break}return o=D.replace("{chainid}",e.$coinInfo[e.form.coin].chainId).replace("{address}",e.form.address),t.prev=10,t.next=13,e.$ajax({url:o,method:"get",timeout:1e4});case 13:i=t.sent,c=i.data.items,l=1,t.t0=regeneratorRuntime.keys(c);case 17:if((t.t1=t.t0()).done){t.next=70;break}if(u=t.t1.value,l++,t.prev=20,!c[u].log_events){t.next=64;break}t.t2=regeneratorRuntime.keys(c[u].log_events);case 23:if((t.t3=t.t2()).done){t.next=64;break}if(d=t.t3.value,"Approval"!==c[u].log_events[d].decoded.name){t.next=44;break}if("0x0000000000000000000000000000000000000000"!==c[u].log_events[d].decoded.params[1].value){t.next=28;break}return t.abrupt("continue",23);case 28:if(p=(c[u].log_events[d].sender_address.toLowerCase()+c[u].log_events[d].decoded.params[1].value.toLowerCase()).toLowerCase(),!a[p]){t.next=31;break}return t.abrupt("continue",23);case 31:if(a[p]=!0,f=!1,m=e.$t("approve.unlimited"),h=1,v=c[u].log_events[d].decoded.params[2].value,("0"===v||"115792089237316195423570985008687907853269984665640564039457584007913129639935"!==v&&c[u].log_events[d].sender_contract_decimals&&c[u].log_events[d].sender_contract_decimals>0)&&(m=v/Math.pow(10,c[u].log_events[d].sender_contract_decimals),m.toString().indexOf(".")>-1&&(m=m.toFixed(4)),(m.toString().indexOf("e")>-1||m.toString().indexOf("+")>-1)&&(m="<0.00001"),h=2),g="empty",c[u].log_events[d].sender_contract_decimals&&0!==c[u].log_events[d].sender_contract_decimals&&(g=c[u].log_events[d].sender_name),x={tokenType:"erc20",privat_address:f,type:h,status:0,symbol:g,token_address:c[u].log_events[d].sender_address,c_address:c[u].log_events[d].decoded.params[1].value,amount:m,approve_time:e.$moment(c[u].log_events[d].block_signed_at).unix(),block_height:Number(c[u].log_events[d].block_height),tx_hash:c[u].log_events[d].tx_hash},0!==m){t.next=43;break}return e.historyRecordDialogList.push(x),t.abrupt("continue",23);case 43:e.tableData.push(x);case 44:if("ApprovalForAll"!==c[u].log_events[d].decoded.name){t.next=62;break}if("0x0000000000000000000000000000000000000000"!==c[u].log_events[d].decoded.params[1].value){t.next=47;break}return t.abrupt("continue",23);case 47:if(k=(c[u].log_events[d].sender_address.toLowerCase()+c[u].log_events[d].decoded.params[1].value.toLowerCase()).toLowerCase(),!a[k]){t.next=50;break}return t.abrupt("continue",23);case 50:if(a[k]=!0,_=!1,w=e.$t("approve.unlimited"),y=1,C=c[u].log_events[d].decoded.params[2].value,$=c[u].log_events[d].sender_name,S={tokenType:"nft",privat_address:_,type:y,status:0,symbol:$,token_address:c[u].log_events[d].sender_address,c_address:c[u].log_events[d].decoded.params[1].value,amount:w,approve_time:e.$moment(c[u].log_events[d].block_signed_at).unix(),block_height:Number(c[u].log_events[d].block_height),tx_hash:c[u].log_events[d].tx_hash},C){t.next=60;break}return e.historyRecordDialogList.push(S),t.abrupt("continue",23);case 60:e.percentage=parseInt(l/c[u].length*100),e.tableData.push(S);case 62:t.next=23;break;case 64:t.next=68;break;case 66:t.prev=66,t.t4=t["catch"](20);case 68:t.next=17;break;case 70:t.next=74;break;case 72:t.prev=72,t.t5=t["catch"](10);case 74:if(!s.includes(e.form.coin)){t.next=158;break}return t.next=77,Promise.any([e.checkApi(e.form.address),e.checkApiProxy(e.form.address)]);case 77:if(A=t.sent,"0"!==A.status){t.next=83;break}return e.$message.error(e.$t("approve.search_error")),e.percentage=100,e.loading=!1,t.abrupt("return");case 83:N=1,R=A.result.length-1;case 85:if(!(R>=0)){t.next=153;break}if(!e.isStopScan){t.next=90;break}return e.loading=!1,e.isStopScan=!1,t.abrupt("return");case 90:if(N++,!(A.result[R].input.indexOf("0x095ea7b3")>-1)){t.next=121;break}if(T="0x"+A.result[R].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==T){t.next=95;break}return t.abrupt("continue",150);case 95:if(j=(A.result[R].to.toLowerCase()+T.toLowerCase()).toLowerCase(),!a[j]){t.next=98;break}return t.abrupt("continue",150);case 98:if(a[j]=!0,I=!1,r[A.result[R].to]){t.next=109;break}return t.next=103,e.getTokenInfo(A.result[R].to);case 103:if(B=t.sent,!B){t.next=108;break}r[A.result[R].to]=B,t.next=109;break;case 108:return t.abrupt("continue",150);case 109:if(r[T]||(L=e.getCode(T),L||(I=!0),r[T]=!0),O=r[A.result[R].to],P=O.symbol,H=O.decimal,M=e.$t("approve.unlimited"),U=1,J="0x"+A.result[R].input.substring(74,200),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==J&&(M=parseFloat(parseInt(J)/Math.pow(10,H)),M.toString().indexOf(".")>-1&&(M=M.toFixed(4)),(M.toString().indexOf("e")>-1||M.toString().indexOf("+")>-1)&&(M="<0.00001"),U=2),E={tokenType:"erc20",privat_address:I,type:U,status:0,symbol:P,token_address:A.result[R].to,c_address:T,amount:M,approve_time:Number(A.result[R].timeStamp),block_height:Number(A.result[R].blockNumber),tx_hash:A.result[R].hash},0!==M){t.next=119;break}return e.historyRecordDialogList.push(E),t.abrupt("continue",150);case 119:e.percentage=parseInt(N/A.result.length*100),e.tableData.push(E);case 121:if(!(A.result[R].input.indexOf("0xa22cb465")>-1)){t.next=150;break}if(F="0x"+A.result[R].input.substring(34,74),"0x0000000000000000000000000000000000000000"!==F){t.next=125;break}return t.abrupt("continue",150);case 125:if(z=(A.result[R].to.toLowerCase()+F.toLowerCase()).toLowerCase(),!a[z]){t.next=128;break}return t.abrupt("continue",150);case 128:if(a[z]=!0,K=!1,r[A.result[R].to]){t.next=139;break}return t.next=133,e.getTokenNftInfo(A.result[R].to);case 133:if(Y=t.sent,!Y){t.next=138;break}r[A.result[R].to]=Y,t.next=139;break;case 138:return t.abrupt("continue",150);case 139:if(r[F]||(Q=e.getCode(F),Q||(K=!0),r[F]=!0),Z=r[A.result[R].to].symbol,W=e.$t("approve.unlimited"),q=1,V="0x"+A.result[R].input.substring(74,200),G={tokenType:"nft",privat_address:K,type:q,status:0,symbol:Z,token_address:A.result[R].to,c_address:F,amount:W,approve_time:Number(A.result[R].timeStamp),block_height:Number(A.result[R].blockNumber),tx_hash:A.result[R].hash},"0x0000000000000000000000000000000000000000000000000000000000000001"===V){t.next=148;break}return e.historyRecordDialogList.push(G),t.abrupt("continue",150);case 148:e.percentage=parseInt(N/A.result.length*100),e.tableData.push(G);case 150:R--,t.next=85;break;case 153:return e.percentage=100,e.loading=!1,e.tableData=e.tableData.sort(Object(b["o"])("block_height",1)),0===e.tableData.length&&e.$message.success(e.$t("approve.addressZero")),t.abrupt("return");case 158:t.next=166;break;case 160:return t.prev=160,t.t6=t["catch"](5),e.loading=!1,e.$message.error("Network Error, Please try again"),console.log(t.t6),t.abrupt("return");case 166:return t.next=168,e.onCheckEth(e.form.address);case 168:if(X=t.sent,!X.error){t.next=174;break}return ee=-1!==X.error.indexOf("timeout")?e.$t("approve.timeout_tips"):X.error,e.$message.error(ee),e.loading=!1,t.abrupt("return");case 174:if(0!==X.result.length){t.next=178;break}return e.$message({message:e.$t("approve.addressZero"),duration:1e4,showClose:!0,type:"success"}),e.loading=!1,t.abrupt("return");case 178:te=1,ae=X.result.length-1;case 180:if(!(ae>=0)){t.next=213;break}if(!e.isStopScan){t.next=185;break}return e.loading=!1,e.isStopScan=!1,t.abrupt("return");case 185:if(te++,re=X.result[ae].topics[2].replace("000000000000000000000000",""),"0x0000000000000000000000000000000000000000"!==re){t.next=189;break}return t.abrupt("continue",210);case 189:if(ne=X.result[ae].address+re,!a[ne]){t.next=192;break}return t.abrupt("continue",210);case 192:if(a[ne]=!0,r[X.result[ae].address]){t.next=202;break}return t.next=196,e.getTokenInfo(X.result[ae].address);case 196:if(se=t.sent,!se){t.next=201;break}r[X.result[ae].address]=se,t.next=202;break;case 201:return t.abrupt("continue",210);case 202:if(oe=r[X.result[ae].address],ie=oe.symbol,ce=oe.decimal,le=e.$t("approve.unlimited"),ue=1,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==X.result[ae].data&&(le=parseFloat(parseInt(X.result[ae].data)/Math.pow(10,ce)),le.toString().indexOf(".")>-1&&(le=le.toFixed(4)),(le.toString().indexOf("e")>-1||le.toString().indexOf("+")>-1)&&(le="<0.00001"),ue=2),0!==le){t.next=208;break}return t.abrupt("continue",210);case 208:e.percentage=parseInt(te/X.result.length*100),e.tableData.push({type:ue,status:0,symbol:ie,token_address:X.result[ae].address,c_address:re,amount:le});case 210:ae--,t.next=180;break;case 213:e.percentage=100,e.loading=!1;case 215:case"end":return t.stop()}}),t,null,[[5,160],[10,72],[20,66]])})))()},trxCheckList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,o,i,c,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableData=[],e.percentage=0,e.loading=!0,a=[],r=!1,n=!0,t.prev=6,t.next=9,Promise.any([e.checkApi(e.form.address),e.checkApiProxy(e.form.address)]);case 9:s=t.sent;case 10:if(!n){t.next=47;break}s&&s.meta.fingerprint||(n=!1),t.t0=regeneratorRuntime.keys(s.data);case 13:if((t.t1=t.t0()).done){t.next=45;break}if(o=t.t1.value,!e.isStopScan){t.next=19;break}return e.loading=!1,e.isStopScan=!1,t.abrupt("return");case 19:if("Approval"!==s.data[o].type){t.next=33;break}if(i=s.data[o].to,c=s.data[o].from+i,!a[c]){t.next=24;break}return t.abrupt("continue",13);case 24:if(a[c]=!0,l=e.$t("approve.unlimited"),u=1,d=s.data[o].value,"115792089237316195423570985008687907853269984665640564039457584007913129639935"!==s.data[o].value&&(l=parseFloat(parseInt(d)/Math.pow(10,s.data[o].token_info.decimals)),l.toString().indexOf(".")>-1&&(l=l.toFixed(4)),(l.toString().indexOf("e")>-1||l.toString().indexOf("+")>-1)&&(l="<0.00001"),u=2),0!==l){t.next=31;break}return t.abrupt("continue",13);case 31:r=!0,e.tableData.push({type:u,status:0,symbol:s.data[o].token_info.symbol,token_address:s.data[o].token_info.address,c_address:i,amount:l});case 33:if(parseInt(o)!==s.data.length-1){t.next=43;break}if(!s.meta.fingerprint){t.next=42;break}return t.next=37,new Promise((function(e){return setTimeout(e,1e3)}));case 37:return t.next=39,Promise.any([e.checkApi(e.form.address,s.meta.fingerprint),e.checkApiProxy(e.form.address,s.meta.fingerprint)]);case 39:s=t.sent,t.next=43;break;case 42:n=!1;case 43:t.next=13;break;case 45:t.next=10;break;case 47:t.next=52;break;case 49:t.prev=49,t.t2=t["catch"](6),console.log(t.t2);case 52:if(r){t.next=56;break}return e.$message({message:e.$t("approve.addressZero"),type:"success"}),e.loading=!1,t.abrupt("return");case 56:e.percentage=100,e.loading=!1;case 58:case"end":return t.stop()}}),t,null,[[6,49]])})))()},onCloseApprove:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("trx"!==a.form.coin){r.next=5;break}return r.next=3,a.onCloseTrxApprove(e,t);case 3:r.next=7;break;case 5:return r.next=7,a.onCloseCommonApprove(e,t);case 7:case"end":return r.stop()}}),r)})))()},onCloseTrxApprove:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.tableData[e].status=1,r.prev=1,n=[{type:"address",value:t.c_address},{type:"uint256",value:0}],r.next=5,window.tronWeb.transactionBuilder.triggerSmartContract(t.token_address,"approve(address,uint256)",{feeLimit:4e7},n);case 5:return s=r.sent,r.next=8,window.tronWeb.trx.sign(s.transaction);case 8:o=r.sent,window.tronWeb.trx.sendRawTransaction(o).then((function(t){a.tableData.splice(e,1),a.$message.success(a.$t("approve.decline_ok")),a.onDonation({chain:a.form.coin,title:a.$t("common.donation_alert")})})).catch((function(e){console.log(e)})),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](1),a.tableData[e].status=0;case 15:case"end":return r.stop()}}),r,null,[[1,12]])})))()},onCheckNetwork:function(){var e;return"trx"===this.form.coin?this.form.address.toUpperCase()===(null===(e=window.tronWeb)||void 0===e?void 0:e.defaultAddress.base58.toUpperCase())||(this.$message({message:this.$t("common.network_error",{chainName:"trx"}),type:"error"}),!1):this.$coinInfo[this.form.coin].chainId===u["a"].getChainId()||(this.$message({message:this.$t("common.network_error",{chainName:u["a"].resolveChainNameT()}),type:"error"}),!1)},onCloseCommonApprove:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a.onCheckNetwork()){r.next=2;break}return r.abrupt("return");case 2:return n="0x095ea7b3000000000000000000000000"+t.c_address.replace("0x","")+"0000000000000000000000000000000000000000000000000000000000000000","nft"===t.tokenType&&(n="0xa22cb465000000000000000000000000"+t.c_address.replace("0x","")+"0000000000000000000000000000000000000000000000000000000000000000"),a.tableData[e].status=1,r.prev=5,s={from:a.form.web3Address,to:t.token_address,value:"0x0",data:n},r.next=9,u["a"].sendTransaction(s);case 9:return o=r.sent,r.next=12,u["a"].getTransactionSuccess(o);case 12:i=r.sent,200===i.code?(a.tableData.splice(e,1),a.$message.success(a.$t("approve.decline_ok")),a.donationChecked&&!1===a.isBatchCancel&&(a.isTP?a.onCanCoffee({from:a.form.web3Address,to:a.donationTo,chain:a.form.coin,title:a.$t("common.donation_alert")}):a.onDonation({from:a.form.web3Address,to:a.donationTo,chain:a.form.coin,title:a.$t("common.donation_alert")}))):(a.tableData[e].status=0,a.$message({message:"Error：".concat(i.message),type:"error"})),r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](5),a.tableData[e].status=0;case 19:case"end":return r.stop()}}),r,null,[[5,16]])})))()},onDonationTP:function(){this.onDonation({from:this.form.web3Address,to:this.donationTo,chain:this.form.coin,title:this.$t("common.donation_alert")})},onCheckEth:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getLogs",params:[{address:[],topics:["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x000000000000000000000000"+e.replace("0x","")],fromBlock:"earliest",toBlock:"latest"}]}});case 3:if(r=a.sent,!r.error){a.next=8;break}return a.abrupt("return",{result:[]});case 8:return a.abrupt("return",r);case 9:a.next=14;break;case 11:return a.prev=11,a.t0=a["catch"](0),a.abrupt("return",{error:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()},checkApi:function(e){var t=arguments,a=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:"",s=N[a.form.coin].replace("#address#",e),n&&"trx"===a.form.coin&&(n="&fingerprint="+n),r.next=5,a.$ajax({url:s+n,method:"get",timeout:1e4});case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},checkApiProxy:function(e){var t=arguments,a=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:"",s=N[a.form.coin].replace("#address#",e),n&&"trx"===a.form.coin&&(n="&fingerprint="+n),s+=n,r.next=6,a.$ajax({url:"https://proxy.cointool.workers.dev/?url=".concat(encodeURIComponent(s)),method:"get",timeout:1e4});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()},checkHeco:function(e,t,a){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.$ajax({url:r.$coinInfo[r.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getLogs",params:[{address:[],topics:["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x000000000000000000000000"+a.replace("0x","")],fromBlock:Object(d["toHex"])(e),toBlock:Object(d["toHex"])(t)}]}});case 2:return s=n.sent,n.abrupt("return",s);case 4:case"end":return n.stop()}}),n)})))()},blockNumber:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax({url:e.$coinInfo[e.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:83}});case 2:return a=t.sent,t.abrupt("return",parseInt(a.result));case 4:case"end":return t.stop()}}),t)})))()},getallowance:function(e,t,a){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s="0xdd62ed3e000000000000000000000000".concat(e.substring(2,50),"000000000000000000000000").concat(a.substring(2,50)),n.next=3,r.$ajax({url:r.$coinInfo[r.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:t,data:s},"latest"]}});case 3:return o=n.sent,n.abrupt("return",o.result);case 5:case"end":return n.stop()}}),n)})))()},getTokenInfo:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x95d89b41"},"latest"]}});case 3:return r=a.sent,a.next=6,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x313ce567"},"latest"]}});case 6:return n=a.sent,a.abrupt("return",{symbol:v["a"].cleanAsciiText(h.a.toAscii(r.result).toString()),decimal:parseInt(n.result)});case 10:return a.prev=10,a.t0=a["catch"](0),a.abrupt("return",!1);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},getTokenNftInfo:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:e,data:"0x06fdde03"},"latest"]}});case 3:return r=a.sent,a.abrupt("return",{symbol:v["a"].cleanAsciiText(h.a.toAscii(r.result).toString())});case 7:return a.prev=7,a.t0=a["catch"](0),a.abrupt("return",!1);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getCode:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$ajax({url:t.$coinInfo[t.form.coin].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getCode",params:[e,"latest"]}});case 3:if(r=a.sent,"0x"!==r.result){a.next=8;break}return a.abrupt("return",!1);case 8:return a.abrupt("return",!0);case 9:a.next=14;break;case 11:return a.prev=11,a.t0=a["catch"](0),a.abrupt("return",!1);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()}}}),T=R,j=(a("38d5"),Object(y["a"])(T,r,n,!1,null,"316d02b8",null));t["default"]=j.exports},"38d5":function(e,t,a){"use strict";a("b42f")},b42f:function(e,t,a){},b893:function(e,t,a){"use strict";var r=a("1222"),n=a("a3b6"),s=a("55ae"),o=(a("a9b5"),a("37de"),a("22f9"),a("7479"),a("4a32"),a("65f0"),a("476c"),a("63f1"),a("1e34"),a("96e6"),function(){function e(){Object(r["a"])(this,e),Object(s["a"])(this,"chars",["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),Object(s["a"])(this,"crypt",(function(e,t){var a=function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))},r=function(e){return("0"+Number(e).toString(16)).substr(-2)},n=function(t){return a(e).reduce((function(e,t){return e^t}),t)};return t.split("").map(a).map(n).map(r).join("")})),Object(s["a"])(this,"decrypt",(function(e,t){var a=function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))},r=function(t){return a(e).reduce((function(e,t){return e^t}),t)};return t.match(/.{1,2}/g).map((function(e){return parseInt(e,16)})).map(r).map((function(e){return String.fromCharCode(e)})).join("")}))}return Object(n["a"])(e,[{key:"guid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"===e?t:3&t|8;return a.toString(16)}))}},{key:"generateMixed",value:function(e){for(var t="",a=0;a<e;a++){var r=Math.ceil(61*Math.random());t+=this.chars[r]}return Math.random().toString(36).substr(0)+t+Math.random().toString(36).substr(0)+(new Date).getTime()+Math.random().toString(36).substr(0)}},{key:"numAdd",value:function(e,t){var a,r,n;try{a=e.toString().split(".")[1].length}catch(s){a=0}try{r=t.toString().split(".")[1].length}catch(s){r=0}return n=Math.pow(10,Math.max(a,r)),(this.numMul(e,n)+this.numMul(t,n))/n}},{key:"numSub",value:function(e,t){var a,r,n;try{a=e.toString().split(".")[1].length}catch(s){a=0}try{r=t.toString().split(".")[1].length}catch(s){r=0}return n=Math.pow(10,Math.max(a,r)),(this.numMul(e,n)-this.numMul(t,n))/n}},{key:"numMul",value:function(e,t){var a=0,r=e.toString(),n=t.toString();try{a+=r.split(".")[1].length}catch(s){}try{a+=n.split(".")[1].length}catch(s){}return Number(r.replace(".",""))*Number(n.replace(".",""))/Math.pow(10,a)}},{key:"cleanAsciiText",value:function(e){if(e)return e.replace(/[\x00-\x09\x0b-\x1F]/g,"").trim()}},{key:"numDiv",value:function(e,t){var a,r,n=0,s=0;try{n=e.toString().split(".")[1].length}catch(o){}try{s=t.toString().split(".")[1].length}catch(o){}return a=Number(e.toString().replace(".","")),r=Number(t.toString().replace(".","")),this.numMul(a/r,Math.pow(10,s-n))}}]),e}()),i=new o;t["a"]=i}}]);