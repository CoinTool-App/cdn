(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dfdccb70"],{"4fcf":function(t,e,a){"use strict";a("726e7")},5675:function(t,e,a){},"726e7":function(t,e,a){},e17d:function(t,e,a){"use strict";a("5675")},eac1:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("SuccessDialog",{ref:"SuccessDialog",attrs:{tx:t.tx}}),e("div",{staticClass:"content"},[e("div",{staticClass:"headerBox"},[e("div",{staticClass:"bgIcon"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"nftTransfer"}})],1),e("h1",{staticClass:"title"},[t._v(t._s(t.$t("route.".concat(t.viewName))))])]),e("el-form",{attrs:{model:t.form,rules:t.rules,"label-position":"top","label-suffix":":"}},[e("el-form-item",{staticClass:"item",attrs:{prop:"tokenAddress",label:t.$t("".concat(t.viewName,".tokenAddress"))}},[e("el-input",{attrs:{autocomplete:"off",placeholder:"0x11111111111111"},model:{value:t.form.tokenAddress,callback:function(e){t.$set(t.form,"tokenAddress",e)},expression:"form.tokenAddress"}})],1)],1),e("div",{staticClass:"btnBox"},[e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.buttonLoad},on:{click:t.onConfirm}},[t._v("Check")])],1),e("p",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"etherscan"},[e("a",{attrs:{href:t.form.blockBrowser,target:"_blank"}},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"etherscan"}}),t._v(" Etherscan ")],1)]),e("el-form",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{model:t.form,rules:t.rules,"label-position":"top","label-suffix":":"}},[e("el-form-item",{staticClass:"item",attrs:{prop:"To",label:"To"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.tokenAddress,callback:function(e){t.$set(t.form,"tokenAddress",e)},expression:"form.tokenAddress"}})],1),e("el-form-item",{staticClass:"item",attrs:{prop:"Value",label:"Value"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),e("el-form-item",{staticClass:"item",attrs:{prop:"Gas",label:"Gas"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.gas,callback:function(e){t.$set(t.form,"gas",e)},expression:"form.gas"}})],1),e("el-form-item",{staticClass:"item",attrs:{prop:"GasPrice",label:"Gas Price"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.gasPrice,callback:function(e){t.$set(t.form,"gasPrice",e)},expression:"form.gasPrice"}})],1),e("el-form-item",{staticClass:"item",attrs:{prop:"Input",label:"Input"}},[e("el-input",{attrs:{rows:3,type:"textarea",autocomplete:"off"},model:{value:t.form.input,callback:function(e){t.$set(t.form,"input",e)},expression:"form.input"}})],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"btnBox"},[e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.buttonLoad},on:{click:t.Mint}},[t._v("Mint")])],1)],1)],1)},n=[],r=a("c7eb"),o=a("1da1"),c=a("5530"),i=(a("ac1f"),a("5319"),a("498a"),a("ed08")),l={zh:{nftCustomMint:{chain:"链",tokenAddress:"NFT Token 地址",receiveAddress:"接收地址",tokenId:"Token ID",amount:"发送数量",transfer:"发送",transferSuccess:"Mint成功"}},en:{nftCustomMint:{chain:"Chain",tokenAddress:"NFT Token Address",receiveAddress:"Receive Address",tokenId:"Token ID",amount:"Send Amount",transfer:"Send",transferSuccess:"Mint Success"}}},u=a("2f62"),m=a("a835"),d=(a("81ad"),a("99af"),function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{width:t.isPc?"600px":"90%",title:t.$t("nftTransfer.transferSuccess"),"modal-append-to-body":!1,visible:t.isShowDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e}}},[e("div",{staticClass:"dialogBox"},[e("el-alert",{staticClass:"smaillBox",attrs:{title:"TX",type:"success",closable:!1,"show-icon":""}},[e("el-link",{staticClass:"link",attrs:{type:"success",target:"_blank",href:"".concat(t.blockTxurl,"/tx/").concat(t.tx)}},[t._v(t._s("".concat(t.blockTxurl,"/tx/").concat(t.tx))+" ")])],1),e("div",{staticClass:"btnBox"},[e("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"".concat(t.blockTxurl,"/tx/").concat(t.tx),expression:"`${blockTxurl}/tx/${tx}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("common.copy"))+" ")])],1)],1)])}),p=[],f={inject:["onCheckConnect","onCopySuccess"],components:{},props:{tx:{type:String,require:!0}},data:function(){return{blockTxurl:"",isShowDialog:!1}},computed:Object(c["a"])({},Object(u["b"])(["isPc"])),watch:{},created:function(){},mounted:function(){this.blockTxurl=m["a"].resolveLinkOnEtherscan()},methods:{show:function(){this.isShowDialog=!this.isShowDialog}}},b=f,h=(a("e17d"),a("2877")),g=Object(h["a"])(b,d,p,!1,null,"66566374",null),v=g.exports,x=a("5ba3"),k=a("901e"),w=a.n(k),C="nftCustomMint",j=Object(c["a"])(Object(c["a"])({name:C,inject:["onCheckConnect","onCopySuccess"],components:{SuccessDialog:v},props:{}},Object(u["b"])(["isPc"])),{},{data:function(){return{viewName:C,chainName:"eth",rules:{},loading:!1,buttonLoad:!1,form:{tokenAddress:"",value:"",gas:"",gasPrice:"",blockBrowser:"",input:""},tx:""}},computed:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["isPc","account","navShowChain"])),{},{chainList:function(){return Object(i["q"])(C,this.navShowChain)}}),watch:{$route:{handler:function(t){var e=t.query.tokenAddress;e&&(this.form.tokenAddress=e)},immediate:!0}},created:function(){this.$i18n.getLocaleMessage("en")[C]||(this.$i18n.mergeLocaleMessage("en",l.en),this.$i18n.mergeLocaleMessage("zh",l.zh)),this.chainName=this.$route.meta.chainName,this.rules={title:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],tokenAddress:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],receiveAddress:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],tokenId:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],amount:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},mounted:function(){},methods:{getMintData:function(t){var e=arguments,a=this;return Object(o["a"])(Object(r["a"])().mark((function s(){var n,o,c,i;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.length>1&&void 0!==e[1]?e[1]:"latest",s.next=3,a.MintData(t,n);case 3:if(o=s.sent,o){s.next=7;break}return a.getMintData(Object(x["toHex"])(parseInt(t)+50),"latest"),s.abrupt("return");case 7:a.buttonLoad=!0,c=o.length-1;case 9:if(!(c>=0)){s.next=30;break}if(s.prev=10,3!==o[c].topics.length){s.next=13;break}return s.abrupt("continue",27);case 13:return a.form.blockBrowser="https://etherscan.io/tx/"+o[c].transactionHash,s.next=16,a.getTransactionByHash(o[c].transactionHash);case 16:return i=s.sent,a.form.value=new w.a(i.value).div(Math.pow(10,18)),a.form.input=i.input.toLowerCase().replace(i.from.replace("0x","").toLowerCase(),m["a"].getAccount()?m["a"].getAccount().replace("0x","").toLowerCase():i.from.replace("0x","").toLowerCase()),a.form.gas=parseInt(i.gas),a.form.gasPrice=new w.a(parseInt(i.gasPrice)).div(Math.pow(10,9)),a.loading=!0,s.abrupt("break",30);case 25:s.prev=25,s.t0=s["catch"](10);case 27:c--,s.next=9;break;case 30:a.buttonLoad=!1;case 31:case"end":return s.stop()}}),s,null,[[10,25]])})))()},blockNumber:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax({url:t.$coinInfo[t.chainName].rpcNode,method:"post",data:{jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:83}});case 2:return a=e.sent,e.abrupt("return",parseInt(a.result));case 4:case"end":return e.stop()}}),e)})))()},MintData:function(t){var e=arguments,a=this;return Object(o["a"])(Object(r["a"])().mark((function s(){var n,o;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.length>1&&void 0!==e[1]?e[1]:"latest",s.next=3,a.$ajax({url:a.$coinInfo[a.chainName].rpcNode,method:"post",data:{jsonrpc:"2.0",id:1,method:"eth_getLogs",params:[{address:a.form.tokenAddress.trim(),topics:["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000"],fromBlock:t,toBlock:n}]}});case 3:return o=s.sent,s.abrupt("return",o.result);case 5:case"end":return s.stop()}}),s)})))()},getTransactionByHash:function(t){var e=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$ajax({url:e.$coinInfo[e.chainName].rpcNode,method:"post",data:{jsonrpc:"2.0",method:"eth_getTransactionByHash",params:[t],id:1}});case 2:return s=a.sent,a.abrupt("return",s.result);case 4:case"end":return a.stop()}}),a)})))()},Mint:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a,s,n,o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={from:m["a"].getAccount(),to:t.form.tokenAddress.trim(),value:Object(x["toHex"])(new w.a(t.form.value).times(Math.pow(10,18))),data:t.form.input,gas:Object(x["toHex"])(t.form.gas),gasPrice:Object(x["toHex"])(new w.a(t.form.gasPrice).times(Math.pow(10,9))),chainId:m["a"].getChainId()},s=t,e.prev=2,e.next=5,m["a"].sendTransaction(a);case 5:return n=e.sent,e.next=8,m["a"].getTransactionSuccess(n);case 8:o=e.sent,200===o.code&&(s.buttonLoad=!1),t.tx=n,t.$refs.SuccessDialog.show(),e.next=19;break;case 14:return e.prev=14,e.t0=e["catch"](2),t.$message({message:s.$t("common.transactionError")+": "+e.t0,type:"error"}),t.buttonLoad=!1,e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[2,14]])})))()},onConfirm:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=x["toHex"],e.next=4,t.blockNumber();case 4:e.t2=e.sent,e.t3=e.t2-4e3,e.t4=(0,e.t1)(e.t3),e.t0.getMintData.call(e.t0,e.t4,"latest");case 8:case"end":return e.stop()}}),e)})))()}}}),O=j,$=(a("4fcf"),Object(h["a"])(O,s,n,!1,null,"2c7e102e",null));e["default"]=$.exports}}]);