(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ad5f1e7"],{"05ab":function(e,t,a){"use strict";a("e3a5")},2302:function(e,t,a){"use strict";var s=a("ed08");t["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(s["c"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"38a1":function(e,t,a){"use strict";a("cb17")},"493a":function(e,t,a){"use strict";a("e0cc")},cb17:function(e,t,a){},e0cc:function(e,t,a){},e3a5:function(e,t,a){},ecac:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"flexBox"},[a("div",{staticClass:"leftBox"},[a("UserCard")],1),a("div",{staticClass:"rightBox"},[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabsArr,(function(t){return a("el-tab-pane",{key:t.value,attrs:{label:t.label,name:t.value}},[e.balanceList[t.value]?a("AssetTable",{attrs:{list:e.balanceList[t.value],"chain-name":t.value}}):e._e()],1)})),1)],1)])])},i=[],n=a("e7e7"),r=a("a892"),c=a("4833"),o=a("efe2"),l=(a("8b79"),a("a9b5"),a("6a61"),a("52c1")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[e._m(0),a("div",{staticClass:"content"},[a("div",{staticClass:"userInfo"},[a("div",{staticClass:"picture"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"coin-eth2"}})],1),a("el-tooltip",{attrs:{effect:"dark",content:e.account,placement:"top"}},[a("div",{staticClass:"account"},[a("span",{staticClass:"text"},[e._v(e._s(e.account))]),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.account,expression:"account",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],attrs:{type:"text"}},[a("svg-icon",{staticClass:"copy",attrs:{"icon-class":"copy"}})],1)],1)]),a("div",{staticClass:"price"},[e._v("$"+e._s(e._f("toThousandFilter")(e._f("autoFixed")(e.total_usd_value))))]),a("el-tooltip",{attrs:{effect:"dark",content:e.$t("profile.address_age"),placement:"top"}},[a("div",{staticClass:"time"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"time"}}),a("span",[e._v(e._s(e.create_day)+" days")])],1)])],1),a("div",{staticClass:"user-bio"},[a("div",{staticClass:"user-education user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"list"}}),a("span",[e._v(e._s(e.$t("profile.support")))])],1),a("div",{staticClass:"desc"},[e._v(" 这是一段介绍 ")])]),a("div",{staticClass:"user-skills user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"amount"}}),a("span",[e._v(e._s(e.$t("profile.personal")))])],1),a("div",{staticClass:"echart"},[a("PieChart",{ref:"PieChart"})],1)])])])])},d=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("span",[e._v("Wallet")]),a("span",[a("i",{staticClass:"el-icon-share"})])])}],p=(a("f597"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width},attrs:{id:e.id}})}),h=[],f=a("4d28"),b=a.n(f),v=a("2302"),m={mixins:[v["a"]],props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"220px"}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=b.a.init(document.getElementById(this.id))},setOptions:function(e){this.chart.setOption({tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},grid:{top:"35%"},series:[{name:"",type:"pie",center:["50%","65%"],radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"16",fontWeight:"bold"}},color:e.color,labelLine:{show:!1},data:e.data}]})}}},_=m,g=a("5d22"),C=Object(g["a"])(_,p,h,!1,null,null,null),$=C.exports,y=a("8975"),w={inject:["onCopySuccess"],components:{PieChart:$},data:function(){return{total_usd_value:"",create_day:0,address:"0x9407ca600a2b955273dc78ecae1bf22d652df0f1"}},computed:Object(o["a"])({},Object(l["b"])(["isConnect","account","isPc","language"])),created:function(){},mounted:function(){this.getAccountInfo(),this.getTotalBalance()},methods:{getAccountInfo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax({url:"https://api.debank.com/user/addr",method:"get",data:{addr:e.address}});case 2:a=t.sent,s=e.$moment(new Date).format("YYYY-MM-DD"),i=e.$moment(1e3*a.data.create_at).format("YYYY-MM-DD"),n=e.$moment(s).diff(i,"days"),e.create_day=n,console.log("getTotalBalance");case 8:case"end":return t.stop()}}),t)})))()},getTotalBalance:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax({url:"https://openapi.debank.com/v1/user/total_balance",method:"get",data:{id:e.address}});case 2:a=t.sent,s=[],i=[],a.chain_list.forEach((function(t){0!==t.usd_value&&(s.push({value:Object(y["autoFixed"])(t.usd_value),name:e.$coinInfo[t.id].chainName}),i.push(e.$coinInfo[t.id].color))})),e.total_usd_value=a.total_usd_value,e.$refs.PieChart.setOptions({data:s,color:i});case 8:case"end":return t.stop()}}),t)})))()}}},x=w,E=(a("493a"),Object(g["a"])(x,u,d,!1,null,"59c1159a",null)),j=E.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableBox"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":"id","max-height":500}},[a("el-table-column",{attrs:{label:e.$t("profile.symbol"),"min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"tokenBox"},[a("el-image",{staticClass:"img",attrs:{src:s.logo_url}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn/pic/unknown-token.png"}})])]),a("span",[e._v(e._s(s.optimized_symbol))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.chainName!==s.id,expression:"chainName !== row.id"},{name:"clipboard",rawName:"v-clipboard:copy",value:s.id,expression:"row.id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticClass:"copy",attrs:{type:"text"}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"copy"}})],1)],1)]}}])}),e.isPc?a("el-table-column",{attrs:{label:e.$t("profile.price"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" $"+e._s(e._f("toThousandFilter")(e._f("autoFixed")(a.price)))+" ")]}}],null,!1,4182280618)}):e._e(),e.isPc?a("el-table-column",{attrs:{label:e.$t("profile.balance"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e._f("toThousandFilter")(e._f("autoFixed")(a.balance)))+" ")]}}],null,!1,2196246277)}):e._e(),a("el-table-column",{attrs:{label:e.$t("profile.value"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" $"+e._s(e._f("toThousandFilter")(e._f("autoFixed")(a.all_price)))+" ")]}}])})],1),e._m(0)],1)},k=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"showMore"},[a("span",[e._v("查看所有资产")])])}],O={inject:["onCopySuccess"],props:{list:{type:Array,required:!0},chainName:{type:String,required:!0}},data:function(){return{}},computed:Object(o["a"])({},Object(l["b"])(["isPc","language"])),watch:{},created:function(){},methods:{}},S=O,R=(a("38a1"),Object(g["a"])(S,z,k,!1,null,"09ac9a97",null)),L=R.exports,T=a("ed08"),A={zh:{profile:{address_age:"地址年龄：自第一笔交易至今的时间",portfolio:"资产总览",support:"支持的链",personal:"资产占比",all:"全部资产",symbol:"Token",balance:"数量",value:"价值",price:"价格"}},en:{profile:{address_age:"Age of address: time since first transaction",portfolio:"Portfolio",support:"Compatibility",personal:"Asset ratio",all:"All Chain",symbol:"Symbol",balance:"Balance",value:"Value",price:"Price"}}},B="profile",N={name:B,components:{UserCard:j,AssetTable:L},data:function(){return{list:[],balanceList:{},tabsArr:[],supportChainList:["eth","bsc","matic","heco","xdai","ftm","okt","avax","arb","op"],activeTab:"bsc"}},computed:Object(o["a"])({},Object(l["b"])(["name","avatar","roles"])),created:function(){this.$i18n.getLocaleMessage("en")[B]||(this.$i18n.mergeLocaleMessage("en",A.en),this.$i18n.mergeLocaleMessage("zh",A.zh)),this.tabsArr=this.getTabsArr()},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=Object(r["a"])(e.supportChainList);try{for(a.s();!(s=a.n()).done;)i=s.value,e.getChainBalance(i)}catch(n){a.e(n)}finally{a.f()}case 2:case"end":return t.stop()}}),t)})))()},methods:{getAllChainBalance:function(){var e=[];for(var t in this.balanceList)"all"!==t&&(e=e.concat(this.balanceList[t]));e=e.sort(Object(T["m"])("all_price",1)),this.$set(this.balanceList,"all",e),console.log(e)},getChainBalance:function(){var e=arguments,t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var s,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.length>0&&void 0!==e[0]?e[0]:"bsc",a.next=3,t.$ajax({url:"https://api.debank.com/token/balance_list",method:"get",data:{chain:s,is_all:!1,user_addr:"0x9407ca600a2b955273dc78ecae1bf22d652df0f1"}});case 3:i=a.sent,n=i.data.map((function(e){var t=e.balance/1e18;return Object(o["a"])(Object(o["a"])({},e),{},{balance:t,all_price:t*e.price})})),n=n.sort(Object(T["m"])("all_price",1)),t.$set(t.balanceList,s,n),t.getAllChainBalance(),console.log(t.balanceList);case 9:case"end":return a.stop()}}),a)})))()},getTabsArr:function(){var e=this,t=this.supportChainList.map((function(t){return{label:e.$coinInfo[t].chainName,value:t}}));return[{label:this.$t("profile.all"),value:"all"}].concat(Object(n["a"])(t))}}},P=N,F=(a("05ab"),Object(g["a"])(P,s,i,!1,null,"7ef4088e",null));t["default"]=F.exports}}]);