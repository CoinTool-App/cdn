(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-605f2b14"],{"02020":function(e,t,i){"use strict";i.d(t,"a",(function(){return B}));var n=i("08c2"),a=i("fd94"),r=i("4e2e"),o=i("bfe2"),s=i("e9ca"),l=[20,140],u=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return Object(n["b"])(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=l[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=l[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):a["isArray"](t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),a["each"](this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=o["c"]((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(i){var n=[],a=i.getData();a.each(this.getDataDimensionIndex(a),(function(t,i){e[0]<=t&&t<=e[1]&&n.push(i)}),this),t.push({seriesId:i.id,dataIndex:n})}),this),t},t.prototype.getVisualMeta=function(e){var t=c(this,"outOfRange",this.getExtent()),i=c(this,"inRange",this.option.range.slice()),n=[];function a(t,i){n.push({value:t,color:e(t,i)})}for(var r=0,o=0,s=i.length,l=t.length;o<l&&(!i.length||t[o]<=i[0]);o++)t[o]<i[r]&&a(t[o],"outOfRange");for(var u=1;r<s;r++,u=0)u&&n.length&&a(i[r],"outOfRange"),a(i[r],"inRange");for(u=1;o<l;o++)(!i.length||i[i.length-1]<t[o])&&(u&&(n.length&&a(n[n.length-1].value,"outOfRange"),u=0),a(t[o],"outOfRange"));var p=n.length;return{stops:n,outerColors:[p?n[0].color:"transparent",p?n[p-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Object(s["d"])(r["a"].defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(r["a"]);function c(e,t,i){if(i[0]===i[1])return i.slice();for(var n=200,a=(i[1]-i[0])/n,r=i[0],o=[],s=0;s<=n&&r<i[1];s++)o.push(r),r+=a;return o.push(i[1]),o}var p=u,h=i("5aef"),d=i("73b9"),f=i("09a6"),g=i("5c25"),v=i("1161"),y=i("d9de"),m=i("c85e"),b=i("6b9a"),x=i("0c23"),S=i("5e97"),_=i("ccad"),M=i("53a4"),O=i("c975"),I=i("7d22"),V=i("5dfbc"),w=i("f897"),T=o["l"],C=a["each"],D=Math.min,L=Math.max,z=12,R=6,A=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return Object(n["b"])(t,e),t.prototype.doRender=function(e,t,i,n){this._api=i,n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,i){if(t){var n=t[1-i];n=null!=n?n+"":"";var a=this.visualMapModel,r=a.get("textGap"),o=a.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([o[0]/2,0===i?-r:o[1]+r],s),u=this._applyTransform(0===i?"bottom":"top",s),c=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new g["a"]({style:{x:l[0],y:l[1],verticalAlign:"horizontal"===c?"middle":u,align:"horizontal"===c?u:"center",text:n,font:p.getFont(),fill:p.getTextColor()}}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,i=this._shapes,n=t.itemSize,r=this._orient,o=this._useHandle,s=S["a"](t,this.api,n),l=i.mainGroup=this._createBarGroup(s),u=new v["a"];l.add(u),u.add(i.outOfRange=j()),u.add(i.inRange=j(null,o?P(this._orient):null,a["bind"](this._dragHandle,this,"all",!1),a["bind"](this._dragHandle,this,"all",!0))),u.setClipPath(new y["a"]({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var c=t.textStyleModel.getTextRect("国"),p=L(c.width,c.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(t,l,0,n,p,r),this._createHandle(t,l,1,n,p,r)),this._createIndicator(t,l,n,p,r),e.add(l)},t.prototype._createHandle=function(e,t,i,n,r,o){var s=a["bind"](this._dragHandle,this,i,!1),l=a["bind"](this._dragHandle,this,i,!0),u=Object(M["h"])(e.get("handleSize"),n[0]),c=Object(I["a"])(e.get("handleIcon"),-u/2,-u/2,u,u,null,!0),p=P(this._orient);c.attr({cursor:p,draggable:!0,drift:s,ondragend:l,onmousemove:function(e){d["g"](e.event)}}),c.x=n[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(O["F"])(c,!0),t.add(c);var h=this.visualMapModel.textStyleModel,f=new g["a"]({cursor:p,draggable:!0,drift:s,onmousemove:function(e){d["g"](e.event)},ondragend:l,style:{x:0,y:0,text:"",font:h.getFont(),fill:h.getTextColor()}});f.ensureState("blur").style={opacity:.1},f.stateTransition={duration:200},this.group.add(f);var v=[u,0],y=this._shapes;y.handleThumbs[i]=c,y.handleLabelPoints[i]=v,y.handleLabels[i]=f},t.prototype._createIndicator=function(e,t,i,n,r){var o=Object(M["h"])(e.get("indicatorSize"),i[0]),s=Object(I["a"])(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);s.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var l=e.getModel("indicatorStyle").getItemStyle();if(s instanceof V["a"]){var u=s.style;s.useStyle(a["extend"]({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},l))}else s.useStyle(l);t.add(s);var c=this.visualMapModel.textStyleModel,p=new g["a"]({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:c.getFont(),fill:c.getTextColor()}});this.group.add(p);var h=[("horizontal"===r?n/2:R)+i[0]/2,0],d=this._shapes;d.indicator=s,d.indicatorLabel=p,d.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,i,n){if(this._useHandle){if(this._dragging=!t,!t){var a=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(e,a[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():k(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[T(t[0],i,n,!0),T(t[1],i,n,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var i=this.visualMapModel,n=this._handleEnds,a=[0,i.itemSize[1]];Object(x["a"])(t,n,a,e,0);var r=i.getExtent();this._dataInterval=[T(n[0],a,r,!0),T(n[1],a,r,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,i=t.getExtent(),n=this._shapes,a=[0,t.itemSize[1]],r=e?a:this._handleEnds,o=this._createBarVisual(this._dataInterval,i,r,"inRange"),s=this._createBarVisual(i,i,a,"outOfRange");n.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints),n.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(r,o)},t.prototype._createBarVisual=function(e,t,i,n){var a={forceState:n,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,a),o=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],s=this._createBarPoints(i,o);return{barColor:new h["a"](0,0,0,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var i=100,n=[],a=(e[1]-e[0])/i;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<i;r++){var o=e[0]+a*r;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:r/i})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},t.prototype._createBarPoints=function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new v["a"]("horizontal"!==t||i?"horizontal"===t&&i?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||i?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,a=i.handleThumbs,r=i.handleLabels,o=n.itemSize,s=n.getExtent();C([0,1],(function(l){var u=a[l];u.setStyle("fill",t.handlesColor[l]),u.y=e[l];var c=T(e[l],[0,o[1]],s,!0),p=this.getControllerVisual(c,"symbolSize");u.scaleX=u.scaleY=p/o[0],u.x=o[0]-p/2;var h=m["applyTransform"](i.handleLabelPoints[l],m["getTransform"](u,this.group));r[l].setStyle({x:h[0],y:h[1],text:n.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,i,n){var a=this.visualMapModel,r=a.getExtent(),o=a.itemSize,s=[0,o[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var c={convertOpacityToAlpha:!0},p=this.getControllerVisual(e,"color",c),h=this.getControllerVisual(e,"symbolSize"),d=T(e,r,s,!0),f=o[0]-h/2,g={x:u.x,y:u.y};u.y=d,u.x=f;var v=m["applyTransform"](l.indicatorLabelPoint,m["getTransform"](u,this.group)),y=l.indicatorLabel;y.attr("invisible",!1);var b=this._applyTransform("left",l.mainGroup),x=this._orient,S="horizontal"===x;y.setStyle({text:(i||"")+a.formatValueText(t),verticalAlign:S?b:"middle",align:S?"center":b});var _={x:f,y:d,style:{fill:p}},M={style:{x:v[0],y:v[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var O={duration:100,easing:"cubicInOut",additive:!0};u.x=g.x,u.y=g.y,u.animateTo(_,O),y.animateTo(M,O)}else u.attr(_),y.attr(M);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var V=0;V<I.length;V++)this._api.enterBlur(I[V])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);n[1]=D(L(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var a=[0,n[1]],r=i.getExtent();e=D(L(a[0],e),a[1]);var o=H(i,r,a),s=[e-o,e+o],l=T(e,a,r,!0),u=[T(s[0],a,r,!0),T(s[1],a,r,!0)];s[0]<a[0]&&(u[0]=-1/0),s[1]>a[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",o):u[1]===1/0?this._showIndicator(l,u[0],"> ",o):this._showIndicator(l,l,"≈ ",o));var c=this._hoverLinkDataIndices,p=[];(t||k(i))&&(p=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var h=_["d"](c,p);this._dispatchHighDown("downplay",S["b"](h[0],i)),this._dispatchHighDown("highlight",S["b"](h[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t=e.target,i=this.visualMapModel;if(t&&null!=Object(w["a"])(t).dataIndex){var n=Object(w["a"])(t),a=this.ecModel.getSeriesByIndex(n.seriesIndex);if(i.isTargetSeries(a)){var r=a.getData(n.dataType),o=r.getStore().get(i.getDataDimensionIndex(r),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var i=0;i<t.length;i++)this._api.leaveBlur(t[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",S["b"](e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,i,n){var r=m["getTransform"](t,n?null:this.group);return a["isArray"](e)?m["applyTransform"](e,r,i):m["transformDirection"](e,r,i)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(f["a"]);function j(e,t,i,n){return new b["a"]({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){d["g"](e.event)},ondragend:n})}function H(e,t,i){var n=z/2,a=e.get("hoverLinkDataSize");return a&&(n=T(a,t,i,!0)/2),n}function k(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function P(e){return"vertical"===e?"ns-resize":"ew-resize"}var E=A,F=i("9fe5");function B(e){e.registerComponentModel(p),e.registerComponentView(E),Object(F["a"])(e)}},"09a6":function(e,t,i){"use strict";var n=i("08c2"),a=i("fd94"),r=i("d9de"),o=i("ac8e"),s=i("5ea6"),l=i("b7b3"),u=i("a812"),c=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return Object(n["b"])(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,i,n){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,i,n):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,i=o["j"](t.get("padding")||0),n=e.getBoundingRect();e.add(new r["a"]({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,i){i=i||{};var n=i.forceState,r=this.visualMapModel,o={};if("color"===t){var s=r.get("contentColor");o.color=s}function u(e){return o[e]}function c(e,t){o[e]=t}var p=r.controllerVisuals[n||r.getValueState(e)],h=l["a"].prepareVisualTypes(p);return a["each"](h,(function(n){var a=p[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",a=p.__alphaForOpacity),l["a"].dependsOn(n,t)&&a&&a.applyVisual(e,u,c)})),o[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,i=this.api;s["i"](e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,t,i,n){},t.type="visualMap",t}(u["a"]);t["a"]=c},"0c23":function(e,t,i){"use strict";function n(e,t,i,n,o,s){e=e||0;var l=i[1]-i[0];if(null!=o&&(o=r(o,[0,l])),null!=s&&(s=Math.max(s,null!=o?o:0)),"all"===n){var u=Math.abs(t[1]-t[0]);u=r(u,[0,l]),o=s=r(u,[o,s]),n=0}t[0]=r(t[0],i),t[1]=r(t[1],i);var c=a(t,n);t[n]+=e;var p,h=o||0,d=i.slice();return c.sign<0?d[0]+=h:d[1]-=h,t[n]=r(t[n],d),p=a(t,n),null!=o&&(p.sign!==c.sign||p.span<o)&&(t[1-n]=t[n]+c.sign*o),p=a(t,n),null!=s&&p.span>s&&(t[1-n]=t[n]+p.sign*s),t}function a(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function r(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}i.d(t,"a",(function(){return n}))},"15b6":function(e,t,i){"use strict";function n(e,t){return e.type===t}i.d(t,"a",(function(){return n}))},"4e2e":function(e,t,i){"use strict";var n=i("08c2"),a=i("fd94"),r=i("5181"),o=i("f899"),s=i("b7b3"),l=i("8848"),u=i("ccad"),c=i("bfe2"),p=i("ee9c"),h=s["a"].mapVisual,d=s["a"].eachVisual,f=a["isArray"],g=a["each"],v=c["c"],y=c["l"],m=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return Object(n["b"])(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,t){var i=this.option;r["a"].canvasSupported||(i.realtime=!1),!t&&l["d"](i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=a["bind"](e,this),this.controllerVisuals=l["b"](this.option.controller,t,e),this.targetVisuals=l["b"](this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,i){t.push(i)})):t=u["r"](e),t},t.prototype.eachTargetSeries=function(e,t){a["each"](this.getTargetSeriesIndices(),(function(i){var n=this.ecModel.getSeriesByIndex(i);n&&e.call(t,n)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(i){i===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,i){var n,r=this.option,o=r.precision,s=this.dataBound,l=r.formatter;i=i||["<",">"],a["isArray"](e)&&(e=e.slice(),n=!0);var u=t?e:n?[c(e[0]),c(e[1])]:c(e);return a["isString"](l)?l.replace("{value}",n?u[0]:u).replace("{value2}",n?u[1]:u):a["isFunction"](l)?n?l(e[0],e[1]):l(e):n?e[0]===s[0]?i[0]+" "+u[1]:e[1]===s[1]?i[1]+" "+u[0]:u[0]+" - "+u[1]:u;function c(e){return e===s[0]?"min":e===s[1]?"max":(+e).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,t=v([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var i=e.dimensions,n=i.length-1;n>=0;n--){var a=i[n],r=e.getDimensionInfo(a);if(!r.isCalculationCoord)return r.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),r=t.controller||(t.controller={});a["merge"](n,i),a["merge"](r,i);var l=this.isCategory();function u(i){f(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")}}function c(e,t,i){var n=e[t],a=e[i];n&&!a&&(a=e[i]={},g(n,(function(e,t){if(s["a"].isValidType(t)){var i=o["a"].get(t,"inactive",l);null!=i&&(a[t]=i,"color"!==t||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}})))}function p(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor"),r=this.getItemSymbol(),o=r||"roundRect";g(this.stateList,(function(r){var s=this.itemSize,u=e[r];u||(u=e[r]={color:l?n:[n]}),null==u.symbol&&(u.symbol=t&&a["clone"](t)||(l?o:[o])),null==u.symbolSize&&(u.symbolSize=i&&a["clone"](i)||(l?s[0]:[s[0],s[0]])),u.symbol=h(u.symbol,(function(e){return"none"===e?o:e}));var c=u.symbolSize;if(null!=c){var p=-1/0;d(c,(function(e){e>p&&(p=e)})),u.symbolSize=h(c,(function(e){return y(e,[0,p],[0,s[0]],!0)}))}}),this)}u.call(this,n),u.call(this,r),c.call(this,n,"inRange","outOfRange"),p.call(this,r)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(p["a"]);t["a"]=m},"5e97":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s}));var n=i("fd94"),a=i("5ea6"),r=[["left","right","width"],["top","bottom","height"]];function o(e,t,i){var n=e.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var s={width:t.getWidth(),height:t.getHeight()},l="horizontal"===n.orient?1:0,u=r[l],c=[0,null,10],p={},h=0;h<3;h++)p[r[1-l][h]]=c[h],p[u[h]]=2===h?i[0]:n[u[h]];var d=[["x","width",3],["y","height",0]][l],f=Object(a["g"])(p,s,n.padding);return u[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*s[d[1]]?0:1]}function s(e,t){return n["each"](e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}},8848:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"d",(function(){return u})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return p}));var n=i("fd94"),a=i("b7b3"),r=i("5cb9"),o=n["each"];function s(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function l(e,t,i){var r={};return o(t,(function(t){var l=r[t]=s();o(e[t],(function(e,r){if(a["a"].isValidType(r)){var o={type:r,visual:e};i&&i(o,t),l[r]=new a["a"](o),"opacity"===r&&(o=n["clone"](o),o.type="colorAlpha",l.__hidden.__alphaForOpacity=new a["a"](o))}}))})),r;function s(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function u(e,t,i){var a;n["each"](i,(function(e){t.hasOwnProperty(e)&&s(t[e])&&(a=!0)})),a&&n["each"](i,(function(i){t.hasOwnProperty(i)&&s(t[i])?e[i]=n["clone"](t[i]):delete e[i]}))}function c(e,t,i,o,s,l){var u,c={};function p(e){return Object(r["a"])(i,u,e)}function h(e,t){Object(r["c"])(i,u,e,t)}function d(e,n){u=null==l?e:n;var a=i.getRawDataItem(u);if(!a||!1!==a.visualMap)for(var r=o.call(s,e),d=t[r],f=c[r],g=0,v=f.length;g<v;g++){var y=f[g];d[y]&&d[y].applyVisual(e,p,h)}}n["each"](e,(function(e){var i=a["a"].prepareVisualTypes(t[e]);c[e]=i})),null==l?i.each(d):i.each([l],d)}function p(e,t,i,o){var s={};return n["each"](e,(function(e){var i=a["a"].prepareVisualTypes(t[e]);s[e]=i})),{progress:function(e,n){var a,l;function u(e){return Object(r["a"])(n,l,e)}function c(e,t){Object(r["c"])(n,l,e,t)}null!=o&&(a=n.getDimensionIndex(o));var p=n.getStore();while(null!=(l=e.next())){var h=n.getRawDataItem(l);if(!h||!1!==h.visualMap)for(var d=null!=o?p.get(a,l):l,f=i(d),g=t[f],v=s[f],y=0,m=v.length;y<m;y++){var b=v[y];g[b]&&g[b].applyVisual(d,u,c)}}}}}},"9fe5":function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n={type:"selectDataRange",event:"dataRangeSelected",update:"update"},a=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},r=i("fd94"),o=i("8848"),s=i("b7b3"),l=i("5cb9"),u=[{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",(function(t){var n=e.pipelineContext;!t.isTargetSeries(e)||n&&n.large||i.push(o["c"](t.stateList,t.targetVisuals,r["bind"](t.getValueState,t),t.getDataDimensionIndex(e.getData())))})),i}},{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),n=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var a=t.getVisualMeta(r["bind"](c,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimensionIndex(i);o>=0&&(a.dimension=o,n.push(a))}})),e.getData().setVisual("visualMeta",n)}}];function c(e,t,i,n){for(var a=t.targetVisuals[n],r=s["a"].prepareVisualTypes(a),o={color:Object(l["b"])(e.getData(),"color")},u=0,c=r.length;u<c;u++){var p=r[u],h=a["opacity"===p?"__alphaForOpacity":p];h&&h.applyVisual(i,d,f)}return o.color;function d(e){return o[e]}function f(e,t){o[e]=t}}var p=r["each"];function h(e){var t=e&&e.visualMap;r["isArray"](t)||(t=t?[t]:[]),p(t,(function(e){if(e){d(e,"splitList")&&!d(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&r["isArray"](t)&&p(t,(function(e){r["isObject"](e)&&(d(e,"start")&&!d(e,"min")&&(e.min=e.start),d(e,"end")&&!d(e,"max")&&(e.max=e.end))}))}}))}function d(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var f=!1;function g(e){f||(f=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(n,a),Object(r["each"])(u,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(h))}},b29d:function(e,t,i){"use strict";var n=i("fd94"),a=i("091f"),r=i("8bbb"),o=i("0d3b"),s=i("ccad"),l=i("8b7b"),u=function(){function e(e){this.coordSysDims=[],this.axisMap=Object(n["createHashMap"])(),this.categoryAxisMap=Object(n["createHashMap"])(),this.coordSysName=e}return e}();function c(e){var t=e.get("coordinateSystem"),i=new u(t),n=p[t];if(n)return n(e,i,i.axisMap,i.categoryAxisMap),i}var p={cartesian2d:function(e,t,i,n){var a=e.getReferringComponents("xAxis",s["b"]).models[0],r=e.getReferringComponents("yAxis",s["b"]).models[0];t.coordSysDims=["x","y"],i.set("x",a),i.set("y",r),h(a)&&(n.set("x",a),t.firstCategoryDimIndex=0),h(r)&&(n.set("y",r),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,i,n){var a=e.getReferringComponents("singleAxis",s["b"]).models[0];t.coordSysDims=["single"],i.set("single",a),h(a)&&(n.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,i,n){var a=e.getReferringComponents("polar",s["b"]).models[0],r=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",o),h(r)&&(n.set("radius",r),t.firstCategoryDimIndex=0),h(o)&&(n.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,i,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,i,a){var r=e.ecModel,o=r.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();Object(n["each"])(o.parallelAxisIndex,(function(e,n){var o=r.getComponent("parallelAxis",e),l=s[n];i.set(l,o),h(o)&&(a.set(l,o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=n))}))}};function h(e){return"category"===e.get("type")}var d=i("f4da"),f=i("89d8"),g=i("425f"),v=i("5472");function y(e,t){var i,a=e.get("coordinateSystem"),r=l["a"].get(a);return t&&t.coordSysDims&&(i=n["map"](t.coordSysDims,(function(e){var i={name:e},n=t.axisMap.get(e);if(n){var a=n.get("type");i.type=Object(o["a"])(a)}return i}))),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function m(e,t,i){var a,r;return i&&n["each"](e,(function(e,n){var o=e.coordDim,s=i.categoryAxisMap.get(o);s&&(null==a&&(a=n),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(r=!0)})),r||null==a||(e[a].otherDims.itemName=0),a}function b(e,t,i){i=i||{};var o,s=t.getSourceManager(),l=!1;e?(l=!0,o=Object(d["c"])(e)):(o=s.getSource(),l=o.sourceFormat===v["f"]);var u=c(t),p=y(t,u),h=i.useEncodeDefaulter,b=n["isFunction"](h)?h:h?n["curry"](g["c"],p,t):null,S={coordDimensions:p,generateCoord:i.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:b,canOmitUnusedDimensions:!l},_=Object(r["b"])(o,S),M=m(_.dimensions,i.createInvertedIndices,u),O=l?null:s.getSharedDataStore(_),I=Object(f["a"])(t,{schema:_,store:O}),V=new a["a"](_,t);V.setCalculationInfo(I);var w=null!=M&&x(o)?function(e,t,i,n){return n===M?i:this.defaultDimValueGetter(e,t,i,n)}:null;return V.hasItemOption=!1,V.initData(l?o:O,null,w),V}function x(e){if(e.sourceFormat===v["f"]){var t=S(e.data||[]);return null!=t&&!n["isArray"](Object(s["h"])(t))}}function S(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}t["a"]=b},b7b3:function(e,t,i){"use strict";var n=i("fd94"),a=i("def8"),r=i("bfe2"),o=n["each"],s=n["isObject"],l=-1,u=function(){function e(t){var i=t.mappingMethod,a=t.type,r=this.option=n["clone"](t);this.type=a,this.mappingMethod=i,this._normalizeData=S[i];var o=e.visualHandlers[a];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[i],"piecewise"===i?(h(r),c(r)):"category"===i?r.categories?p(r):h(r,!0):(n["assert"]("linear"!==i||r.dataExtent),h(r))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return n["bind"](this._normalizeData,this)},e.listVisualTypes=function(){return n["keys"](e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,i){n["isObject"](e)?n["each"](e,t,i):t.call(i,e)},e.mapVisual=function(t,i,a){var r,o=n["isArray"](t)?[]:n["isObject"](t)?{}:(r=!0,null);return e.eachVisual(t,(function(e,t){var n=i.call(a,e,t);r?o=n:o[t]=n})),o},e.retrieveVisuals=function(t){var i,n={};return t&&o(e.visualHandlers,(function(e,a){t.hasOwnProperty(a)&&(n[a]=t[a],i=!0)})),i?n:null},e.prepareVisualTypes=function(e){if(n["isArray"](e))e=e.slice();else{if(!s(e))return[];var t=[];o(e,(function(e,i){t.push(i)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,i){for(var n,a=1/0,r=0,o=t.length;r<o;r++){var s=t[r].value;if(null!=s){if(s===e||"string"===typeof s&&s===e+"")return r;i&&p(s,r)}}for(r=0,o=t.length;r<o;r++){var l=t[r],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(_(c[1],e,u[1]))return r}else if(u[1]===1/0){if(_(c[0],u[0],e))return r}else if(_(c[0],u[0],e)&&_(c[1],e,u[1]))return r;i&&p(u[0],r),i&&p(u[1],r)}}if(i)return e===1/0?t.length-1:e===-1/0?0:n;function p(t,i){var r=Math.abs(t-e);r<a&&(a=r,n=i)}},e.visualHandlers={color:{applyVisual:g("color"),getColorMapper:function(){var e=this.option;return n["bind"]("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),v.call(this,e)}:function(t,i,n){var r=!!n;return!i&&(t=this._normalizeData(t)),n=a["fastLerp"](t,e.parsedVisual,n),r?n:a["stringify"](n,"rgba")},this)},_normalizedToVisual:{linear:function(e){return a["stringify"](a["fastLerp"](e,this.option.parsedVisual),"rgba")},category:v,piecewise:function(e,t){var i=b.call(this,t);return null==i&&(i=a["stringify"](a["fastLerp"](e,this.option.parsedVisual),"rgba")),i},fixed:y}},colorHue:d((function(e,t){return a["modifyHSL"](e,t)})),colorSaturation:d((function(e,t){return a["modifyHSL"](e,null,t)})),colorLightness:d((function(e,t){return a["modifyHSL"](e,null,null,t)})),colorAlpha:d((function(e,t){return a["modifyAlpha"](e,t)})),decal:{applyVisual:g("decal"),_normalizedToVisual:{linear:null,category:v,piecewise:null,fixed:null}},opacity:{applyVisual:g("opacity"),_normalizedToVisual:m([0,1])},liftZ:{applyVisual:g("liftZ"),_normalizedToVisual:{linear:y,category:y,piecewise:y,fixed:y}},symbol:{applyVisual:function(e,t,i){var n=this.mapValueToVisual(e);i("symbol",n)},_normalizedToVisual:{linear:f,category:v,piecewise:function(e,t){var i=b.call(this,t);return null==i&&(i=f.call(this,e)),i},fixed:y}},symbolSize:{applyVisual:g("symbolSize"),_normalizedToVisual:m([0,1])}},e}();function c(e){var t=e.pieceList;e.hasSpecialVisual=!1,n["each"](t,(function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function p(e){var t=e.categories,i=e.categoryMap={},a=e.visual;if(o(t,(function(e,t){i[e]=t})),!n["isArray"](a)){var r=[];n["isObject"](a)?o(a,(function(e,t){var n=i[t];r[null!=n?n:l]=e})):r[l]=a,a=x(e,r)}for(var s=t.length-1;s>=0;s--)null==a[s]&&(delete i[t[s]],t.pop())}function h(e,t){var i=e.visual,a=[];n["isObject"](i)?o(i,(function(e){a.push(e)})):null!=i&&a.push(i);var r={color:1,symbol:1};t||1!==a.length||r.hasOwnProperty(e.type)||(a[1]=a[0]),x(e,a)}function d(e){return{applyVisual:function(t,i,n){var a=this.mapValueToVisual(t);n("color",e(i("color"),a))},_normalizedToVisual:m([0,1])}}function f(e){var t=this.option.visual;return t[Math.round(Object(r["l"])(e,[0,1],[0,t.length-1],!0))]||{}}function g(e){return function(t,i,n){n(e,this.mapValueToVisual(t))}}function v(e){var t=this.option.visual;return t[this.option.loop&&e!==l?e%t.length:e]}function y(){return this.option.visual[0]}function m(e){return{linear:function(t){return Object(r["l"])(t,e,this.option.visual,!0)},category:v,piecewise:function(t,i){var n=b.call(this,i);return null==n&&(n=Object(r["l"])(t,e,this.option.visual,!0)),n},fixed:y}}function b(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var n=u.findPieceIndex(e,i),a=i[n];if(a&&a.visual)return a.visual[this.type]}}function x(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=n["map"](t,(function(e){return a["parse"](e)}))),t}var S={linear:function(e){return Object(r["l"])(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=u.findPieceIndex(e,t,!0);if(null!=i)return Object(r["l"])(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?l:t},fixed:n["noop"]};function _(e,t,i){return e?t<=i:t<i}t["a"]=u},d9d0:function(e,t,i){"use strict";i.d(t,"a",(function(){return M}));var n=i("08c2"),a=i("fd94"),r=i("4e2e"),o=i("b7b3"),s=i("f899"),l=i("bfe2"),u=i("e9ca"),c=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._pieceList=[],i}return Object(n["b"])(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],p[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var r=this.option.categories;this.resetVisual((function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=a["clone"](r)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=a["map"](this._pieceList,(function(e){return e=a["clone"](e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,i={},n=o["a"].listVisualTypes(),r=this.isCategory();function l(e,t,i){return e&&e[t]&&e[t].hasOwnProperty(i)}a["each"](t.pieces,(function(e){a["each"](n,(function(t){e.hasOwnProperty(t)&&(i[t]=1)}))})),a["each"](i,(function(e,i){var n=!1;a["each"](this.stateList,(function(e){n=n||l(t,e,i)||l(t.target,e,i)}),this),!n&&a["each"](this.stateList,(function(e){(t[e]||(t[e]={}))[i]=s["a"].get(i,"inRange"===e?"active":"inactive",r)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var i=this.option,n=this._pieceList,r=(t?i:e).selected||{};if(i.selected=r,a["each"](n,(function(e,t){var i=this.getSelectedMapKey(e);r.hasOwnProperty(i)||(r[i]=!0)}),this),"single"===i.selectedMode){var o=!1;a["each"](n,(function(e,t){var i=this.getSelectedMapKey(e);r[i]&&(o?r[i]=!1:o=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=a["clone"](e)},t.prototype.getValueState=function(e){var t=o["a"].findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],i=this._pieceList;return this.eachTargetSeries((function(n){var a=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(t,n){var r=o["a"].findPieceIndex(t,i);r===e&&a.push(n)}),this),t.push({seriesId:n.id,dataIndex:a})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],i=["",""],n=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),o=r[r.length-1].interval[1],o!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var s=-1/0;return a["each"](r,(function(e){var t=e.interval;t&&(t[0]>s&&l([s,t[0]],"outOfRange"),l(t.slice()),s=t[1])}),this),{stops:t,outerColors:i}}function l(a,r){var o=n.getRepresentValue({interval:a});r||(r=n.getValueState(o));var s=e(o,r);a[0]===-1/0?i[0]=s:a[1]===1/0?i[1]=s:t.push({value:a[0],color:s},{value:a[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=Object(u["d"])(r["a"].defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(r["a"]),p={splitNumber:function(e){var t=this.option,i=Math.min(t.precision,20),n=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;var o=(n[1]-n[0])/r;while(+o.toFixed(i)!==o&&i<5)i++;t.precision=i,o=+o.toFixed(i),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,u=n[0];s<r;u+=o,s++){var c=s===r-1?n[1]:u+o;e.push({interval:[u,c],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),Object(l["t"])(e),a["each"](e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;a["each"](t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),h(t,e)},pieces:function(e){var t=this.option;a["each"](t.pieces,(function(t,i){a["isObject"](t)||(t={value:t});var n={text:"",index:i};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty("value")){var r=n.value=t.value;n.interval=[r,r],n.close=[1,1]}else{for(var s=n.interval=[],l=n.close=[0,0],u=[1,0,1],c=[-1/0,1/0],p=[],h=0;h<2;h++){for(var d=[["gte","gt","min"],["lte","lt","max"]][h],f=0;f<3&&null==s[h];f++)s[h]=t[d[f]],l[h]=u[f],p[h]=2===f;null==s[h]&&(s[h]=c[h])}p[0]&&s[1]===1/0&&(l[0]=0),p[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(n.value=s[0])}n.visual=o["a"].retrieveVisuals(t),e.push(n)}),this),h(t,e),Object(l["t"])(e),a["each"](e,(function(e){var t=e.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)}),this)}};function h(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var d=c,f=i("09a6"),g=i("1161"),v=i("5c25"),y=i("7d22"),m=i("5ea6"),b=i("5e97"),x=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return Object(n["b"])(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),n=t.textStyleModel,r=n.getFont(),o=n.getTextColor(),s=this._getItemAlign(),l=t.itemSize,u=this._getViewData(),c=u.endsText,p=a["retrieve"](t.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],l,p,s),a["each"](u.viewPieceList,(function(n){var u=n.piece,c=new g["a"];c.onclick=a["bind"](this._onItemClick,this,u),this._enableHoverLink(c,n.indexInModelPieceList);var h=t.getRepresentValue(u);if(this._createItemSymbol(c,h,[0,0,l[0],l[1]]),p){var d=this.visualMapModel.getValueState(h);c.add(new v["a"]({style:{x:"right"===s?-i:l[0]+i,y:l[1]/2,text:u.text,verticalAlign:"middle",align:s,font:r,fill:o,opacity:"outOfRange"===d?.5:1}}))}e.add(c)}),this),c&&this._renderEndsText(e,c[1],l,p,s),m["b"](t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var i=this;e.on("mouseover",(function(){return n("highlight")})).on("mouseout",(function(){return n("downplay")}));var n=function(e){var n=i.visualMapModel;n.option.hoverLink&&i.api.dispatchAction({type:e,batch:b["b"](n.findTargetDataIndices(t),n)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return b["a"](e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},t.prototype._renderEndsText=function(e,t,i,n,a){if(t){var r=new g["a"],o=this.visualMapModel.textStyleModel;r.add(new v["a"]({style:{x:n?"right"===a?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?a:"center",text:t,font:o.getFont(),fill:o.getTextColor()}})),e.add(r)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=a["map"](e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),i=e.get("text"),n=e.get("orient"),r=e.get("inverse");return("horizontal"===n?r:!r)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},t.prototype._createItemSymbol=function(e,t,i){e.add(Object(y["a"])(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,i=t.option,n=a["clone"](i.selected),r=t.getSelectedMapKey(e);"single"===i.selectedMode?(n[r]=!0,a["each"](n,(function(e,t){n[t]=t===r}))):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})},t.type="visualMap.piecewise",t}(f["a"]),S=x,_=i("9fe5");function M(e){e.registerComponentModel(d),e.registerComponentView(S),Object(_["a"])(e)}},f70b:function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i("08c2"),a=i("d9de"),r=i("5dfbc"),o=i("c975"),s=i("fd94"),l=256,u=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=s["createCanvas"]();this.canvas=e}return e.prototype.update=function(e,t,i,n,a,r){var o=this._getBrush(),s=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,p=this.canvas,h=p.getContext("2d"),d=e.length;p.width=t,p.height=i;for(var f=0;f<d;++f){var g=e[f],v=g[0],y=g[1],m=g[2],b=n(m);h.globalAlpha=b,h.drawImage(o,v-c,y-c)}if(!p.width||!p.height)return p;var x=h.getImageData(0,0,p.width,p.height),S=x.data,_=0,M=S.length,O=this.minOpacity,I=this.maxOpacity,V=I-O;while(_<M){b=S[_+3]/256;var w=4*Math.floor(b*(l-1));if(b>0){var T=r(b)?s:u;b>0&&(b=b*V+O),S[_++]=T[w],S[_++]=T[w+1],S[_++]=T[w+2],S[_++]=T[w+3]*b*256}else _+=4}return h.putImageData(x,0,0),p},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=s["createCanvas"]()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var n=e.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-t,t,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),e},e.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,n=i[t]||(i[t]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,o=0;o<256;o++)e[t](o/255,!0,a),n[r++]=a[0],n[r++]=a[1],n[r++]=a[2],n[r++]=a[3];return n},e}(),c=u,p=i("77e6"),h=i("15b6"),d=i("a9bd");function f(e,t,i){var n=e[1]-e[0];t=s["map"](t,(function(t){return{interval:[(t.interval[0]-e[0])/n,(t.interval[1]-e[0])/n]}}));var a=t.length,r=0;return function(e){var n;for(n=r;n<a;n++){var o=t[n].interval;if(o[0]<=e&&e<=o[1]){r=n;break}}if(n===a)for(n=r-1;n>=0;n--){o=t[n].interval;if(o[0]<=e&&e<=o[1]){r=n;break}}return n>=0&&n<a&&i[n]}}function g(e,t){var i=e[1]-e[0];return t=[(t[0]-e[0])/i,(t[1]-e[0])/i],function(e){return e>=t[0]&&e<=t[1]}}function v(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var y=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return Object(n["b"])(t,e),t.prototype.render=function(e,t,i){var n;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(i){i===e&&(n=t)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):v(a)&&this._renderOnGeo(a,e,n,i)},t.prototype.incrementalPrepareRender=function(e,t,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,i,n){var a=t.coordinateSystem;a&&(v(a)?this.render(t,i,n):this._renderOnCartesianAndCalendar(t,n,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,t,i,n,r){var s,l,u,c,p=e.coordinateSystem;if(Object(h["a"])(p,"cartesian2d")){var f=p.getAxis("x"),g=p.getAxis("y");0,s=f.getBandWidth(),l=g.getBandWidth(),u=f.scale.getExtent(),c=g.scale.getExtent()}for(var v=this.group,y=e.getData(),m=e.getModel(["emphasis","itemStyle"]).getItemStyle(),b=e.getModel(["blur","itemStyle"]).getItemStyle(),x=e.getModel(["select","itemStyle"]).getItemStyle(),S=Object(d["e"])(e),_=e.get(["emphasis","focus"]),M=e.get(["emphasis","blurScope"]),O=Object(h["a"])(p,"cartesian2d")?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],I=i;I<n;I++){var V=void 0,w=y.getItemVisual(I,"style");if(Object(h["a"])(p,"cartesian2d")){var T=y.get(O[0],I),C=y.get(O[1],I);if(isNaN(y.get(O[2],I))||T<u[0]||T>u[1]||C<c[0]||C>c[1])continue;var D=p.dataToPoint([T,C]);V=new a["a"]({shape:{x:Math.floor(Math.round(D[0])-s/2),y:Math.floor(Math.round(D[1])-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:w})}else{if(isNaN(y.get(O[1],I)))continue;V=new a["a"]({z2:1,shape:p.dataToRect([y.get(O[0],I)]).contentShape,style:w})}var L=y.getItemModel(I);if(y.hasItemOption){var z=L.getModel("emphasis");m=z.getModel("itemStyle").getItemStyle(),b=L.getModel(["blur","itemStyle"]).getItemStyle(),x=L.getModel(["select","itemStyle"]).getItemStyle(),_=z.get("focus"),M=z.get("blurScope"),S=Object(d["e"])(L)}var R=e.getRawValue(I),A="-";R&&null!=R[2]&&(A=R[2]+""),Object(d["g"])(V,S,{labelFetcher:e,labelDataIndex:I,defaultOpacity:w.opacity,defaultText:A}),V.ensureState("emphasis").style=m,V.ensureState("blur").style=b,V.ensureState("select").style=x,Object(o["o"])(V,_,M),V.incremental=r,r&&(V.states.emphasis.hoverLayer=!0),v.add(V),y.setItemGraphicEl(I,V)}},t.prototype._renderOnGeo=function(e,t,i,n){var a=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new c;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),p=e.getRoamTransform();u.applyTransform(p);var h=Math.max(u.x,0),d=Math.max(u.y,0),v=Math.min(u.width+u.x,n.getWidth()),y=Math.min(u.height+u.y,n.getHeight()),m=v-h,b=y-d,x=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],S=s.mapArray(x,(function(t,i,n){var a=e.dataToPoint([t,i]);return a[0]-=h,a[1]-=d,a.push(n),a})),_=i.getExtent(),M="visualMap.continuous"===i.type?g(_,i.option.range):f(_,i.getPieceList(),i.option.selected);l.update(S,m,b,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:o.color.getColorMapper()},M);var O=new r["a"]({style:{width:m,height:b,x:h,y:d,image:l.canvas},silent:!0});this.group.add(O)},t.type="heatmap",t}(p["a"]),m=y,b=i("fe9b"),x=i("b29d"),S=i("8b7b"),_=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return Object(n["b"])(t,e),t.prototype.getInitialData=function(e,t){return Object(x["a"])(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=S["a"].get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(b["b"]),M=_;function O(e){e.registerChartView(m),e.registerSeriesModel(M)}},f899:function(e,t,i){"use strict";var n=i("fd94"),a={get:function(e,t,i){var a=n["clone"]((r[e]||{})[t]);return i&&n["isArray"](a)?a[a.length-1]:a}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};t["a"]=a},fd67:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("8d48"),a=i("02020"),r=i("d9d0");function o(e){Object(n["a"])(a["a"]),Object(n["a"])(r["a"])}}}]);