(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32cd6c3d"],{4620:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e.isZh?t("div",{staticClass:"tips_err"},[t("p",[e._v("CoinTool不提供任何技术支持！")]),t("p",[e._v("已关闭创建代币功能，请勿用于违法活动!")])]):t("Card",{attrs:{icon:"coin-trx","is-show-code-view":!1,title:e.$t("route.starknetCreateToken"),desc:e.$t("".concat(e.viewName,".pageDesc"))}},[e.txHash?t("div",{staticClass:"result"},[t("div",{staticClass:"returnBox"},[t("div",{staticClass:"iconBox",on:{click:function(t){e.txHash=""}}},[t("i",{staticClass:"el-icon-back icon"})])]),t("CreateFinish",{attrs:{"chain-id":"starknet","view-name":"createToken","create-token-address":e.contractAddress,tx:e.txHash}})],1):t("div",{staticClass:"flexCenter"},[t("el-form",{ref:"form",staticClass:"form",attrs:{"label-position":e.isPc?"left":"top",rules:e.rules,model:e.form,"label-width":"160px","label-suffix":":"}},[t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".tokenName")),prop:"tokenName"}},[t("el-input",{model:{value:e.form.tokenName,callback:function(t){e.$set(e.form,"tokenName",t)},expression:"form.tokenName"}})],1),t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".symbol")),prop:"symbol"}},[t("el-input",{model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),t("el-form-item",{attrs:{label:e.$t("".concat(e.viewName,".decimals")),prop:"decimals"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:0,max:18},model:{value:e.form.decimals,callback:function(t){e.$set(e.form,"decimals",t)},expression:"form.decimals"}})],1),e._e(),e._e(),t("el-form-item",{attrs:{label:"Supply",prop:"supply"}},[t("el-input-number",{staticClass:"inputNum",attrs:{min:1},model:{value:e.form.supply,callback:function(t){e.$set(e.form,"supply",t)},expression:"form.supply"}})],1),t("el-form-item",{attrs:{label:"Can Mint?",prop:"canMint"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:e.form.canMint,callback:function(t){e.$set(e.form,"canMint",t)},expression:"form.canMint"}},[t("el-radio",{attrs:{value:"0",label:"0",border:""}},[e._v("YES")]),t("el-radio",{attrs:{value:"1",label:"1",border:""}},[e._v("NO")])],1),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:"0"===e.form.canMint,expression:"form.canMint === '0'"}],staticStyle:{"line-height":"18px","margin-top":"10px"},attrs:{title:e.$t("".concat(e.viewName,".mint_tips1")),type:"info",closable:!1}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:"1"===e.form.canMint,expression:"form.canMint === '1'"}],staticStyle:{"line-height":"18px","margin-top":"10px"},attrs:{title:e.$t("".concat(e.viewName,".mint_tips2")),type:"info",closable:!1}})],1),t("el-form-item",{attrs:{label:"Recipient",prop:"owner"}},[t("el-input",{model:{value:e.form.recipient,callback:function(t){e.$set(e.form,"recipient",t)},expression:"form.recipient"}})],1),t("el-form-item",{attrs:{label:"Owner",prop:"owner"}},[t("el-input",{model:{value:e.form.owner,callback:function(t){e.$set(e.form,"owner",t)},expression:"form.owner"}})],1),t("el-form-item",{staticClass:"btnBox"},[t("el-button",{staticClass:"item-btn",attrs:{loading:e.loading,size:"medium",type:"primary"},on:{click:e.onCreatToken}},[e._v(" "+e._s(e.$t("".concat(e.viewName,".createBtn")))+" ")]),e.createFee>0?t("p",{staticClass:"feeTips"},[e._v("Fees: "+e._s(e.createFee)+" ETH")]):e._e()],1)],1)],1)])],1)},r=[],s=a("2909"),o=a("c7eb"),i=a("1da1"),c=a("5530"),l=(a("b680"),a("a9e3"),a("d81d"),a("99af"),a("14d9"),a("6bec")),m=a("2f62"),d={zh:{starknetCreateToken:{tokenName:"代币名称",tokenNameValidate:"请输入代币名称",symbol:"缩写符号",symbolValidate:"请输入缩写符号",initialSupply:"发行数量",initialSupplyValidate:"请输入发行数量",decimals:"小数位数(0-18)",decimalsValidate:"请输入小数位数",config:"其他配置",createBtn:"立即创建",success:"代币创建成功，请前往区块浏览器或钱包查看！",pageDesc:"简单、快速、便捷",adminAddress:"管理员地址",mintAuthority:"增发权限地址",freezeAuthority:"冻结权限地址",mint_tips1:"如果你选择了 Can Mint 你可以在 Admin panel 进行管理 Mint，Burn，以及管理Token所有权。",mint_tips2:"如果你选择了无法 Mint，你将得到一个非常纯净的 Token 没有任何权限, 也无法进入Admin panel "}},en:{starknetCreateToken:{tokenName:"Token Name",tokenNameValidate:"Please enter token name",symbol:"Symbol",symbolValidate:"Please enter symbol",initialSupply:"Initial Supply",initialSupplyValidate:"Please enter initial supply",decimals:"Decimals(0-9)",decimalsValidate:"Please enter decimals",adminAddress:"Admin Address",mintAuthority:"Mint authority",freezeAuthority:"Freeze authority",config:"Other Config",createBtn:"Create Token",success:"Token created successfully, please go to the block browser or wallet to check!",pageDesc:"Solana Token Creator\r\nThe Perfect Tool for Creating your Solana SPL Tokens, simple and fast",mint_tips1:"If you choose Can Mint you can manage Mint, Burn, and manage Token ownership in the Admin panel.",mint_tips2:"If you choose Can't Mint, you will get a very pure Token with no permissions. You also won't have access to the Admin panel "}}},u=a("12f9"),p=a("75c1"),y=(a("ed08"),a("901e")),f=a.n(y),b=a("df00"),k=a("4f48"),w="starknetCreateToken",_="createToken",v={name:_,inject:["starknetWalletStateTest"],components:{CreateFinish:p["a"],UploadImg:l["a"],Card:u["a"]},data:function(){return{viewName:w,tx_status:!1,loading:!1,rules:{},createFee:0,nativeToken:{},contractAddress:"",txHash:"",form:{canMint:"0",tokenName:"bb",symbol:"BB",description:"",image:"",supply:"21000000",adminAddress:"",recipient:"",owner:"",decimals:18}}},computed:Object(c["a"])({},Object(m["b"])(["isConnect","starknetNetwork","starknetAccount","starknetWallet","starknetClient","account","navigatorLanguage","language","isZh","isPc"])),watch:{starknetAccount:function(e){this.form.recipient=e,this.form.owner=e,this.init()}},created:function(){this.$i18n.getLocaleMessage("en")[w]||(this.$i18n.mergeLocaleMessage("en",d.en),this.$i18n.mergeLocaleMessage("zh",d.zh)),this.rules={tokenName:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],symbol:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],decimals:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],supply:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],recipient:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}],owner:[{required:!0,message:this.$t("common.not_empty"),trigger:"blur"}]}},mounted:function(){return Object(i["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e.starknetNetwork,"this.starknetNetwork"),e.createFee=new f.a(k["d"]["createToken_fees"][e.starknetNetwork]).toFixed(),e.nativeToken=k["c"];case 3:case"end":return t.stop()}}),t)})))()},onCreatToken:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,n,r,i,c,l,m,d,u,p,y,w,_,v;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["form"].validate();case 2:return t.next=4,e.starknetWalletStateTest();case 4:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:return e.loading=!0,t.prev=7,t.next=10,Object(k["b"])({token_address:k["c"].address,wallet_address:e.starknetAccount,rpc:e.starknetWallet.provider.nodeUrl});case 10:if(a=t.sent,!(Number(a)<Number(e.createFee))){t.next=15;break}return e.$msgbox({title:e.$t("common.balance_lack_title"),type:"warning",dangerouslyUseHTMLString:!0,message:e.$t("common.balance_lack_content",{address:e.starknetAccount,amount:e.createFee,symbol:e.nativeToken.symbol}),confirmButtonText:e.$t("common.confirm")}),e.loading=!1,t.abrupt("return");case 15:return n={contractAddress:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",entrypoint:"transfer",calldata:b["a"].compile({recipient:k["d"]["createToken_fees_address"][e.starknetNetwork],amount:b["d"].uint256(parseInt(e.createFee*Math.pow(10,e.nativeToken.decimals)))})},c=k["a"],delete c[4].inputs[5],l=new b["a"](c),m=b["d"].uint256(new f.a(e.form.supply).times(Math.pow(10,Number(e.form.decimals))).toFixed(0)),r="0x02784249255cace9a06ef1e25fa31f438a937a251e41ae80852afb1700755c9e",i=l.compile("constructor",{name:e.form.tokenName,symbol:e.form.symbol,decimals:Number(e.form.decimals),initial_supply:m,recipient:e.form.recipient}),"0"===e.form.canMint&&(d=new b["a"]([{name:"StarkwayERC20Impl",type:"impl",interface_name:"starkway::interfaces::IERC20"},{name:"core::integer::u256",type:"struct",members:[{name:"low",type:"core::integer::u128"},{name:"high",type:"core::integer::u128"}]},{name:"core::bool",type:"enum",variants:[{name:"False",type:"()"},{name:"True",type:"()"}]},{name:"starkway::interfaces::IERC20",type:"interface",items:[{name:"name",type:"function",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{name:"symbol",type:"function",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{name:"decimals",type:"function",inputs:[],outputs:[{type:"core::integer::u8"}],state_mutability:"view"},{name:"total_supply",type:"function",inputs:[],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"balance_of",type:"function",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"allowance",type:"function",inputs:[{name:"owner",type:"core::starknet::contract_address::ContractAddress"},{name:"spender",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"get_owner",type:"function",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{name:"transfer",type:"function",inputs:[{name:"recipient",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"transfer_from",type:"function",inputs:[{name:"sender",type:"core::starknet::contract_address::ContractAddress"},{name:"recipient",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"approve",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"increase_allowance",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"added_value",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"decrease_allowance",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"subtracted_value",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"burn",type:"function",inputs:[{name:"amount",type:"core::integer::u256"}],outputs:[],state_mutability:"external"},{name:"mint",type:"function",inputs:[{name:"to",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[],state_mutability:"external"},{name:"transfer_ownership",type:"function",inputs:[{name:"new_owner",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{name:"totalSupply",type:"function",inputs:[],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"balanceOf",type:"function",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"transferFrom",type:"function",inputs:[{name:"sender",type:"core::starknet::contract_address::ContractAddress"},{name:"recipient",type:"core::starknet::contract_address::ContractAddress"},{name:"amount",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"increaseAllowance",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"added_value",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"},{name:"decreaseAllowance",type:"function",inputs:[{name:"spender",type:"core::starknet::contract_address::ContractAddress"},{name:"subtracted_value",type:"core::integer::u256"}],outputs:[{type:"core::bool"}],state_mutability:"external"}]},{name:"constructor",type:"constructor",inputs:[{name:"name",type:"core::felt252"},{name:"symbol",type:"core::felt252"},{name:"decimals",type:"core::integer::u8"},{name:"owner",type:"core::starknet::contract_address::ContractAddress"}]},{kind:"struct",name:"starkway::erc20::erc20::StarkwayERC20::Transfer",type:"event",members:[{kind:"data",name:"from",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"to",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"value",type:"core::integer::u256"}]},{kind:"struct",name:"starkway::erc20::erc20::StarkwayERC20::Approval",type:"event",members:[{kind:"data",name:"owner",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"spender",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"value",type:"core::integer::u256"}]},{kind:"struct",name:"starkway::erc20::erc20::StarkwayERC20::OwnershipTransferred",type:"event",members:[{kind:"data",name:"previous_owner",type:"core::starknet::contract_address::ContractAddress"},{kind:"data",name:"new_owner",type:"core::starknet::contract_address::ContractAddress"}]},{kind:"enum",name:"starkway::erc20::erc20::StarkwayERC20::Event",type:"event",variants:[{kind:"nested",name:"Transfer",type:"starkway::erc20::erc20::StarkwayERC20::Transfer"},{kind:"nested",name:"Approval",type:"starkway::erc20::erc20::StarkwayERC20::Approval"},{kind:"nested",name:"OwnershipTransferred",type:"starkway::erc20::erc20::StarkwayERC20::OwnershipTransferred"}]}]),r="0x0465d4ee6bb2694b197d074f33d7fbd0e21e7061ffd9e34dd259e1da9f32a70a",i=d.compile("constructor",{name:e.form.tokenName,symbol:e.form.symbol,decimals:Number(e.form.decimals),owner:e.form.recipient})),u={classHash:r,constructorCalldata:i},p=[].concat(u).map((function(t){var a=t.classHash,n=t.salt,r=t.unique,o=void 0===r||r,i=t.constructorCalldata,c=void 0===i?[]:i,l=b["a"].compile(c),m=null!==n&&void 0!==n?n:b["k"].randomAddress();return{call:{contractAddress:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",entrypoint:"deployContract",calldata:[a,m,b["h"].toCairoBool(o),l.length].concat(Object(s["a"])(l))},address:b["g"].calculateContractAddressFromHash(o?b["e"].starkCurve.pedersen(e.starknetAccount,m):m,a,l,o?"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf":0)}})),y=p.map((function(e){return e.call})),w=p.map((function(e){return e.address})),_=[n,y[0]],"0"===e.form.canMint&&_.push({contractAddress:w[0],entrypoint:"mint",calldata:b["a"].compile({to:e.form.recipient,amount:m})}),t.next=31,e.starknetWallet.execute(_);case 31:v=t.sent,e.contractAddress=w[0],e.txHash=v.transaction_hash;try{e.starknetClient.request({type:"wallet_watchAsset",params:{type:"ERC20",options:{address:w[0],symbol:e.form.symbol,name:e.form.tokenName,decimals:e.form.decimals}}})}catch(o){console.log(o)}t.next=40;break;case 37:t.prev=37,t.t0=t["catch"](7),console.log("error",t.t0);case 40:return t.prev=40,e.loading=!1,t.finish(40);case 43:case"end":return t.stop()}}),t,null,[[7,37,40,43]])})))()}}},g=v,h=(a("699d"),a("2877")),C=Object(h["a"])(g,n,r,!1,null,"65467214",null);t["default"]=C.exports},"699d":function(e,t,a){"use strict";a("a974")},9911:function(e,t,a){"use strict";var n=a("23e7"),r=a("857a"),s=a("af03");n({target:"String",proto:!0,forced:s("link")},{link:function(e){return r(this,"a","href",e)}})},a974:function(e,t,a){}}]);